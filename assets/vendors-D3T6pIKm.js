function Ty(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(i,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var k5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Im={exports:{}},Pp={},Om={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px;function wD(){if(px)return hn;px=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),C=Symbol.iterator;function L(Pe){return Pe===null||typeof Pe!="object"?null:(Pe=C&&Pe[C]||Pe["@@iterator"],typeof Pe=="function"?Pe:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,q={};function U(Pe,We,At){this.props=Pe,this.context=We,this.refs=q,this.updater=At||j}U.prototype.isReactComponent={},U.prototype.setState=function(Pe,We){if(typeof Pe!="object"&&typeof Pe!="function"&&Pe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Pe,We,"setState")},U.prototype.forceUpdate=function(Pe){this.updater.enqueueForceUpdate(this,Pe,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function re(Pe,We,At){this.props=Pe,this.context=We,this.refs=q,this.updater=At||j}var ee=re.prototype=new Q;ee.constructor=re,W(ee,U.prototype),ee.isPureReactComponent=!0;var oe=Array.isArray,K=Object.prototype.hasOwnProperty,ne={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function be(Pe,We,At){var zt,nr={},fr=null,wr=null;if(We!=null)for(zt in We.ref!==void 0&&(wr=We.ref),We.key!==void 0&&(fr=""+We.key),We)K.call(We,zt)&&!te.hasOwnProperty(zt)&&(nr[zt]=We[zt]);var yr=arguments.length-2;if(yr===1)nr.children=At;else if(1<yr){for(var Nt=Array(yr),cr=0;cr<yr;cr++)Nt[cr]=arguments[cr+2];nr.children=Nt}if(Pe&&Pe.defaultProps)for(zt in yr=Pe.defaultProps,yr)nr[zt]===void 0&&(nr[zt]=yr[zt]);return{$$typeof:e,type:Pe,key:fr,ref:wr,props:nr,_owner:ne.current}}function Ce(Pe,We){return{$$typeof:e,type:Pe.type,key:We,ref:Pe.ref,props:Pe.props,_owner:Pe._owner}}function Ee(Pe){return typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===e}function je(Pe){var We={"=":"=0",":":"=2"};return"$"+Pe.replace(/[=:]/g,function(At){return We[At]})}var Ye=/\/+/g;function Ge(Pe,We){return typeof Pe=="object"&&Pe!==null&&Pe.key!=null?je(""+Pe.key):We.toString(36)}function Te(Pe,We,At,zt,nr){var fr=typeof Pe;(fr==="undefined"||fr==="boolean")&&(Pe=null);var wr=!1;if(Pe===null)wr=!0;else switch(fr){case"string":case"number":wr=!0;break;case"object":switch(Pe.$$typeof){case e:case t:wr=!0}}if(wr)return wr=Pe,nr=nr(wr),Pe=zt===""?"."+Ge(wr,0):zt,oe(nr)?(At="",Pe!=null&&(At=Pe.replace(Ye,"$&/")+"/"),Te(nr,We,At,"",function(cr){return cr})):nr!=null&&(Ee(nr)&&(nr=Ce(nr,At+(!nr.key||wr&&wr.key===nr.key?"":(""+nr.key).replace(Ye,"$&/")+"/")+Pe)),We.push(nr)),1;if(wr=0,zt=zt===""?".":zt+":",oe(Pe))for(var yr=0;yr<Pe.length;yr++){fr=Pe[yr];var Nt=zt+Ge(fr,yr);wr+=Te(fr,We,At,Nt,nr)}else if(Nt=L(Pe),typeof Nt=="function")for(Pe=Nt.call(Pe),yr=0;!(fr=Pe.next()).done;)fr=fr.value,Nt=zt+Ge(fr,yr++),wr+=Te(fr,We,At,Nt,nr);else if(fr==="object")throw We=String(Pe),Error("Objects are not valid as a React child (found: "+(We==="[object Object]"?"object with keys {"+Object.keys(Pe).join(", ")+"}":We)+"). If you meant to render a collection of children, use an array instead.");return wr}function Se(Pe,We,At){if(Pe==null)return Pe;var zt=[],nr=0;return Te(Pe,zt,"","",function(fr){return We.call(At,fr,nr++)}),zt}function ze(Pe){if(Pe._status===-1){var We=Pe._result;We=We(),We.then(function(At){(Pe._status===0||Pe._status===-1)&&(Pe._status=1,Pe._result=At)},function(At){(Pe._status===0||Pe._status===-1)&&(Pe._status=2,Pe._result=At)}),Pe._status===-1&&(Pe._status=0,Pe._result=We)}if(Pe._status===1)return Pe._result.default;throw Pe._result}var Ue={current:null},ke={transition:null},$e={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ke,ReactCurrentOwner:ne};function ft(){throw Error("act(...) is not supported in production builds of React.")}return hn.Children={map:Se,forEach:function(Pe,We,At){Se(Pe,function(){We.apply(this,arguments)},At)},count:function(Pe){var We=0;return Se(Pe,function(){We++}),We},toArray:function(Pe){return Se(Pe,function(We){return We})||[]},only:function(Pe){if(!Ee(Pe))throw Error("React.Children.only expected to receive a single React element child.");return Pe}},hn.Component=U,hn.Fragment=n,hn.Profiler=c,hn.PureComponent=re,hn.StrictMode=i,hn.Suspense=a,hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$e,hn.act=ft,hn.cloneElement=function(Pe,We,At){if(Pe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Pe+".");var zt=W({},Pe.props),nr=Pe.key,fr=Pe.ref,wr=Pe._owner;if(We!=null){if(We.ref!==void 0&&(fr=We.ref,wr=ne.current),We.key!==void 0&&(nr=""+We.key),Pe.type&&Pe.type.defaultProps)var yr=Pe.type.defaultProps;for(Nt in We)K.call(We,Nt)&&!te.hasOwnProperty(Nt)&&(zt[Nt]=We[Nt]===void 0&&yr!==void 0?yr[Nt]:We[Nt])}var Nt=arguments.length-2;if(Nt===1)zt.children=At;else if(1<Nt){yr=Array(Nt);for(var cr=0;cr<Nt;cr++)yr[cr]=arguments[cr+2];zt.children=yr}return{$$typeof:e,type:Pe.type,key:nr,ref:fr,props:zt,_owner:wr}},hn.createContext=function(Pe){return Pe={$$typeof:y,_currentValue:Pe,_currentValue2:Pe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Pe.Provider={$$typeof:d,_context:Pe},Pe.Consumer=Pe},hn.createElement=be,hn.createFactory=function(Pe){var We=be.bind(null,Pe);return We.type=Pe,We},hn.createRef=function(){return{current:null}},hn.forwardRef=function(Pe){return{$$typeof:x,render:Pe}},hn.isValidElement=Ee,hn.lazy=function(Pe){return{$$typeof:M,_payload:{_status:-1,_result:Pe},_init:ze}},hn.memo=function(Pe,We){return{$$typeof:w,type:Pe,compare:We===void 0?null:We}},hn.startTransition=function(Pe){var We=ke.transition;ke.transition={};try{Pe()}finally{ke.transition=We}},hn.unstable_act=ft,hn.useCallback=function(Pe,We){return Ue.current.useCallback(Pe,We)},hn.useContext=function(Pe){return Ue.current.useContext(Pe)},hn.useDebugValue=function(){},hn.useDeferredValue=function(Pe){return Ue.current.useDeferredValue(Pe)},hn.useEffect=function(Pe,We){return Ue.current.useEffect(Pe,We)},hn.useId=function(){return Ue.current.useId()},hn.useImperativeHandle=function(Pe,We,At){return Ue.current.useImperativeHandle(Pe,We,At)},hn.useInsertionEffect=function(Pe,We){return Ue.current.useInsertionEffect(Pe,We)},hn.useLayoutEffect=function(Pe,We){return Ue.current.useLayoutEffect(Pe,We)},hn.useMemo=function(Pe,We){return Ue.current.useMemo(Pe,We)},hn.useReducer=function(Pe,We,At){return Ue.current.useReducer(Pe,We,At)},hn.useRef=function(Pe){return Ue.current.useRef(Pe)},hn.useState=function(Pe){return Ue.current.useState(Pe)},hn.useSyncExternalStore=function(Pe,We,At){return Ue.current.useSyncExternalStore(Pe,We,At)},hn.useTransition=function(){return Ue.current.useTransition()},hn.version="18.3.1",hn}var mx;function Ey(){return mx||(mx=1,Om.exports=wD()),Om.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function SD(){if(gx)return Pp;gx=1;var e=Ey(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function y(x,a,w){var M,C={},L=null,j=null;w!==void 0&&(L=""+w),a.key!==void 0&&(L=""+a.key),a.ref!==void 0&&(j=a.ref);for(M in a)i.call(a,M)&&!d.hasOwnProperty(M)&&(C[M]=a[M]);if(x&&x.defaultProps)for(M in a=x.defaultProps,a)C[M]===void 0&&(C[M]=a[M]);return{$$typeof:t,type:x,key:L,ref:j,props:C,_owner:c.current}}return Pp.Fragment=n,Pp.jsx=y,Pp.jsxs=y,Pp}var yx;function TD(){return yx||(yx=1,Im.exports=SD()),Im.exports}var YQ=TD(),Ve=Ey();const tt=vn(Ve),ED=Ty({__proto__:null,default:tt},[Ve]);var D5={},km={exports:{}},Ya={},Dm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function PD(){return _x||(_x=1,(function(e){function t(ke,$e){var ft=ke.length;ke.push($e);e:for(;0<ft;){var Pe=ft-1>>>1,We=ke[Pe];if(0<c(We,$e))ke[Pe]=$e,ke[ft]=We,ft=Pe;else break e}}function n(ke){return ke.length===0?null:ke[0]}function i(ke){if(ke.length===0)return null;var $e=ke[0],ft=ke.pop();if(ft!==$e){ke[0]=ft;e:for(var Pe=0,We=ke.length,At=We>>>1;Pe<At;){var zt=2*(Pe+1)-1,nr=ke[zt],fr=zt+1,wr=ke[fr];if(0>c(nr,ft))fr<We&&0>c(wr,nr)?(ke[Pe]=wr,ke[fr]=ft,Pe=fr):(ke[Pe]=nr,ke[zt]=ft,Pe=zt);else if(fr<We&&0>c(wr,ft))ke[Pe]=wr,ke[fr]=ft,Pe=fr;else break e}}return $e}function c(ke,$e){var ft=ke.sortIndex-$e.sortIndex;return ft!==0?ft:ke.id-$e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var y=Date,x=y.now();e.unstable_now=function(){return y.now()-x}}var a=[],w=[],M=1,C=null,L=3,j=!1,W=!1,q=!1,U=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ke){for(var $e=n(w);$e!==null;){if($e.callback===null)i(w);else if($e.startTime<=ke)i(w),$e.sortIndex=$e.expirationTime,t(a,$e);else break;$e=n(w)}}function oe(ke){if(q=!1,ee(ke),!W)if(n(a)!==null)W=!0,ze(K);else{var $e=n(w);$e!==null&&Ue(oe,$e.startTime-ke)}}function K(ke,$e){W=!1,q&&(q=!1,Q(be),be=-1),j=!0;var ft=L;try{for(ee($e),C=n(a);C!==null&&(!(C.expirationTime>$e)||ke&&!je());){var Pe=C.callback;if(typeof Pe=="function"){C.callback=null,L=C.priorityLevel;var We=Pe(C.expirationTime<=$e);$e=e.unstable_now(),typeof We=="function"?C.callback=We:C===n(a)&&i(a),ee($e)}else i(a);C=n(a)}if(C!==null)var At=!0;else{var zt=n(w);zt!==null&&Ue(oe,zt.startTime-$e),At=!1}return At}finally{C=null,L=ft,j=!1}}var ne=!1,te=null,be=-1,Ce=5,Ee=-1;function je(){return!(e.unstable_now()-Ee<Ce)}function Ye(){if(te!==null){var ke=e.unstable_now();Ee=ke;var $e=!0;try{$e=te(!0,ke)}finally{$e?Ge():(ne=!1,te=null)}}else ne=!1}var Ge;if(typeof re=="function")Ge=function(){re(Ye)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Se=Te.port2;Te.port1.onmessage=Ye,Ge=function(){Se.postMessage(null)}}else Ge=function(){U(Ye,0)};function ze(ke){te=ke,ne||(ne=!0,Ge())}function Ue(ke,$e){be=U(function(){ke(e.unstable_now())},$e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ke){ke.callback=null},e.unstable_continueExecution=function(){W||j||(W=!0,ze(K))},e.unstable_forceFrameRate=function(ke){0>ke||125<ke?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<ke?Math.floor(1e3/ke):5},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(ke){switch(L){case 1:case 2:case 3:var $e=3;break;default:$e=L}var ft=L;L=$e;try{return ke()}finally{L=ft}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ke,$e){switch(ke){case 1:case 2:case 3:case 4:case 5:break;default:ke=3}var ft=L;L=ke;try{return $e()}finally{L=ft}},e.unstable_scheduleCallback=function(ke,$e,ft){var Pe=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pe+ft:Pe):ft=Pe,ke){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=ft+We,ke={id:M++,callback:$e,priorityLevel:ke,startTime:ft,expirationTime:We,sortIndex:-1},ft>Pe?(ke.sortIndex=ft,t(w,ke),n(a)===null&&ke===n(w)&&(q?(Q(be),be=-1):q=!0,Ue(oe,ft-Pe))):(ke.sortIndex=We,t(a,ke),W||j||(W=!0,ze(K))),ke},e.unstable_shouldYield=je,e.unstable_wrapCallback=function(ke){var $e=L;return function(){var ft=L;L=$e;try{return ke.apply(this,arguments)}finally{L=ft}}}})(Lm)),Lm}var vx;function AD(){return vx||(vx=1,Dm.exports=PD()),Dm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function MD(){if(xx)return Ya;xx=1;var e=Ey(),t=AD();function n(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,T=1;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function d(h,m){y(h,m),y(h+"Capture",m)}function y(h,m){for(c[h]=m,h=0;h<m.length;h++)i.add(m[h])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M={},C={};function L(h){return a.call(C,h)?!0:a.call(M,h)?!1:w.test(h)?C[h]=!0:(M[h]=!0,!1)}function j(h,m,T,O){if(T!==null&&T.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return O?!1:T!==null?!T.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function W(h,m,T,O){if(m===null||typeof m>"u"||j(h,m,T,O))return!0;if(O)return!1;if(T!==null)switch(T.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function q(h,m,T,O,B,G,se){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=O,this.attributeNamespace=B,this.mustUseProperty=T,this.propertyName=h,this.type=m,this.sanitizeURL=G,this.removeEmptyString=se}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){U[h]=new q(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];U[m]=new q(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){U[h]=new q(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){U[h]=new q(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){U[h]=new q(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){U[h]=new q(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){U[h]=new q(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){U[h]=new q(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){U[h]=new q(h,5,!1,h.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function re(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(Q,re);U[m]=new q(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(Q,re);U[m]=new q(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(Q,re);U[m]=new q(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){U[h]=new q(h,1,!1,h.toLowerCase(),null,!1,!1)}),U.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){U[h]=new q(h,1,!1,h.toLowerCase(),null,!0,!0)});function ee(h,m,T,O){var B=U.hasOwnProperty(m)?U[m]:null;(B!==null?B.type!==0:O||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(W(m,T,B,O)&&(T=null),O||B===null?L(m)&&(T===null?h.removeAttribute(m):h.setAttribute(m,""+T)):B.mustUseProperty?h[B.propertyName]=T===null?B.type===3?!1:"":T:(m=B.attributeName,O=B.attributeNamespace,T===null?h.removeAttribute(m):(B=B.type,T=B===3||B===4&&T===!0?"":""+T,O?h.setAttributeNS(O,m,T):h.setAttribute(m,T))))}var oe=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),ne=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),je=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ke=Symbol.iterator;function $e(h){return h===null||typeof h!="object"?null:(h=ke&&h[ke]||h["@@iterator"],typeof h=="function"?h:null)}var ft=Object.assign,Pe;function We(h){if(Pe===void 0)try{throw Error()}catch(T){var m=T.stack.trim().match(/\n( *(at )?)/);Pe=m&&m[1]||""}return`
`+Pe+h}var At=!1;function zt(h,m){if(!h||At)return"";At=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(yt){var O=yt}Reflect.construct(h,[],m)}else{try{m.call()}catch(yt){O=yt}h.call(m.prototype)}else{try{throw Error()}catch(yt){O=yt}h()}}catch(yt){if(yt&&O&&typeof yt.stack=="string"){for(var B=yt.stack.split(`
`),G=O.stack.split(`
`),se=B.length-1,Oe=G.length-1;1<=se&&0<=Oe&&B[se]!==G[Oe];)Oe--;for(;1<=se&&0<=Oe;se--,Oe--)if(B[se]!==G[Oe]){if(se!==1||Oe!==1)do if(se--,Oe--,0>Oe||B[se]!==G[Oe]){var Ze=`
`+B[se].replace(" at new "," at ");return h.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",h.displayName)),Ze}while(1<=se&&0<=Oe);break}}}finally{At=!1,Error.prepareStackTrace=T}return(h=h?h.displayName||h.name:"")?We(h):""}function nr(h){switch(h.tag){case 5:return We(h.type);case 16:return We("Lazy");case 13:return We("Suspense");case 19:return We("SuspenseList");case 0:case 2:case 15:return h=zt(h.type,!1),h;case 11:return h=zt(h.type.render,!1),h;case 1:return h=zt(h.type,!0),h;default:return""}}function fr(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case te:return"Fragment";case ne:return"Portal";case Ce:return"Profiler";case be:return"StrictMode";case Ge:return"Suspense";case Te:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case je:return(h.displayName||"Context")+".Consumer";case Ee:return(h._context.displayName||"Context")+".Provider";case Ye:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Se:return m=h.displayName||null,m!==null?m:fr(h.type)||"Memo";case ze:m=h._payload,h=h._init;try{return fr(h(m))}catch{}}return null}function wr(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fr(m);case 8:return m===be?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function yr(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Nt(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function cr(h){var m=Nt(h)?"checked":"value",T=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),O=""+h[m];if(!h.hasOwnProperty(m)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var B=T.get,G=T.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return B.call(this)},set:function(se){O=""+se,G.call(this,se)}}),Object.defineProperty(h,m,{enumerable:T.enumerable}),{getValue:function(){return O},setValue:function(se){O=""+se},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function Cr(h){h._valueTracker||(h._valueTracker=cr(h))}function dt(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var T=m.getValue(),O="";return h&&(O=Nt(h)?h.checked?"true":"false":h.value),h=O,h!==T?(m.setValue(h),!0):!1}function Zr(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Mr(h,m){var T=m.checked;return ft({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:T??h._wrapperState.initialChecked})}function wn(h,m){var T=m.defaultValue==null?"":m.defaultValue,O=m.checked!=null?m.checked:m.defaultChecked;T=yr(m.value!=null?m.value:T),h._wrapperState={initialChecked:O,initialValue:T,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Sr(h,m){m=m.checked,m!=null&&ee(h,"checked",m,!1)}function yn(h,m){Sr(h,m);var T=yr(m.value),O=m.type;if(T!=null)O==="number"?(T===0&&h.value===""||h.value!=T)&&(h.value=""+T):h.value!==""+T&&(h.value=""+T);else if(O==="submit"||O==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?li(h,m.type,T):m.hasOwnProperty("defaultValue")&&li(h,m.type,yr(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function Gi(h,m,T){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var O=m.type;if(!(O!=="submit"&&O!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,T||m===h.value||(h.value=m),h.defaultValue=m}T=h.name,T!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,T!==""&&(h.name=T)}function li(h,m,T){(m!=="number"||Zr(h.ownerDocument)!==h)&&(T==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+T&&(h.defaultValue=""+T))}var Wn=Array.isArray;function mi(h,m,T,O){if(h=h.options,m){m={};for(var B=0;B<T.length;B++)m["$"+T[B]]=!0;for(T=0;T<h.length;T++)B=m.hasOwnProperty("$"+h[T].value),h[T].selected!==B&&(h[T].selected=B),B&&O&&(h[T].defaultSelected=!0)}else{for(T=""+yr(T),m=null,B=0;B<h.length;B++){if(h[B].value===T){h[B].selected=!0,O&&(h[B].defaultSelected=!0);return}m!==null||h[B].disabled||(m=h[B])}m!==null&&(m.selected=!0)}}function Ii(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return ft({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Go(h,m){var T=m.value;if(T==null){if(T=m.children,m=m.defaultValue,T!=null){if(m!=null)throw Error(n(92));if(Wn(T)){if(1<T.length)throw Error(n(93));T=T[0]}m=T}m==null&&(m=""),T=m}h._wrapperState={initialValue:yr(T)}}function gi(h,m){var T=yr(m.value),O=yr(m.defaultValue);T!=null&&(T=""+T,T!==h.value&&(h.value=T),m.defaultValue==null&&h.defaultValue!==T&&(h.defaultValue=T)),O!=null&&(h.defaultValue=""+O)}function Wi(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function Ps(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ra(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?Ps(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Hn,Ei=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,T,O,B){MSApp.execUnsafeLocalFunction(function(){return h(m,T,O,B)})}:h})(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Hn.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function Wo(h,m){if(m){var T=h.firstChild;if(T&&T===h.lastChild&&T.nodeType===3){T.nodeValue=m;return}}h.textContent=m}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},As=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(h){As.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),Hi[m]=Hi[h]})});function io(h,m,T){return m==null||typeof m=="boolean"||m===""?"":T||typeof m!="number"||m===0||Hi.hasOwnProperty(h)&&Hi[h]?(""+m).trim():m+"px"}function pa(h,m){h=h.style;for(var T in m)if(m.hasOwnProperty(T)){var O=T.indexOf("--")===0,B=io(T,m[T],O);T==="float"&&(T="cssFloat"),O?h.setProperty(T,B):h[T]=B}}var ma=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ho(h,m){if(m){if(ma[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function ga(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=null;function _a(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Ae=null,ie=null,ae=null;function we(h){if(h=mu(h)){if(typeof Ae!="function")throw Error(n(280));var m=h.stateNode;m&&(m=u1(m),Ae(h.stateNode,h.type,m))}}function De(h){ie?ae?ae.push(h):ae=[h]:ie=h}function He(){if(ie){var h=ie,m=ae;if(ae=ie=null,we(h),m)for(h=0;h<m.length;h++)we(m[h])}}function rt(h,m){return h(m)}function et(){}var qe=!1;function ct(h,m,T){if(qe)return h(m,T);qe=!0;try{return rt(h,m,T)}finally{qe=!1,(ie!==null||ae!==null)&&(et(),He())}}function kt(h,m){var T=h.stateNode;if(T===null)return null;var O=u1(T);if(O===null)return null;T=O[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(h=h.type,O=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!O;break e;default:h=!1}if(h)return null;if(T&&typeof T!="function")throw Error(n(231,m,typeof T));return T}var ge=!1;if(x)try{var xe={};Object.defineProperty(xe,"passive",{get:function(){ge=!0}}),window.addEventListener("test",xe,xe),window.removeEventListener("test",xe,xe)}catch{ge=!1}function Qe(h,m,T,O,B,G,se,Oe,Ze){var yt=Array.prototype.slice.call(arguments,3);try{m.apply(T,yt)}catch(Ut){this.onError(Ut)}}var mt=!1,Tt=null,jt=!1,qt=null,Gt={onError:function(h){mt=!0,Tt=h}};function Qt(h,m,T,O,B,G,se,Oe,Ze){mt=!1,Tt=null,Qe.apply(Gt,arguments)}function er(h,m,T,O,B,G,se,Oe,Ze){if(Qt.apply(this,arguments),mt){if(mt){var yt=Tt;mt=!1,Tt=null}else throw Error(n(198));jt||(jt=!0,qt=yt)}}function Jt(h){var m=h,T=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(T=m.return),h=m.return;while(h)}return m.tag===3?T:null}function Er(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function Tr(h){if(Jt(h)!==h)throw Error(n(188))}function dn(h){var m=h.alternate;if(!m){if(m=Jt(h),m===null)throw Error(n(188));return m!==h?null:h}for(var T=h,O=m;;){var B=T.return;if(B===null)break;var G=B.alternate;if(G===null){if(O=B.return,O!==null){T=O;continue}break}if(B.child===G.child){for(G=B.child;G;){if(G===T)return Tr(B),h;if(G===O)return Tr(B),m;G=G.sibling}throw Error(n(188))}if(T.return!==O.return)T=B,O=G;else{for(var se=!1,Oe=B.child;Oe;){if(Oe===T){se=!0,T=B,O=G;break}if(Oe===O){se=!0,O=B,T=G;break}Oe=Oe.sibling}if(!se){for(Oe=G.child;Oe;){if(Oe===T){se=!0,T=G,O=B;break}if(Oe===O){se=!0,O=G,T=B;break}Oe=Oe.sibling}if(!se)throw Error(n(189))}}if(T.alternate!==O)throw Error(n(190))}if(T.tag!==3)throw Error(n(188));return T.stateNode.current===T?h:m}function rn(h){return h=dn(h),h!==null?nn(h):null}function nn(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=nn(h);if(m!==null)return m;h=h.sibling}return null}var Rn=t.unstable_scheduleCallback,$r=t.unstable_cancelCallback,ts=t.unstable_shouldYield,oo=t.unstable_requestPaint,on=t.unstable_now,Ms=t.unstable_getCurrentPriorityLevel,Oi=t.unstable_ImmediatePriority,ki=t.unstable_UserBlockingPriority,va=t.unstable_NormalPriority,Cs=t.unstable_LowPriority,qr=t.unstable_IdlePriority,en=null,ui=null;function gt(h){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(en,h,void 0,(h.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:qc,Sn=Math.log,ci=Math.LN2;function qc(h){return h>>>=0,h===0?32:31-(Sn(h)/ci|0)|0}var Io=64,Gl=4194304;function Wl(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function rs(h,m){var T=h.pendingLanes;if(T===0)return 0;var O=0,B=h.suspendedLanes,G=h.pingedLanes,se=T&268435455;if(se!==0){var Oe=se&~B;Oe!==0?O=Wl(Oe):(G&=se,G!==0&&(O=Wl(G)))}else se=T&~B,se!==0?O=Wl(se):G!==0&&(O=Wl(G));if(O===0)return 0;if(m!==0&&m!==O&&(m&B)===0&&(B=O&-O,G=m&-m,B>=G||B===16&&(G&4194240)!==0))return m;if((O&4)!==0&&(O|=T&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=O;0<m;)T=31-Hr(m),B=1<<T,O|=h[T],m&=~B;return O}function Kt(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(h,m){for(var T=h.suspendedLanes,O=h.pingedLanes,B=h.expirationTimes,G=h.pendingLanes;0<G;){var se=31-Hr(G),Oe=1<<se,Ze=B[se];Ze===-1?((Oe&T)===0||(Oe&O)!==0)&&(B[se]=Kt(Oe,m)):Ze<=m&&(h.expiredLanes|=Oe),G&=~Oe}}function jr(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function yo(){var h=Io;return Io<<=1,(Io&4194240)===0&&(Io=64),h}function Oo(h){for(var m=[],T=0;31>T;T++)m.push(h);return m}function Or(h,m,T){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Hr(m),h[m]=T}function ko(h,m){var T=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var O=h.eventTimes;for(h=h.expirationTimes;0<T;){var B=31-Hr(T),G=1<<B;m[B]=0,O[B]=-1,h[B]=-1,T&=~G}}function ul(h,m){var T=h.entangledLanes|=m;for(h=h.entanglements;T;){var O=31-Hr(T),B=1<<O;B&m|h[O]&m&&(h[O]|=m),T&=~B}}var tn=0;function Do(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Mn,Gc,za,Hl,Zl,$u=!1,Vu=[],Zo=null,Xo=null,xa=null,Ba=new Map,Di=new Map,xn=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(h,m){switch(h){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ba.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(m.pointerId)}}function Li(h,m,T,O,B,G){return h===null||h.nativeEvent!==G?(h={blockedOn:m,domEventName:T,eventSystemFlags:O,nativeEvent:G,targetContainers:[B]},m!==null&&(m=mu(m),m!==null&&Gc(m)),h):(h.eventSystemFlags|=O,m=h.targetContainers,B!==null&&m.indexOf(B)===-1&&m.push(B),h)}function Ko(h,m,T,O,B){switch(m){case"focusin":return Zo=Li(Zo,h,m,T,O,B),!0;case"dragenter":return Xo=Li(Xo,h,m,T,O,B),!0;case"mouseover":return xa=Li(xa,h,m,T,O,B),!0;case"pointerover":var G=B.pointerId;return Ba.set(G,Li(Ba.get(G)||null,h,m,T,O,B)),!0;case"gotpointercapture":return G=B.pointerId,Di.set(G,Li(Di.get(G)||null,h,m,T,O,B)),!0}return!1}function Q1(h){var m=wo(h.target);if(m!==null){var T=Jt(m);if(T!==null){if(m=T.tag,m===13){if(m=Er(T),m!==null){h.blockedOn=m,Zl(h.priority,function(){za(T)});return}}else if(m===3&&T.stateNode.current.memoizedState.isDehydrated){h.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Is(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var T=th(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(T===null){T=h.nativeEvent;var O=new T.constructor(T.type,T);ya=O,T.target.dispatchEvent(O),ya=null}else return m=mu(T),m!==null&&Gc(m),h.blockedOn=T,!1;m.shift()}return!0}function Zn(h,m,T){Is(h)&&T.delete(m)}function qu(){$u=!1,Zo!==null&&Is(Zo)&&(Zo=null),Xo!==null&&Is(Xo)&&(Xo=null),xa!==null&&Is(xa)&&(xa=null),Ba.forEach(Zn),Di.forEach(Zn)}function cl(h,m){h.blockedOn===m&&(h.blockedOn=null,$u||($u=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qu)))}function ba(h){function m(B){return cl(B,h)}if(0<Vu.length){cl(Vu[0],h);for(var T=1;T<Vu.length;T++){var O=Vu[T];O.blockedOn===h&&(O.blockedOn=null)}}for(Zo!==null&&cl(Zo,h),Xo!==null&&cl(Xo,h),xa!==null&&cl(xa,h),Ba.forEach(m),Di.forEach(m),T=0;T<xn.length;T++)O=xn[T],O.blockedOn===h&&(O.blockedOn=null);for(;0<xn.length&&(T=xn[0],T.blockedOn===null);)Q1(T),T.blockedOn===null&&xn.shift()}var ri=oe.ReactCurrentBatchConfig,Xl=!0;function eh(h,m,T,O){var B=tn,G=ri.transition;ri.transition=null;try{tn=1,Fa(h,m,T,O)}finally{tn=B,ri.transition=G}}function ns(h,m,T,O){var B=tn,G=ri.transition;ri.transition=null;try{tn=4,Fa(h,m,T,O)}finally{tn=B,ri.transition=G}}function Fa(h,m,T,O){if(Xl){var B=th(h,m,T,O);if(B===null)lu(h,m,O,hl,T),Wc(h,O);else if(Ko(B,h,m,T,O))O.stopPropagation();else if(Wc(h,O),m&4&&-1<J1.indexOf(h)){for(;B!==null;){var G=mu(B);if(G!==null&&Mn(G),G=th(h,m,T,O),G===null&&lu(h,m,O,hl,T),G===B)break;B=G}B!==null&&O.stopPropagation()}else lu(h,m,O,null,T)}}var hl=null;function th(h,m,T,O){if(hl=null,h=_a(O),h=wo(h),h!==null)if(m=Jt(h),m===null)h=null;else if(T=m.tag,T===13){if(h=Er(m),h!==null)return h;h=null}else if(T===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return hl=h,null}function Hc(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ms()){case Oi:return 1;case ki:return 4;case va:case Cs:return 16;case qr:return 536870912;default:return 16}default:return 16}}var Lo=null,Yo=null,Kl=null;function Os(){if(Kl)return Kl;var h,m=Yo,T=m.length,O,B="value"in Lo?Lo.value:Lo.textContent,G=B.length;for(h=0;h<T&&m[h]===B[h];h++);var se=T-h;for(O=1;O<=se&&m[T-O]===B[G-O];O++);return Kl=B.slice(h,1<O?1-O:void 0)}function Jo(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function ks(){return!0}function ja(){return!1}function Zi(h){function m(T,O,B,G,se){this._reactName=T,this._targetInst=B,this.type=O,this.nativeEvent=G,this.target=se,this.currentTarget=null;for(var Oe in h)h.hasOwnProperty(Oe)&&(T=h[Oe],this[Oe]=T?T(G):G[Oe]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?ks:ja,this.isPropagationStopped=ja,this}return ft(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),m}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Zi(wa),Yl=ft({},wa,{view:0,detail:0}),Zc=Zi(Yl),Gu,Wu,Na,Kr=ft({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Na&&(Na&&h.type==="mousemove"?(Gu=h.screenX-Na.screenX,Wu=h.screenY-Na.screenY):Wu=Gu=0,Na=h),Gu)},movementY:function(h){return"movementY"in h?h.movementY:Wu}}),Af=Zi(Kr),rh=ft({},Kr,{dataTransfer:0}),Mf=Zi(rh),nh=ft({},Yl,{relatedTarget:0}),Xc=Zi(nh),ih=ft({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Jl=Zi(ih),Kc=ft({},wa,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Ql=Zi(Kc),is=ft({},wa,{data:0}),Ds=Zi(is),Yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=Hu[h])?!!m[h]:!1}function Zu(){return oh}var Jc=ft({},Yl,{key:function(h){if(h.key){var m=Yc[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=Jo(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Cf[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(h){return h.type==="keypress"?Jo(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Jo(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Qc=Zi(Jc),ah=ft({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=Zi(ah),Xu=ft({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),If=Zi(Xu),sh=ft({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Of=Zi(sh),dl=ft({},Kr,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),lh=Zi(dl),Id=[9,13,27,32],uh=x&&"CompositionEvent"in window,Ku=null;x&&"documentMode"in document&&(Ku=document.documentMode);var ch=x&&"TextEvent"in window&&!Ku,e1=x&&(!uh||Ku&&8<Ku&&11>=Ku),t1=" ",Yu=!1;function hh(h,m){switch(h){case"keyup":return Id.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var eu=!1;function Ju(h,m){switch(h){case"compositionend":return fh(m);case"keypress":return m.which!==32?null:(Yu=!0,t1);case"textInput":return h=m.data,h===t1&&Yu?null:h;default:return null}}function tu(h,m){if(eu)return h==="compositionend"||!uh&&hh(h,m)?(h=Os(),Kl=Yo=Lo=null,eu=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return e1&&m.locale!=="ko"?null:m.data;default:return null}}var dh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!dh[h.type]:m==="textarea"}function r1(h,m,T,O){De(O),m=xo(m,"onChange"),0<m.length&&(T=new fl("onChange","change",null,T,O),h.push({event:T,listeners:m}))}var _o=null,Ls=null;function ph(h){_l(h,0)}function pl(h){var m=bl(h);if(dt(m))return h}function kf(h,m){if(h==="change")return m}var n1=!1;if(x){var mh;if(x){var Qu="oninput"in document;if(!Qu){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),Qu=typeof ec.oninput=="function"}mh=Qu}else mh=!1;n1=mh&&(!document.documentMode||9<document.documentMode)}function nu(){_o&&(_o.detachEvent("onpropertychange",gh),Ls=_o=null)}function gh(h){if(h.propertyName==="value"&&pl(Ls)){var m=[];r1(m,Ls,h,_a(h)),ct(ph,m)}}function yh(h,m,T){h==="focusin"?(nu(),_o=m,Ls=T,_o.attachEvent("onpropertychange",gh)):h==="focusout"&&nu()}function Od(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return pl(Ls)}function _h(h,m){if(h==="click")return pl(m)}function Df(h,m){if(h==="input"||h==="change")return pl(m)}function tc(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Qo=typeof Object.is=="function"?Object.is:tc;function Rs(h,m){if(Qo(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var T=Object.keys(h),O=Object.keys(m);if(T.length!==O.length)return!1;for(O=0;O<T.length;O++){var B=T[O];if(!a.call(m,B)||!Qo(h[B],m[B]))return!1}return!0}function vh(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function ml(h,m){var T=vh(h);h=0;for(var O;T;){if(T.nodeType===3){if(O=h+T.textContent.length,h<=m&&O>=m)return{node:T,offset:m-h};h=O}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=vh(T)}}function Lf(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?Lf(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function Rf(){for(var h=window,m=Zr();m instanceof h.HTMLIFrameElement;){try{var T=typeof m.contentWindow.location.href=="string"}catch{T=!1}if(T)h=m.contentWindow;else break;m=Zr(h.document)}return m}function xh(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function kd(h){var m=Rf(),T=h.focusedElem,O=h.selectionRange;if(m!==T&&T&&T.ownerDocument&&Lf(T.ownerDocument.documentElement,T)){if(O!==null&&xh(T)){if(m=O.start,h=O.end,h===void 0&&(h=m),"selectionStart"in T)T.selectionStart=m,T.selectionEnd=Math.min(h,T.value.length);else if(h=(m=T.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var B=T.textContent.length,G=Math.min(O.start,B);O=O.end===void 0?G:Math.min(O.end,B),!h.extend&&G>O&&(B=O,O=G,G=B),B=ml(T,G);var se=ml(T,O);B&&se&&(h.rangeCount!==1||h.anchorNode!==B.node||h.anchorOffset!==B.offset||h.focusNode!==se.node||h.focusOffset!==se.offset)&&(m=m.createRange(),m.setStart(B.node,B.offset),h.removeAllRanges(),G>O?(h.addRange(m),h.extend(se.node,se.offset)):(m.setEnd(se.node,se.offset),h.addRange(m)))}}for(m=[],h=T;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<m.length;T++)h=m[T],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Dd=x&&"documentMode"in document&&11>=document.documentMode,gl=null,iu=null,Ua=null,i1=!1;function bh(h,m,T){var O=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;i1||gl==null||gl!==Zr(O)||(O=gl,"selectionStart"in O&&xh(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),Ua&&Rs(Ua,O)||(Ua=O,O=xo(iu,"onSelect"),0<O.length&&(m=new fl("onSelect","select",null,m,T),h.push({event:m,listeners:O}),m.target=gl)))}function ea(h,m){var T={};return T[h.toLowerCase()]=m.toLowerCase(),T["Webkit"+h]="webkit"+m,T["Moz"+h]="moz"+m,T}var os={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},vo={},ou={};x&&(ou=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function rc(h){if(vo[h])return vo[h];if(!os[h])return h;var m=os[h],T;for(T in m)if(m.hasOwnProperty(T)&&T in ou)return vo[h]=m[T];return h}var zs=rc("animationend"),yl=rc("animationiteration"),nc=rc("animationstart"),ic=rc("transitionend"),Yr=new Map,au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(h,m){Yr.set(h,m),d(m,[h])}for(var su=0;su<au.length;su++){var Bs=au[su],zf=Bs.toLowerCase(),o1=Bs[0].toUpperCase()+Bs.slice(1);as(zf,"on"+o1)}as(zs,"onAnimationEnd"),as(yl,"onAnimationIteration"),as(nc,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(ic,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function oc(h,m,T){var O=h.type||"unknown-event";h.currentTarget=T,er(O,m,void 0,h),h.currentTarget=null}function _l(h,m){m=(m&4)!==0;for(var T=0;T<h.length;T++){var O=h[T],B=O.event;O=O.listeners;e:{var G=void 0;if(m)for(var se=O.length-1;0<=se;se--){var Oe=O[se],Ze=Oe.instance,yt=Oe.currentTarget;if(Oe=Oe.listener,Ze!==G&&B.isPropagationStopped())break e;oc(B,Oe,yt),G=Ze}else for(se=0;se<O.length;se++){if(Oe=O[se],Ze=Oe.instance,yt=Oe.currentTarget,Oe=Oe.listener,Ze!==G&&B.isPropagationStopped())break e;oc(B,Oe,yt),G=Ze}}}if(jt)throw h=qt,jt=!1,qt=null,h}function _n(h,m){var T=m[l1];T===void 0&&(T=m[l1]=new Set);var O=h+"__bubble";T.has(O)||(sc(m,h,2,!1),T.add(O))}function ac(h,m,T){var O=0;m&&(O|=4),sc(T,h,O,m)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function ss(h){if(!h[Fs]){h[Fs]=!0,i.forEach(function(T){T!=="selectionchange"&&(Bf.has(T)||ac(T,!1,h),ac(T,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[Fs]||(m[Fs]=!0,ac("selectionchange",!1,m))}}function sc(h,m,T,O){switch(Hc(m)){case 1:var B=eh;break;case 4:B=ns;break;default:B=Fa}T=B.bind(null,m,T,h),B=void 0,!ge||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(B=!0),O?B!==void 0?h.addEventListener(m,T,{capture:!0,passive:B}):h.addEventListener(m,T,!0):B!==void 0?h.addEventListener(m,T,{passive:B}):h.addEventListener(m,T,!1)}function lu(h,m,T,O,B){var G=O;if((m&1)===0&&(m&2)===0&&O!==null)e:for(;;){if(O===null)return;var se=O.tag;if(se===3||se===4){var Oe=O.stateNode.containerInfo;if(Oe===B||Oe.nodeType===8&&Oe.parentNode===B)break;if(se===4)for(se=O.return;se!==null;){var Ze=se.tag;if((Ze===3||Ze===4)&&(Ze=se.stateNode.containerInfo,Ze===B||Ze.nodeType===8&&Ze.parentNode===B))return;se=se.return}for(;Oe!==null;){if(se=wo(Oe),se===null)return;if(Ze=se.tag,Ze===5||Ze===6){O=G=se;continue e}Oe=Oe.parentNode}}O=O.return}ct(function(){var yt=G,Ut=_a(T),$t=[];e:{var Rt=Yr.get(h);if(Rt!==void 0){var lr=fl,mr=h;switch(h){case"keypress":if(Jo(T)===0)break e;case"keydown":case"keyup":lr=Qc;break;case"focusin":mr="focus",lr=Xc;break;case"focusout":mr="blur",lr=Xc;break;case"beforeblur":case"afterblur":lr=Xc;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lr=Af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lr=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lr=If;break;case zs:case yl:case nc:lr=Jl;break;case ic:lr=Of;break;case"scroll":lr=Zc;break;case"wheel":lr=lh;break;case"copy":case"cut":case"paste":lr=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lr=Xr}var _r=(m&4)!==0,bi=!_r&&h==="scroll",ut=_r?Rt!==null?Rt+"Capture":null:Rt;_r=[];for(var Je=yt,pt;Je!==null;){pt=Je;var Xt=pt.stateNode;if(pt.tag===5&&Xt!==null&&(pt=Xt,ut!==null&&(Xt=kt(Je,ut),Xt!=null&&_r.push(Wt(Je,Xt,pt)))),bi)break;Je=Je.return}0<_r.length&&(Rt=new lr(Rt,mr,null,T,Ut),$t.push({event:Rt,listeners:_r}))}}if((m&7)===0){e:{if(Rt=h==="mouseover"||h==="pointerover",lr=h==="mouseout"||h==="pointerout",Rt&&T!==ya&&(mr=T.relatedTarget||T.fromElement)&&(wo(mr)||mr[Sa]))break e;if((lr||Rt)&&(Rt=Ut.window===Ut?Ut:(Rt=Ut.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,lr?(mr=T.relatedTarget||T.toElement,lr=yt,mr=mr?wo(mr):null,mr!==null&&(bi=Jt(mr),mr!==bi||mr.tag!==5&&mr.tag!==6)&&(mr=null)):(lr=null,mr=yt),lr!==mr)){if(_r=Af,Xt="onMouseLeave",ut="onMouseEnter",Je="mouse",(h==="pointerout"||h==="pointerover")&&(_r=Xr,Xt="onPointerLeave",ut="onPointerEnter",Je="pointer"),bi=lr==null?Rt:bl(lr),pt=mr==null?Rt:bl(mr),Rt=new _r(Xt,Je+"leave",lr,T,Ut),Rt.target=bi,Rt.relatedTarget=pt,Xt=null,wo(Ut)===yt&&(_r=new _r(ut,Je+"enter",mr,T,Ut),_r.target=pt,_r.relatedTarget=bi,Xt=_r),bi=Xt,lr&&mr)t:{for(_r=lr,ut=mr,Je=0,pt=_r;pt;pt=vl(pt))Je++;for(pt=0,Xt=ut;Xt;Xt=vl(Xt))pt++;for(;0<Je-pt;)_r=vl(_r),Je--;for(;0<pt-Je;)ut=vl(ut),pt--;for(;Je--;){if(_r===ut||ut!==null&&_r===ut.alternate)break t;_r=vl(_r),ut=vl(ut)}_r=null}else _r=null;lr!==null&&uu($t,Rt,lr,_r,!1),mr!==null&&bi!==null&&uu($t,bi,mr,_r,!0)}}e:{if(Rt=yt?bl(yt):window,lr=Rt.nodeName&&Rt.nodeName.toLowerCase(),lr==="select"||lr==="input"&&Rt.type==="file")var vr=kf;else if(ru(Rt))if(n1)vr=Df;else{vr=Od;var Pr=yh}else(lr=Rt.nodeName)&&lr.toLowerCase()==="input"&&(Rt.type==="checkbox"||Rt.type==="radio")&&(vr=_h);if(vr&&(vr=vr(h,yt))){r1($t,vr,T,Ut);break e}Pr&&Pr(h,Rt,yt),h==="focusout"&&(Pr=Rt._wrapperState)&&Pr.controlled&&Rt.type==="number"&&li(Rt,"number",Rt.value)}switch(Pr=yt?bl(yt):window,h){case"focusin":(ru(Pr)||Pr.contentEditable==="true")&&(gl=Pr,iu=yt,Ua=null);break;case"focusout":Ua=iu=gl=null;break;case"mousedown":i1=!0;break;case"contextmenu":case"mouseup":case"dragend":i1=!1,bh($t,T,Ut);break;case"selectionchange":if(Dd)break;case"keydown":case"keyup":bh($t,T,Ut)}var Ar;if(uh)e:{switch(h){case"compositionstart":var Ur="onCompositionStart";break e;case"compositionend":Ur="onCompositionEnd";break e;case"compositionupdate":Ur="onCompositionUpdate";break e}Ur=void 0}else eu?hh(h,T)&&(Ur="onCompositionEnd"):h==="keydown"&&T.keyCode===229&&(Ur="onCompositionStart");Ur&&(e1&&T.locale!=="ko"&&(eu||Ur!=="onCompositionStart"?Ur==="onCompositionEnd"&&eu&&(Ar=Os()):(Lo=Ut,Yo="value"in Lo?Lo.value:Lo.textContent,eu=!0)),Pr=xo(yt,Ur),0<Pr.length&&(Ur=new Ds(Ur,h,null,T,Ut),$t.push({event:Ur,listeners:Pr}),Ar?Ur.data=Ar:(Ar=fh(T),Ar!==null&&(Ur.data=Ar)))),(Ar=ch?Ju(h,T):tu(h,T))&&(yt=xo(yt,"onBeforeInput"),0<yt.length&&(Ut=new Ds("onBeforeInput","beforeinput",null,T,Ut),$t.push({event:Ut,listeners:yt}),Ut.data=Ar))}_l($t,m)})}function Wt(h,m,T){return{instance:h,listener:m,currentTarget:T}}function xo(h,m){for(var T=m+"Capture",O=[];h!==null;){var B=h,G=B.stateNode;B.tag===5&&G!==null&&(B=G,G=kt(h,T),G!=null&&O.unshift(Wt(h,G,B)),G=kt(h,m),G!=null&&O.push(Wt(h,G,B))),h=h.return}return O}function vl(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function uu(h,m,T,O,B){for(var G=m._reactName,se=[];T!==null&&T!==O;){var Oe=T,Ze=Oe.alternate,yt=Oe.stateNode;if(Ze!==null&&Ze===O)break;Oe.tag===5&&yt!==null&&(Oe=yt,B?(Ze=kt(T,G),Ze!=null&&se.unshift(Wt(T,Ze,Oe))):B||(Ze=kt(T,G),Ze!=null&&se.push(Wt(T,Ze,Oe)))),T=T.return}se.length!==0&&h.push({event:m,listeners:se})}var lc=/\r\n?/g,Ri=/\u0000|\uFFFD/g;function cu(h){return(typeof h=="string"?h:""+h).replace(lc,`
`).replace(Ri,"")}function xl(h,m,T){if(m=cu(m),cu(h)!==m&&T)throw Error(n(425))}function hu(){}var fu=null,a1=null;function du(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var js=typeof setTimeout=="function"?setTimeout:void 0,wh=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(h){return Ff.resolve(null).then(h).catch(pu)}:js;function pu(h){setTimeout(function(){throw h})}function uc(h,m){var T=m,O=0;do{var B=T.nextSibling;if(h.removeChild(T),B&&B.nodeType===8)if(T=B.data,T==="/$"){if(O===0){h.removeChild(B),ba(m);return}O--}else T!=="$"&&T!=="$?"&&T!=="$!"||O++;T=B}while(T);ba(m)}function $a(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function s1(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var T=h.data;if(T==="$"||T==="$!"||T==="$?"){if(m===0)return h;m--}else T==="/$"&&m++}h=h.previousSibling}return null}var ls=Math.random().toString(36).slice(2),bo="__reactFiber$"+ls,us="__reactProps$"+ls,Sa="__reactContainer$"+ls,l1="__reactEvents$"+ls,Sh="__reactListeners$"+ls,Nf="__reactHandles$"+ls;function wo(h){var m=h[bo];if(m)return m;for(var T=h.parentNode;T;){if(m=T[Sa]||T[bo]){if(T=m.alternate,m.child!==null||T!==null&&T.child!==null)for(h=s1(h);h!==null;){if(T=h[bo])return T;h=s1(h)}return m}h=T,T=h.parentNode}return null}function mu(h){return h=h[bo]||h[Sa],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function bl(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function u1(h){return h[us]||null}var c1=[],Ns=-1;function cs(h){return{current:h}}function zn(h){0>Ns||(h.current=c1[Ns],c1[Ns]=null,Ns--)}function Wr(h,m){Ns++,c1[Ns]=h.current,h.current=m}var Us={},$i=cs(Us),So=cs(!1),wl=Us;function Vi(h,m){var T=h.type.contextTypes;if(!T)return Us;var O=h.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===m)return O.__reactInternalMemoizedMaskedChildContext;var B={},G;for(G in T)B[G]=m[G];return O&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=B),B}function ao(h){return h=h.childContextTypes,h!=null}function h1(){zn(So),zn($i)}function ta(h,m,T){if($i.current!==Us)throw Error(n(168));Wr($i,m),Wr(So,T)}function Ta(h,m,T){var O=h.stateNode;if(m=m.childContextTypes,typeof O.getChildContext!="function")return T;O=O.getChildContext();for(var B in O)if(!(B in m))throw Error(n(108,wr(h)||"Unknown",B));return ft({},T,O)}function Va(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Us,wl=$i.current,Wr($i,h),Wr(So,So.current),!0}function cc(h,m,T){var O=h.stateNode;if(!O)throw Error(n(169));T?(h=Ta(h,m,wl),O.__reactInternalMemoizedMergedChildContext=h,zn(So),zn($i),Wr($i,h)):zn(So),Wr(So,T)}var Zt=null,gu=!1,hc=!1;function Sl(h){Zt===null?Zt=[h]:Zt.push(h)}function Tl(h){gu=!0,Sl(h)}function Vt(){if(!hc&&Zt!==null){hc=!0;var h=0,m=tn;try{var T=Zt;for(tn=1;h<T.length;h++){var O=T[h];do O=O(!0);while(O!==null)}Zt=null,gu=!1}catch(B){throw Zt!==null&&(Zt=Zt.slice(h+1)),Rn(Oi,Vt),B}finally{tn=m,hc=!1}}return null}var $s=[],yu=0,fc=null,_u=0,zo=[],Bo=0,El=null,hs=1,Ea="";function fs(h,m){$s[yu++]=_u,$s[yu++]=fc,fc=h,_u=m}function f1(h,m,T){zo[Bo++]=hs,zo[Bo++]=Ea,zo[Bo++]=El,El=h;var O=hs;h=Ea;var B=32-Hr(O)-1;O&=~(1<<B),T+=1;var G=32-Hr(m)+B;if(30<G){var se=B-B%5;G=(O&(1<<se)-1).toString(32),O>>=se,B-=se,hs=1<<32-Hr(m)+B|T<<B|O,Ea=G+h}else hs=1<<G|T<<B|O,Ea=h}function Vs(h){h.return!==null&&(fs(h,1),f1(h,1,0))}function g(h){for(;h===fc;)fc=$s[--yu],$s[yu]=null,_u=$s[--yu],$s[yu]=null;for(;h===El;)El=zo[--Bo],zo[Bo]=null,Ea=zo[--Bo],zo[Bo]=null,hs=zo[--Bo],zo[Bo]=null}var l=null,f=null,v=!1,S=null;function P(h,m){var T=Yi(5,null,null,0);T.elementType="DELETED",T.stateNode=m,T.return=h,m=h.deletions,m===null?(h.deletions=[T],h.flags|=16):m.push(T)}function k(h,m){switch(h.tag){case 5:var T=h.type;return m=m.nodeType!==1||T.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,l=h,f=$a(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,l=h,f=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(T=El!==null?{id:hs,overflow:Ea}:null,h.memoizedState={dehydrated:m,treeContext:T,retryLane:1073741824},T=Yi(18,null,null,0),T.stateNode=m,T.return=h,h.child=T,l=h,f=null,!0):!1;default:return!1}}function D(h){return(h.mode&1)!==0&&(h.flags&128)===0}function z(h){if(v){var m=f;if(m){var T=m;if(!k(h,m)){if(D(h))throw Error(n(418));m=$a(T.nextSibling);var O=l;m&&k(h,m)?P(O,T):(h.flags=h.flags&-4097|2,v=!1,l=h)}}else{if(D(h))throw Error(n(418));h.flags=h.flags&-4097|2,v=!1,l=h}}}function V(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;l=h}function $(h){if(h!==l)return!1;if(!v)return V(h),v=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!du(h.type,h.memoizedProps)),m&&(m=f)){if(D(h))throw X(),Error(n(418));for(;m;)P(h,m),m=$a(m.nextSibling)}if(V(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var T=h.data;if(T==="/$"){if(m===0){f=$a(h.nextSibling);break e}m--}else T!=="$"&&T!=="$!"&&T!=="$?"||m++}h=h.nextSibling}f=null}}else f=l?$a(h.stateNode.nextSibling):null;return!0}function X(){for(var h=f;h;)h=$a(h.nextSibling)}function le(){f=l=null,v=!1}function he(h){S===null?S=[h]:S.push(h)}var de=oe.ReactCurrentBatchConfig;function fe(h,m,T){if(h=T.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(n(309));var O=T.stateNode}if(!O)throw Error(n(147,h));var B=O,G=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===G?m.ref:(m=function(se){var Oe=B.refs;se===null?delete Oe[G]:Oe[G]=se},m._stringRef=G,m)}if(typeof h!="string")throw Error(n(284));if(!T._owner)throw Error(n(290,h))}return h}function pe(h,m){throw h=Object.prototype.toString.call(m),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function Y(h){var m=h._init;return m(h._payload)}function ce(h){function m(ut,Je){if(h){var pt=ut.deletions;pt===null?(ut.deletions=[Je],ut.flags|=16):pt.push(Je)}}function T(ut,Je){if(!h)return null;for(;Je!==null;)m(ut,Je),Je=Je.sibling;return null}function O(ut,Je){for(ut=new Map;Je!==null;)Je.key!==null?ut.set(Je.key,Je):ut.set(Je.index,Je),Je=Je.sibling;return ut}function B(ut,Je){return ut=Cu(ut,Je),ut.index=0,ut.sibling=null,ut}function G(ut,Je,pt){return ut.index=pt,h?(pt=ut.alternate,pt!==null?(pt=pt.index,pt<Je?(ut.flags|=2,Je):pt):(ut.flags|=2,Je)):(ut.flags|=1048576,Je)}function se(ut){return h&&ut.alternate===null&&(ut.flags|=2),ut}function Oe(ut,Je,pt,Xt){return Je===null||Je.tag!==6?(Je=np(pt,ut.mode,Xt),Je.return=ut,Je):(Je=B(Je,pt),Je.return=ut,Je)}function Ze(ut,Je,pt,Xt){var vr=pt.type;return vr===te?Ut(ut,Je,pt.props.children,Xt,pt.key):Je!==null&&(Je.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===ze&&Y(vr)===Je.type)?(Xt=B(Je,pt.props),Xt.ref=fe(ut,Je,pt),Xt.return=ut,Xt):(Xt=l0(pt.type,pt.key,pt.props,null,ut.mode,Xt),Xt.ref=fe(ut,Je,pt),Xt.return=ut,Xt)}function yt(ut,Je,pt,Xt){return Je===null||Je.tag!==4||Je.stateNode.containerInfo!==pt.containerInfo||Je.stateNode.implementation!==pt.implementation?(Je=ip(pt,ut.mode,Xt),Je.return=ut,Je):(Je=B(Je,pt.children||[]),Je.return=ut,Je)}function Ut(ut,Je,pt,Xt,vr){return Je===null||Je.tag!==7?(Je=Ec(pt,ut.mode,Xt,vr),Je.return=ut,Je):(Je=B(Je,pt),Je.return=ut,Je)}function $t(ut,Je,pt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Je=np(""+Je,ut.mode,pt),Je.return=ut,Je;if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case K:return pt=l0(Je.type,Je.key,Je.props,null,ut.mode,pt),pt.ref=fe(ut,null,Je),pt.return=ut,pt;case ne:return Je=ip(Je,ut.mode,pt),Je.return=ut,Je;case ze:var Xt=Je._init;return $t(ut,Xt(Je._payload),pt)}if(Wn(Je)||$e(Je))return Je=Ec(Je,ut.mode,pt,null),Je.return=ut,Je;pe(ut,Je)}return null}function Rt(ut,Je,pt,Xt){var vr=Je!==null?Je.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return vr!==null?null:Oe(ut,Je,""+pt,Xt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case K:return pt.key===vr?Ze(ut,Je,pt,Xt):null;case ne:return pt.key===vr?yt(ut,Je,pt,Xt):null;case ze:return vr=pt._init,Rt(ut,Je,vr(pt._payload),Xt)}if(Wn(pt)||$e(pt))return vr!==null?null:Ut(ut,Je,pt,Xt,null);pe(ut,pt)}return null}function lr(ut,Je,pt,Xt,vr){if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number")return ut=ut.get(pt)||null,Oe(Je,ut,""+Xt,vr);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case K:return ut=ut.get(Xt.key===null?pt:Xt.key)||null,Ze(Je,ut,Xt,vr);case ne:return ut=ut.get(Xt.key===null?pt:Xt.key)||null,yt(Je,ut,Xt,vr);case ze:var Pr=Xt._init;return lr(ut,Je,pt,Pr(Xt._payload),vr)}if(Wn(Xt)||$e(Xt))return ut=ut.get(pt)||null,Ut(Je,ut,Xt,vr,null);pe(Je,Xt)}return null}function mr(ut,Je,pt,Xt){for(var vr=null,Pr=null,Ar=Je,Ur=Je=0,Ji=null;Ar!==null&&Ur<pt.length;Ur++){Ar.index>Ur?(Ji=Ar,Ar=null):Ji=Ar.sibling;var un=Rt(ut,Ar,pt[Ur],Xt);if(un===null){Ar===null&&(Ar=Ji);break}h&&Ar&&un.alternate===null&&m(ut,Ar),Je=G(un,Je,Ur),Pr===null?vr=un:Pr.sibling=un,Pr=un,Ar=Ji}if(Ur===pt.length)return T(ut,Ar),v&&fs(ut,Ur),vr;if(Ar===null){for(;Ur<pt.length;Ur++)Ar=$t(ut,pt[Ur],Xt),Ar!==null&&(Je=G(Ar,Je,Ur),Pr===null?vr=Ar:Pr.sibling=Ar,Pr=Ar);return v&&fs(ut,Ur),vr}for(Ar=O(ut,Ar);Ur<pt.length;Ur++)Ji=lr(Ar,ut,Ur,pt[Ur],Xt),Ji!==null&&(h&&Ji.alternate!==null&&Ar.delete(Ji.key===null?Ur:Ji.key),Je=G(Ji,Je,Ur),Pr===null?vr=Ji:Pr.sibling=Ji,Pr=Ji);return h&&Ar.forEach(function(Za){return m(ut,Za)}),v&&fs(ut,Ur),vr}function _r(ut,Je,pt,Xt){var vr=$e(pt);if(typeof vr!="function")throw Error(n(150));if(pt=vr.call(pt),pt==null)throw Error(n(151));for(var Pr=vr=null,Ar=Je,Ur=Je=0,Ji=null,un=pt.next();Ar!==null&&!un.done;Ur++,un=pt.next()){Ar.index>Ur?(Ji=Ar,Ar=null):Ji=Ar.sibling;var Za=Rt(ut,Ar,un.value,Xt);if(Za===null){Ar===null&&(Ar=Ji);break}h&&Ar&&Za.alternate===null&&m(ut,Ar),Je=G(Za,Je,Ur),Pr===null?vr=Za:Pr.sibling=Za,Pr=Za,Ar=Ji}if(un.done)return T(ut,Ar),v&&fs(ut,Ur),vr;if(Ar===null){for(;!un.done;Ur++,un=pt.next())un=$t(ut,un.value,Xt),un!==null&&(Je=G(un,Je,Ur),Pr===null?vr=un:Pr.sibling=un,Pr=un);return v&&fs(ut,Ur),vr}for(Ar=O(ut,Ar);!un.done;Ur++,un=pt.next())un=lr(Ar,ut,Ur,un.value,Xt),un!==null&&(h&&un.alternate!==null&&Ar.delete(un.key===null?Ur:un.key),Je=G(un,Je,Ur),Pr===null?vr=un:Pr.sibling=un,Pr=un);return h&&Ar.forEach(function(f5){return m(ut,f5)}),v&&fs(ut,Ur),vr}function bi(ut,Je,pt,Xt){if(typeof pt=="object"&&pt!==null&&pt.type===te&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case K:e:{for(var vr=pt.key,Pr=Je;Pr!==null;){if(Pr.key===vr){if(vr=pt.type,vr===te){if(Pr.tag===7){T(ut,Pr.sibling),Je=B(Pr,pt.props.children),Je.return=ut,ut=Je;break e}}else if(Pr.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===ze&&Y(vr)===Pr.type){T(ut,Pr.sibling),Je=B(Pr,pt.props),Je.ref=fe(ut,Pr,pt),Je.return=ut,ut=Je;break e}T(ut,Pr);break}else m(ut,Pr);Pr=Pr.sibling}pt.type===te?(Je=Ec(pt.props.children,ut.mode,Xt,pt.key),Je.return=ut,ut=Je):(Xt=l0(pt.type,pt.key,pt.props,null,ut.mode,Xt),Xt.ref=fe(ut,Je,pt),Xt.return=ut,ut=Xt)}return se(ut);case ne:e:{for(Pr=pt.key;Je!==null;){if(Je.key===Pr)if(Je.tag===4&&Je.stateNode.containerInfo===pt.containerInfo&&Je.stateNode.implementation===pt.implementation){T(ut,Je.sibling),Je=B(Je,pt.children||[]),Je.return=ut,ut=Je;break e}else{T(ut,Je);break}else m(ut,Je);Je=Je.sibling}Je=ip(pt,ut.mode,Xt),Je.return=ut,ut=Je}return se(ut);case ze:return Pr=pt._init,bi(ut,Je,Pr(pt._payload),Xt)}if(Wn(pt))return mr(ut,Je,pt,Xt);if($e(pt))return _r(ut,Je,pt,Xt);pe(ut,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,Je!==null&&Je.tag===6?(T(ut,Je.sibling),Je=B(Je,pt),Je.return=ut,ut=Je):(T(ut,Je),Je=np(pt,ut.mode,Xt),Je.return=ut,ut=Je),se(ut)):T(ut,Je)}return bi}var _e=ce(!0),ve=ce(!1),Be=cs(null),Ne=null,Fe=null,Ke=null;function Xe(){Ke=Fe=Ne=null}function at(h){var m=Be.current;zn(Be),h._currentValue=m}function Ot(h,m,T){for(;h!==null;){var O=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,O!==null&&(O.childLanes|=m)):O!==null&&(O.childLanes&m)!==m&&(O.childLanes|=m),h===T)break;h=h.return}}function nt(h,m){Ne=h,Ke=Fe=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(Xi=!0),h.firstContext=null)}function _t(h){var m=h._currentValue;if(Ke!==h)if(h={context:h,memoizedValue:m,next:null},Fe===null){if(Ne===null)throw Error(n(308));Fe=h,Ne.dependencies={lanes:0,firstContext:h}}else Fe=Fe.next=h;return m}var st=null;function Ct(h){st===null?st=[h]:st.push(h)}function ot(h,m,T,O){var B=m.interleaved;return B===null?(T.next=T,Ct(m)):(T.next=B.next,B.next=T),m.interleaved=T,vt(h,O)}function vt(h,m){h.lanes|=m;var T=h.alternate;for(T!==null&&(T.lanes|=m),T=h,h=h.return;h!==null;)h.childLanes|=m,T=h.alternate,T!==null&&(T.childLanes|=m),T=h,h=h.return;return T.tag===3?T.stateNode:null}var Mt=!1;function Et(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dt(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ar(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function xr(h,m,T){var O=h.updateQueue;if(O===null)return null;if(O=O.shared,(pr&2)!==0){var B=O.pending;return B===null?m.next=m:(m.next=B.next,B.next=m),O.pending=m,vt(h,T)}return B=O.interleaved,B===null?(m.next=m,Ct(O)):(m.next=B.next,B.next=m),O.interleaved=m,vt(h,T)}function tr(h,m,T){if(m=m.updateQueue,m!==null&&(m=m.shared,(T&4194240)!==0)){var O=m.lanes;O&=h.pendingLanes,T|=O,m.lanes=T,ul(h,T)}}function dr(h,m){var T=h.updateQueue,O=h.alternate;if(O!==null&&(O=O.updateQueue,T===O)){var B=null,G=null;if(T=T.firstBaseUpdate,T!==null){do{var se={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};G===null?B=G=se:G=G.next=se,T=T.next}while(T!==null);G===null?B=G=m:G=G.next=m}else B=G=m;T={baseState:O.baseState,firstBaseUpdate:B,lastBaseUpdate:G,shared:O.shared,effects:O.effects},h.updateQueue=T;return}h=T.lastBaseUpdate,h===null?T.firstBaseUpdate=m:h.next=m,T.lastBaseUpdate=m}function Rr(h,m,T,O){var B=h.updateQueue;Mt=!1;var G=B.firstBaseUpdate,se=B.lastBaseUpdate,Oe=B.shared.pending;if(Oe!==null){B.shared.pending=null;var Ze=Oe,yt=Ze.next;Ze.next=null,se===null?G=yt:se.next=yt,se=Ze;var Ut=h.alternate;Ut!==null&&(Ut=Ut.updateQueue,Oe=Ut.lastBaseUpdate,Oe!==se&&(Oe===null?Ut.firstBaseUpdate=yt:Oe.next=yt,Ut.lastBaseUpdate=Ze))}if(G!==null){var $t=B.baseState;se=0,Ut=yt=Ze=null,Oe=G;do{var Rt=Oe.lane,lr=Oe.eventTime;if((O&Rt)===Rt){Ut!==null&&(Ut=Ut.next={eventTime:lr,lane:0,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null});e:{var mr=h,_r=Oe;switch(Rt=m,lr=T,_r.tag){case 1:if(mr=_r.payload,typeof mr=="function"){$t=mr.call(lr,$t,Rt);break e}$t=mr;break e;case 3:mr.flags=mr.flags&-65537|128;case 0:if(mr=_r.payload,Rt=typeof mr=="function"?mr.call(lr,$t,Rt):mr,Rt==null)break e;$t=ft({},$t,Rt);break e;case 2:Mt=!0}}Oe.callback!==null&&Oe.lane!==0&&(h.flags|=64,Rt=B.effects,Rt===null?B.effects=[Oe]:Rt.push(Oe))}else lr={eventTime:lr,lane:Rt,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null},Ut===null?(yt=Ut=lr,Ze=$t):Ut=Ut.next=lr,se|=Rt;if(Oe=Oe.next,Oe===null){if(Oe=B.shared.pending,Oe===null)break;Rt=Oe,Oe=Rt.next,Rt.next=null,B.lastBaseUpdate=Rt,B.shared.pending=null}}while(!0);if(Ut===null&&(Ze=$t),B.baseState=Ze,B.firstBaseUpdate=yt,B.lastBaseUpdate=Ut,m=B.shared.interleaved,m!==null){B=m;do se|=B.lane,B=B.next;while(B!==m)}else G===null&&(B.shared.lanes=0);ii|=se,h.lanes=se,h.memoizedState=$t}}function Nr(h,m,T){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var O=h[m],B=O.callback;if(B!==null){if(O.callback=null,O=T,typeof B!="function")throw Error(n(191,B));B.call(O)}}}var sr={},Vr=cs(sr),an=cs(sr),sn=cs(sr);function Qr(h){if(h===sr)throw Error(n(174));return h}function zi(h,m){switch(Wr(sn,m),Wr(an,h),Wr(Vr,sr),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Ra(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=Ra(m,h)}zn(Vr),Wr(Vr,m)}function Yn(){zn(Vr),zn(an),zn(sn)}function Fo(h){Qr(sn.current);var m=Qr(Vr.current),T=Ra(m,h.type);m!==T&&(Wr(an,h),Wr(Vr,T))}function ra(h){an.current===h&&(zn(Vr),zn(an))}var Ir=cs(0);function pn(h){for(var m=h;m!==null;){if(m.tag===13){var T=m.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Jr=[];function Jn(){for(var h=0;h<Jr.length;h++)Jr[h]._workInProgressVersionPrimary=null;Jr.length=0}var Bi=oe.ReactCurrentDispatcher,bn=oe.ReactCurrentBatchConfig,yi=0,Bn=null,Vn=null,ni=null,na=!1,ia=!1,Pa=0,d1=0;function _i(){throw Error(n(321))}function dc(h,m){if(m===null)return!1;for(var T=0;T<m.length&&T<h.length;T++)if(!Qo(h[T],m[T]))return!1;return!0}function Uf(h,m,T,O,B,G){if(yi=G,Bn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Bi.current=h===null||h.memoizedState===null?J3:Q3,h=T(O,B),ia){G=0;do{if(ia=!1,Pa=0,25<=G)throw Error(n(301));G+=1,ni=Vn=null,m.updateQueue=null,Bi.current=ps,h=T(O,B)}while(ia)}if(Bi.current=so,m=Vn!==null&&Vn.next!==null,yi=0,ni=Vn=Bn=null,na=!1,m)throw Error(n(300));return h}function $f(){var h=Pa!==0;return Pa=0,h}function qs(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?Bn.memoizedState=ni=h:ni=ni.next=h,ni}function oa(){if(Vn===null){var h=Bn.alternate;h=h!==null?h.memoizedState:null}else h=Vn.next;var m=ni===null?Bn.memoizedState:ni.next;if(m!==null)ni=m,Vn=h;else{if(h===null)throw Error(n(310));Vn=h,h={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},ni===null?Bn.memoizedState=ni=h:ni=ni.next=h}return ni}function vu(h,m){return typeof m=="function"?m(h):m}function Vf(h){var m=oa(),T=m.queue;if(T===null)throw Error(n(311));T.lastRenderedReducer=h;var O=Vn,B=O.baseQueue,G=T.pending;if(G!==null){if(B!==null){var se=B.next;B.next=G.next,G.next=se}O.baseQueue=B=G,T.pending=null}if(B!==null){G=B.next,O=O.baseState;var Oe=se=null,Ze=null,yt=G;do{var Ut=yt.lane;if((yi&Ut)===Ut)Ze!==null&&(Ze=Ze.next={lane:0,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null}),O=yt.hasEagerState?yt.eagerState:h(O,yt.action);else{var $t={lane:Ut,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null};Ze===null?(Oe=Ze=$t,se=O):Ze=Ze.next=$t,Bn.lanes|=Ut,ii|=Ut}yt=yt.next}while(yt!==null&&yt!==G);Ze===null?se=O:Ze.next=Oe,Qo(O,m.memoizedState)||(Xi=!0),m.memoizedState=O,m.baseState=se,m.baseQueue=Ze,T.lastRenderedState=O}if(h=T.interleaved,h!==null){B=h;do G=B.lane,Bn.lanes|=G,ii|=G,B=B.next;while(B!==h)}else B===null&&(T.lanes=0);return[m.memoizedState,T.dispatch]}function Th(h){var m=oa(),T=m.queue;if(T===null)throw Error(n(311));T.lastRenderedReducer=h;var O=T.dispatch,B=T.pending,G=m.memoizedState;if(B!==null){T.pending=null;var se=B=B.next;do G=h(G,se.action),se=se.next;while(se!==B);Qo(G,m.memoizedState)||(Xi=!0),m.memoizedState=G,m.baseQueue===null&&(m.baseState=G),T.lastRenderedState=G}return[G,O]}function Eh(){}function Gs(h,m){var T=Bn,O=oa(),B=m(),G=!Qo(O.memoizedState,B);if(G&&(O.memoizedState=B,Xi=!0),O=O.queue,Ws(Rd.bind(null,T,O,h),[h]),O.getSnapshot!==m||G||ni!==null&&ni.memoizedState.tag&1){if(T.flags|=2048,pc(9,Ld.bind(null,T,O,B,m),void 0,null),ji===null)throw Error(n(349));(yi&30)!==0||Ph(T,m,B)}return B}function Ph(h,m,T){h.flags|=16384,h={getSnapshot:m,value:T},m=Bn.updateQueue,m===null?(m={lastEffect:null,stores:null},Bn.updateQueue=m,m.stores=[h]):(T=m.stores,T===null?m.stores=[h]:T.push(h))}function Ld(h,m,T,O){m.value=T,m.getSnapshot=O,G3(m)&&W3(h)}function Rd(h,m,T){return T(function(){G3(m)&&W3(h)})}function G3(h){var m=h.getSnapshot;h=h.value;try{var T=m();return!Qo(h,T)}catch{return!0}}function W3(h){var m=vt(h,1);m!==null&&_s(m,h,1,-1)}function H3(h){var m=qs();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:h},m.queue=h,h=h.dispatch=hi.bind(null,Bn,h),[m.memoizedState,h]}function pc(h,m,T,O){return h={tag:h,create:m,destroy:T,deps:O,next:null},m=Bn.updateQueue,m===null?(m={lastEffect:null,stores:null},Bn.updateQueue=m,m.lastEffect=h.next=h):(T=m.lastEffect,T===null?m.lastEffect=h.next=h:(O=T.next,T.next=h,h.next=O,m.lastEffect=h)),h}function p1(){return oa().memoizedState}function Pl(h,m,T,O){var B=qs();Bn.flags|=h,B.memoizedState=pc(1|m,T,void 0,O===void 0?null:O)}function qa(h,m,T,O){var B=oa();O=O===void 0?null:O;var G=void 0;if(Vn!==null){var se=Vn.memoizedState;if(G=se.destroy,O!==null&&dc(O,se.deps)){B.memoizedState=pc(m,T,G,O);return}}Bn.flags|=h,B.memoizedState=pc(1|m,T,G,O)}function Ga(h,m){return Pl(8390656,8,h,m)}function Ws(h,m){return qa(2048,8,h,m)}function Al(h,m){return qa(4,2,h,m)}function xu(h,m){return qa(4,4,h,m)}function Z3(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function X3(h,m,T){return T=T!=null?T.concat([h]):null,qa(4,4,Z3.bind(null,m,h),T)}function zd(){}function K3(h,m){var T=oa();m=m===void 0?null:m;var O=T.memoizedState;return O!==null&&m!==null&&dc(m,O[1])?O[0]:(T.memoizedState=[h,m],h)}function Bd(h,m){var T=oa();m=m===void 0?null:m;var O=T.memoizedState;return O!==null&&m!==null&&dc(m,O[1])?O[0]:(h=h(),T.memoizedState=[h,m],h)}function Fd(h,m,T){return(yi&21)===0?(h.baseState&&(h.baseState=!1,Xi=!0),h.memoizedState=T):(Qo(T,m)||(T=yo(),Bn.lanes|=T,ii|=T,h.baseState=!0),m)}function ds(h,m){var T=tn;tn=T!==0&&4>T?T:4,h(!0);var O=bn.transition;bn.transition={};try{h(!1),m()}finally{tn=T,bn.transition=O}}function Y3(){return oa().memoizedState}function q6(h,m,T){var O=Js(h);if(T={lane:O,action:T,hasEagerState:!1,eagerState:null,next:null},ur(h))Ml(m,T);else if(T=ot(h,m,T,O),T!==null){var B=Uo();_s(T,h,O,B),Ah(T,m,O)}}function hi(h,m,T){var O=Js(h),B={lane:O,action:T,hasEagerState:!1,eagerState:null,next:null};if(ur(h))Ml(m,B);else{var G=h.alternate;if(h.lanes===0&&(G===null||G.lanes===0)&&(G=m.lastRenderedReducer,G!==null))try{var se=m.lastRenderedState,Oe=G(se,T);if(B.hasEagerState=!0,B.eagerState=Oe,Qo(Oe,se)){var Ze=m.interleaved;Ze===null?(B.next=B,Ct(m)):(B.next=Ze.next,Ze.next=B),m.interleaved=B;return}}catch{}finally{}T=ot(h,m,B,O),T!==null&&(B=Uo(),_s(T,h,O,B),Ah(T,m,O))}}function ur(h){var m=h.alternate;return h===Bn||m!==null&&m===Bn}function Ml(h,m){ia=na=!0;var T=h.pending;T===null?m.next=m:(m.next=T.next,T.next=m),h.pending=m}function Ah(h,m,T){if((T&4194240)!==0){var O=m.lanes;O&=h.pendingLanes,T|=O,m.lanes=T,ul(h,T)}}var so={readContext:_t,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},J3={readContext:_t,useCallback:function(h,m){return qs().memoizedState=[h,m===void 0?null:m],h},useContext:_t,useEffect:Ga,useImperativeHandle:function(h,m,T){return T=T!=null?T.concat([h]):null,Pl(4194308,4,Z3.bind(null,m,h),T)},useLayoutEffect:function(h,m){return Pl(4194308,4,h,m)},useInsertionEffect:function(h,m){return Pl(4,2,h,m)},useMemo:function(h,m){var T=qs();return m=m===void 0?null:m,h=h(),T.memoizedState=[h,m],h},useReducer:function(h,m,T){var O=qs();return m=T!==void 0?T(m):m,O.memoizedState=O.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},O.queue=h,h=h.dispatch=q6.bind(null,Bn,h),[O.memoizedState,h]},useRef:function(h){var m=qs();return h={current:h},m.memoizedState=h},useState:H3,useDebugValue:zd,useDeferredValue:function(h){return qs().memoizedState=h},useTransition:function(){var h=H3(!1),m=h[0];return h=ds.bind(null,h[1]),qs().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,T){var O=Bn,B=qs();if(v){if(T===void 0)throw Error(n(407));T=T()}else{if(T=m(),ji===null)throw Error(n(349));(yi&30)!==0||Ph(O,m,T)}B.memoizedState=T;var G={value:T,getSnapshot:m};return B.queue=G,Ga(Rd.bind(null,O,G,h),[h]),O.flags|=2048,pc(9,Ld.bind(null,O,G,T,m),void 0,null),T},useId:function(){var h=qs(),m=ji.identifierPrefix;if(v){var T=Ea,O=hs;T=(O&~(1<<32-Hr(O)-1)).toString(32)+T,m=":"+m+"R"+T,T=Pa++,0<T&&(m+="H"+T.toString(32)),m+=":"}else T=d1++,m=":"+m+"r"+T.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},Q3={readContext:_t,useCallback:K3,useContext:_t,useEffect:Ws,useImperativeHandle:X3,useInsertionEffect:Al,useLayoutEffect:xu,useMemo:Bd,useReducer:Vf,useRef:p1,useState:function(){return Vf(vu)},useDebugValue:zd,useDeferredValue:function(h){var m=oa();return Fd(m,Vn.memoizedState,h)},useTransition:function(){var h=Vf(vu)[0],m=oa().memoizedState;return[h,m]},useMutableSource:Eh,useSyncExternalStore:Gs,useId:Y3,unstable_isNewReconciler:!1},ps={readContext:_t,useCallback:K3,useContext:_t,useEffect:Ws,useImperativeHandle:X3,useInsertionEffect:Al,useLayoutEffect:xu,useMemo:Bd,useReducer:Th,useRef:p1,useState:function(){return Th(vu)},useDebugValue:zd,useDeferredValue:function(h){var m=oa();return Vn===null?m.memoizedState=h:Fd(m,Vn.memoizedState,h)},useTransition:function(){var h=Th(vu)[0],m=oa().memoizedState;return[h,m]},useMutableSource:Eh,useSyncExternalStore:Gs,useId:Y3,unstable_isNewReconciler:!1};function Aa(h,m){if(h&&h.defaultProps){m=ft({},m),h=h.defaultProps;for(var T in h)m[T]===void 0&&(m[T]=h[T]);return m}return m}function Cl(h,m,T,O){m=h.memoizedState,T=T(O,m),T=T==null?m:ft({},m,T),h.memoizedState=T,h.lanes===0&&(h.updateQueue.baseState=T)}var bu={isMounted:function(h){return(h=h._reactInternals)?Jt(h)===h:!1},enqueueSetState:function(h,m,T){h=h._reactInternals;var O=Uo(),B=Js(h),G=ar(O,B);G.payload=m,T!=null&&(G.callback=T),m=xr(h,G,B),m!==null&&(_s(m,h,B,O),tr(m,h,B))},enqueueReplaceState:function(h,m,T){h=h._reactInternals;var O=Uo(),B=Js(h),G=ar(O,B);G.tag=1,G.payload=m,T!=null&&(G.callback=T),m=xr(h,G,B),m!==null&&(_s(m,h,B,O),tr(m,h,B))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var T=Uo(),O=Js(h),B=ar(T,O);B.tag=2,m!=null&&(B.callback=m),m=xr(h,B,O),m!==null&&(_s(m,h,O,T),tr(m,h,O))}};function wu(h,m,T,O,B,G,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(O,G,se):m.prototype&&m.prototype.isPureReactComponent?!Rs(T,O)||!Rs(B,G):!0}function qf(h,m,T){var O=!1,B=Us,G=m.contextType;return typeof G=="object"&&G!==null?G=_t(G):(B=ao(m)?wl:$i.current,O=m.contextTypes,G=(O=O!=null)?Vi(h,B):Us),m=new m(T,G),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=bu,h.stateNode=m,m._reactInternals=h,O&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=B,h.__reactInternalMemoizedMaskedChildContext=G),m}function Mh(h,m,T,O){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(T,O),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(T,O),m.state!==h&&bu.enqueueReplaceState(m,m.state,null)}function Gf(h,m,T,O){var B=h.stateNode;B.props=T,B.state=h.memoizedState,B.refs={},Et(h);var G=m.contextType;typeof G=="object"&&G!==null?B.context=_t(G):(G=ao(m)?wl:$i.current,B.context=Vi(h,G)),B.state=h.memoizedState,G=m.getDerivedStateFromProps,typeof G=="function"&&(Cl(h,m,G,T),B.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(m=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),m!==B.state&&bu.enqueueReplaceState(B,B.state,null),Rr(h,T,B,O),B.state=h.memoizedState),typeof B.componentDidMount=="function"&&(h.flags|=4194308)}function mc(h,m){try{var T="",O=m;do T+=nr(O),O=O.return;while(O);var B=T}catch(G){B=`
Error generating stack: `+G.message+`
`+G.stack}return{value:h,source:m,stack:B,digest:null}}function jd(h,m,T){return{value:h,source:null,stack:T??null,digest:m??null}}function Ch(h,m){try{console.error(m.value)}catch(T){setTimeout(function(){throw T})}}var e5=typeof WeakMap=="function"?WeakMap:Map;function m1(h,m,T){T=ar(-1,T),T.tag=3,T.payload={element:null};var O=m.value;return T.callback=function(){jh||(jh=!0,Xd=O),Ch(h,m)},T}function gc(h,m,T){T=ar(-1,T),T.tag=3;var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var B=m.value;T.payload=function(){return O(B)},T.callback=function(){Ch(h,m)}}var G=h.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(T.callback=function(){Ch(h,m),typeof O!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var se=m.stack;this.componentDidCatch(m.value,{componentStack:se!==null?se:""})}),T}function Hs(h,m,T){var O=h.pingCache;if(O===null){O=h.pingCache=new e5;var B=new Set;O.set(m,B)}else B=O.get(m),B===void 0&&(B=new Set,O.set(m,B));B.has(T)||(B.add(T),h=rp.bind(null,h,m,T),m.then(h,h))}function Wf(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function Nd(h,m,T,O,B){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(m=ar(-1,1),m.tag=2,xr(T,m,1))),T.lanes|=1),h):(h.flags|=65536,h.lanes=B,h)}var Ih=oe.ReactCurrentOwner,Xi=!1;function qn(h,m,T,O){m.child=h===null?ve(m,null,T,O):_e(m,h.child,T,O)}function g1(h,m,T,O,B){T=T.render;var G=m.ref;return nt(m,B),O=Uf(h,m,T,O,G,B),T=$f(),h!==null&&!Xi?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~B,Zs(h,m,B)):(v&&T&&Vs(m),m.flags|=1,qn(h,m,O,B),m.child)}function lo(h,m,T,O,B){if(h===null){var G=T.type;return typeof G=="function"&&!Tc(G)&&G.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(m.tag=15,m.type=G,Ma(h,m,G,O,B)):(h=l0(T.type,null,O,m,m.mode,B),h.ref=m.ref,h.return=m,m.child=h)}if(G=h.child,(h.lanes&B)===0){var se=G.memoizedProps;if(T=T.compare,T=T!==null?T:Rs,T(se,O)&&h.ref===m.ref)return Zs(h,m,B)}return m.flags|=1,h=Cu(G,O),h.ref=m.ref,h.return=m,m.child=h}function Ma(h,m,T,O,B){if(h!==null){var G=h.memoizedProps;if(Rs(G,O)&&h.ref===m.ref)if(Xi=!1,m.pendingProps=O=G,(h.lanes&B)!==0)(h.flags&131072)!==0&&(Xi=!0);else return m.lanes=h.lanes,Zs(h,m,B)}return Zf(h,m,T,O,B)}function Hf(h,m,T){var O=m.pendingProps,B=O.children,G=h!==null?h.memoizedState:null;if(O.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(Ki,fi),fi|=T;else{if((T&1073741824)===0)return h=G!==null?G.baseLanes|T:T,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,Wr(Ki,fi),fi|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},O=G!==null?G.baseLanes:T,Wr(Ki,fi),fi|=O}else G!==null?(O=G.baseLanes|T,m.memoizedState=null):O=T,Wr(Ki,fi),fi|=O;return qn(h,m,B,T),m.child}function Qn(h,m){var T=m.ref;(h===null&&T!==null||h!==null&&h.ref!==T)&&(m.flags|=512,m.flags|=2097152)}function Zf(h,m,T,O,B){var G=ao(T)?wl:$i.current;return G=Vi(m,G),nt(m,B),T=Uf(h,m,T,O,G,B),O=$f(),h!==null&&!Xi?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~B,Zs(h,m,B)):(v&&O&&Vs(m),m.flags|=1,qn(h,m,T,B),m.child)}function y1(h,m,T,O,B){if(ao(T)){var G=!0;Va(m)}else G=!1;if(nt(m,B),m.stateNode===null)kh(h,m),qf(m,T,O),Gf(m,T,O,B),O=!0;else if(h===null){var se=m.stateNode,Oe=m.memoizedProps;se.props=Oe;var Ze=se.context,yt=T.contextType;typeof yt=="object"&&yt!==null?yt=_t(yt):(yt=ao(T)?wl:$i.current,yt=Vi(m,yt));var Ut=T.getDerivedStateFromProps,$t=typeof Ut=="function"||typeof se.getSnapshotBeforeUpdate=="function";$t||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Oe!==O||Ze!==yt)&&Mh(m,se,O,yt),Mt=!1;var Rt=m.memoizedState;se.state=Rt,Rr(m,O,se,B),Ze=m.memoizedState,Oe!==O||Rt!==Ze||So.current||Mt?(typeof Ut=="function"&&(Cl(m,T,Ut,O),Ze=m.memoizedState),(Oe=Mt||wu(m,T,Oe,O,Rt,Ze,yt))?($t||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(m.flags|=4194308)):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=O,m.memoizedState=Ze),se.props=O,se.state=Ze,se.context=yt,O=Oe):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),O=!1)}else{se=m.stateNode,Dt(h,m),Oe=m.memoizedProps,yt=m.type===m.elementType?Oe:Aa(m.type,Oe),se.props=yt,$t=m.pendingProps,Rt=se.context,Ze=T.contextType,typeof Ze=="object"&&Ze!==null?Ze=_t(Ze):(Ze=ao(T)?wl:$i.current,Ze=Vi(m,Ze));var lr=T.getDerivedStateFromProps;(Ut=typeof lr=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Oe!==$t||Rt!==Ze)&&Mh(m,se,O,Ze),Mt=!1,Rt=m.memoizedState,se.state=Rt,Rr(m,O,se,B);var mr=m.memoizedState;Oe!==$t||Rt!==mr||So.current||Mt?(typeof lr=="function"&&(Cl(m,T,lr,O),mr=m.memoizedState),(yt=Mt||wu(m,T,yt,O,Rt,mr,Ze)||!1)?(Ut||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(O,mr,Ze),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(O,mr,Ze)),typeof se.componentDidUpdate=="function"&&(m.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof se.componentDidUpdate!="function"||Oe===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Oe===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=1024),m.memoizedProps=O,m.memoizedState=mr),se.props=O,se.state=mr,se.context=Ze,O=yt):(typeof se.componentDidUpdate!="function"||Oe===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Oe===h.memoizedProps&&Rt===h.memoizedState||(m.flags|=1024),O=!1)}return Ca(h,m,T,O,G,B)}function Ca(h,m,T,O,B,G){Qn(h,m);var se=(m.flags&128)!==0;if(!O&&!se)return B&&cc(m,T,!1),Zs(h,m,G);O=m.stateNode,Ih.current=m;var Oe=se&&typeof T.getDerivedStateFromError!="function"?null:O.render();return m.flags|=1,h!==null&&se?(m.child=_e(m,h.child,null,G),m.child=_e(m,null,Oe,G)):qn(h,m,Oe,G),m.memoizedState=O.state,B&&cc(m,T,!0),m.child}function t5(h){var m=h.stateNode;m.pendingContext?ta(h,m.pendingContext,m.pendingContext!==m.context):m.context&&ta(h,m.context,!1),zi(h,m.containerInfo)}function r5(h,m,T,O,B){return le(),he(B),m.flags|=256,qn(h,m,T,O),m.child}var Xf={dehydrated:null,treeContext:null,retryLane:0};function Kf(h){return{baseLanes:h,cachePool:null,transitions:null}}function Su(h,m,T){var O=m.pendingProps,B=Ir.current,G=!1,se=(m.flags&128)!==0,Oe;if((Oe=se)||(Oe=h!==null&&h.memoizedState===null?!1:(B&2)!==0),Oe?(G=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(B|=1),Wr(Ir,B&1),h===null)return z(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(se=O.children,h=O.fallback,G?(O=m.mode,G=m.child,se={mode:"hidden",children:se},(O&1)===0&&G!==null?(G.childLanes=0,G.pendingProps=se):G=u0(se,O,0,null),h=Ec(h,O,T,null),G.return=m,h.return=m,G.sibling=h,m.child=G,m.child.memoizedState=Kf(T),m.memoizedState=Xf,h):Yf(m,se));if(B=h.memoizedState,B!==null&&(Oe=B.dehydrated,Oe!==null))return n5(h,m,se,O,Oe,B,T);if(G){G=O.fallback,se=m.mode,B=h.child,Oe=B.sibling;var Ze={mode:"hidden",children:O.children};return(se&1)===0&&m.child!==B?(O=m.child,O.childLanes=0,O.pendingProps=Ze,m.deletions=null):(O=Cu(B,Ze),O.subtreeFlags=B.subtreeFlags&14680064),Oe!==null?G=Cu(Oe,G):(G=Ec(G,se,T,null),G.flags|=2),G.return=m,O.return=m,O.sibling=G,m.child=O,O=G,G=m.child,se=h.child.memoizedState,se=se===null?Kf(T):{baseLanes:se.baseLanes|T,cachePool:null,transitions:se.transitions},G.memoizedState=se,G.childLanes=h.childLanes&~T,m.memoizedState=Xf,O}return G=h.child,h=G.sibling,O=Cu(G,{mode:"visible",children:O.children}),(m.mode&1)===0&&(O.lanes=T),O.return=m,O.sibling=null,h!==null&&(T=m.deletions,T===null?(m.deletions=[h],m.flags|=16):T.push(h)),m.child=O,m.memoizedState=null,O}function Yf(h,m){return m=u0({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function Oh(h,m,T,O){return O!==null&&he(O),_e(m,h.child,null,T),h=Yf(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function n5(h,m,T,O,B,G,se){if(T)return m.flags&256?(m.flags&=-257,O=jd(Error(n(422))),Oh(h,m,se,O)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(G=O.fallback,B=m.mode,O=u0({mode:"visible",children:O.children},B,0,null),G=Ec(G,B,se,null),G.flags|=2,O.return=m,G.return=m,O.sibling=G,m.child=O,(m.mode&1)!==0&&_e(m,h.child,null,se),m.child.memoizedState=Kf(se),m.memoizedState=Xf,G);if((m.mode&1)===0)return Oh(h,m,se,null);if(B.data==="$!"){if(O=B.nextSibling&&B.nextSibling.dataset,O)var Oe=O.dgst;return O=Oe,G=Error(n(419)),O=jd(G,O,void 0),Oh(h,m,se,O)}if(Oe=(se&h.childLanes)!==0,Xi||Oe){if(O=ji,O!==null){switch(se&-se){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=(B&(O.suspendedLanes|se))!==0?0:B,B!==0&&B!==G.retryLane&&(G.retryLane=B,vt(h,B),_s(O,h,B,-1))}return Jd(),O=jd(Error(n(421))),Oh(h,m,se,O)}return B.data==="$?"?(m.flags|=128,m.child=h.child,m=K6.bind(null,h),B._reactRetry=m,null):(h=G.treeContext,f=$a(B.nextSibling),l=m,v=!0,S=null,h!==null&&(zo[Bo++]=hs,zo[Bo++]=Ea,zo[Bo++]=El,hs=h.id,Ea=h.overflow,El=m),m=Yf(m,O.children),m.flags|=4096,m)}function Ud(h,m,T){h.lanes|=m;var O=h.alternate;O!==null&&(O.lanes|=m),Ot(h.return,m,T)}function $d(h,m,T,O,B){var G=h.memoizedState;G===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:O,tail:T,tailMode:B}:(G.isBackwards=m,G.rendering=null,G.renderingStartTime=0,G.last=O,G.tail=T,G.tailMode=B)}function i5(h,m,T){var O=m.pendingProps,B=O.revealOrder,G=O.tail;if(qn(h,m,O.children,T),O=Ir.current,(O&2)!==0)O=O&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Ud(h,T,m);else if(h.tag===19)Ud(h,T,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}O&=1}if(Wr(Ir,O),(m.mode&1)===0)m.memoizedState=null;else switch(B){case"forwards":for(T=m.child,B=null;T!==null;)h=T.alternate,h!==null&&pn(h)===null&&(B=T),T=T.sibling;T=B,T===null?(B=m.child,m.child=null):(B=T.sibling,T.sibling=null),$d(m,!1,B,T,G);break;case"backwards":for(T=null,B=m.child,m.child=null;B!==null;){if(h=B.alternate,h!==null&&pn(h)===null){m.child=B;break}h=B.sibling,B.sibling=T,T=B,B=h}$d(m,!0,T,null,G);break;case"together":$d(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function kh(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function Zs(h,m,T){if(h!==null&&(m.dependencies=h.dependencies),ii|=m.lanes,(T&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(n(153));if(m.child!==null){for(h=m.child,T=Cu(h,h.pendingProps),m.child=T,T.return=m;h.sibling!==null;)h=h.sibling,T=T.sibling=Cu(h,h.pendingProps),T.return=m;T.sibling=null}return m.child}function Dh(h,m,T){switch(m.tag){case 3:t5(m),le();break;case 5:Fo(m);break;case 1:ao(m.type)&&Va(m);break;case 4:zi(m,m.stateNode.containerInfo);break;case 10:var O=m.type._context,B=m.memoizedProps.value;Wr(Be,O._currentValue),O._currentValue=B;break;case 13:if(O=m.memoizedState,O!==null)return O.dehydrated!==null?(Wr(Ir,Ir.current&1),m.flags|=128,null):(T&m.child.childLanes)!==0?Su(h,m,T):(Wr(Ir,Ir.current&1),h=Zs(h,m,T),h!==null?h.sibling:null);Wr(Ir,Ir.current&1);break;case 19:if(O=(T&m.childLanes)!==0,(h.flags&128)!==0){if(O)return i5(h,m,T);m.flags|=128}if(B=m.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),Wr(Ir,Ir.current),O)break;return null;case 22:case 23:return m.lanes=0,Hf(h,m,T)}return Zs(h,m,T)}var Jf,Lh,Qf,uo;Jf=function(h,m){for(var T=m.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Lh=function(){},Qf=function(h,m,T,O){var B=h.memoizedProps;if(B!==O){h=m.stateNode,Qr(Vr.current);var G=null;switch(T){case"input":B=Mr(h,B),O=Mr(h,O),G=[];break;case"select":B=ft({},B,{value:void 0}),O=ft({},O,{value:void 0}),G=[];break;case"textarea":B=Ii(h,B),O=Ii(h,O),G=[];break;default:typeof B.onClick!="function"&&typeof O.onClick=="function"&&(h.onclick=hu)}Ho(T,O);var se;T=null;for(yt in B)if(!O.hasOwnProperty(yt)&&B.hasOwnProperty(yt)&&B[yt]!=null)if(yt==="style"){var Oe=B[yt];for(se in Oe)Oe.hasOwnProperty(se)&&(T||(T={}),T[se]="")}else yt!=="dangerouslySetInnerHTML"&&yt!=="children"&&yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&yt!=="autoFocus"&&(c.hasOwnProperty(yt)?G||(G=[]):(G=G||[]).push(yt,null));for(yt in O){var Ze=O[yt];if(Oe=B?.[yt],O.hasOwnProperty(yt)&&Ze!==Oe&&(Ze!=null||Oe!=null))if(yt==="style")if(Oe){for(se in Oe)!Oe.hasOwnProperty(se)||Ze&&Ze.hasOwnProperty(se)||(T||(T={}),T[se]="");for(se in Ze)Ze.hasOwnProperty(se)&&Oe[se]!==Ze[se]&&(T||(T={}),T[se]=Ze[se])}else T||(G||(G=[]),G.push(yt,T)),T=Ze;else yt==="dangerouslySetInnerHTML"?(Ze=Ze?Ze.__html:void 0,Oe=Oe?Oe.__html:void 0,Ze!=null&&Oe!==Ze&&(G=G||[]).push(yt,Ze)):yt==="children"?typeof Ze!="string"&&typeof Ze!="number"||(G=G||[]).push(yt,""+Ze):yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&(c.hasOwnProperty(yt)?(Ze!=null&&yt==="onScroll"&&_n("scroll",h),G||Oe===Ze||(G=[])):(G=G||[]).push(yt,Ze))}T&&(G=G||[]).push("style",T);var yt=G;(m.updateQueue=yt)&&(m.flags|=4)}},uo=function(h,m,T,O){T!==O&&(m.flags|=4)};function yc(h,m){if(!v)switch(h.tailMode){case"hidden":m=h.tail;for(var T=null;m!==null;)m.alternate!==null&&(T=m),m=m.sibling;T===null?h.tail=null:T.sibling=null;break;case"collapsed":T=h.tail;for(var O=null;T!==null;)T.alternate!==null&&(O=T),T=T.sibling;O===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:O.sibling=null}}function co(h){var m=h.alternate!==null&&h.alternate.child===h.child,T=0,O=0;if(m)for(var B=h.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags&14680064,O|=B.flags&14680064,B.return=h,B=B.sibling;else for(B=h.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags,O|=B.flags,B.return=h,B=B.sibling;return h.subtreeFlags|=O,h.childLanes=T,m}function Xs(h,m,T){var O=m.pendingProps;switch(g(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return co(m),null;case 1:return ao(m.type)&&h1(),co(m),null;case 3:return O=m.stateNode,Yn(),zn(So),zn($i),Jn(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(h===null||h.child===null)&&($(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,S!==null&&(Ol(S),S=null))),Lh(h,m),co(m),null;case 5:ra(m);var B=Qr(sn.current);if(T=m.type,h!==null&&m.stateNode!=null)Qf(h,m,T,O,B),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!O){if(m.stateNode===null)throw Error(n(166));return co(m),null}if(h=Qr(Vr.current),$(m)){O=m.stateNode,T=m.type;var G=m.memoizedProps;switch(O[bo]=m,O[us]=G,h=(m.mode&1)!==0,T){case"dialog":_n("cancel",O),_n("close",O);break;case"iframe":case"object":case"embed":_n("load",O);break;case"video":case"audio":for(B=0;B<Ro.length;B++)_n(Ro[B],O);break;case"source":_n("error",O);break;case"img":case"image":case"link":_n("error",O),_n("load",O);break;case"details":_n("toggle",O);break;case"input":wn(O,G),_n("invalid",O);break;case"select":O._wrapperState={wasMultiple:!!G.multiple},_n("invalid",O);break;case"textarea":Go(O,G),_n("invalid",O)}Ho(T,G),B=null;for(var se in G)if(G.hasOwnProperty(se)){var Oe=G[se];se==="children"?typeof Oe=="string"?O.textContent!==Oe&&(G.suppressHydrationWarning!==!0&&xl(O.textContent,Oe,h),B=["children",Oe]):typeof Oe=="number"&&O.textContent!==""+Oe&&(G.suppressHydrationWarning!==!0&&xl(O.textContent,Oe,h),B=["children",""+Oe]):c.hasOwnProperty(se)&&Oe!=null&&se==="onScroll"&&_n("scroll",O)}switch(T){case"input":Cr(O),Gi(O,G,!0);break;case"textarea":Cr(O),Wi(O);break;case"select":case"option":break;default:typeof G.onClick=="function"&&(O.onclick=hu)}O=B,m.updateQueue=O,O!==null&&(m.flags|=4)}else{se=B.nodeType===9?B:B.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ps(T)),h==="http://www.w3.org/1999/xhtml"?T==="script"?(h=se.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof O.is=="string"?h=se.createElement(T,{is:O.is}):(h=se.createElement(T),T==="select"&&(se=h,O.multiple?se.multiple=!0:O.size&&(se.size=O.size))):h=se.createElementNS(h,T),h[bo]=m,h[us]=O,Jf(h,m,!1,!1),m.stateNode=h;e:{switch(se=ga(T,O),T){case"dialog":_n("cancel",h),_n("close",h),B=O;break;case"iframe":case"object":case"embed":_n("load",h),B=O;break;case"video":case"audio":for(B=0;B<Ro.length;B++)_n(Ro[B],h);B=O;break;case"source":_n("error",h),B=O;break;case"img":case"image":case"link":_n("error",h),_n("load",h),B=O;break;case"details":_n("toggle",h),B=O;break;case"input":wn(h,O),B=Mr(h,O),_n("invalid",h);break;case"option":B=O;break;case"select":h._wrapperState={wasMultiple:!!O.multiple},B=ft({},O,{value:void 0}),_n("invalid",h);break;case"textarea":Go(h,O),B=Ii(h,O),_n("invalid",h);break;default:B=O}Ho(T,B),Oe=B;for(G in Oe)if(Oe.hasOwnProperty(G)){var Ze=Oe[G];G==="style"?pa(h,Ze):G==="dangerouslySetInnerHTML"?(Ze=Ze?Ze.__html:void 0,Ze!=null&&Ei(h,Ze)):G==="children"?typeof Ze=="string"?(T!=="textarea"||Ze!=="")&&Wo(h,Ze):typeof Ze=="number"&&Wo(h,""+Ze):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(c.hasOwnProperty(G)?Ze!=null&&G==="onScroll"&&_n("scroll",h):Ze!=null&&ee(h,G,Ze,se))}switch(T){case"input":Cr(h),Gi(h,O,!1);break;case"textarea":Cr(h),Wi(h);break;case"option":O.value!=null&&h.setAttribute("value",""+yr(O.value));break;case"select":h.multiple=!!O.multiple,G=O.value,G!=null?mi(h,!!O.multiple,G,!1):O.defaultValue!=null&&mi(h,!!O.multiple,O.defaultValue,!0);break;default:typeof B.onClick=="function"&&(h.onclick=hu)}switch(T){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}}O&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return co(m),null;case 6:if(h&&m.stateNode!=null)uo(h,m,h.memoizedProps,O);else{if(typeof O!="string"&&m.stateNode===null)throw Error(n(166));if(T=Qr(sn.current),Qr(Vr.current),$(m)){if(O=m.stateNode,T=m.memoizedProps,O[bo]=m,(G=O.nodeValue!==T)&&(h=l,h!==null))switch(h.tag){case 3:xl(O.nodeValue,T,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&xl(O.nodeValue,T,(h.mode&1)!==0)}G&&(m.flags|=4)}else O=(T.nodeType===9?T:T.ownerDocument).createTextNode(O),O[bo]=m,m.stateNode=O}return co(m),null;case 13:if(zn(Ir),O=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(v&&f!==null&&(m.mode&1)!==0&&(m.flags&128)===0)X(),le(),m.flags|=98560,G=!1;else if(G=$(m),O!==null&&O.dehydrated!==null){if(h===null){if(!G)throw Error(n(318));if(G=m.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(n(317));G[bo]=m}else le(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;co(m),G=!1}else S!==null&&(Ol(S),S=null),G=!0;if(!G)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=T,m):(O=O!==null,O!==(h!==null&&h.memoizedState!==null)&&O&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(Ir.current&1)!==0?ln===0&&(ln=3):Jd())),m.updateQueue!==null&&(m.flags|=4),co(m),null);case 4:return Yn(),Lh(h,m),h===null&&ss(m.stateNode.containerInfo),co(m),null;case 10:return at(m.type._context),co(m),null;case 17:return ao(m.type)&&h1(),co(m),null;case 19:if(zn(Ir),G=m.memoizedState,G===null)return co(m),null;if(O=(m.flags&128)!==0,se=G.rendering,se===null)if(O)yc(G,!1);else{if(ln!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(se=pn(h),se!==null){for(m.flags|=128,yc(G,!1),O=se.updateQueue,O!==null&&(m.updateQueue=O,m.flags|=4),m.subtreeFlags=0,O=T,T=m.child;T!==null;)G=T,h=O,G.flags&=14680066,se=G.alternate,se===null?(G.childLanes=0,G.lanes=h,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=se.childLanes,G.lanes=se.lanes,G.child=se.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=se.memoizedProps,G.memoizedState=se.memoizedState,G.updateQueue=se.updateQueue,G.type=se.type,h=se.dependencies,G.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),T=T.sibling;return Wr(Ir,Ir.current&1|2),m.child}h=h.sibling}G.tail!==null&&on()>S1&&(m.flags|=128,O=!0,yc(G,!1),m.lanes=4194304)}else{if(!O)if(h=pn(se),h!==null){if(m.flags|=128,O=!0,T=h.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),yc(G,!0),G.tail===null&&G.tailMode==="hidden"&&!se.alternate&&!v)return co(m),null}else 2*on()-G.renderingStartTime>S1&&T!==1073741824&&(m.flags|=128,O=!0,yc(G,!1),m.lanes=4194304);G.isBackwards?(se.sibling=m.child,m.child=se):(T=G.last,T!==null?T.sibling=se:m.child=se,G.last=se)}return G.tail!==null?(m=G.tail,G.rendering=m,G.tail=m.sibling,G.renderingStartTime=on(),m.sibling=null,T=Ir.current,Wr(Ir,O?T&1|2:T&1),m):(co(m),null);case 22:case 23:return a0(),O=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==O&&(m.flags|=8192),O&&(m.mode&1)!==0?(fi&1073741824)!==0&&(co(m),m.subtreeFlags&6&&(m.flags|=8192)):co(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function G6(h,m){switch(g(m),m.tag){case 1:return ao(m.type)&&h1(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Yn(),zn(So),zn($i),Jn(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return ra(m),null;case 13:if(zn(Ir),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(n(340));le()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return zn(Ir),null;case 4:return Yn(),null;case 10:return at(m.type._context),null;case 22:case 23:return a0(),null;case 24:return null;default:return null}}var Ks=!1,Fi=!1,Wa=typeof WeakSet=="function"?WeakSet:Set,ir=null;function _1(h,m){var T=h.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(O){xi(h,m,O)}else T.current=null}function v1(h,m,T){try{T()}catch(O){xi(h,m,O)}}var Vd=!1;function W6(h,m){if(fu=Xl,h=Rf(),xh(h)){if("selectionStart"in h)var T={start:h.selectionStart,end:h.selectionEnd};else e:{T=(T=h.ownerDocument)&&T.defaultView||window;var O=T.getSelection&&T.getSelection();if(O&&O.rangeCount!==0){T=O.anchorNode;var B=O.anchorOffset,G=O.focusNode;O=O.focusOffset;try{T.nodeType,G.nodeType}catch{T=null;break e}var se=0,Oe=-1,Ze=-1,yt=0,Ut=0,$t=h,Rt=null;t:for(;;){for(var lr;$t!==T||B!==0&&$t.nodeType!==3||(Oe=se+B),$t!==G||O!==0&&$t.nodeType!==3||(Ze=se+O),$t.nodeType===3&&(se+=$t.nodeValue.length),(lr=$t.firstChild)!==null;)Rt=$t,$t=lr;for(;;){if($t===h)break t;if(Rt===T&&++yt===B&&(Oe=se),Rt===G&&++Ut===O&&(Ze=se),(lr=$t.nextSibling)!==null)break;$t=Rt,Rt=$t.parentNode}$t=lr}T=Oe===-1||Ze===-1?null:{start:Oe,end:Ze}}else T=null}T=T||{start:0,end:0}}else T=null;for(a1={focusedElem:h,selectionRange:T},Xl=!1,ir=m;ir!==null;)if(m=ir,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,ir=h;else for(;ir!==null;){m=ir;try{var mr=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(mr!==null){var _r=mr.memoizedProps,bi=mr.memoizedState,ut=m.stateNode,Je=ut.getSnapshotBeforeUpdate(m.elementType===m.type?_r:Aa(m.type,_r),bi);ut.__reactInternalSnapshotBeforeUpdate=Je}break;case 3:var pt=m.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Xt){xi(m,m.return,Xt)}if(h=m.sibling,h!==null){h.return=m.return,ir=h;break}ir=m.return}return mr=Vd,Vd=!1,mr}function _c(h,m,T){var O=m.updateQueue;if(O=O!==null?O.lastEffect:null,O!==null){var B=O=O.next;do{if((B.tag&h)===h){var G=B.destroy;B.destroy=void 0,G!==void 0&&v1(m,T,G)}B=B.next}while(B!==O)}}function Ia(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var T=m=m.next;do{if((T.tag&h)===h){var O=T.create;T.destroy=O()}T=T.next}while(T!==m)}}function Il(h){var m=h.ref;if(m!==null){var T=h.stateNode;switch(h.tag){case 5:h=T;break;default:h=T}typeof m=="function"?m(h):m.current=h}}function qd(h){var m=h.alternate;m!==null&&(h.alternate=null,qd(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[bo],delete m[us],delete m[l1],delete m[Sh],delete m[Nf])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Gd(h){return h.tag===5||h.tag===3||h.tag===4}function o5(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Gd(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function x1(h,m,T){var O=h.tag;if(O===5||O===6)h=h.stateNode,m?T.nodeType===8?T.parentNode.insertBefore(h,m):T.insertBefore(h,m):(T.nodeType===8?(m=T.parentNode,m.insertBefore(h,T)):(m=T,m.appendChild(h)),T=T._reactRootContainer,T!=null||m.onclick!==null||(m.onclick=hu));else if(O!==4&&(h=h.child,h!==null))for(x1(h,m,T),h=h.sibling;h!==null;)x1(h,m,T),h=h.sibling}function Rh(h,m,T){var O=h.tag;if(O===5||O===6)h=h.stateNode,m?T.insertBefore(h,m):T.appendChild(h);else if(O!==4&&(h=h.child,h!==null))for(Rh(h,m,T),h=h.sibling;h!==null;)Rh(h,m,T),h=h.sibling}var vi=null,To=!1;function Ha(h,m,T){for(T=T.child;T!==null;)zh(h,m,T),T=T.sibling}function zh(h,m,T){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(en,T)}catch{}switch(T.tag){case 5:Fi||_1(T,m);case 6:var O=vi,B=To;vi=null,Ha(h,m,T),vi=O,To=B,vi!==null&&(To?(h=vi,T=T.stateNode,h.nodeType===8?h.parentNode.removeChild(T):h.removeChild(T)):vi.removeChild(T.stateNode));break;case 18:vi!==null&&(To?(h=vi,T=T.stateNode,h.nodeType===8?uc(h.parentNode,T):h.nodeType===1&&uc(h,T),ba(h)):uc(vi,T.stateNode));break;case 4:O=vi,B=To,vi=T.stateNode.containerInfo,To=!0,Ha(h,m,T),vi=O,To=B;break;case 0:case 11:case 14:case 15:if(!Fi&&(O=T.updateQueue,O!==null&&(O=O.lastEffect,O!==null))){B=O=O.next;do{var G=B,se=G.destroy;G=G.tag,se!==void 0&&((G&2)!==0||(G&4)!==0)&&v1(T,m,se),B=B.next}while(B!==O)}Ha(h,m,T);break;case 1:if(!Fi&&(_1(T,m),O=T.stateNode,typeof O.componentWillUnmount=="function"))try{O.props=T.memoizedProps,O.state=T.memoizedState,O.componentWillUnmount()}catch(Oe){xi(T,m,Oe)}Ha(h,m,T);break;case 21:Ha(h,m,T);break;case 22:T.mode&1?(Fi=(O=Fi)||T.memoizedState!==null,Ha(h,m,T),Fi=O):Ha(h,m,T);break;default:Ha(h,m,T)}}function Wd(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var T=h.stateNode;T===null&&(T=h.stateNode=new Wa),m.forEach(function(O){var B=Y6.bind(null,h,O);T.has(O)||(T.add(O),O.then(B,B))})}}function jo(h,m){var T=m.deletions;if(T!==null)for(var O=0;O<T.length;O++){var B=T[O];try{var G=h,se=m,Oe=se;e:for(;Oe!==null;){switch(Oe.tag){case 5:vi=Oe.stateNode,To=!1;break e;case 3:vi=Oe.stateNode.containerInfo,To=!0;break e;case 4:vi=Oe.stateNode.containerInfo,To=!0;break e}Oe=Oe.return}if(vi===null)throw Error(n(160));zh(G,se,B),vi=null,To=!1;var Ze=B.alternate;Ze!==null&&(Ze.return=null),B.return=null}catch(yt){xi(B,m,yt)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)e0(m,h),m=m.sibling}function e0(h,m){var T=h.alternate,O=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(jo(m,h),ms(h),O&4){try{_c(3,h,h.return),Ia(3,h)}catch(_r){xi(h,h.return,_r)}try{_c(5,h,h.return)}catch(_r){xi(h,h.return,_r)}}break;case 1:jo(m,h),ms(h),O&512&&T!==null&&_1(T,T.return);break;case 5:if(jo(m,h),ms(h),O&512&&T!==null&&_1(T,T.return),h.flags&32){var B=h.stateNode;try{Wo(B,"")}catch(_r){xi(h,h.return,_r)}}if(O&4&&(B=h.stateNode,B!=null)){var G=h.memoizedProps,se=T!==null?T.memoizedProps:G,Oe=h.type,Ze=h.updateQueue;if(h.updateQueue=null,Ze!==null)try{Oe==="input"&&G.type==="radio"&&G.name!=null&&Sr(B,G),ga(Oe,se);var yt=ga(Oe,G);for(se=0;se<Ze.length;se+=2){var Ut=Ze[se],$t=Ze[se+1];Ut==="style"?pa(B,$t):Ut==="dangerouslySetInnerHTML"?Ei(B,$t):Ut==="children"?Wo(B,$t):ee(B,Ut,$t,yt)}switch(Oe){case"input":yn(B,G);break;case"textarea":gi(B,G);break;case"select":var Rt=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!G.multiple;var lr=G.value;lr!=null?mi(B,!!G.multiple,lr,!1):Rt!==!!G.multiple&&(G.defaultValue!=null?mi(B,!!G.multiple,G.defaultValue,!0):mi(B,!!G.multiple,G.multiple?[]:"",!1))}B[us]=G}catch(_r){xi(h,h.return,_r)}}break;case 6:if(jo(m,h),ms(h),O&4){if(h.stateNode===null)throw Error(n(162));B=h.stateNode,G=h.memoizedProps;try{B.nodeValue=G}catch(_r){xi(h,h.return,_r)}}break;case 3:if(jo(m,h),ms(h),O&4&&T!==null&&T.memoizedState.isDehydrated)try{ba(m.containerInfo)}catch(_r){xi(h,h.return,_r)}break;case 4:jo(m,h),ms(h);break;case 13:jo(m,h),ms(h),B=h.child,B.flags&8192&&(G=B.memoizedState!==null,B.stateNode.isHidden=G,!G||B.alternate!==null&&B.alternate.memoizedState!==null||(Fh=on())),O&4&&Wd(h);break;case 22:if(Ut=T!==null&&T.memoizedState!==null,h.mode&1?(Fi=(yt=Fi)||Ut,jo(m,h),Fi=yt):jo(m,h),ms(h),O&8192){if(yt=h.memoizedState!==null,(h.stateNode.isHidden=yt)&&!Ut&&(h.mode&1)!==0)for(ir=h,Ut=h.child;Ut!==null;){for($t=ir=Ut;ir!==null;){switch(Rt=ir,lr=Rt.child,Rt.tag){case 0:case 11:case 14:case 15:_c(4,Rt,Rt.return);break;case 1:_1(Rt,Rt.return);var mr=Rt.stateNode;if(typeof mr.componentWillUnmount=="function"){O=Rt,T=Rt.return;try{m=O,mr.props=m.memoizedProps,mr.state=m.memoizedState,mr.componentWillUnmount()}catch(_r){xi(O,T,_r)}}break;case 5:_1(Rt,Rt.return);break;case 22:if(Rt.memoizedState!==null){Zd($t);continue}}lr!==null?(lr.return=Rt,ir=lr):Zd($t)}Ut=Ut.sibling}e:for(Ut=null,$t=h;;){if($t.tag===5){if(Ut===null){Ut=$t;try{B=$t.stateNode,yt?(G=B.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none"):(Oe=$t.stateNode,Ze=$t.memoizedProps.style,se=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null,Oe.style.display=io("display",se))}catch(_r){xi(h,h.return,_r)}}}else if($t.tag===6){if(Ut===null)try{$t.stateNode.nodeValue=yt?"":$t.memoizedProps}catch(_r){xi(h,h.return,_r)}}else if(($t.tag!==22&&$t.tag!==23||$t.memoizedState===null||$t===h)&&$t.child!==null){$t.child.return=$t,$t=$t.child;continue}if($t===h)break e;for(;$t.sibling===null;){if($t.return===null||$t.return===h)break e;Ut===$t&&(Ut=null),$t=$t.return}Ut===$t&&(Ut=null),$t.sibling.return=$t.return,$t=$t.sibling}}break;case 19:jo(m,h),ms(h),O&4&&Wd(h);break;case 21:break;default:jo(m,h),ms(h)}}function ms(h){var m=h.flags;if(m&2){try{e:{for(var T=h.return;T!==null;){if(Gd(T)){var O=T;break e}T=T.return}throw Error(n(160))}switch(O.tag){case 5:var B=O.stateNode;O.flags&32&&(Wo(B,""),O.flags&=-33);var G=o5(h);Rh(h,G,B);break;case 3:case 4:var se=O.stateNode.containerInfo,Oe=o5(h);x1(h,Oe,se);break;default:throw Error(n(161))}}catch(Ze){xi(h,h.return,Ze)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function b1(h,m,T){ir=h,Hd(h)}function Hd(h,m,T){for(var O=(h.mode&1)!==0;ir!==null;){var B=ir,G=B.child;if(B.tag===22&&O){var se=B.memoizedState!==null||Ks;if(!se){var Oe=B.alternate,Ze=Oe!==null&&Oe.memoizedState!==null||Fi;Oe=Ks;var yt=Fi;if(Ks=se,(Fi=Ze)&&!yt)for(ir=B;ir!==null;)se=ir,Ze=se.child,se.tag===22&&se.memoizedState!==null?a5(B):Ze!==null?(Ze.return=se,ir=Ze):a5(B);for(;G!==null;)ir=G,Hd(G),G=G.sibling;ir=B,Ks=Oe,Fi=yt}t0(h)}else(B.subtreeFlags&8772)!==0&&G!==null?(G.return=B,ir=G):t0(h)}}function t0(h){for(;ir!==null;){var m=ir;if((m.flags&8772)!==0){var T=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Fi||Ia(5,m);break;case 1:var O=m.stateNode;if(m.flags&4&&!Fi)if(T===null)O.componentDidMount();else{var B=m.elementType===m.type?T.memoizedProps:Aa(m.type,T.memoizedProps);O.componentDidUpdate(B,T.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var G=m.updateQueue;G!==null&&Nr(m,G,O);break;case 3:var se=m.updateQueue;if(se!==null){if(T=null,m.child!==null)switch(m.child.tag){case 5:T=m.child.stateNode;break;case 1:T=m.child.stateNode}Nr(m,se,T)}break;case 5:var Oe=m.stateNode;if(T===null&&m.flags&4){T=Oe;var Ze=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Ze.autoFocus&&T.focus();break;case"img":Ze.src&&(T.src=Ze.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var yt=m.alternate;if(yt!==null){var Ut=yt.memoizedState;if(Ut!==null){var $t=Ut.dehydrated;$t!==null&&ba($t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fi||m.flags&512&&Il(m)}catch(Rt){xi(m,m.return,Rt)}}if(m===h){ir=null;break}if(T=m.sibling,T!==null){T.return=m.return,ir=T;break}ir=m.return}}function Zd(h){for(;ir!==null;){var m=ir;if(m===h){ir=null;break}var T=m.sibling;if(T!==null){T.return=m.return,ir=T;break}ir=m.return}}function a5(h){for(;ir!==null;){var m=ir;try{switch(m.tag){case 0:case 11:case 15:var T=m.return;try{Ia(4,m)}catch(Ze){xi(m,T,Ze)}break;case 1:var O=m.stateNode;if(typeof O.componentDidMount=="function"){var B=m.return;try{O.componentDidMount()}catch(Ze){xi(m,B,Ze)}}var G=m.return;try{Il(m)}catch(Ze){xi(m,G,Ze)}break;case 5:var se=m.return;try{Il(m)}catch(Ze){xi(m,se,Ze)}}}catch(Ze){xi(m,m.return,Ze)}if(m===h){ir=null;break}var Oe=m.sibling;if(Oe!==null){Oe.return=m.return,ir=Oe;break}ir=m.return}}var H6=Math.ceil,Tu=oe.ReactCurrentDispatcher,r0=oe.ReactCurrentOwner,qi=oe.ReactCurrentBatchConfig,pr=0,ji=null,Cn=null,Xn=0,fi=0,Ki=cs(0),ln=0,w1=null,ii=0,Bh=0,Eu=0,vc=null,No=null,Fh=0,S1=1/0,gs=null,jh=!1,Xd=null,Eo=null,Ys=!1,ys=null,xc=0,bc=0,n0=null,i0=-1,Nh=0;function Uo(){return(pr&6)!==0?on():i0!==-1?i0:i0=on()}function Js(h){return(h.mode&1)===0?1:(pr&2)!==0&&Xn!==0?Xn&-Xn:de.transition!==null?(Nh===0&&(Nh=yo()),Nh):(h=tn,h!==0||(h=window.event,h=h===void 0?16:Hc(h.type)),h)}function _s(h,m,T,O){if(50<bc)throw bc=0,n0=null,Error(n(185));Or(h,T,O),((pr&2)===0||h!==ji)&&(h===ji&&((pr&2)===0&&(Bh|=T),ln===4&&Pu(h,Xn)),Po(h,O),T===1&&pr===0&&(m.mode&1)===0&&(S1=on()+500,gu&&Vt()))}function Po(h,m){var T=h.callbackNode;Gr(h,m);var O=rs(h,h===ji?Xn:0);if(O===0)T!==null&&$r(T),h.callbackNode=null,h.callbackPriority=0;else if(m=O&-O,h.callbackPriority!==m){if(T!=null&&$r(T),m===1)h.tag===0?Tl(wc.bind(null,h)):Sl(wc.bind(null,h)),jf(function(){(pr&6)===0&&Vt()}),T=null;else{switch(Do(O)){case 1:T=Oi;break;case 4:T=ki;break;case 16:T=va;break;case 536870912:T=qr;break;default:T=va}T=$h(T,Kd.bind(null,h))}h.callbackPriority=m,h.callbackNode=T}}function Kd(h,m){if(i0=-1,Nh=0,(pr&6)!==0)throw Error(n(327));var T=h.callbackNode;if(aa()&&h.callbackNode!==T)return null;var O=rs(h,h===ji?Xn:0);if(O===0)return null;if((O&30)!==0||(O&h.expiredLanes)!==0||m)m=Uh(h,O);else{m=O;var B=pr;pr|=2;var G=Yd();(ji!==h||Xn!==m)&&(gs=null,S1=on()+500,Sc(h,m));do try{X6();break}catch(Oe){l5(h,Oe)}while(!0);Xe(),Tu.current=G,pr=B,Cn!==null?m=0:(ji=null,Xn=0,m=ln)}if(m!==0){if(m===2&&(B=jr(h),B!==0&&(O=B,m=o0(h,B))),m===1)throw T=w1,Sc(h,0),Pu(h,O),Po(h,on()),T;if(m===6)Pu(h,O);else{if(B=h.current.alternate,(O&30)===0&&!s5(B)&&(m=Uh(h,O),m===2&&(G=jr(h),G!==0&&(O=G,m=o0(h,G))),m===1))throw T=w1,Sc(h,0),Pu(h,O),Po(h,on()),T;switch(h.finishedWork=B,h.finishedLanes=O,m){case 0:case 1:throw Error(n(345));case 2:Mu(h,No,gs);break;case 3:if(Pu(h,O),(O&130023424)===O&&(m=Fh+500-on(),10<m)){if(rs(h,0)!==0)break;if(B=h.suspendedLanes,(B&O)!==O){Uo(),h.pingedLanes|=h.suspendedLanes&B;break}h.timeoutHandle=js(Mu.bind(null,h,No,gs),m);break}Mu(h,No,gs);break;case 4:if(Pu(h,O),(O&4194240)===O)break;for(m=h.eventTimes,B=-1;0<O;){var se=31-Hr(O);G=1<<se,se=m[se],se>B&&(B=se),O&=~G}if(O=B,O=on()-O,O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3e3>O?3e3:4320>O?4320:1960*H6(O/1960))-O,10<O){h.timeoutHandle=js(Mu.bind(null,h,No,gs),O);break}Mu(h,No,gs);break;case 5:Mu(h,No,gs);break;default:throw Error(n(329))}}}return Po(h,on()),h.callbackNode===T?Kd.bind(null,h):null}function o0(h,m){var T=vc;return h.current.memoizedState.isDehydrated&&(Sc(h,m).flags|=256),h=Uh(h,m),h!==2&&(m=No,No=T,m!==null&&Ol(m)),h}function Ol(h){No===null?No=h:No.push.apply(No,h)}function s5(h){for(var m=h;;){if(m.flags&16384){var T=m.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var O=0;O<T.length;O++){var B=T[O],G=B.getSnapshot;B=B.value;try{if(!Qo(G(),B))return!1}catch{return!1}}}if(T=m.child,m.subtreeFlags&16384&&T!==null)T.return=m,m=T;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Pu(h,m){for(m&=~Eu,m&=~Bh,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var T=31-Hr(m),O=1<<T;h[T]=-1,m&=~O}}function wc(h){if((pr&6)!==0)throw Error(n(327));aa();var m=rs(h,0);if((m&1)===0)return Po(h,on()),null;var T=Uh(h,m);if(h.tag!==0&&T===2){var O=jr(h);O!==0&&(m=O,T=o0(h,O))}if(T===1)throw T=w1,Sc(h,0),Pu(h,m),Po(h,on()),T;if(T===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Mu(h,No,gs),Po(h,on()),null}function T1(h,m){var T=pr;pr|=1;try{return h(m)}finally{pr=T,pr===0&&(S1=on()+500,gu&&Vt())}}function Au(h){ys!==null&&ys.tag===0&&(pr&6)===0&&aa();var m=pr;pr|=1;var T=qi.transition,O=tn;try{if(qi.transition=null,tn=1,h)return h()}finally{tn=O,qi.transition=T,pr=m,(pr&6)===0&&Vt()}}function a0(){fi=Ki.current,zn(Ki)}function Sc(h,m){h.finishedWork=null,h.finishedLanes=0;var T=h.timeoutHandle;if(T!==-1&&(h.timeoutHandle=-1,wh(T)),Cn!==null)for(T=Cn.return;T!==null;){var O=T;switch(g(O),O.tag){case 1:O=O.type.childContextTypes,O!=null&&h1();break;case 3:Yn(),zn(So),zn($i),Jn();break;case 5:ra(O);break;case 4:Yn();break;case 13:zn(Ir);break;case 19:zn(Ir);break;case 10:at(O.type._context);break;case 22:case 23:a0()}T=T.return}if(ji=h,Cn=h=Cu(h.current,null),Xn=fi=m,ln=0,w1=null,Eu=Bh=ii=0,No=vc=null,st!==null){for(m=0;m<st.length;m++)if(T=st[m],O=T.interleaved,O!==null){T.interleaved=null;var B=O.next,G=T.pending;if(G!==null){var se=G.next;G.next=B,O.next=se}T.pending=O}st=null}return h}function l5(h,m){do{var T=Cn;try{if(Xe(),Bi.current=so,na){for(var O=Bn.memoizedState;O!==null;){var B=O.queue;B!==null&&(B.pending=null),O=O.next}na=!1}if(yi=0,ni=Vn=Bn=null,ia=!1,Pa=0,r0.current=null,T===null||T.return===null){ln=1,w1=m,Cn=null;break}e:{var G=h,se=T.return,Oe=T,Ze=m;if(m=Xn,Oe.flags|=32768,Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){var yt=Ze,Ut=Oe,$t=Ut.tag;if((Ut.mode&1)===0&&($t===0||$t===11||$t===15)){var Rt=Ut.alternate;Rt?(Ut.updateQueue=Rt.updateQueue,Ut.memoizedState=Rt.memoizedState,Ut.lanes=Rt.lanes):(Ut.updateQueue=null,Ut.memoizedState=null)}var lr=Wf(se);if(lr!==null){lr.flags&=-257,Nd(lr,se,Oe,G,m),lr.mode&1&&Hs(G,yt,m),m=lr,Ze=yt;var mr=m.updateQueue;if(mr===null){var _r=new Set;_r.add(Ze),m.updateQueue=_r}else mr.add(Ze);break e}else{if((m&1)===0){Hs(G,yt,m),Jd();break e}Ze=Error(n(426))}}else if(v&&Oe.mode&1){var bi=Wf(se);if(bi!==null){(bi.flags&65536)===0&&(bi.flags|=256),Nd(bi,se,Oe,G,m),he(mc(Ze,Oe));break e}}G=Ze=mc(Ze,Oe),ln!==4&&(ln=2),vc===null?vc=[G]:vc.push(G),G=se;do{switch(G.tag){case 3:G.flags|=65536,m&=-m,G.lanes|=m;var ut=m1(G,Ze,m);dr(G,ut);break e;case 1:Oe=Ze;var Je=G.type,pt=G.stateNode;if((G.flags&128)===0&&(typeof Je.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Eo===null||!Eo.has(pt)))){G.flags|=65536,m&=-m,G.lanes|=m;var Xt=gc(G,Oe,m);dr(G,Xt);break e}}G=G.return}while(G!==null)}ep(T)}catch(vr){m=vr,Cn===T&&T!==null&&(Cn=T=T.return);continue}break}while(!0)}function Yd(){var h=Tu.current;return Tu.current=so,h===null?so:h}function Jd(){(ln===0||ln===3||ln===2)&&(ln=4),ji===null||(ii&268435455)===0&&(Bh&268435455)===0||Pu(ji,Xn)}function Uh(h,m){var T=pr;pr|=2;var O=Yd();(ji!==h||Xn!==m)&&(gs=null,Sc(h,m));do try{Z6();break}catch(B){l5(h,B)}while(!0);if(Xe(),pr=T,Tu.current=O,Cn!==null)throw Error(n(261));return ji=null,Xn=0,ln}function Z6(){for(;Cn!==null;)Qd(Cn)}function X6(){for(;Cn!==null&&!ts();)Qd(Cn)}function Qd(h){var m=s0(h.alternate,h,fi);h.memoizedProps=h.pendingProps,m===null?ep(h):Cn=m,r0.current=null}function ep(h){var m=h;do{var T=m.alternate;if(h=m.return,(m.flags&32768)===0){if(T=Xs(T,m,fi),T!==null){Cn=T;return}}else{if(T=G6(T,m),T!==null){T.flags&=32767,Cn=T;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{ln=6,Cn=null;return}}if(m=m.sibling,m!==null){Cn=m;return}Cn=m=h}while(m!==null);ln===0&&(ln=5)}function Mu(h,m,T){var O=tn,B=qi.transition;try{qi.transition=null,tn=1,tp(h,m,T,O)}finally{qi.transition=B,tn=O}return null}function tp(h,m,T,O){do aa();while(ys!==null);if((pr&6)!==0)throw Error(n(327));T=h.finishedWork;var B=h.finishedLanes;if(T===null)return null;if(h.finishedWork=null,h.finishedLanes=0,T===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var G=T.lanes|T.childLanes;if(ko(h,G),h===ji&&(Cn=ji=null,Xn=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||Ys||(Ys=!0,$h(va,function(){return aa(),null})),G=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||G){G=qi.transition,qi.transition=null;var se=tn;tn=1;var Oe=pr;pr|=4,r0.current=null,W6(h,T),e0(T,h),kd(a1),Xl=!!fu,a1=fu=null,h.current=T,b1(T),oo(),pr=Oe,tn=se,qi.transition=G}else h.current=T;if(Ys&&(Ys=!1,ys=h,xc=B),G=h.pendingLanes,G===0&&(Eo=null),gt(T.stateNode),Po(h,on()),m!==null)for(O=h.onRecoverableError,T=0;T<m.length;T++)B=m[T],O(B.value,{componentStack:B.stack,digest:B.digest});if(jh)throw jh=!1,h=Xd,Xd=null,h;return(xc&1)!==0&&h.tag!==0&&aa(),G=h.pendingLanes,(G&1)!==0?h===n0?bc++:(bc=0,n0=h):bc=0,Vt(),null}function aa(){if(ys!==null){var h=Do(xc),m=qi.transition,T=tn;try{if(qi.transition=null,tn=16>h?16:h,ys===null)var O=!1;else{if(h=ys,ys=null,xc=0,(pr&6)!==0)throw Error(n(331));var B=pr;for(pr|=4,ir=h.current;ir!==null;){var G=ir,se=G.child;if((ir.flags&16)!==0){var Oe=G.deletions;if(Oe!==null){for(var Ze=0;Ze<Oe.length;Ze++){var yt=Oe[Ze];for(ir=yt;ir!==null;){var Ut=ir;switch(Ut.tag){case 0:case 11:case 15:_c(8,Ut,G)}var $t=Ut.child;if($t!==null)$t.return=Ut,ir=$t;else for(;ir!==null;){Ut=ir;var Rt=Ut.sibling,lr=Ut.return;if(qd(Ut),Ut===yt){ir=null;break}if(Rt!==null){Rt.return=lr,ir=Rt;break}ir=lr}}}var mr=G.alternate;if(mr!==null){var _r=mr.child;if(_r!==null){mr.child=null;do{var bi=_r.sibling;_r.sibling=null,_r=bi}while(_r!==null)}}ir=G}}if((G.subtreeFlags&2064)!==0&&se!==null)se.return=G,ir=se;else e:for(;ir!==null;){if(G=ir,(G.flags&2048)!==0)switch(G.tag){case 0:case 11:case 15:_c(9,G,G.return)}var ut=G.sibling;if(ut!==null){ut.return=G.return,ir=ut;break e}ir=G.return}}var Je=h.current;for(ir=Je;ir!==null;){se=ir;var pt=se.child;if((se.subtreeFlags&2064)!==0&&pt!==null)pt.return=se,ir=pt;else e:for(se=Je;ir!==null;){if(Oe=ir,(Oe.flags&2048)!==0)try{switch(Oe.tag){case 0:case 11:case 15:Ia(9,Oe)}}catch(vr){xi(Oe,Oe.return,vr)}if(Oe===se){ir=null;break e}var Xt=Oe.sibling;if(Xt!==null){Xt.return=Oe.return,ir=Xt;break e}ir=Oe.return}}if(pr=B,Vt(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(en,h)}catch{}O=!0}return O}finally{tn=T,qi.transition=m}}return!1}function $o(h,m,T){m=mc(T,m),m=m1(h,m,1),h=xr(h,m,1),m=Uo(),h!==null&&(Or(h,1,m),Po(h,m))}function xi(h,m,T){if(h.tag===3)$o(h,h,T);else for(;m!==null;){if(m.tag===3){$o(m,h,T);break}else if(m.tag===1){var O=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Eo===null||!Eo.has(O))){h=mc(T,h),h=gc(m,h,1),m=xr(m,h,1),h=Uo(),m!==null&&(Or(m,1,h),Po(m,h));break}}m=m.return}}function rp(h,m,T){var O=h.pingCache;O!==null&&O.delete(m),m=Uo(),h.pingedLanes|=h.suspendedLanes&T,ji===h&&(Xn&T)===T&&(ln===4||ln===3&&(Xn&130023424)===Xn&&500>on()-Fh?Sc(h,0):Eu|=T),Po(h,m)}function u5(h,m){m===0&&((h.mode&1)===0?m=1:(m=Gl,Gl<<=1,(Gl&130023424)===0&&(Gl=4194304)));var T=Uo();h=vt(h,m),h!==null&&(Or(h,m,T),Po(h,T))}function K6(h){var m=h.memoizedState,T=0;m!==null&&(T=m.retryLane),u5(h,T)}function Y6(h,m){var T=0;switch(h.tag){case 13:var O=h.stateNode,B=h.memoizedState;B!==null&&(T=B.retryLane);break;case 19:O=h.stateNode;break;default:throw Error(n(314))}O!==null&&O.delete(m),u5(h,T)}var s0;s0=function(h,m,T){if(h!==null)if(h.memoizedProps!==m.pendingProps||So.current)Xi=!0;else{if((h.lanes&T)===0&&(m.flags&128)===0)return Xi=!1,Dh(h,m,T);Xi=(h.flags&131072)!==0}else Xi=!1,v&&(m.flags&1048576)!==0&&f1(m,_u,m.index);switch(m.lanes=0,m.tag){case 2:var O=m.type;kh(h,m),h=m.pendingProps;var B=Vi(m,$i.current);nt(m,T),B=Uf(null,m,O,h,B,T);var G=$f();return m.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,ao(O)?(G=!0,Va(m)):G=!1,m.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,Et(m),B.updater=bu,m.stateNode=B,B._reactInternals=m,Gf(m,O,h,T),m=Ca(null,m,O,!0,G,T)):(m.tag=0,v&&G&&Vs(m),qn(null,m,B,T),m=m.child),m;case 16:O=m.elementType;e:{switch(kh(h,m),h=m.pendingProps,B=O._init,O=B(O._payload),m.type=O,B=m.tag=J6(O),h=Aa(O,h),B){case 0:m=Zf(null,m,O,h,T);break e;case 1:m=y1(null,m,O,h,T);break e;case 11:m=g1(null,m,O,h,T);break e;case 14:m=lo(null,m,O,Aa(O.type,h),T);break e}throw Error(n(306,O,""))}return m;case 0:return O=m.type,B=m.pendingProps,B=m.elementType===O?B:Aa(O,B),Zf(h,m,O,B,T);case 1:return O=m.type,B=m.pendingProps,B=m.elementType===O?B:Aa(O,B),y1(h,m,O,B,T);case 3:e:{if(t5(m),h===null)throw Error(n(387));O=m.pendingProps,G=m.memoizedState,B=G.element,Dt(h,m),Rr(m,O,null,T);var se=m.memoizedState;if(O=se.element,G.isDehydrated)if(G={element:O,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},m.updateQueue.baseState=G,m.memoizedState=G,m.flags&256){B=mc(Error(n(423)),m),m=r5(h,m,O,T,B);break e}else if(O!==B){B=mc(Error(n(424)),m),m=r5(h,m,O,T,B);break e}else for(f=$a(m.stateNode.containerInfo.firstChild),l=m,v=!0,S=null,T=ve(m,null,O,T),m.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(le(),O===B){m=Zs(h,m,T);break e}qn(h,m,O,T)}m=m.child}return m;case 5:return Fo(m),h===null&&z(m),O=m.type,B=m.pendingProps,G=h!==null?h.memoizedProps:null,se=B.children,du(O,B)?se=null:G!==null&&du(O,G)&&(m.flags|=32),Qn(h,m),qn(h,m,se,T),m.child;case 6:return h===null&&z(m),null;case 13:return Su(h,m,T);case 4:return zi(m,m.stateNode.containerInfo),O=m.pendingProps,h===null?m.child=_e(m,null,O,T):qn(h,m,O,T),m.child;case 11:return O=m.type,B=m.pendingProps,B=m.elementType===O?B:Aa(O,B),g1(h,m,O,B,T);case 7:return qn(h,m,m.pendingProps,T),m.child;case 8:return qn(h,m,m.pendingProps.children,T),m.child;case 12:return qn(h,m,m.pendingProps.children,T),m.child;case 10:e:{if(O=m.type._context,B=m.pendingProps,G=m.memoizedProps,se=B.value,Wr(Be,O._currentValue),O._currentValue=se,G!==null)if(Qo(G.value,se)){if(G.children===B.children&&!So.current){m=Zs(h,m,T);break e}}else for(G=m.child,G!==null&&(G.return=m);G!==null;){var Oe=G.dependencies;if(Oe!==null){se=G.child;for(var Ze=Oe.firstContext;Ze!==null;){if(Ze.context===O){if(G.tag===1){Ze=ar(-1,T&-T),Ze.tag=2;var yt=G.updateQueue;if(yt!==null){yt=yt.shared;var Ut=yt.pending;Ut===null?Ze.next=Ze:(Ze.next=Ut.next,Ut.next=Ze),yt.pending=Ze}}G.lanes|=T,Ze=G.alternate,Ze!==null&&(Ze.lanes|=T),Ot(G.return,T,m),Oe.lanes|=T;break}Ze=Ze.next}}else if(G.tag===10)se=G.type===m.type?null:G.child;else if(G.tag===18){if(se=G.return,se===null)throw Error(n(341));se.lanes|=T,Oe=se.alternate,Oe!==null&&(Oe.lanes|=T),Ot(se,T,m),se=G.sibling}else se=G.child;if(se!==null)se.return=G;else for(se=G;se!==null;){if(se===m){se=null;break}if(G=se.sibling,G!==null){G.return=se.return,se=G;break}se=se.return}G=se}qn(h,m,B.children,T),m=m.child}return m;case 9:return B=m.type,O=m.pendingProps.children,nt(m,T),B=_t(B),O=O(B),m.flags|=1,qn(h,m,O,T),m.child;case 14:return O=m.type,B=Aa(O,m.pendingProps),B=Aa(O.type,B),lo(h,m,O,B,T);case 15:return Ma(h,m,m.type,m.pendingProps,T);case 17:return O=m.type,B=m.pendingProps,B=m.elementType===O?B:Aa(O,B),kh(h,m),m.tag=1,ao(O)?(h=!0,Va(m)):h=!1,nt(m,T),qf(m,O,B),Gf(m,O,B,T),Ca(null,m,O,!0,h,T);case 19:return i5(h,m,T);case 22:return Hf(h,m,T)}throw Error(n(156,m.tag))};function $h(h,m){return Rn(h,m)}function c5(h,m,T,O){this.tag=h,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(h,m,T,O){return new c5(h,m,T,O)}function Tc(h){return h=h.prototype,!(!h||!h.isReactComponent)}function J6(h){if(typeof h=="function")return Tc(h)?1:0;if(h!=null){if(h=h.$$typeof,h===Ye)return 11;if(h===Se)return 14}return 2}function Cu(h,m){var T=h.alternate;return T===null?(T=Yi(h.tag,m,h.key,h.mode),T.elementType=h.elementType,T.type=h.type,T.stateNode=h.stateNode,T.alternate=h,h.alternate=T):(T.pendingProps=m,T.type=h.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=h.flags&14680064,T.childLanes=h.childLanes,T.lanes=h.lanes,T.child=h.child,T.memoizedProps=h.memoizedProps,T.memoizedState=h.memoizedState,T.updateQueue=h.updateQueue,m=h.dependencies,T.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},T.sibling=h.sibling,T.index=h.index,T.ref=h.ref,T}function l0(h,m,T,O,B,G){var se=2;if(O=h,typeof h=="function")Tc(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case te:return Ec(T.children,B,G,m);case be:se=8,B|=8;break;case Ce:return h=Yi(12,T,m,B|2),h.elementType=Ce,h.lanes=G,h;case Ge:return h=Yi(13,T,m,B),h.elementType=Ge,h.lanes=G,h;case Te:return h=Yi(19,T,m,B),h.elementType=Te,h.lanes=G,h;case Ue:return u0(T,B,G,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case Ee:se=10;break e;case je:se=9;break e;case Ye:se=11;break e;case Se:se=14;break e;case ze:se=16,O=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return m=Yi(se,T,m,B),m.elementType=h,m.type=O,m.lanes=G,m}function Ec(h,m,T,O){return h=Yi(7,h,O,m),h.lanes=T,h}function u0(h,m,T,O){return h=Yi(22,h,O,m),h.elementType=Ue,h.lanes=T,h.stateNode={isHidden:!1},h}function np(h,m,T){return h=Yi(6,h,null,m),h.lanes=T,h}function ip(h,m,T){return m=Yi(4,h.children!==null?h.children:[],h.key,m),m.lanes=T,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function op(h,m,T,O,B){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oo(0),this.expirationTimes=Oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.identifierPrefix=O,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function ap(h,m,T,O,B,G,se,Oe,Ze){return h=new op(h,m,T,Oe,Ze),m===1?(m=1,G===!0&&(m|=8)):m=0,G=Yi(3,null,null,m),h.current=G,G.stateNode=h,G.memoizedState={element:O,isDehydrated:T,cache:null,transitions:null,pendingSuspenseBoundaries:null},Et(G),h}function E1(h,m,T){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:O==null?null:""+O,children:h,containerInfo:m,implementation:T}}function h5(h){if(!h)return Us;h=h._reactInternals;e:{if(Jt(h)!==h||h.tag!==1)throw Error(n(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(ao(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(h.tag===1){var T=h.type;if(ao(T))return Ta(h,T,m)}return m}function oi(h,m,T,O,B,G,se,Oe,Ze){return h=ap(T,O,!0,h,B,G,se,Oe,Ze),h.context=h5(null),T=h.current,O=Uo(),B=Js(T),G=ar(O,B),G.callback=m??null,xr(T,G,B),h.current.lanes=B,Or(h,B,O),Po(h,O),h}function Pc(h,m,T,O){var B=m.current,G=Uo(),se=Js(B);return T=h5(T),m.context===null?m.context=T:m.pendingContext=T,m=ar(G,se),m.payload={element:h},O=O===void 0?null:O,O!==null&&(m.callback=O),h=xr(B,m,se),h!==null&&(_s(h,B,se,G),tr(h,B,se)),se}function Vh(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function qh(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var T=h.retryLane;h.retryLane=T!==0&&T<m?T:m}}function P1(h,m){qh(h,m),(h=h.alternate)&&qh(h,m)}function Gh(){return null}var sp=typeof reportError=="function"?reportError:function(h){console.error(h)};function c0(h){this._internalRoot=h}Iu.prototype.render=c0.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(n(409));Pc(h,m,null,null)},Iu.prototype.unmount=c0.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;Au(function(){Pc(null,h,null,null)}),m[Sa]=null}};function Iu(h){this._internalRoot=h}Iu.prototype.unstable_scheduleHydration=function(h){if(h){var m=Hl();h={blockedOn:null,target:h,priority:m};for(var T=0;T<xn.length&&m!==0&&m<xn[T].priority;T++);xn.splice(T,0,h),T===0&&Q1(h)}};function Wh(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function A1(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function h0(){}function Q6(h,m,T,O,B){if(B){if(typeof O=="function"){var G=O;O=function(){var yt=Vh(se);G.call(yt)}}var se=oi(m,O,h,0,null,!1,!1,"",h0);return h._reactRootContainer=se,h[Sa]=se.current,ss(h.nodeType===8?h.parentNode:h),Au(),se}for(;B=h.lastChild;)h.removeChild(B);if(typeof O=="function"){var Oe=O;O=function(){var yt=Vh(Ze);Oe.call(yt)}}var Ze=ap(h,0,!1,null,null,!1,!1,"",h0);return h._reactRootContainer=Ze,h[Sa]=Ze.current,ss(h.nodeType===8?h.parentNode:h),Au(function(){Pc(m,Ze,T,O)}),Ze}function Hh(h,m,T,O,B){var G=T._reactRootContainer;if(G){var se=G;if(typeof B=="function"){var Oe=B;B=function(){var Ze=Vh(se);Oe.call(Ze)}}Pc(m,se,h,B)}else se=Q6(T,m,h,B,O);return Vh(se)}Mn=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var T=Wl(m.pendingLanes);T!==0&&(ul(m,T|1),Po(m,on()),(pr&6)===0&&(S1=on()+500,Vt()))}break;case 13:Au(function(){var O=vt(h,1);if(O!==null){var B=Uo();_s(O,h,1,B)}}),P1(h,1)}},Gc=function(h){if(h.tag===13){var m=vt(h,134217728);if(m!==null){var T=Uo();_s(m,h,134217728,T)}P1(h,134217728)}},za=function(h){if(h.tag===13){var m=Js(h),T=vt(h,m);if(T!==null){var O=Uo();_s(T,h,m,O)}P1(h,m)}},Hl=function(){return tn},Zl=function(h,m){var T=tn;try{return tn=h,m()}finally{tn=T}},Ae=function(h,m,T){switch(m){case"input":if(yn(h,T),m=T.name,T.type==="radio"&&m!=null){for(T=h;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<T.length;m++){var O=T[m];if(O!==h&&O.form===h.form){var B=u1(O);if(!B)throw Error(n(90));dt(O),yn(O,B)}}}break;case"textarea":gi(h,T);break;case"select":m=T.value,m!=null&&mi(h,!!T.multiple,m,!1)}},rt=T1,et=Au;var Zh={usingClientEntryPoint:!1,Events:[mu,bl,u1,De,He,T1]},Xh={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lp={bundleType:Xh.bundleType,version:Xh.version,rendererPackageName:Xh.rendererPackageName,rendererConfig:Xh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=rn(h),h===null?null:h.stateNode},findFiberByHostInstance:Xh.findFiberByHostInstance||Gh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var f0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!f0.isDisabled&&f0.supportsFiber)try{en=f0.inject(lp),ui=f0}catch{}}return Ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zh,Ya.createPortal=function(h,m){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(m))throw Error(n(200));return E1(h,m,null,T)},Ya.createRoot=function(h,m){if(!Wh(h))throw Error(n(299));var T=!1,O="",B=sp;return m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(O=m.identifierPrefix),m.onRecoverableError!==void 0&&(B=m.onRecoverableError)),m=ap(h,1,!1,null,null,T,!1,O,B),h[Sa]=m.current,ss(h.nodeType===8?h.parentNode:h),new c0(m)},Ya.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=rn(m),h=h===null?null:h.stateNode,h},Ya.flushSync=function(h){return Au(h)},Ya.hydrate=function(h,m,T){if(!A1(m))throw Error(n(200));return Hh(null,h,m,!0,T)},Ya.hydrateRoot=function(h,m,T){if(!Wh(h))throw Error(n(405));var O=T!=null&&T.hydratedSources||null,B=!1,G="",se=sp;if(T!=null&&(T.unstable_strictMode===!0&&(B=!0),T.identifierPrefix!==void 0&&(G=T.identifierPrefix),T.onRecoverableError!==void 0&&(se=T.onRecoverableError)),m=oi(m,null,h,1,T??null,B,!1,G,se),h[Sa]=m.current,ss(h),O)for(h=0;h<O.length;h++)T=O[h],B=T._getVersion,B=B(T._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[T,B]:m.mutableSourceEagerHydrationData.push(T,B);return new Iu(m)},Ya.render=function(h,m,T){if(!A1(m))throw Error(n(200));return Hh(null,h,m,!1,T)},Ya.unmountComponentAtNode=function(h){if(!A1(h))throw Error(n(40));return h._reactRootContainer?(Au(function(){Hh(null,null,h,!1,function(){h._reactRootContainer=null,h[Sa]=null})}),!0):!1},Ya.unstable_batchedUpdates=T1,Ya.unstable_renderSubtreeIntoContainer=function(h,m,T,O){if(!A1(T))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return Hh(h,m,T,!1,O)},Ya.version="18.3.1-next-f1338f8080-20240426",Ya}var bx;function fM(){if(bx)return km.exports;bx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),km.exports=MD(),km.exports}var wx;function CD(){if(wx)return D5;wx=1;var e=fM();return D5.createRoot=e.createRoot,D5.hydrateRoot=e.hydrateRoot,D5}var ID=CD();const JQ=vn(ID);var s6=fM();const OD=vn(s6),kD=Ty({__proto__:null,default:OD},[s6]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wi.apply(this,arguments)}var ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ro||(ro={}));const Sx="popstate";function DD(e){e===void 0&&(e={});function t(i,c){let{pathname:d,search:y,hash:x}=i.location;return Kp("",{pathname:d,search:y,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(i,c){return typeof c=="string"?c:pf(c)}return RD(t,n,null,e)}function gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LD(){return Math.random().toString(36).substr(2,8)}function Tx(e,t){return{usr:e.state,key:e.key,idx:t}}function Kp(e,t,n,i){return n===void 0&&(n=null),wi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?W1(t):t,{state:n,key:t&&t.key||i||LD()})}function pf(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function W1(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function RD(e,t,n,i){i===void 0&&(i={});let{window:c=document.defaultView,v5Compat:d=!1}=i,y=c.history,x=ro.Pop,a=null,w=M();w==null&&(w=0,y.replaceState(wi({},y.state,{idx:w}),""));function M(){return(y.state||{idx:null}).idx}function C(){x=ro.Pop;let U=M(),Q=U==null?null:U-w;w=U,a&&a({action:x,location:q.location,delta:Q})}function L(U,Q){x=ro.Push;let re=Kp(q.location,U,Q);w=M()+1;let ee=Tx(re,w),oe=q.createHref(re);try{y.pushState(ee,"",oe)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;c.location.assign(oe)}d&&a&&a({action:x,location:q.location,delta:1})}function j(U,Q){x=ro.Replace;let re=Kp(q.location,U,Q);w=M();let ee=Tx(re,w),oe=q.createHref(re);y.replaceState(ee,"",oe),d&&a&&a({action:x,location:q.location,delta:0})}function W(U){let Q=c.location.origin!=="null"?c.location.origin:c.location.href,re=typeof U=="string"?U:pf(U);return re=re.replace(/ $/,"%20"),gn(Q,"No window.location.(origin|href) available to create URL for href: "+re),new URL(re,Q)}let q={get action(){return x},get location(){return e(c,y)},listen(U){if(a)throw new Error("A history only accepts one active listener");return c.addEventListener(Sx,C),a=U,()=>{c.removeEventListener(Sx,C),a=null}},createHref(U){return t(c,U)},createURL:W,encodeLocation(U){let Q=W(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:L,replace:j,go(U){return y.go(U)}};return q}var Gn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gn||(Gn={}));const zD=new Set(["lazy","caseSensitive","path","id","index","children"]);function BD(e){return e.index===!0}function r4(e,t,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),e.map((c,d)=>{let y=[...n,String(d)],x=typeof c.id=="string"?c.id:y.join("-");if(gn(c.index!==!0||!c.children,"Cannot specify children on an index route"),gn(!i[x],'Found a route id collision on id "'+x+`".  Route id's must be globally unique within Data Router usages`),BD(c)){let a=wi({},c,t(c),{id:x});return i[x]=a,a}else{let a=wi({},c,t(c),{id:x,children:void 0});return i[x]=a,c.children&&(a.children=r4(c.children,t,y,i)),a}})}function nf(e,t,n){return n===void 0&&(n="/"),J5(e,t,n,!1)}function J5(e,t,n,i){let c=typeof t=="string"?W1(t):t,d=xd(c.pathname||"/",n);if(d==null)return null;let y=dM(e);jD(y);let x=null;for(let a=0;x==null&&a<y.length;++a){let w=KD(d);x=ZD(y[a],w,i)}return x}function FD(e,t){let{route:n,pathname:i,params:c}=e;return{id:n.id,pathname:i,params:c,data:t[n.id],handle:n.handle}}function dM(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let c=(d,y,x)=>{let a={relativePath:x===void 0?d.path||"":x,caseSensitive:d.caseSensitive===!0,childrenIndex:y,route:d};a.relativePath.startsWith("/")&&(gn(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(i.length));let w=Lc([i,a.relativePath]),M=n.concat(a);d.children&&d.children.length>0&&(gn(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),dM(d.children,t,M,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:WD(w,d.index),routesMeta:M})};return e.forEach((d,y)=>{var x;if(d.path===""||!((x=d.path)!=null&&x.includes("?")))c(d,y);else for(let a of pM(d.path))c(d,y,a)}),t}function pM(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,c=n.endsWith("?"),d=n.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let y=pM(i.join("/")),x=[];return x.push(...y.map(a=>a===""?d:[d,a].join("/"))),c&&x.push(...y),x.map(a=>e.startsWith("/")&&a===""?"/":a)}function jD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HD(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const ND=/^:[\w-]+$/,UD=3,$D=2,VD=1,qD=10,GD=-2,Ex=e=>e==="*";function WD(e,t){let n=e.split("/"),i=n.length;return n.some(Ex)&&(i+=GD),t&&(i+=$D),n.filter(c=>!Ex(c)).reduce((c,d)=>c+(ND.test(d)?UD:d===""?VD:qD),i)}function HD(e,t){return e.length===t.length&&e.slice(0,-1).every((i,c)=>i===t[c])?e[e.length-1]-t[t.length-1]:0}function ZD(e,t,n){n===void 0&&(n=!1);let{routesMeta:i}=e,c={},d="/",y=[];for(let x=0;x<i.length;++x){let a=i[x],w=x===i.length-1,M=d==="/"?t:t.slice(d.length)||"/",C=Px({path:a.relativePath,caseSensitive:a.caseSensitive,end:w},M),L=a.route;if(!C&&w&&n&&!i[i.length-1].route.index&&(C=Px({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},M)),!C)return null;Object.assign(c,C.params),y.push({params:c,pathname:Lc([d,C.pathname]),pathnameBase:QD(Lc([d,C.pathnameBase])),route:L}),C.pathnameBase!=="/"&&(d=Lc([d,C.pathnameBase]))}return y}function Px(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=XD(e.path,e.caseSensitive,e.end),c=t.match(n);if(!c)return null;let d=c[0],y=d.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:i.reduce((w,M,C)=>{let{paramName:L,isOptional:j}=M;if(L==="*"){let q=x[C]||"";y=d.slice(0,d.length-q.length).replace(/(.)\/+$/,"$1")}const W=x[C];return j&&!W?w[L]=void 0:w[L]=(W||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:y,pattern:e}}function XD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Z0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,x,a)=>(i.push({paramName:x,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),i]}function KD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Z0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function YD(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:c=""}=typeof e=="string"?W1(e):e;return{pathname:n?n.startsWith("/")?n:JD(n,t):t,search:eL(i),hash:tL(c)}}function JD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Rm(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Py(e,t){let n=mM(e);return t?n.map((i,c)=>c===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Ay(e,t,n,i){i===void 0&&(i=!1);let c;typeof e=="string"?c=W1(e):(c=wi({},e),gn(!c.pathname||!c.pathname.includes("?"),Rm("?","pathname","search",c)),gn(!c.pathname||!c.pathname.includes("#"),Rm("#","pathname","hash",c)),gn(!c.search||!c.search.includes("#"),Rm("#","search","hash",c)));let d=e===""||c.pathname==="",y=d?"/":c.pathname,x;if(y==null)x=n;else{let C=t.length-1;if(!i&&y.startsWith("..")){let L=y.split("/");for(;L[0]==="..";)L.shift(),C-=1;c.pathname=L.join("/")}x=C>=0?t[C]:"/"}let a=YD(c,x),w=y&&y!=="/"&&y.endsWith("/"),M=(d||y===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(w||M)&&(a.pathname+="/"),a}const Lc=e=>e.join("/").replace(/\/\/+/g,"/"),QD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class n4{constructor(t,n,i,c){c===void 0&&(c=!1),this.status=t,this.statusText=n||"",this.internal=c,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Yp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gM=["post","put","patch","delete"],rL=new Set(gM),nL=["get",...gM],iL=new Set(nL),oL=new Set([301,302,303,307,308]),aL=new Set([307,308]),zm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sL={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ap={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},My=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lL=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),yM="remix-router-transitions";function uL(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",i=!n;gn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let c;if(e.mapRouteProperties)c=e.mapRouteProperties;else if(e.detectErrorBoundary){let ge=e.detectErrorBoundary;c=xe=>({hasErrorBoundary:ge(xe)})}else c=lL;let d={},y=r4(e.routes,c,void 0,d),x,a=e.basename||"/",w=e.dataStrategy||dL,M=e.patchRoutesOnNavigation,C=wi({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),L=null,j=new Set,W=null,q=null,U=null,Q=e.hydrationData!=null,re=nf(y,e.history.location,a),ee=!1,oe=null;if(re==null&&!M){let ge=Ja(404,{pathname:e.history.location.pathname}),{matches:xe,route:Qe}=Bx(y);re=xe,oe={[Qe.id]:ge}}re&&!e.hydrationData&&et(re,y,e.history.location.pathname).active&&(re=null);let K;if(re)if(re.some(ge=>ge.route.lazy))K=!1;else if(!re.some(ge=>ge.route.loader))K=!0;else if(C.v7_partialHydration){let ge=e.hydrationData?e.hydrationData.loaderData:null,xe=e.hydrationData?e.hydrationData.errors:null;if(xe){let Qe=re.findIndex(mt=>xe[mt.route.id]!==void 0);K=re.slice(0,Qe+1).every(mt=>!J9(mt.route,ge,xe))}else K=re.every(Qe=>!J9(Qe.route,ge,xe))}else K=e.hydrationData!=null;else if(K=!1,re=[],C.v7_partialHydration){let ge=et(null,y,e.history.location.pathname);ge.active&&ge.matches&&(ee=!0,re=ge.matches)}let ne,te={historyAction:e.history.action,location:e.history.location,matches:re,initialized:K,navigation:zm,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||oe,fetchers:new Map,blockers:new Map},be=ro.Pop,Ce=!1,Ee,je=!1,Ye=new Map,Ge=null,Te=!1,Se=!1,ze=[],Ue=new Set,ke=new Map,$e=0,ft=-1,Pe=new Map,We=new Set,At=new Map,zt=new Map,nr=new Set,fr=new Map,wr=new Map,yr;function Nt(){if(L=e.history.listen(ge=>{let{action:xe,location:Qe,delta:mt}=ge;if(yr){yr(),yr=void 0;return}Z0(wr.size===0||mt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Tt=Ae({currentLocation:te.location,nextLocation:Qe,historyAction:xe});if(Tt&&mt!=null){let jt=new Promise(qt=>{yr=qt});e.history.go(mt*-1),_a(Tt,{state:"blocked",location:Qe,proceed(){_a(Tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Qe}),jt.then(()=>e.history.go(mt))},reset(){let qt=new Map(te.blockers);qt.set(Tt,Ap),dt({blockers:qt})}});return}return Sr(xe,Qe)}),n){AL(t,Ye);let ge=()=>ML(t,Ye);t.addEventListener("pagehide",ge),Ge=()=>t.removeEventListener("pagehide",ge)}return te.initialized||Sr(ro.Pop,te.location,{initialHydration:!0}),ne}function cr(){L&&L(),Ge&&Ge(),j.clear(),Ee&&Ee.abort(),te.fetchers.forEach((ge,xe)=>Hi(xe)),te.blockers.forEach((ge,xe)=>ya(xe))}function Cr(ge){return j.add(ge),()=>j.delete(ge)}function dt(ge,xe){xe===void 0&&(xe={}),te=wi({},te,ge);let Qe=[],mt=[];C.v7_fetcherPersist&&te.fetchers.forEach((Tt,jt)=>{Tt.state==="idle"&&(nr.has(jt)?mt.push(jt):Qe.push(jt))}),nr.forEach(Tt=>{!te.fetchers.has(Tt)&&!ke.has(Tt)&&mt.push(Tt)}),[...j].forEach(Tt=>Tt(te,{deletedFetchers:mt,viewTransitionOpts:xe.viewTransitionOpts,flushSync:xe.flushSync===!0})),C.v7_fetcherPersist?(Qe.forEach(Tt=>te.fetchers.delete(Tt)),mt.forEach(Tt=>Hi(Tt))):mt.forEach(Tt=>nr.delete(Tt))}function Zr(ge,xe,Qe){var mt,Tt;let{flushSync:jt}=Qe===void 0?{}:Qe,qt=te.actionData!=null&&te.navigation.formMethod!=null&&Bl(te.navigation.formMethod)&&te.navigation.state==="loading"&&((mt=ge.state)==null?void 0:mt._isRedirect)!==!0,Gt;xe.actionData?Object.keys(xe.actionData).length>0?Gt=xe.actionData:Gt=null:qt?Gt=te.actionData:Gt=null;let Qt=xe.loaderData?Rx(te.loaderData,xe.loaderData,xe.matches||[],xe.errors):te.loaderData,er=te.blockers;er.size>0&&(er=new Map(er),er.forEach((Tr,dn)=>er.set(dn,Ap)));let Jt=Ce===!0||te.navigation.formMethod!=null&&Bl(te.navigation.formMethod)&&((Tt=ge.state)==null?void 0:Tt._isRedirect)!==!0;x&&(y=x,x=void 0),Te||be===ro.Pop||(be===ro.Push?e.history.push(ge,ge.state):be===ro.Replace&&e.history.replace(ge,ge.state));let Er;if(be===ro.Pop){let Tr=Ye.get(te.location.pathname);Tr&&Tr.has(ge.pathname)?Er={currentLocation:te.location,nextLocation:ge}:Ye.has(ge.pathname)&&(Er={currentLocation:ge,nextLocation:te.location})}else if(je){let Tr=Ye.get(te.location.pathname);Tr?Tr.add(ge.pathname):(Tr=new Set([ge.pathname]),Ye.set(te.location.pathname,Tr)),Er={currentLocation:te.location,nextLocation:ge}}dt(wi({},xe,{actionData:Gt,loaderData:Qt,historyAction:be,location:ge,initialized:!0,navigation:zm,revalidation:"idle",restoreScrollPosition:rt(ge,xe.matches||te.matches),preventScrollReset:Jt,blockers:er}),{viewTransitionOpts:Er,flushSync:jt===!0}),be=ro.Pop,Ce=!1,je=!1,Te=!1,Se=!1,ze=[]}async function Mr(ge,xe){if(typeof ge=="number"){e.history.go(ge);return}let Qe=Y9(te.location,te.matches,a,C.v7_prependBasename,ge,C.v7_relativeSplatPath,xe?.fromRouteId,xe?.relative),{path:mt,submission:Tt,error:jt}=Ax(C.v7_normalizeFormMethod,!1,Qe,xe),qt=te.location,Gt=Kp(te.location,mt,xe&&xe.state);Gt=wi({},Gt,e.history.encodeLocation(Gt));let Qt=xe&&xe.replace!=null?xe.replace:void 0,er=ro.Push;Qt===!0?er=ro.Replace:Qt===!1||Tt!=null&&Bl(Tt.formMethod)&&Tt.formAction===te.location.pathname+te.location.search&&(er=ro.Replace);let Jt=xe&&"preventScrollReset"in xe?xe.preventScrollReset===!0:void 0,Er=(xe&&xe.flushSync)===!0,Tr=Ae({currentLocation:qt,nextLocation:Gt,historyAction:er});if(Tr){_a(Tr,{state:"blocked",location:Gt,proceed(){_a(Tr,{state:"proceeding",proceed:void 0,reset:void 0,location:Gt}),Mr(ge,xe)},reset(){let dn=new Map(te.blockers);dn.set(Tr,Ap),dt({blockers:dn})}});return}return await Sr(er,Gt,{submission:Tt,pendingError:jt,preventScrollReset:Jt,replace:xe&&xe.replace,enableViewTransition:xe&&xe.viewTransition,flushSync:Er})}function wn(){if(Ra(),dt({revalidation:"loading"}),te.navigation.state!=="submitting"){if(te.navigation.state==="idle"){Sr(te.historyAction,te.location,{startUninterruptedRevalidation:!0});return}Sr(be||te.historyAction,te.navigation.location,{overrideNavigation:te.navigation,enableViewTransition:je===!0})}}async function Sr(ge,xe,Qe){Ee&&Ee.abort(),Ee=null,be=ge,Te=(Qe&&Qe.startUninterruptedRevalidation)===!0,He(te.location,te.matches),Ce=(Qe&&Qe.preventScrollReset)===!0,je=(Qe&&Qe.enableViewTransition)===!0;let mt=x||y,Tt=Qe&&Qe.overrideNavigation,jt=Qe!=null&&Qe.initialHydration&&te.matches&&te.matches.length>0&&!ee?te.matches:nf(mt,xe,a),qt=(Qe&&Qe.flushSync)===!0;if(jt&&te.initialized&&!Se&&vL(te.location,xe)&&!(Qe&&Qe.submission&&Bl(Qe.submission.formMethod))){Zr(xe,{matches:jt},{flushSync:qt});return}let Gt=et(jt,mt,xe.pathname);if(Gt.active&&Gt.matches&&(jt=Gt.matches),!jt){let{error:rn,notFoundMatches:nn,route:Rn}=ie(xe.pathname);Zr(xe,{matches:nn,loaderData:{},errors:{[Rn.id]:rn}},{flushSync:qt});return}Ee=new AbortController;let Qt=E0(e.history,xe,Ee.signal,Qe&&Qe.submission),er;if(Qe&&Qe.pendingError)er=[of(jt).route.id,{type:Gn.error,error:Qe.pendingError}];else if(Qe&&Qe.submission&&Bl(Qe.submission.formMethod)){let rn=await yn(Qt,xe,Qe.submission,jt,Gt.active,{replace:Qe.replace,flushSync:qt});if(rn.shortCircuited)return;if(rn.pendingActionResult){let[nn,Rn]=rn.pendingActionResult;if(ws(Rn)&&Yp(Rn.error)&&Rn.error.status===404){Ee=null,Zr(xe,{matches:rn.matches,loaderData:{},errors:{[nn]:Rn.error}});return}}jt=rn.matches||jt,er=rn.pendingActionResult,Tt=Bm(xe,Qe.submission),qt=!1,Gt.active=!1,Qt=E0(e.history,Qt.url,Qt.signal)}let{shortCircuited:Jt,matches:Er,loaderData:Tr,errors:dn}=await Gi(Qt,xe,jt,Gt.active,Tt,Qe&&Qe.submission,Qe&&Qe.fetcherSubmission,Qe&&Qe.replace,Qe&&Qe.initialHydration===!0,qt,er);Jt||(Ee=null,Zr(xe,wi({matches:Er||jt},zx(er),{loaderData:Tr,errors:dn})))}async function yn(ge,xe,Qe,mt,Tt,jt){jt===void 0&&(jt={}),Ra();let qt=EL(xe,Qe);if(dt({navigation:qt},{flushSync:jt.flushSync===!0}),Tt){let er=await qe(mt,xe.pathname,ge.signal);if(er.type==="aborted")return{shortCircuited:!0};if(er.type==="error"){let Jt=of(er.partialMatches).route.id;return{matches:er.partialMatches,pendingActionResult:[Jt,{type:Gn.error,error:er.error}]}}else if(er.matches)mt=er.matches;else{let{notFoundMatches:Jt,error:Er,route:Tr}=ie(xe.pathname);return{matches:Jt,pendingActionResult:[Tr.id,{type:Gn.error,error:Er}]}}}let Gt,Qt=Up(mt,xe);if(!Qt.route.action&&!Qt.route.lazy)Gt={type:Gn.error,error:Ja(405,{method:ge.method,pathname:xe.pathname,routeId:Qt.route.id})};else if(Gt=(await Wi("action",te,ge,[Qt],mt,null))[Qt.route.id],ge.signal.aborted)return{shortCircuited:!0};if(af(Gt)){let er;return jt&&jt.replace!=null?er=jt.replace:er=kx(Gt.response.headers.get("Location"),new URL(ge.url),a)===te.location.pathname+te.location.search,await gi(ge,Gt,!0,{submission:Qe,replace:er}),{shortCircuited:!0}}if(N1(Gt))throw Ja(400,{type:"defer-action"});if(ws(Gt)){let er=of(mt,Qt.route.id);return(jt&&jt.replace)!==!0&&(be=ro.Push),{matches:mt,pendingActionResult:[er.route.id,Gt]}}return{matches:mt,pendingActionResult:[Qt.route.id,Gt]}}async function Gi(ge,xe,Qe,mt,Tt,jt,qt,Gt,Qt,er,Jt){let Er=Tt||Bm(xe,jt),Tr=jt||qt||jx(Er),dn=!Te&&(!C.v7_partialHydration||!Qt);if(mt){if(dn){let en=li(Jt);dt(wi({navigation:Er},en!==void 0?{actionData:en}:{}),{flushSync:er})}let qr=await qe(Qe,xe.pathname,ge.signal);if(qr.type==="aborted")return{shortCircuited:!0};if(qr.type==="error"){let en=of(qr.partialMatches).route.id;return{matches:qr.partialMatches,loaderData:{},errors:{[en]:qr.error}}}else if(qr.matches)Qe=qr.matches;else{let{error:en,notFoundMatches:ui,route:gt}=ie(xe.pathname);return{matches:ui,loaderData:{},errors:{[gt.id]:en}}}}let rn=x||y,[nn,Rn]=Cx(e.history,te,Qe,Tr,xe,C.v7_partialHydration&&Qt===!0,C.v7_skipActionErrorRevalidation,Se,ze,Ue,nr,At,We,rn,a,Jt);if(ae(qr=>!(Qe&&Qe.some(en=>en.route.id===qr))||nn&&nn.some(en=>en.route.id===qr)),ft=++$e,nn.length===0&&Rn.length===0){let qr=ma();return Zr(xe,wi({matches:Qe,loaderData:{},errors:Jt&&ws(Jt[1])?{[Jt[0]]:Jt[1].error}:null},zx(Jt),qr?{fetchers:new Map(te.fetchers)}:{}),{flushSync:er}),{shortCircuited:!0}}if(dn){let qr={};if(!mt){qr.navigation=Er;let en=li(Jt);en!==void 0&&(qr.actionData=en)}Rn.length>0&&(qr.fetchers=Wn(Rn)),dt(qr,{flushSync:er})}Rn.forEach(qr=>{io(qr.key),qr.controller&&ke.set(qr.key,qr.controller)});let $r=()=>Rn.forEach(qr=>io(qr.key));Ee&&Ee.signal.addEventListener("abort",$r);let{loaderResults:ts,fetcherResults:oo}=await Ps(te,Qe,nn,Rn,ge);if(ge.signal.aborted)return{shortCircuited:!0};Ee&&Ee.signal.removeEventListener("abort",$r),Rn.forEach(qr=>ke.delete(qr.key));let on=L5(ts);if(on)return await gi(ge,on.result,!0,{replace:Gt}),{shortCircuited:!0};if(on=L5(oo),on)return We.add(on.key),await gi(ge,on.result,!0,{replace:Gt}),{shortCircuited:!0};let{loaderData:Ms,errors:Oi}=Lx(te,Qe,ts,Jt,Rn,oo,fr);fr.forEach((qr,en)=>{qr.subscribe(ui=>{(ui||qr.done)&&fr.delete(en)})}),C.v7_partialHydration&&Qt&&te.errors&&(Oi=wi({},te.errors,Oi));let ki=ma(),va=Ho(ft),Cs=ki||va||Rn.length>0;return wi({matches:Qe,loaderData:Ms,errors:Oi},Cs?{fetchers:new Map(te.fetchers)}:{})}function li(ge){if(ge&&!ws(ge[1]))return{[ge[0]]:ge[1].data};if(te.actionData)return Object.keys(te.actionData).length===0?null:te.actionData}function Wn(ge){return ge.forEach(xe=>{let Qe=te.fetchers.get(xe.key),mt=Mp(void 0,Qe?Qe.data:void 0);te.fetchers.set(xe.key,mt)}),new Map(te.fetchers)}function mi(ge,xe,Qe,mt){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");io(ge);let Tt=(mt&&mt.flushSync)===!0,jt=x||y,qt=Y9(te.location,te.matches,a,C.v7_prependBasename,Qe,C.v7_relativeSplatPath,xe,mt?.relative),Gt=nf(jt,qt,a),Qt=et(Gt,jt,qt);if(Qt.active&&Qt.matches&&(Gt=Qt.matches),!Gt){Ei(ge,xe,Ja(404,{pathname:qt}),{flushSync:Tt});return}let{path:er,submission:Jt,error:Er}=Ax(C.v7_normalizeFormMethod,!0,qt,mt);if(Er){Ei(ge,xe,Er,{flushSync:Tt});return}let Tr=Up(Gt,er),dn=(mt&&mt.preventScrollReset)===!0;if(Jt&&Bl(Jt.formMethod)){Ii(ge,xe,er,Tr,Gt,Qt.active,Tt,dn,Jt);return}At.set(ge,{routeId:xe,path:er}),Go(ge,xe,er,Tr,Gt,Qt.active,Tt,dn,Jt)}async function Ii(ge,xe,Qe,mt,Tt,jt,qt,Gt,Qt){Ra(),At.delete(ge);function er(Hr){if(!Hr.route.action&&!Hr.route.lazy){let Sn=Ja(405,{method:Qt.formMethod,pathname:Qe,routeId:xe});return Ei(ge,xe,Sn,{flushSync:qt}),!0}return!1}if(!jt&&er(mt))return;let Jt=te.fetchers.get(ge);Hn(ge,PL(Qt,Jt),{flushSync:qt});let Er=new AbortController,Tr=E0(e.history,Qe,Er.signal,Qt);if(jt){let Hr=await qe(Tt,new URL(Tr.url).pathname,Tr.signal,ge);if(Hr.type==="aborted")return;if(Hr.type==="error"){Ei(ge,xe,Hr.error,{flushSync:qt});return}else if(Hr.matches){if(Tt=Hr.matches,mt=Up(Tt,Qe),er(mt))return}else{Ei(ge,xe,Ja(404,{pathname:Qe}),{flushSync:qt});return}}ke.set(ge,Er);let dn=$e,nn=(await Wi("action",te,Tr,[mt],Tt,ge))[mt.route.id];if(Tr.signal.aborted){ke.get(ge)===Er&&ke.delete(ge);return}if(C.v7_fetcherPersist&&nr.has(ge)){if(af(nn)||ws(nn)){Hn(ge,B1(void 0));return}}else{if(af(nn))if(ke.delete(ge),ft>dn){Hn(ge,B1(void 0));return}else return We.add(ge),Hn(ge,Mp(Qt)),gi(Tr,nn,!1,{fetcherSubmission:Qt,preventScrollReset:Gt});if(ws(nn)){Ei(ge,xe,nn.error);return}}if(N1(nn))throw Ja(400,{type:"defer-action"});let Rn=te.navigation.location||te.location,$r=E0(e.history,Rn,Er.signal),ts=x||y,oo=te.navigation.state!=="idle"?nf(ts,te.navigation.location,a):te.matches;gn(oo,"Didn't find any matches after fetcher action");let on=++$e;Pe.set(ge,on);let Ms=Mp(Qt,nn.data);te.fetchers.set(ge,Ms);let[Oi,ki]=Cx(e.history,te,oo,Qt,Rn,!1,C.v7_skipActionErrorRevalidation,Se,ze,Ue,nr,At,We,ts,a,[mt.route.id,nn]);ki.filter(Hr=>Hr.key!==ge).forEach(Hr=>{let Sn=Hr.key,ci=te.fetchers.get(Sn),qc=Mp(void 0,ci?ci.data:void 0);te.fetchers.set(Sn,qc),io(Sn),Hr.controller&&ke.set(Sn,Hr.controller)}),dt({fetchers:new Map(te.fetchers)});let va=()=>ki.forEach(Hr=>io(Hr.key));Er.signal.addEventListener("abort",va);let{loaderResults:Cs,fetcherResults:qr}=await Ps(te,oo,Oi,ki,$r);if(Er.signal.aborted)return;Er.signal.removeEventListener("abort",va),Pe.delete(ge),ke.delete(ge),ki.forEach(Hr=>ke.delete(Hr.key));let en=L5(Cs);if(en)return gi($r,en.result,!1,{preventScrollReset:Gt});if(en=L5(qr),en)return We.add(en.key),gi($r,en.result,!1,{preventScrollReset:Gt});let{loaderData:ui,errors:gt}=Lx(te,oo,Cs,void 0,ki,qr,fr);if(te.fetchers.has(ge)){let Hr=B1(nn.data);te.fetchers.set(ge,Hr)}Ho(on),te.navigation.state==="loading"&&on>ft?(gn(be,"Expected pending action"),Ee&&Ee.abort(),Zr(te.navigation.location,{matches:oo,loaderData:ui,errors:gt,fetchers:new Map(te.fetchers)})):(dt({errors:gt,loaderData:Rx(te.loaderData,ui,oo,gt),fetchers:new Map(te.fetchers)}),Se=!1)}async function Go(ge,xe,Qe,mt,Tt,jt,qt,Gt,Qt){let er=te.fetchers.get(ge);Hn(ge,Mp(Qt,er?er.data:void 0),{flushSync:qt});let Jt=new AbortController,Er=E0(e.history,Qe,Jt.signal);if(jt){let nn=await qe(Tt,new URL(Er.url).pathname,Er.signal,ge);if(nn.type==="aborted")return;if(nn.type==="error"){Ei(ge,xe,nn.error,{flushSync:qt});return}else if(nn.matches)Tt=nn.matches,mt=Up(Tt,Qe);else{Ei(ge,xe,Ja(404,{pathname:Qe}),{flushSync:qt});return}}ke.set(ge,Jt);let Tr=$e,rn=(await Wi("loader",te,Er,[mt],Tt,ge))[mt.route.id];if(N1(rn)&&(rn=await Cy(rn,Er.signal,!0)||rn),ke.get(ge)===Jt&&ke.delete(ge),!Er.signal.aborted){if(nr.has(ge)){Hn(ge,B1(void 0));return}if(af(rn))if(ft>Tr){Hn(ge,B1(void 0));return}else{We.add(ge),await gi(Er,rn,!1,{preventScrollReset:Gt});return}if(ws(rn)){Ei(ge,xe,rn.error);return}gn(!N1(rn),"Unhandled fetcher deferred data"),Hn(ge,B1(rn.data))}}async function gi(ge,xe,Qe,mt){let{submission:Tt,fetcherSubmission:jt,preventScrollReset:qt,replace:Gt}=mt===void 0?{}:mt;xe.response.headers.has("X-Remix-Revalidate")&&(Se=!0);let Qt=xe.response.headers.get("Location");gn(Qt,"Expected a Location header on the redirect Response"),Qt=kx(Qt,new URL(ge.url),a);let er=Kp(te.location,Qt,{_isRedirect:!0});if(n){let nn=!1;if(xe.response.headers.has("X-Remix-Reload-Document"))nn=!0;else if(My.test(Qt)){const Rn=e.history.createURL(Qt);nn=Rn.origin!==t.location.origin||xd(Rn.pathname,a)==null}if(nn){Gt?t.location.replace(Qt):t.location.assign(Qt);return}}Ee=null;let Jt=Gt===!0||xe.response.headers.has("X-Remix-Replace")?ro.Replace:ro.Push,{formMethod:Er,formAction:Tr,formEncType:dn}=te.navigation;!Tt&&!jt&&Er&&Tr&&dn&&(Tt=jx(te.navigation));let rn=Tt||jt;if(aL.has(xe.response.status)&&rn&&Bl(rn.formMethod))await Sr(Jt,er,{submission:wi({},rn,{formAction:Qt}),preventScrollReset:qt||Ce,enableViewTransition:Qe?je:void 0});else{let nn=Bm(er,Tt);await Sr(Jt,er,{overrideNavigation:nn,fetcherSubmission:jt,preventScrollReset:qt||Ce,enableViewTransition:Qe?je:void 0})}}async function Wi(ge,xe,Qe,mt,Tt,jt){let qt,Gt={};try{qt=await pL(w,ge,xe,Qe,mt,Tt,jt,d,c)}catch(Qt){return mt.forEach(er=>{Gt[er.route.id]={type:Gn.error,error:Qt}}),Gt}for(let[Qt,er]of Object.entries(qt))if(xL(er)){let Jt=er.result;Gt[Qt]={type:Gn.redirect,response:yL(Jt,Qe,Qt,Tt,a,C.v7_relativeSplatPath)}}else Gt[Qt]=await gL(er);return Gt}async function Ps(ge,xe,Qe,mt,Tt){let jt=ge.matches,qt=Wi("loader",ge,Tt,Qe,xe,null),Gt=Promise.all(mt.map(async Jt=>{if(Jt.matches&&Jt.match&&Jt.controller){let Tr=(await Wi("loader",ge,E0(e.history,Jt.path,Jt.controller.signal),[Jt.match],Jt.matches,Jt.key))[Jt.match.route.id];return{[Jt.key]:Tr}}else return Promise.resolve({[Jt.key]:{type:Gn.error,error:Ja(404,{pathname:Jt.path})}})})),Qt=await qt,er=(await Gt).reduce((Jt,Er)=>Object.assign(Jt,Er),{});return await Promise.all([SL(xe,Qt,Tt.signal,jt,ge.loaderData),TL(xe,er,mt)]),{loaderResults:Qt,fetcherResults:er}}function Ra(){Se=!0,ze.push(...ae()),At.forEach((ge,xe)=>{ke.has(xe)&&Ue.add(xe),io(xe)})}function Hn(ge,xe,Qe){Qe===void 0&&(Qe={}),te.fetchers.set(ge,xe),dt({fetchers:new Map(te.fetchers)},{flushSync:(Qe&&Qe.flushSync)===!0})}function Ei(ge,xe,Qe,mt){mt===void 0&&(mt={});let Tt=of(te.matches,xe);Hi(ge),dt({errors:{[Tt.route.id]:Qe},fetchers:new Map(te.fetchers)},{flushSync:(mt&&mt.flushSync)===!0})}function Wo(ge){return zt.set(ge,(zt.get(ge)||0)+1),nr.has(ge)&&nr.delete(ge),te.fetchers.get(ge)||sL}function Hi(ge){let xe=te.fetchers.get(ge);ke.has(ge)&&!(xe&&xe.state==="loading"&&Pe.has(ge))&&io(ge),At.delete(ge),Pe.delete(ge),We.delete(ge),C.v7_fetcherPersist&&nr.delete(ge),Ue.delete(ge),te.fetchers.delete(ge)}function As(ge){let xe=(zt.get(ge)||0)-1;xe<=0?(zt.delete(ge),nr.add(ge),C.v7_fetcherPersist||Hi(ge)):zt.set(ge,xe),dt({fetchers:new Map(te.fetchers)})}function io(ge){let xe=ke.get(ge);xe&&(xe.abort(),ke.delete(ge))}function pa(ge){for(let xe of ge){let Qe=Wo(xe),mt=B1(Qe.data);te.fetchers.set(xe,mt)}}function ma(){let ge=[],xe=!1;for(let Qe of We){let mt=te.fetchers.get(Qe);gn(mt,"Expected fetcher: "+Qe),mt.state==="loading"&&(We.delete(Qe),ge.push(Qe),xe=!0)}return pa(ge),xe}function Ho(ge){let xe=[];for(let[Qe,mt]of Pe)if(mt<ge){let Tt=te.fetchers.get(Qe);gn(Tt,"Expected fetcher: "+Qe),Tt.state==="loading"&&(io(Qe),Pe.delete(Qe),xe.push(Qe))}return pa(xe),xe.length>0}function ga(ge,xe){let Qe=te.blockers.get(ge)||Ap;return wr.get(ge)!==xe&&wr.set(ge,xe),Qe}function ya(ge){te.blockers.delete(ge),wr.delete(ge)}function _a(ge,xe){let Qe=te.blockers.get(ge)||Ap;gn(Qe.state==="unblocked"&&xe.state==="blocked"||Qe.state==="blocked"&&xe.state==="blocked"||Qe.state==="blocked"&&xe.state==="proceeding"||Qe.state==="blocked"&&xe.state==="unblocked"||Qe.state==="proceeding"&&xe.state==="unblocked","Invalid blocker state transition: "+Qe.state+" -> "+xe.state);let mt=new Map(te.blockers);mt.set(ge,xe),dt({blockers:mt})}function Ae(ge){let{currentLocation:xe,nextLocation:Qe,historyAction:mt}=ge;if(wr.size===0)return;wr.size>1&&Z0(!1,"A router only supports one blocker at a time");let Tt=Array.from(wr.entries()),[jt,qt]=Tt[Tt.length-1],Gt=te.blockers.get(jt);if(!(Gt&&Gt.state==="proceeding")&&qt({currentLocation:xe,nextLocation:Qe,historyAction:mt}))return jt}function ie(ge){let xe=Ja(404,{pathname:ge}),Qe=x||y,{matches:mt,route:Tt}=Bx(Qe);return ae(),{notFoundMatches:mt,route:Tt,error:xe}}function ae(ge){let xe=[];return fr.forEach((Qe,mt)=>{(!ge||ge(mt))&&(Qe.cancel(),xe.push(mt),fr.delete(mt))}),xe}function we(ge,xe,Qe){if(W=ge,U=xe,q=Qe||null,!Q&&te.navigation===zm){Q=!0;let mt=rt(te.location,te.matches);mt!=null&&dt({restoreScrollPosition:mt})}return()=>{W=null,U=null,q=null}}function De(ge,xe){return q&&q(ge,xe.map(mt=>FD(mt,te.loaderData)))||ge.key}function He(ge,xe){if(W&&U){let Qe=De(ge,xe);W[Qe]=U()}}function rt(ge,xe){if(W){let Qe=De(ge,xe),mt=W[Qe];if(typeof mt=="number")return mt}return null}function et(ge,xe,Qe){if(M)if(ge){if(Object.keys(ge[0].params).length>0)return{active:!0,matches:J5(xe,Qe,a,!0)}}else return{active:!0,matches:J5(xe,Qe,a,!0)||[]};return{active:!1,matches:null}}async function qe(ge,xe,Qe,mt){if(!M)return{type:"success",matches:ge};let Tt=ge;for(;;){let jt=x==null,qt=x||y,Gt=d;try{await M({signal:Qe,path:xe,matches:Tt,fetcherKey:mt,patch:(Jt,Er)=>{Qe.aborted||Ox(Jt,Er,qt,Gt,c)}})}catch(Jt){return{type:"error",error:Jt,partialMatches:Tt}}finally{jt&&!Qe.aborted&&(y=[...y])}if(Qe.aborted)return{type:"aborted"};let Qt=nf(qt,xe,a);if(Qt)return{type:"success",matches:Qt};let er=J5(qt,xe,a,!0);if(!er||Tt.length===er.length&&Tt.every((Jt,Er)=>Jt.route.id===er[Er].route.id))return{type:"success",matches:null};Tt=er}}function ct(ge){d={},x=r4(ge,c,void 0,d)}function kt(ge,xe){let Qe=x==null;Ox(ge,xe,x||y,d,c),Qe&&(y=[...y],dt({}))}return ne={get basename(){return a},get future(){return C},get state(){return te},get routes(){return y},get window(){return t},initialize:Nt,subscribe:Cr,enableScrollRestoration:we,navigate:Mr,fetch:mi,revalidate:wn,createHref:ge=>e.history.createHref(ge),encodeLocation:ge=>e.history.encodeLocation(ge),getFetcher:Wo,deleteFetcher:As,dispose:cr,getBlocker:ga,deleteBlocker:ya,patchRoutes:kt,_internalFetchControllers:ke,_internalActiveDeferreds:fr,_internalSetRoutes:ct},ne}function cL(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Y9(e,t,n,i,c,d,y,x){let a,w;if(y){a=[];for(let C of t)if(a.push(C),C.route.id===y){w=C;break}}else a=t,w=t[t.length-1];let M=Ay(c||".",Py(a,d),xd(e.pathname,n)||e.pathname,x==="path");if(c==null&&(M.search=e.search,M.hash=e.hash),(c==null||c===""||c===".")&&w){let C=Iy(M.search);if(w.route.index&&!C)M.search=M.search?M.search.replace(/^\?/,"?index&"):"?index";else if(!w.route.index&&C){let L=new URLSearchParams(M.search),j=L.getAll("index");L.delete("index"),j.filter(q=>q).forEach(q=>L.append("index",q));let W=L.toString();M.search=W?"?"+W:""}}return i&&n!=="/"&&(M.pathname=M.pathname==="/"?n:Lc([n,M.pathname])),pf(M)}function Ax(e,t,n,i){if(!i||!cL(i))return{path:n};if(i.formMethod&&!wL(i.formMethod))return{path:n,error:Ja(405,{method:i.formMethod})};let c=()=>({path:n,error:Ja(400,{type:"invalid-body"})}),d=i.formMethod||"get",y=e?d.toUpperCase():d.toLowerCase(),x=xM(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Bl(y))return c();let L=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((j,W)=>{let[q,U]=W;return""+j+q+"="+U+`
`},""):String(i.body);return{path:n,submission:{formMethod:y,formAction:x,formEncType:i.formEncType,formData:void 0,json:void 0,text:L}}}else if(i.formEncType==="application/json"){if(!Bl(y))return c();try{let L=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:y,formAction:x,formEncType:i.formEncType,formData:void 0,json:L,text:void 0}}}catch{return c()}}}gn(typeof FormData=="function","FormData is not available in this environment");let a,w;if(i.formData)a=Q9(i.formData),w=i.formData;else if(i.body instanceof FormData)a=Q9(i.body),w=i.body;else if(i.body instanceof URLSearchParams)a=i.body,w=Dx(a);else if(i.body==null)a=new URLSearchParams,w=new FormData;else try{a=new URLSearchParams(i.body),w=Dx(a)}catch{return c()}let M={formMethod:y,formAction:x,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:w,json:void 0,text:void 0};if(Bl(M.formMethod))return{path:n,submission:M};let C=W1(n);return t&&C.search&&Iy(C.search)&&a.append("index",""),C.search="?"+a,{path:pf(C),submission:M}}function Mx(e,t,n){n===void 0&&(n=!1);let i=e.findIndex(c=>c.route.id===t);return i>=0?e.slice(0,n?i+1:i):e}function Cx(e,t,n,i,c,d,y,x,a,w,M,C,L,j,W,q){let U=q?ws(q[1])?q[1].error:q[1].data:void 0,Q=e.createURL(t.location),re=e.createURL(c),ee=n;d&&t.errors?ee=Mx(n,Object.keys(t.errors)[0],!0):q&&ws(q[1])&&(ee=Mx(n,q[0]));let oe=q?q[1].statusCode:void 0,K=y&&oe&&oe>=400,ne=ee.filter((be,Ce)=>{let{route:Ee}=be;if(Ee.lazy)return!0;if(Ee.loader==null)return!1;if(d)return J9(Ee,t.loaderData,t.errors);if(hL(t.loaderData,t.matches[Ce],be)||a.some(Ge=>Ge===be.route.id))return!0;let je=t.matches[Ce],Ye=be;return Ix(be,wi({currentUrl:Q,currentParams:je.params,nextUrl:re,nextParams:Ye.params},i,{actionResult:U,actionStatus:oe,defaultShouldRevalidate:K?!1:x||Q.pathname+Q.search===re.pathname+re.search||Q.search!==re.search||_M(je,Ye)}))}),te=[];return C.forEach((be,Ce)=>{if(d||!n.some(Te=>Te.route.id===be.routeId)||M.has(Ce))return;let Ee=nf(j,be.path,W);if(!Ee){te.push({key:Ce,routeId:be.routeId,path:be.path,matches:null,match:null,controller:null});return}let je=t.fetchers.get(Ce),Ye=Up(Ee,be.path),Ge=!1;L.has(Ce)?Ge=!1:w.has(Ce)?(w.delete(Ce),Ge=!0):je&&je.state!=="idle"&&je.data===void 0?Ge=x:Ge=Ix(Ye,wi({currentUrl:Q,currentParams:t.matches[t.matches.length-1].params,nextUrl:re,nextParams:n[n.length-1].params},i,{actionResult:U,actionStatus:oe,defaultShouldRevalidate:K?!1:x})),Ge&&te.push({key:Ce,routeId:be.routeId,path:be.path,matches:Ee,match:Ye,controller:new AbortController})}),[ne,te]}function J9(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let i=t!=null&&t[e.id]!==void 0,c=n!=null&&n[e.id]!==void 0;return!i&&c?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!c}function hL(e,t,n){let i=!t||n.route.id!==t.route.id,c=e[n.route.id]===void 0;return i||c}function _M(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ix(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Ox(e,t,n,i,c){var d;let y;if(e){let w=i[e];gn(w,"No route found to patch children into: routeId = "+e),w.children||(w.children=[]),y=w.children}else y=n;let x=t.filter(w=>!y.some(M=>vM(w,M))),a=r4(x,c,[e||"_","patch",String(((d=y)==null?void 0:d.length)||"0")],i);y.push(...a)}function vM(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,i)=>{var c;return(c=t.children)==null?void 0:c.some(d=>vM(n,d))}):!1}async function fL(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let c=n[e.id];gn(c,"No route found in manifest");let d={};for(let y in i){let a=c[y]!==void 0&&y!=="hasErrorBoundary";Z0(!a,'Route "'+c.id+'" has a static property "'+y+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+y+'" will be ignored.')),!a&&!zD.has(y)&&(d[y]=i[y])}Object.assign(c,d),Object.assign(c,wi({},t(c),{lazy:void 0}))}async function dL(e){let{matches:t}=e,n=t.filter(c=>c.shouldLoad);return(await Promise.all(n.map(c=>c.resolve()))).reduce((c,d,y)=>Object.assign(c,{[n[y].route.id]:d}),{})}async function pL(e,t,n,i,c,d,y,x,a,w){let M=d.map(j=>j.route.lazy?fL(j.route,a,x):void 0),C=d.map((j,W)=>{let q=M[W],U=c.some(re=>re.route.id===j.route.id);return wi({},j,{shouldLoad:U,resolve:async re=>(re&&i.method==="GET"&&(j.route.lazy||j.route.loader)&&(U=!0),U?mL(t,i,j,q,re,w):Promise.resolve({type:Gn.data,result:void 0}))})}),L=await e({matches:C,request:i,params:d[0].params,fetcherKey:y,context:w});try{await Promise.all(M)}catch{}return L}async function mL(e,t,n,i,c,d){let y,x,a=w=>{let M,C=new Promise((W,q)=>M=q);x=()=>M(),t.signal.addEventListener("abort",x);let L=W=>typeof w!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):w({request:t,params:n.params,context:d},...W!==void 0?[W]:[]),j=(async()=>{try{return{type:"data",result:await(c?c(q=>L(q)):L())}}catch(W){return{type:"error",result:W}}})();return Promise.race([j,C])};try{let w=n.route[e];if(i)if(w){let M,[C]=await Promise.all([a(w).catch(L=>{M=L}),i]);if(M!==void 0)throw M;y=C}else if(await i,w=n.route[e],w)y=await a(w);else if(e==="action"){let M=new URL(t.url),C=M.pathname+M.search;throw Ja(405,{method:t.method,pathname:C,routeId:n.route.id})}else return{type:Gn.data,result:void 0};else if(w)y=await a(w);else{let M=new URL(t.url),C=M.pathname+M.search;throw Ja(404,{pathname:C})}gn(y.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(w){return{type:Gn.error,result:w}}finally{x&&t.signal.removeEventListener("abort",x)}return y}async function gL(e){let{result:t,type:n}=e;if(bM(t)){let C;try{let L=t.headers.get("Content-Type");L&&/\bapplication\/json\b/.test(L)?t.body==null?C=null:C=await t.json():C=await t.text()}catch(L){return{type:Gn.error,error:L}}return n===Gn.error?{type:Gn.error,error:new n4(t.status,t.statusText,C),statusCode:t.status,headers:t.headers}:{type:Gn.data,data:C,statusCode:t.status,headers:t.headers}}if(n===Gn.error){if(Fx(t)){var i,c;if(t.data instanceof Error){var d,y;return{type:Gn.error,error:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(y=t.init)!=null&&y.headers?new Headers(t.init.headers):void 0}}return{type:Gn.error,error:new n4(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:Yp(t)?t.status:void 0,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:Gn.error,error:t,statusCode:Yp(t)?t.status:void 0}}if(bL(t)){var x,a;return{type:Gn.deferred,deferredData:t,statusCode:(x=t.init)==null?void 0:x.status,headers:((a=t.init)==null?void 0:a.headers)&&new Headers(t.init.headers)}}if(Fx(t)){var w,M;return{type:Gn.data,data:t.data,statusCode:(w=t.init)==null?void 0:w.status,headers:(M=t.init)!=null&&M.headers?new Headers(t.init.headers):void 0}}return{type:Gn.data,data:t}}function yL(e,t,n,i,c,d){let y=e.headers.get("Location");if(gn(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!My.test(y)){let x=i.slice(0,i.findIndex(a=>a.route.id===n)+1);y=Y9(new URL(t.url),x,c,!0,y,d),e.headers.set("Location",y)}return e}function kx(e,t,n){if(My.test(e)){let i=e,c=i.startsWith("//")?new URL(t.protocol+i):new URL(i),d=xd(c.pathname,n)!=null;if(c.origin===t.origin&&d)return c.pathname+c.search+c.hash}return e}function E0(e,t,n,i){let c=e.createURL(xM(t)).toString(),d={signal:n};if(i&&Bl(i.formMethod)){let{formMethod:y,formEncType:x}=i;d.method=y.toUpperCase(),x==="application/json"?(d.headers=new Headers({"Content-Type":x}),d.body=JSON.stringify(i.json)):x==="text/plain"?d.body=i.text:x==="application/x-www-form-urlencoded"&&i.formData?d.body=Q9(i.formData):d.body=i.formData}return new Request(c,d)}function Q9(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,typeof i=="string"?i:i.name);return t}function Dx(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function _L(e,t,n,i,c){let d={},y=null,x,a=!1,w={},M=n&&ws(n[1])?n[1].error:void 0;return e.forEach(C=>{if(!(C.route.id in t))return;let L=C.route.id,j=t[L];if(gn(!af(j),"Cannot handle redirect results in processLoaderData"),ws(j)){let W=j.error;M!==void 0&&(W=M,M=void 0),y=y||{};{let q=of(e,L);y[q.route.id]==null&&(y[q.route.id]=W)}d[L]=void 0,a||(a=!0,x=Yp(j.error)?j.error.status:500),j.headers&&(w[L]=j.headers)}else N1(j)?(i.set(L,j.deferredData),d[L]=j.deferredData.data,j.statusCode!=null&&j.statusCode!==200&&!a&&(x=j.statusCode),j.headers&&(w[L]=j.headers)):(d[L]=j.data,j.statusCode&&j.statusCode!==200&&!a&&(x=j.statusCode),j.headers&&(w[L]=j.headers))}),M!==void 0&&n&&(y={[n[0]]:M},d[n[0]]=void 0),{loaderData:d,errors:y,statusCode:x||200,loaderHeaders:w}}function Lx(e,t,n,i,c,d,y){let{loaderData:x,errors:a}=_L(t,n,i,y);return c.forEach(w=>{let{key:M,match:C,controller:L}=w,j=d[M];if(gn(j,"Did not find corresponding fetcher result"),!(L&&L.signal.aborted))if(ws(j)){let W=of(e.matches,C?.route.id);a&&a[W.route.id]||(a=wi({},a,{[W.route.id]:j.error})),e.fetchers.delete(M)}else if(af(j))gn(!1,"Unhandled fetcher revalidation redirect");else if(N1(j))gn(!1,"Unhandled fetcher deferred data");else{let W=B1(j.data);e.fetchers.set(M,W)}}),{loaderData:x,errors:a}}function Rx(e,t,n,i){let c=wi({},t);for(let d of n){let y=d.route.id;if(t.hasOwnProperty(y)?t[y]!==void 0&&(c[y]=t[y]):e[y]!==void 0&&d.route.loader&&(c[y]=e[y]),i&&i.hasOwnProperty(y))break}return c}function zx(e){return e?ws(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function of(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function Bx(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ja(e,t){let{pathname:n,routeId:i,method:c,type:d,message:y}=t===void 0?{}:t,x="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(x="Bad Request",c&&n&&i?a="You made a "+c+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":d==="defer-action"?a="defer() is not supported in actions":d==="invalid-body"&&(a="Unable to encode submission body")):e===403?(x="Forbidden",a='Route "'+i+'" does not match URL "'+n+'"'):e===404?(x="Not Found",a='No route matches URL "'+n+'"'):e===405&&(x="Method Not Allowed",c&&n&&i?a="You made a "+c.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":c&&(a='Invalid request method "'+c.toUpperCase()+'"')),new n4(e||500,x,new Error(a),!0)}function L5(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[i,c]=t[n];if(af(c))return{key:i,result:c}}}function xM(e){let t=typeof e=="string"?W1(e):e;return pf(wi({},t,{hash:""}))}function vL(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function xL(e){return bM(e.result)&&oL.has(e.result.status)}function N1(e){return e.type===Gn.deferred}function ws(e){return e.type===Gn.error}function af(e){return(e&&e.type)===Gn.redirect}function Fx(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function bL(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function bM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function wL(e){return iL.has(e.toLowerCase())}function Bl(e){return rL.has(e.toLowerCase())}async function SL(e,t,n,i,c){let d=Object.entries(t);for(let y=0;y<d.length;y++){let[x,a]=d[y],w=e.find(L=>L?.route.id===x);if(!w)continue;let M=i.find(L=>L.route.id===w.route.id),C=M!=null&&!_M(M,w)&&(c&&c[w.route.id])!==void 0;N1(a)&&C&&await Cy(a,n,!1).then(L=>{L&&(t[x]=L)})}}async function TL(e,t,n){for(let i=0;i<n.length;i++){let{key:c,routeId:d,controller:y}=n[i],x=t[c];e.find(w=>w?.route.id===d)&&N1(x)&&(gn(y,"Expected an AbortController for revalidating fetcher deferred result"),await Cy(x,y.signal,!0).then(w=>{w&&(t[c]=w)}))}}async function Cy(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Gn.data,data:e.deferredData.unwrappedData}}catch(c){return{type:Gn.error,error:c}}return{type:Gn.data,data:e.deferredData.data}}}function Iy(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Up(e,t){let n=typeof t=="string"?W1(t).search:t.search;if(e[e.length-1].route.index&&Iy(n||""))return e[e.length-1];let i=mM(e);return i[i.length-1]}function jx(e){let{formMethod:t,formAction:n,formEncType:i,text:c,formData:d,json:y}=e;if(!(!t||!n||!i)){if(c!=null)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:c};if(d!=null)return{formMethod:t,formAction:n,formEncType:i,formData:d,json:void 0,text:void 0};if(y!==void 0)return{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:y,text:void 0}}}function Bm(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function EL(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Mp(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PL(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function B1(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function AL(e,t){try{let n=e.sessionStorage.getItem(yM);if(n){let i=JSON.parse(n);for(let[c,d]of Object.entries(i||{}))d&&Array.isArray(d)&&t.set(c,new Set(d||[]))}}catch{}}function ML(e,t){if(t.size>0){let n={};for(let[i,c]of t)n[i]=[...c];try{e.sessionStorage.setItem(yM,JSON.stringify(n))}catch(i){Z0(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i4(){return i4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i4.apply(this,arguments)}const l6=Ve.createContext(null),wM=Ve.createContext(null),xf=Ve.createContext(null),Oy=Ve.createContext(null),bf=Ve.createContext({outlet:null,matches:[],isDataRoute:!1}),SM=Ve.createContext(null);function CL(e,t){let{relative:n}=t===void 0?{}:t;R3()||gn(!1);let{basename:i,navigator:c}=Ve.useContext(xf),{hash:d,pathname:y,search:x}=EM(e,{relative:n}),a=y;return i!=="/"&&(a=y==="/"?i:Lc([i,y])),c.createHref({pathname:a,search:x,hash:d})}function R3(){return Ve.useContext(Oy)!=null}function u6(){return R3()||gn(!1),Ve.useContext(Oy).location}function TM(e){Ve.useContext(xf).static||Ve.useLayoutEffect(e)}function IL(){let{isDataRoute:e}=Ve.useContext(bf);return e?$L():OL()}function OL(){R3()||gn(!1);let e=Ve.useContext(l6),{basename:t,future:n,navigator:i}=Ve.useContext(xf),{matches:c}=Ve.useContext(bf),{pathname:d}=u6(),y=JSON.stringify(Py(c,n.v7_relativeSplatPath)),x=Ve.useRef(!1);return TM(()=>{x.current=!0}),Ve.useCallback(function(w,M){if(M===void 0&&(M={}),!x.current)return;if(typeof w=="number"){i.go(w);return}let C=Ay(w,JSON.parse(y),d,M.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:Lc([t,C.pathname])),(M.replace?i.replace:i.push)(C,M.state,M)},[t,i,y,d,e])}function EM(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=Ve.useContext(xf),{matches:c}=Ve.useContext(bf),{pathname:d}=u6(),y=JSON.stringify(Py(c,i.v7_relativeSplatPath));return Ve.useMemo(()=>Ay(e,JSON.parse(y),d,n==="path"),[e,y,d,n])}function kL(e,t,n,i){R3()||gn(!1);let{navigator:c,static:d}=Ve.useContext(xf),{matches:y}=Ve.useContext(bf),x=y[y.length-1],a=x?x.params:{};x&&x.pathname;let w=x?x.pathnameBase:"/";x&&x.route;let M=u6(),C;C=M;let L=C.pathname||"/",j=L;if(w!=="/"){let U=w.replace(/^\//,"").split("/");j="/"+L.replace(/^\//,"").split("/").slice(U.length).join("/")}let W=!d&&n&&n.matches&&n.matches.length>0?n.matches:nf(e,{pathname:j});return BL(W&&W.map(U=>Object.assign({},U,{params:Object.assign({},a,U.params),pathname:Lc([w,c.encodeLocation?c.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?w:Lc([w,c.encodeLocation?c.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),y,n,i)}function DL(){let e=UL(),t=Yp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ve.createElement(Ve.Fragment,null,Ve.createElement("h2",null,"Unexpected Application Error!"),Ve.createElement("h3",{style:{fontStyle:"italic"}},t),n?Ve.createElement("pre",{style:c},n):null,null)}const LL=Ve.createElement(DL,null);class RL extends Ve.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?Ve.createElement(bf.Provider,{value:this.props.routeContext},Ve.createElement(SM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zL(e){let{routeContext:t,match:n,children:i}=e,c=Ve.useContext(l6);return c&&c.static&&c.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=n.route.id),Ve.createElement(bf.Provider,{value:t},i)}function BL(e,t,n,i){var c;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var d;if(!n)return null;if(n.errors)e=n.matches;else if((d=i)!=null&&d.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let y=e,x=(c=n)==null?void 0:c.errors;if(x!=null){let M=y.findIndex(C=>C.route.id&&x?.[C.route.id]!==void 0);M>=0||gn(!1),y=y.slice(0,Math.min(y.length,M+1))}let a=!1,w=-1;if(n&&i&&i.v7_partialHydration)for(let M=0;M<y.length;M++){let C=y[M];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(w=M),C.route.id){let{loaderData:L,errors:j}=n,W=C.route.loader&&L[C.route.id]===void 0&&(!j||j[C.route.id]===void 0);if(C.route.lazy||W){a=!0,w>=0?y=y.slice(0,w+1):y=[y[0]];break}}}return y.reduceRight((M,C,L)=>{let j,W=!1,q=null,U=null;n&&(j=x&&C.route.id?x[C.route.id]:void 0,q=C.route.errorElement||LL,a&&(w<0&&L===0?(VL("route-fallback"),W=!0,U=null):w===L&&(W=!0,U=C.route.hydrateFallbackElement||null)));let Q=t.concat(y.slice(0,L+1)),re=()=>{let ee;return j?ee=q:W?ee=U:C.route.Component?ee=Ve.createElement(C.route.Component,null):C.route.element?ee=C.route.element:ee=M,Ve.createElement(zL,{match:C,routeContext:{outlet:M,matches:Q,isDataRoute:n!=null},children:ee})};return n&&(C.route.ErrorBoundary||C.route.errorElement||L===0)?Ve.createElement(RL,{location:n.location,revalidation:n.revalidation,component:q,error:j,children:re(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):re()},null)}var PM=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(PM||{}),AM=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(AM||{});function FL(e){let t=Ve.useContext(l6);return t||gn(!1),t}function jL(e){let t=Ve.useContext(wM);return t||gn(!1),t}function NL(e){let t=Ve.useContext(bf);return t||gn(!1),t}function MM(e){let t=NL(),n=t.matches[t.matches.length-1];return n.route.id||gn(!1),n.route.id}function UL(){var e;let t=Ve.useContext(SM),n=jL(AM.UseRouteError),i=MM();return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function $L(){let{router:e}=FL(PM.UseNavigateStable),t=MM(),n=Ve.useRef(!1);return TM(()=>{n.current=!0}),Ve.useCallback(function(c,d){d===void 0&&(d={}),n.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,i4({fromRouteId:t},d)))},[e,t])}const Nx={};function VL(e,t,n){Nx[e]||(Nx[e]=!0)}function qL(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function GL(e){let{basename:t="/",children:n=null,location:i,navigationType:c=ro.Pop,navigator:d,static:y=!1,future:x}=e;R3()&&gn(!1);let a=t.replace(/^\/*/,"/"),w=Ve.useMemo(()=>({basename:a,navigator:d,static:y,future:i4({v7_relativeSplatPath:!1},x)}),[a,x,d,y]);typeof i=="string"&&(i=W1(i));let{pathname:M="/",search:C="",hash:L="",state:j=null,key:W="default"}=i,q=Ve.useMemo(()=>{let U=xd(M,a);return U==null?null:{location:{pathname:U,search:C,hash:L,state:j,key:W},navigationType:c}},[a,M,C,L,j,W,c]);return q==null?null:Ve.createElement(xf.Provider,{value:w},Ve.createElement(Oy.Provider,{children:n,value:q}))}new Promise(()=>{});function WL(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:Ve.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:Ve.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:Ve.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jp.apply(this,arguments)}function HL(e,t){if(e==null)return{};var n={},i=Object.keys(e),c,d;for(d=0;d<i.length;d++)c=i[d],!(t.indexOf(c)>=0)&&(n[c]=e[c]);return n}function ZL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XL(e,t){return e.button===0&&(!t||t==="_self")&&!ZL(e)}const KL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YL="6";try{window.__reactRouterVersion=YL}catch{}function QQ(e,t){return uL({basename:t?.basename,future:Jp({},t?.future,{v7_prependBasename:!0}),history:DD({window:t?.window}),hydrationData:t?.hydrationData||JL(),routes:e,mapRouteProperties:WL,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function JL(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Jp({},t,{errors:QL(t.errors)})),t}function QL(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,c]of t)if(c&&c.__type==="RouteErrorResponse")n[i]=new n4(c.status,c.statusText,c.data,c.internal===!0);else if(c&&c.__type==="Error"){if(c.__subType){let d=window[c.__subType];if(typeof d=="function")try{let y=new d(c.message);y.stack="",n[i]=y}catch{}}if(n[i]==null){let d=new Error(c.message);d.stack="",n[i]=d}}else n[i]=c;return n}const eR=Ve.createContext({isTransitioning:!1}),tR=Ve.createContext(new Map),rR="startTransition",Ux=ED[rR],nR="flushSync",$x=kD[nR];function iR(e){Ux?Ux(e):e()}function Cp(e){$x?$x(e):e()}class oR{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}}function eee(e){let{fallbackElement:t,router:n,future:i}=e,[c,d]=Ve.useState(n.state),[y,x]=Ve.useState(),[a,w]=Ve.useState({isTransitioning:!1}),[M,C]=Ve.useState(),[L,j]=Ve.useState(),[W,q]=Ve.useState(),U=Ve.useRef(new Map),{v7_startTransition:Q}=i||{},re=Ve.useCallback(be=>{Q?iR(be):be()},[Q]),ee=Ve.useCallback((be,Ce)=>{let{deletedFetchers:Ee,flushSync:je,viewTransitionOpts:Ye}=Ce;be.fetchers.forEach((Te,Se)=>{Te.data!==void 0&&U.current.set(Se,Te.data)}),Ee.forEach(Te=>U.current.delete(Te));let Ge=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Ye||Ge){je?Cp(()=>d(be)):re(()=>d(be));return}if(je){Cp(()=>{L&&(M&&M.resolve(),L.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:Ye.currentLocation,nextLocation:Ye.nextLocation})});let Te=n.window.document.startViewTransition(()=>{Cp(()=>d(be))});Te.finished.finally(()=>{Cp(()=>{C(void 0),j(void 0),x(void 0),w({isTransitioning:!1})})}),Cp(()=>j(Te));return}L?(M&&M.resolve(),L.skipTransition(),q({state:be,currentLocation:Ye.currentLocation,nextLocation:Ye.nextLocation})):(x(be),w({isTransitioning:!0,flushSync:!1,currentLocation:Ye.currentLocation,nextLocation:Ye.nextLocation}))},[n.window,L,M,U,re]);Ve.useLayoutEffect(()=>n.subscribe(ee),[n,ee]),Ve.useEffect(()=>{a.isTransitioning&&!a.flushSync&&C(new oR)},[a]),Ve.useEffect(()=>{if(M&&y&&n.window){let be=y,Ce=M.promise,Ee=n.window.document.startViewTransition(async()=>{re(()=>d(be)),await Ce});Ee.finished.finally(()=>{C(void 0),j(void 0),x(void 0),w({isTransitioning:!1})}),j(Ee)}},[re,y,M,n.window]),Ve.useEffect(()=>{M&&y&&c.location.key===y.location.key&&M.resolve()},[M,L,c.location,y]),Ve.useEffect(()=>{!a.isTransitioning&&W&&(x(W.state),w({isTransitioning:!0,flushSync:!1,currentLocation:W.currentLocation,nextLocation:W.nextLocation}),q(void 0))},[a.isTransitioning,W]),Ve.useEffect(()=>{},[]);let oe=Ve.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:be=>n.navigate(be),push:(be,Ce,Ee)=>n.navigate(be,{state:Ce,preventScrollReset:Ee?.preventScrollReset}),replace:(be,Ce,Ee)=>n.navigate(be,{replace:!0,state:Ce,preventScrollReset:Ee?.preventScrollReset})}),[n]),K=n.basename||"/",ne=Ve.useMemo(()=>({router:n,navigator:oe,static:!1,basename:K}),[n,oe,K]),te=Ve.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return Ve.useEffect(()=>qL(i,n.future),[i,n.future]),Ve.createElement(Ve.Fragment,null,Ve.createElement(l6.Provider,{value:ne},Ve.createElement(wM.Provider,{value:c},Ve.createElement(tR.Provider,{value:U.current},Ve.createElement(eR.Provider,{value:a},Ve.createElement(GL,{basename:K,location:c.location,navigationType:c.historyAction,navigator:oe,future:te},c.initialized||n.future.v7_partialHydration?Ve.createElement(aR,{routes:n.routes,future:n.future,state:c}):t))))),null)}const aR=Ve.memo(sR);function sR(e){let{routes:t,future:n,state:i}=e;return kL(t,void 0,i,n)}const lR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tee=Ve.forwardRef(function(t,n){let{onClick:i,relative:c,reloadDocument:d,replace:y,state:x,target:a,to:w,preventScrollReset:M,viewTransition:C}=t,L=HL(t,KL),{basename:j}=Ve.useContext(xf),W,q=!1;if(typeof w=="string"&&uR.test(w)&&(W=w,lR))try{let ee=new URL(window.location.href),oe=w.startsWith("//")?new URL(ee.protocol+w):new URL(w),K=xd(oe.pathname,j);oe.origin===ee.origin&&K!=null?w=K+oe.search+oe.hash:q=!0}catch{}let U=CL(w,{relative:c}),Q=cR(w,{replace:y,state:x,target:a,preventScrollReset:M,relative:c,viewTransition:C});function re(ee){i&&i(ee),ee.defaultPrevented||Q(ee)}return Ve.createElement("a",Jp({},L,{href:W||U,onClick:q||d?i:re,ref:n,target:a}))});var Vx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vx||(Vx={}));var qx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qx||(qx={}));function cR(e,t){let{target:n,replace:i,state:c,preventScrollReset:d,relative:y,viewTransition:x}=t===void 0?{}:t,a=IL(),w=u6(),M=EM(e,{relative:y});return Ve.useCallback(C=>{if(XL(C,n)){C.preventDefault();let L=i!==void 0?i:pf(w)===pf(M);a(e,{replace:L,state:c,preventScrollReset:d,relative:y,viewTransition:x})}},[w,a,M,i,c,n,e,d,y,x])}var Fm,Gx;function hR(){if(Gx)return Fm;Gx=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function c(d,y){if(d===y)return!0;if(d&&y&&typeof d=="object"&&typeof y=="object"){if(d.constructor!==y.constructor)return!1;var x,a,w;if(Array.isArray(d)){if(x=d.length,x!=y.length)return!1;for(a=x;a--!==0;)if(!c(d[a],y[a]))return!1;return!0}var M;if(t&&d instanceof Map&&y instanceof Map){if(d.size!==y.size)return!1;for(M=d.entries();!(a=M.next()).done;)if(!y.has(a.value[0]))return!1;for(M=d.entries();!(a=M.next()).done;)if(!c(a.value[1],y.get(a.value[0])))return!1;return!0}if(n&&d instanceof Set&&y instanceof Set){if(d.size!==y.size)return!1;for(M=d.entries();!(a=M.next()).done;)if(!y.has(a.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(d)&&ArrayBuffer.isView(y)){if(x=d.length,x!=y.length)return!1;for(a=x;a--!==0;)if(d[a]!==y[a])return!1;return!0}if(d.constructor===RegExp)return d.source===y.source&&d.flags===y.flags;if(d.valueOf!==Object.prototype.valueOf&&typeof d.valueOf=="function"&&typeof y.valueOf=="function")return d.valueOf()===y.valueOf();if(d.toString!==Object.prototype.toString&&typeof d.toString=="function"&&typeof y.toString=="function")return d.toString()===y.toString();if(w=Object.keys(d),x=w.length,x!==Object.keys(y).length)return!1;for(a=x;a--!==0;)if(!Object.prototype.hasOwnProperty.call(y,w[a]))return!1;if(e&&d instanceof Element)return!1;for(a=x;a--!==0;)if(!((w[a]==="_owner"||w[a]==="__v"||w[a]==="__o")&&d.$$typeof)&&!c(d[w[a]],y[w[a]]))return!1;return!0}return d!==d&&y!==y}return Fm=function(y,x){try{return c(y,x)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},Fm}var fR=hR();const dR=vn(fR);var jm,Wx;function pR(){if(Wx)return jm;Wx=1;var e=function(t,n,i,c,d,y,x,a){if(!t){var w;if(n===void 0)w=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var M=[i,c,d,y,x,a],C=0;w=new Error(n.replace(/%s/g,function(){return M[C++]})),w.name="Invariant Violation"}throw w.framesToPop=1,w}};return jm=e,jm}var mR=pR();const Hx=vn(mR);var Nm,Zx;function gR(){return Zx||(Zx=1,Nm=function(t,n,i,c){var d=i?i.call(c,t,n):void 0;if(d!==void 0)return!!d;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var y=Object.keys(t),x=Object.keys(n);if(y.length!==x.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(n),w=0;w<y.length;w++){var M=y[w];if(!a(M))return!1;var C=t[M],L=n[M];if(d=i?i.call(c,C,L,M):void 0,d===!1||d===void 0&&C!==L)return!1}return!0}),Nm}var yR=gR();const _R=vn(yR);var CM=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(CM||{}),Um={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Xx=Object.values(CM),ky={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},vR=Object.entries(ky).reduce((e,[t,n])=>(e[n]=t,e),{}),Nl="data-rh",N0={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},U0=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const i=e[n];if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}return null},xR=e=>{let t=U0(e,"title");const n=U0(e,N0.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const i=U0(e,N0.DEFAULT_TITLE);return t||i||void 0},bR=e=>U0(e,N0.ON_CHANGE_CLIENT_STATE)||(()=>{}),$m=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,i)=>({...n,...i}),{}),wR=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,i)=>{if(!n.length){const c=Object.keys(i);for(let d=0;d<c.length;d+=1){const x=c[d].toLowerCase();if(e.indexOf(x)!==-1&&i[x])return n.concat(i)}}return n},[]),SR=e=>console&&typeof console.warn=="function"&&console.warn(e),Ip=(e,t,n)=>{const i={};return n.filter(c=>Array.isArray(c[e])?!0:(typeof c[e]<"u"&&SR(`Helmet: ${e} should be of type "Array". Instead found type "${typeof c[e]}"`),!1)).map(c=>c[e]).reverse().reduce((c,d)=>{const y={};d.filter(a=>{let w;const M=Object.keys(a);for(let L=0;L<M.length;L+=1){const j=M[L],W=j.toLowerCase();t.indexOf(W)!==-1&&!(w==="rel"&&a[w].toLowerCase()==="canonical")&&!(W==="rel"&&a[W].toLowerCase()==="stylesheet")&&(w=W),t.indexOf(j)!==-1&&(j==="innerHTML"||j==="cssText"||j==="itemprop")&&(w=j)}if(!w||!a[w])return!1;const C=a[w].toLowerCase();return i[w]||(i[w]={}),y[w]||(y[w]={}),i[w][C]?!1:(y[w][C]=!0,!0)}).reverse().forEach(a=>c.push(a));const x=Object.keys(y);for(let a=0;a<x.length;a+=1){const w=x[a],M={...i[w],...y[w]};i[w]=M}return c},[]).reverse()},TR=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},ER=e=>({baseTag:wR(["href"],e),bodyAttributes:$m("bodyAttributes",e),defer:U0(e,N0.DEFER),encode:U0(e,N0.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:$m("htmlAttributes",e),linkTags:Ip("link",["rel","href"],e),metaTags:Ip("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Ip("noscript",["innerHTML"],e),onChangeClientState:bR(e),scriptTags:Ip("script",["src","innerHTML"],e),styleTags:Ip("style",["cssText"],e),title:xR(e),titleAttributes:$m("titleAttributes",e),prioritizeSeoTags:TR(e,N0.PRIORITIZE_SEO_TAGS)}),IM=e=>Array.isArray(e)?e.join(""):e,PR=(e,t)=>{const n=Object.keys(e);for(let i=0;i<n.length;i+=1)if(t[n[i]]&&t[n[i]].includes(e[n[i]]))return!0;return!1},Vm=(e,t)=>Array.isArray(e)?e.reduce((n,i)=>(PR(i,t)?n.priority.push(i):n.default.push(i),n),{priority:[],default:[]}):{default:e,priority:[]},Kx=(e,t)=>({...e,[t]:void 0}),AR=["noscript","script","style"],eg=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),OM=e=>Object.keys(e).reduce((t,n)=>{const i=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${i}`:i},""),MR=(e,t,n,i)=>{const c=OM(n),d=IM(t);return c?`<${e} ${Nl}="true" ${c}>${eg(d,i)}</${e}>`:`<${e} ${Nl}="true">${eg(d,i)}</${e}>`},CR=(e,t,n=!0)=>t.reduce((i,c)=>{const d=c,y=Object.keys(d).filter(w=>!(w==="innerHTML"||w==="cssText")).reduce((w,M)=>{const C=typeof d[M]>"u"?M:`${M}="${eg(d[M],n)}"`;return w?`${w} ${C}`:C},""),x=d.innerHTML||d.cssText||"",a=AR.indexOf(e)===-1;return`${i}<${e} ${Nl}="true" ${y}${a?"/>":`>${x}</${e}>`}`},""),kM=(e,t={})=>Object.keys(e).reduce((n,i)=>{const c=ky[i];return n[c||i]=e[i],n},t),IR=(e,t,n)=>{const i={key:t,[Nl]:!0},c=kM(n,i);return[tt.createElement("title",c,t)]},Q5=(e,t)=>t.map((n,i)=>{const c={key:i,[Nl]:!0};return Object.keys(n).forEach(d=>{const x=ky[d]||d;if(x==="innerHTML"||x==="cssText"){const a=n.innerHTML||n.cssText;c.dangerouslySetInnerHTML={__html:a}}else c[x]=n[d]}),tt.createElement(e,c)}),nl=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>IR(e,t.title,t.titleAttributes),toString:()=>MR(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>kM(t),toString:()=>OM(t)};default:return{toComponent:()=>Q5(e,t),toString:()=>CR(e,t,n)}}},OR=({metaTags:e,linkTags:t,scriptTags:n,encode:i})=>{const c=Vm(e,Um.meta),d=Vm(t,Um.link),y=Vm(n,Um.script);return{priorityMethods:{toComponent:()=>[...Q5("meta",c.priority),...Q5("link",d.priority),...Q5("script",y.priority)],toString:()=>`${nl("meta",c.priority,i)} ${nl("link",d.priority,i)} ${nl("script",y.priority,i)}`},metaTags:c.default,linkTags:d.default,scriptTags:y.default}},kR=e=>{const{baseTag:t,bodyAttributes:n,encode:i=!0,htmlAttributes:c,noscriptTags:d,styleTags:y,title:x="",titleAttributes:a,prioritizeSeoTags:w}=e;let{linkTags:M,metaTags:C,scriptTags:L}=e,j={toComponent:()=>{},toString:()=>""};return w&&({priorityMethods:j,linkTags:M,metaTags:C,scriptTags:L}=OR(e)),{priority:j,base:nl("base",t,i),bodyAttributes:nl("bodyAttributes",n,i),htmlAttributes:nl("htmlAttributes",c,i),link:nl("link",M,i),meta:nl("meta",C,i),noscript:nl("noscript",d,i),script:nl("script",L,i),style:nl("style",y,i),title:nl("title",{title:x,titleAttributes:a},i)}},tg=kR,R5=[],DM=!!(typeof window<"u"&&window.document&&window.document.createElement),rg=class{instances=[];canUseDOM=DM;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?R5:this.instances,add:e=>{(this.canUseDOM?R5:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?R5:this.instances).indexOf(e);(this.canUseDOM?R5:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=tg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},DR={},LM=tt.createContext(DR),LR=class RM extends Ve.Component{static canUseDOM=DM;helmetData;constructor(t){super(t),this.helmetData=new rg(this.props.context||{},RM.canUseDOM)}render(){return tt.createElement(LM.Provider,{value:this.helmetData.value},this.props.children)}},P0=(e,t)=>{const n=document.head||document.querySelector("head"),i=n.querySelectorAll(`${e}[${Nl}]`),c=[].slice.call(i),d=[];let y;return t&&t.length&&t.forEach(x=>{const a=document.createElement(e);for(const w in x)if(Object.prototype.hasOwnProperty.call(x,w))if(w==="innerHTML")a.innerHTML=x.innerHTML;else if(w==="cssText")a.styleSheet?a.styleSheet.cssText=x.cssText:a.appendChild(document.createTextNode(x.cssText));else{const M=w,C=typeof x[M]>"u"?"":x[M];a.setAttribute(w,C)}a.setAttribute(Nl,"true"),c.some((w,M)=>(y=M,a.isEqualNode(w)))?c.splice(y,1):d.push(a)}),c.forEach(x=>x.parentNode?.removeChild(x)),d.forEach(x=>n.appendChild(x)),{oldTags:c,newTags:d}},ng=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const i=n.getAttribute(Nl),c=i?i.split(","):[],d=[...c],y=Object.keys(t);for(const x of y){const a=t[x]||"";n.getAttribute(x)!==a&&n.setAttribute(x,a),c.indexOf(x)===-1&&c.push(x);const w=d.indexOf(x);w!==-1&&d.splice(w,1)}for(let x=d.length-1;x>=0;x-=1)n.removeAttribute(d[x]);c.length===d.length?n.removeAttribute(Nl):n.getAttribute(Nl)!==y.join(",")&&n.setAttribute(Nl,y.join(","))},RR=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=IM(e)),ng("title",t)},Yx=(e,t)=>{const{baseTag:n,bodyAttributes:i,htmlAttributes:c,linkTags:d,metaTags:y,noscriptTags:x,onChangeClientState:a,scriptTags:w,styleTags:M,title:C,titleAttributes:L}=e;ng("body",i),ng("html",c),RR(C,L);const j={baseTag:P0("base",n),linkTags:P0("link",d),metaTags:P0("meta",y),noscriptTags:P0("noscript",x),scriptTags:P0("script",w),styleTags:P0("style",M)},W={},q={};Object.keys(j).forEach(U=>{const{newTags:Q,oldTags:re}=j[U];Q.length&&(W[U]=Q),re.length&&(q[U]=j[U].oldTags)}),t&&t(),a(e,W,q)},Op=null,zR=e=>{Op&&cancelAnimationFrame(Op),e.defer?Op=requestAnimationFrame(()=>{Yx(e,()=>{Op=null})}):(Yx(e),Op=null)},BR=zR,Jx=class extends Ve.Component{rendered=!1;shouldComponentUpdate(e){return!_R(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const i=ER(e.get().map(c=>{const d={...c.props};return delete d.context,d}));LR.canUseDOM?BR(i):tg&&(n=tg(i)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},ree=class extends Ve.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!dR(Kx(this.props,"helmetData"),Kx(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,i){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,i)}]}}mapObjectTypeChildren(e,t,n,i){switch(e.type){case"title":return{...t,[e.type]:i,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(i=>{n={...n,[i]:e[i]}}),n}warnOnInvalidChildren(e,t){return Hx(Xx.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Xx.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Hx(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return tt.Children.forEach(e,i=>{if(!i||!i.props)return;const{children:c,...d}=i.props,y=Object.keys(d).reduce((a,w)=>(a[vR[w]||w]=d[w],a),{});let{type:x}=i;switch(typeof x=="symbol"?x=x.toString():this.warnOnInvalidChildren(i,c),x){case"Symbol(react.fragment)":t=this.mapChildrenToProps(c,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(i,n,y,c);break;default:t=this.mapObjectTypeChildren(i,t,y,c);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:i}=t;if(e&&(n=this.mapChildrenToProps(e,n)),i&&!(i instanceof rg)){const c=i;i=new rg(c.context,!0),delete n.helmetData}return i?tt.createElement(Jx,{...n,context:i.value}):tt.createElement(LM.Consumer,null,c=>tt.createElement(Jx,{...n,context:c}))}},qm={exports:{}},Gm,Qx;function FR(){if(Qx)return Gm;Qx=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gm=e,Gm}var Wm,eb;function jR(){if(eb)return Wm;eb=1;var e=FR();function t(){}function n(){}return n.resetWarningCache=t,Wm=function(){function i(y,x,a,w,M,C){if(C!==e){var L=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw L.name="Invariant Violation",L}}i.isRequired=i;function c(){return i}var d={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:c,element:i,elementType:i,instanceOf:c,node:i,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:n,resetWarningCache:t};return d.PropTypes=d,d},Wm}var tb;function NR(){return tb||(tb=1,qm.exports=jR()()),qm.exports}var UR=NR();const jn=vn(UR),$R="modulepreload",VR=function(e){return"/"+e},rb={},qR=function(t,n,i){let c=Promise.resolve();if(n&&n.length>0){let a=function(w){return Promise.all(w.map(M=>Promise.resolve(M).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),x=y?.nonce||y?.getAttribute("nonce");c=a(n.map(w=>{if(w=VR(w),w in rb)return;rb[w]=!0;const M=w.endsWith(".css"),C=M?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${C}`))return;const L=document.createElement("link");if(L.rel=M?"stylesheet":$R,M||(L.as="script"),L.crossOrigin="",L.href=w,x&&L.setAttribute("nonce",x),document.head.appendChild(L),M)return new Promise((j,W)=>{L.addEventListener("load",j),L.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${w}`)))})}))}function d(y){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=y,window.dispatchEvent(x),!x.defaultPrevented)throw y}return c.then(y=>{for(const x of y||[])x.status==="rejected"&&d(x.reason);return t().catch(d)})};var Hm={exports:{}},nb;function GR(){return nb||(nb=1,(function(e){var t={};function n(d){return Math.floor(Math.abs(d)+.5)*(d>=0?1:-1)}function i(d,y,x){d=n(d*x),y=n(y*x);var a=(d-y)*2;a<0&&(a=-a-1);for(var w="";a>=32;)w+=String.fromCharCode((32|a&31)+63),a/=32;return w+=String.fromCharCode((a|0)+63),w}t.decode=function(d,y){for(var x=0,a=0,w=0,M=[],C=0,L=0,j=null,W,q,U=Math.pow(10,Number.isInteger(y)?y:5);x<d.length;){j=null,C=1,L=0;do j=d.charCodeAt(x++)-63,L+=(j&31)*C,C*=32;while(j>=32);W=L&1?(-L-1)/2:L/2,C=1,L=0;do j=d.charCodeAt(x++)-63,L+=(j&31)*C,C*=32;while(j>=32);q=L&1?(-L-1)/2:L/2,a+=W,w+=q,M.push([a/U,w/U])}return M},t.encode=function(d,y){if(!d.length)return"";for(var x=Math.pow(10,Number.isInteger(y)?y:5),a=i(d[0][0],0,x)+i(d[0][1],0,x),w=1;w<d.length;w++){var M=d[w],C=d[w-1];a+=i(M[0],C[0],x),a+=i(M[1],C[1],x)}return a};function c(d){for(var y=[],x=0;x<d.length;x++){var a=d[x].slice();y.push([a[1],a[0]])}return y}t.fromGeoJSON=function(d,y){if(d&&d.type==="Feature"&&(d=d.geometry),!d||d.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return t.encode(c(d.coordinates),y)},t.toGeoJSON=function(d,y){var x=t.decode(d,y);return{type:"LineString",coordinates:c(x)}},e.exports&&(e.exports=t)})(Hm)),Hm.exports}var nee=GR();/* @preserve
 * gcoord 0.3.2, geographic coordinate library
 * Copyright (c) 2021 Jiulong Hu <me@hujiulong.com>
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o4=function(){return o4=Object.assign||function(t){for(var n,i=1,c=arguments.length;i<c;i++){n=arguments[i];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(t[d]=n[d])}return t},o4.apply(this,arguments)},Ss=Math.sin,WR=Math.cos,Dy=Math.sqrt,a4=Math.abs,Da=Math.PI,ib=6378245,ob=.006693421622965823;function zM(e,t){return e>=72.004&&e<=137.8347&&t>=.8293&&t<=55.8271}function HR(e,t){var n=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Dy(a4(e));return n+=(20*Ss(6*e*Da)+20*Ss(2*e*Da))*2/3,n+=(20*Ss(t*Da)+40*Ss(t/3*Da))*2/3,n+=(160*Ss(t/12*Da)+320*Ss(t*Da/30))*2/3,n}function ZR(e,t){var n=300+e+2*t+.1*e*e+.1*e*t+.1*Dy(a4(e));return n+=(20*Ss(6*e*Da)+20*Ss(2*e*Da))*2/3,n+=(20*Ss(e*Da)+40*Ss(e/3*Da))*2/3,n+=(150*Ss(e/12*Da)+300*Ss(e/30*Da))*2/3,n}function XR(e,t){var n=ZR(e-105,t-35),i=HR(e-105,t-35),c=t/180*Da,d=Ss(c);d=1-ob*d*d;var y=Dy(d);return n=n*180/(ib/y*WR(c)*Da),i=i*180/(ib*(1-ob)/(d*y)*Da),[n,i]}function $1(e){var t=e[0],n=e[1];if(!zM(t,n))return[t,n];var i=XR(t,n);return[t+i[0],n+i[1]]}function X0(e){var t=e[0],n=e[1];if(!zM(t,n))return[t,n];for(var i=[t,n],c=i[0],d=i[1],y=$1([c,d]),x=y[0]-t,a=y[1]-n;a4(x)>1e-6||a4(a)>1e-6;)c-=x,d-=a,y=$1([c,d]),x=y[0]-t,a=y[1]-n;return[c,d]}var s4=Math.sin,l4=Math.cos,BM=Math.atan2,FM=Math.sqrt,KR=Math.PI,u4=KR*3e3/180;function $0(e){var t=e[0],n=e[1],i=t-.0065,c=n-.006,d=FM(i*i+c*c)-2e-5*s4(c*u4),y=BM(c,i)-3e-6*l4(i*u4),x=d*l4(y),a=d*s4(y);return[x,a]}function K0(e){var t=e[0],n=e[1],i=t,c=n,d=FM(i*i+c*c)+2e-5*s4(c*u4),y=BM(c,i)+3e-6*l4(i*u4),x=d*l4(y)+.0065,a=d*s4(y)+.006;return[x,a]}var ab=180/Math.PI,sb=Math.PI/180,c4=6378137,R1=20037508342789244e-9;function z5(e){return[e[0]*ab/c4,(Math.PI*.5-2*Math.atan(Math.exp(-e[1]/c4)))*ab]}function c6(e){var t=Math.abs(e[0])<=180?e[0]:e[0]-(e[0]<0?-1:1)*360,n=[c4*t*sb,c4*Math.log(Math.tan(Math.PI*.25+.5*e[1]*sb))];return n[0]>R1&&(n[0]=R1),n[0]<-R1&&(n[0]=-R1),n[1]>R1&&(n[1]=R1),n[1]<-R1&&(n[1]=-R1),n}var ig=Math.abs,lb=[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],ub=[75,60,45,30,15,0],YR=[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],JR=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function jM(e,t,n){var i=ig(t)/n[9],c=n[0]+n[1]*ig(e),d=n[2]+n[3]*i+n[4]*Math.pow(i,2)+n[5]*Math.pow(i,3)+n[6]*Math.pow(i,4)+n[7]*Math.pow(i,5)+n[8]*Math.pow(i,6);return c*=e<0?-1:1,d*=t<0?-1:1,[c,d]}function h6(e){for(var t=e[0],n=e[1],i=[],c=0;c<ub.length;c++)if(ig(n)>ub[c]){i=JR[c];break}return jM(t,n,i)}function B5(e){for(var t=e[0],n=e[1],i=[],c=0;c<lb.length;c++)if(n>=lb[c]){i=YR[c];break}return jM(t,n,i)}function z1(e,t){if(!e)throw new Error(t)}function NM(e){return!!e&&Object.prototype.toString.call(e)==="[object Array]"}function cb(e){return!isNaN(Number(e))&&e!==null&&!NM(e)}function ol(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length-1;return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];for(var d=n,y=e[n].apply(null,i);d--;)y=e[d].call(null,y);return y}}function UM(e,t,n){if(n===void 0&&(n=!1),e!==null)for(var i,c,d,y,x,a,w,M=0,C=0,L,j=e.type,W=j==="FeatureCollection",q=j==="Feature",U=W?e.features.length:1,Q=0;Q<U;Q++){w=W?e.features[Q].geometry:q?e.geometry:e,L=w?w.type==="GeometryCollection":!1,x=L?w.geometries.length:1;for(var re=0;re<x;re++){var ee=0,oe=0;if(y=L?w.geometries[re]:w,y!==null){var K=y.type;switch(M=n&&(K==="Polygon"||K==="MultiPolygon")?1:0,K){case null:break;case"Point":if(a=y.coordinates,t(a,C,Q,ee,oe)===!1)return!1;C++,ee++;break;case"LineString":case"MultiPoint":for(a=y.coordinates,i=0;i<a.length;i++){if(t(a[i],C,Q,ee,oe)===!1)return!1;C++,K==="MultiPoint"&&ee++}K==="LineString"&&ee++;break;case"Polygon":case"MultiLineString":for(a=y.coordinates,i=0;i<a.length;i++){for(c=0;c<a[i].length-M;c++){if(t(a[i][c],C,Q,ee,oe)===!1)return!1;C++}K==="MultiLineString"&&ee++,K==="Polygon"&&oe++}K==="Polygon"&&ee++;break;case"MultiPolygon":for(a=y.coordinates,i=0;i<a.length;i++){for(oe=0,c=0;c<a[i].length;c++){for(d=0;d<a[i][c].length-M;d++){if(t(a[i][c][d],C,Q,ee,oe)===!1)return!1;C++}oe++}ee++}break;case"GeometryCollection":for(i=0;i<y.geometries.length;i++)if(UM(y.geometries[i],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}var A0,M0,C0,I0,O0,Si;(function(e){e.WGS84="WGS84",e.WGS1984="WGS84",e.EPSG4326="WGS84",e.GCJ02="GCJ02",e.AMap="GCJ02",e.BD09="BD09",e.BD09LL="BD09",e.Baidu="BD09",e.BMap="BD09",e.BD09MC="BD09MC",e.BD09Meter="BD09MC",e.EPSG3857="EPSG3857",e.EPSG900913="EPSG3857",e.EPSG102100="EPSG3857",e.WebMercator="EPSG3857",e.WM="EPSG3857"})(Si||(Si={}));var QR={to:(A0={},A0[Si.GCJ02]=$1,A0[Si.BD09]=ol(K0,$1),A0[Si.BD09MC]=ol(h6,K0,$1),A0[Si.EPSG3857]=c6,A0)},ez={to:(M0={},M0[Si.WGS84]=X0,M0[Si.BD09]=K0,M0[Si.BD09MC]=ol(h6,K0),M0[Si.EPSG3857]=ol(c6,X0),M0)},tz={to:(C0={},C0[Si.WGS84]=ol(X0,$0),C0[Si.GCJ02]=$0,C0[Si.EPSG3857]=ol(c6,X0,$0),C0[Si.BD09MC]=h6,C0)},rz={to:(I0={},I0[Si.WGS84]=z5,I0[Si.GCJ02]=ol($1,z5),I0[Si.BD09]=ol(K0,$1,z5),I0[Si.BD09MC]=ol(h6,K0,$1,z5),I0)},nz={to:(O0={},O0[Si.WGS84]=ol(X0,$0,B5),O0[Si.GCJ02]=ol($0,B5),O0[Si.EPSG3857]=ol(c6,X0,$0,B5),O0[Si.BD09]=B5,O0)},iz={WGS84:QR,GCJ02:ez,BD09:tz,EPSG3857:rz,BD09MC:nz};function oz(e,t,n){if(z1(!!e,"The args[0] input coordinate is required"),z1(!!t,"The args[1] original coordinate system is required"),z1(!!n,"The args[2] target coordinate system is required"),t===n)return e;var i=iz[t];z1(!!i,"Invalid original coordinate system: "+t);var c=i.to[n];z1(!!c,"Invalid target coordinate system: "+n);var d=typeof e;if(z1(d==="string"||d==="object","Invalid input coordinate type: "+d),d==="string")try{e=JSON.parse(e)}catch{throw new Error("Invalid input coordinate: "+e)}var y=!1;NM(e)&&(z1(e.length>=2,"Invalid input coordinate: "+e),z1(cb(e[0])&&cb(e[1]),"Invalid input coordinate: "+e),e=e.map(Number),y=!0);var x=c;return y?x(e):(UM(e,function(a){var w;w=x(a),a[0]=w[0],a[1]=w[1]}),e)}var iee=o4(o4({},Si),{CRSTypes:Si,transform:oz});const ca=1e-6;let Y0=typeof Float32Array<"u"?Float32Array:Array;function az(){const e=new Y0(2);return Y0!=Float32Array&&(e[0]=0,e[1]=0),e}function hb(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function sz(e,t){return e[0]=-t[0],e[1]=-t[1],e}function $M(e,t,n,i){const c=t[0],d=t[1];return e[0]=c+i*(n[0]-c),e[1]=d+i*(n[1]-d),e}(function(){const e=az();return function(t,n,i,c,d,y){let x,a;for(n||(n=2),i||(i=0),c?a=Math.min(c*n+i,t.length):a=t.length,x=i;x<a;x+=n)e[0]=t[x],e[1]=t[x+1],d(e,e,y),t[x]=e[0],t[x+1]=e[1];return t}})();function lz(){const e=new Y0(3);return Y0!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function uz(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function cz(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function hz(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}const fz=cz;(function(){const e=lz();return function(t,n,i,c,d,y){let x,a;for(n||(n=3),i||(i=0),c?a=Math.min(c*n+i,t.length):a=t.length,x=i;x<a;x+=n)e[0]=t[x],e[1]=t[x+1],e[2]=t[x+2],d(e,e,y),t[x]=e[0],t[x+1]=e[1],t[x+2]=e[2];return t}})();function dz(e,t){const n=t[0],i=t[1],c=t[2],d=t[3],y=t[4],x=t[5],a=t[6],w=t[7],M=t[8],C=t[9],L=t[10],j=t[11],W=t[12],q=t[13],U=t[14],Q=t[15],re=n*x-i*y,ee=n*a-c*y,oe=n*w-d*y,K=i*a-c*x,ne=i*w-d*x,te=c*w-d*a,be=M*q-C*W,Ce=M*U-L*W,Ee=M*Q-j*W,je=C*U-L*q,Ye=C*Q-j*q,Ge=L*Q-j*U;let Te=re*Ge-ee*Ye+oe*je+K*Ee-ne*Ce+te*be;return Te?(Te=1/Te,e[0]=(x*Ge-a*Ye+w*je)*Te,e[1]=(c*Ye-i*Ge-d*je)*Te,e[2]=(q*te-U*ne+Q*K)*Te,e[3]=(L*ne-C*te-j*K)*Te,e[4]=(a*Ee-y*Ge-w*Ce)*Te,e[5]=(n*Ge-c*Ee+d*Ce)*Te,e[6]=(U*oe-W*te-Q*ee)*Te,e[7]=(M*te-L*oe+j*ee)*Te,e[8]=(y*Ye-x*Ee+w*be)*Te,e[9]=(i*Ee-n*Ye-d*be)*Te,e[10]=(W*ne-q*oe+Q*re)*Te,e[11]=(C*oe-M*ne-j*re)*Te,e[12]=(x*Ce-y*je-a*be)*Te,e[13]=(n*je-i*Ce+c*be)*Te,e[14]=(q*ee-W*K-U*re)*Te,e[15]=(M*K-C*ee+L*re)*Te,e):null}function Zm(e,t,n){const i=t[0],c=t[1],d=t[2],y=t[3],x=t[4],a=t[5],w=t[6],M=t[7],C=t[8],L=t[9],j=t[10],W=t[11],q=t[12],U=t[13],Q=t[14],re=t[15];let ee=n[0],oe=n[1],K=n[2],ne=n[3];return e[0]=ee*i+oe*x+K*C+ne*q,e[1]=ee*c+oe*a+K*L+ne*U,e[2]=ee*d+oe*w+K*j+ne*Q,e[3]=ee*y+oe*M+K*W+ne*re,ee=n[4],oe=n[5],K=n[6],ne=n[7],e[4]=ee*i+oe*x+K*C+ne*q,e[5]=ee*c+oe*a+K*L+ne*U,e[6]=ee*d+oe*w+K*j+ne*Q,e[7]=ee*y+oe*M+K*W+ne*re,ee=n[8],oe=n[9],K=n[10],ne=n[11],e[8]=ee*i+oe*x+K*C+ne*q,e[9]=ee*c+oe*a+K*L+ne*U,e[10]=ee*d+oe*w+K*j+ne*Q,e[11]=ee*y+oe*M+K*W+ne*re,ee=n[12],oe=n[13],K=n[14],ne=n[15],e[12]=ee*i+oe*x+K*C+ne*q,e[13]=ee*c+oe*a+K*L+ne*U,e[14]=ee*d+oe*w+K*j+ne*Q,e[15]=ee*y+oe*M+K*W+ne*re,e}function og(e,t,n){const i=n[0],c=n[1],d=n[2];let y,x,a,w,M,C,L,j,W,q,U,Q;return t===e?(e[12]=t[0]*i+t[4]*c+t[8]*d+t[12],e[13]=t[1]*i+t[5]*c+t[9]*d+t[13],e[14]=t[2]*i+t[6]*c+t[10]*d+t[14],e[15]=t[3]*i+t[7]*c+t[11]*d+t[15]):(y=t[0],x=t[1],a=t[2],w=t[3],M=t[4],C=t[5],L=t[6],j=t[7],W=t[8],q=t[9],U=t[10],Q=t[11],e[0]=y,e[1]=x,e[2]=a,e[3]=w,e[4]=M,e[5]=C,e[6]=L,e[7]=j,e[8]=W,e[9]=q,e[10]=U,e[11]=Q,e[12]=y*i+M*c+W*d+t[12],e[13]=x*i+C*c+q*d+t[13],e[14]=a*i+L*c+U*d+t[14],e[15]=w*i+j*c+Q*d+t[15]),e}function VM(e,t,n){const i=n[0],c=n[1],d=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*c,e[5]=t[5]*c,e[6]=t[6]*c,e[7]=t[7]*c,e[8]=t[8]*d,e[9]=t[9]*d,e[10]=t[10]*d,e[11]=t[11]*d,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function pz(e,t,n){const i=Math.sin(n),c=Math.cos(n),d=t[4],y=t[5],x=t[6],a=t[7],w=t[8],M=t[9],C=t[10],L=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=d*c+w*i,e[5]=y*c+M*i,e[6]=x*c+C*i,e[7]=a*c+L*i,e[8]=w*c-d*i,e[9]=M*c-y*i,e[10]=C*c-x*i,e[11]=L*c-a*i,e}function mz(e,t,n){const i=Math.sin(n),c=Math.cos(n),d=t[0],y=t[1],x=t[2],a=t[3],w=t[4],M=t[5],C=t[6],L=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=d*c+w*i,e[1]=y*c+M*i,e[2]=x*c+C*i,e[3]=a*c+L*i,e[4]=w*c-d*i,e[5]=M*c-y*i,e[6]=C*c-x*i,e[7]=L*c-a*i,e}function gz(e,t,n,i,c){const d=1/Math.tan(t/2);if(e[0]=d/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,c!=null&&c!==1/0){const y=1/(i-c);e[10]=(c+i)*y,e[14]=2*c*i*y}else e[10]=-1,e[14]=-2*i;return e}const yz=gz;function fb(e,t){const n=e[0],i=e[1],c=e[2],d=e[3],y=e[4],x=e[5],a=e[6],w=e[7],M=e[8],C=e[9],L=e[10],j=e[11],W=e[12],q=e[13],U=e[14],Q=e[15],re=t[0],ee=t[1],oe=t[2],K=t[3],ne=t[4],te=t[5],be=t[6],Ce=t[7],Ee=t[8],je=t[9],Ye=t[10],Ge=t[11],Te=t[12],Se=t[13],ze=t[14],Ue=t[15];return Math.abs(n-re)<=ca*Math.max(1,Math.abs(n),Math.abs(re))&&Math.abs(i-ee)<=ca*Math.max(1,Math.abs(i),Math.abs(ee))&&Math.abs(c-oe)<=ca*Math.max(1,Math.abs(c),Math.abs(oe))&&Math.abs(d-K)<=ca*Math.max(1,Math.abs(d),Math.abs(K))&&Math.abs(y-ne)<=ca*Math.max(1,Math.abs(y),Math.abs(ne))&&Math.abs(x-te)<=ca*Math.max(1,Math.abs(x),Math.abs(te))&&Math.abs(a-be)<=ca*Math.max(1,Math.abs(a),Math.abs(be))&&Math.abs(w-Ce)<=ca*Math.max(1,Math.abs(w),Math.abs(Ce))&&Math.abs(M-Ee)<=ca*Math.max(1,Math.abs(M),Math.abs(Ee))&&Math.abs(C-je)<=ca*Math.max(1,Math.abs(C),Math.abs(je))&&Math.abs(L-Ye)<=ca*Math.max(1,Math.abs(L),Math.abs(Ye))&&Math.abs(j-Ge)<=ca*Math.max(1,Math.abs(j),Math.abs(Ge))&&Math.abs(W-Te)<=ca*Math.max(1,Math.abs(W),Math.abs(Te))&&Math.abs(q-Se)<=ca*Math.max(1,Math.abs(q),Math.abs(Se))&&Math.abs(U-ze)<=ca*Math.max(1,Math.abs(U),Math.abs(ze))&&Math.abs(Q-Ue)<=ca*Math.max(1,Math.abs(Q),Math.abs(Ue))}function _z(){const e=new Y0(4);return Y0!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function vz(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function xz(e,t,n){const i=t[0],c=t[1],d=t[2],y=t[3];return e[0]=n[0]*i+n[4]*c+n[8]*d+n[12]*y,e[1]=n[1]*i+n[5]*c+n[9]*d+n[13]*y,e[2]=n[2]*i+n[6]*c+n[10]*d+n[14]*y,e[3]=n[3]*i+n[7]*c+n[11]*d+n[15]*y,e}(function(){const e=_z();return function(t,n,i,c,d,y){let x,a;for(n||(n=4),i||(i=0),c?a=Math.min(c*n+i,t.length):a=t.length,x=i;x<a;x+=n)e[0]=t[x],e[1]=t[x+1],e[2]=t[x+2],e[3]=t[x+3],d(e,e,y),t[x]=e[0],t[x+1]=e[1],t[x+2]=e[2],t[x+3]=e[3];return t}})();function e4(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function V0(e,t){const n=xz([],t,e);return vz(n,n,1/n[3]),n}function ag(e,t,n){return e<t?t:e>n?n:e}function bz(e){return Math.log(e)*Math.LOG2E}const wz=Math.log2||bz;function q1(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}const Ul=Math.PI,qM=Ul/4,zu=Ul/180,sg=180/Ul,Qp=512,db=4003e4,F5=85.051129,GM=1.5;function Sz(e){return Math.pow(2,e)}function z0(e){const[t,n]=e;q1(Number.isFinite(t)),q1(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const i=t*zu,c=n*zu,d=Qp*(i+Ul)/(2*Ul),y=Qp*(Ul+Math.log(Math.tan(qM+c*.5)))/(2*Ul);return[d,y]}function Gp(e){const[t,n]=e,i=t/Qp*(2*Ul)-Ul,c=2*(Math.atan(Math.exp(n/Qp*(2*Ul)-Ul))-qM);return[i*sg,c*sg]}function Tz(e){const{latitude:t,longitude:n,highPrecision:i=!1}=e;q1(Number.isFinite(t)&&Number.isFinite(n));const c=Qp,d=Math.cos(t*zu),y=c/360,x=y/d,a=c/db/d,w={unitsPerMeter:[a,a,a],metersPerUnit:[1/a,1/a,1/a],unitsPerDegree:[y,x,a],degreesPerUnit:[1/y,1/x,1/a]};if(i){const M=zu*Math.tan(t*zu)/d,C=y*M/2,L=c/db*M,j=L/x*a;w.unitsPerDegree2=[0,C,L],w.unitsPerMeter2=[j,0,j]}return w}function Ez(e){const{height:t,pitch:n,bearing:i,altitude:c,scale:d,center:y}=e,x=e4();og(x,x,[0,0,-c]),pz(x,x,-n*zu),mz(x,x,i*zu);const a=d/t;return VM(x,x,[a,a,a]),y&&og(x,x,hz([],y)),x}function Pz(e){const{width:t,height:n,altitude:i,pitch:c=0,offset:d,center:y,scale:x,nearZMultiplier:a=1,farZMultiplier:w=1}=e;let{fovy:M=h4(GM)}=e;i!==void 0&&(M=h4(i));const C=M*zu,L=c*zu,j=WM(M);let W=j;y&&(W+=y[2]*x/Math.cos(L)/n);const q=C*(.5+(d?d[1]:0)/n),U=Math.sin(q)*W/Math.sin(ag(Math.PI/2-L-q,.01,Math.PI-.01)),Q=Math.sin(L)*U+W,re=W*10,ee=Math.min(Q*w,re);return{fov:C,aspect:t/n,focalDistance:j,near:a,far:ee}}function Az(e){const{fov:t,aspect:n,near:i,far:c}=Pz(e);return yz([],t,n,i,c)}function h4(e){return 2*Math.atan(.5/e)*sg}function WM(e){return .5/Math.tan(.5*e*zu)}function Mz(e,t){const[n,i,c=0]=e;return q1(Number.isFinite(n)&&Number.isFinite(i)&&Number.isFinite(c)),V0(t,[n,i,c,1])}function pb(e,t,n=0){const[i,c,d]=e;if(q1(Number.isFinite(i)&&Number.isFinite(c),"invalid pixel coordinate"),Number.isFinite(d))return V0(t,[i,c,d,1]);const y=V0(t,[i,c,0,1]),x=V0(t,[i,c,1,1]),a=y[2],w=x[2],M=a===w?0:((n||0)-a)/(w-a);return $M([],y,x,M)}function Cz(e){const{width:t,height:n,bounds:i,minExtent:c=0,maxZoom:d=24,offset:y=[0,0]}=e,[[x,a],[w,M]]=i,C=Iz(e.padding),L=z0([x,ag(M,-F5,F5)]),j=z0([w,ag(a,-F5,F5)]),W=[Math.max(Math.abs(j[0]-L[0]),c),Math.max(Math.abs(j[1]-L[1]),c)],q=[t-C.left-C.right-Math.abs(y[0])*2,n-C.top-C.bottom-Math.abs(y[1])*2];q1(q[0]>0&&q[1]>0);const U=q[0]/W[0],Q=q[1]/W[1],re=(C.right-C.left)/2/U,ee=(C.top-C.bottom)/2/Q,oe=[(j[0]+L[0])/2+re,(j[1]+L[1])/2+ee],K=Gp(oe),ne=Math.min(d,wz(Math.abs(Math.min(U,Q))));return q1(Number.isFinite(ne)),{longitude:K[0],latitude:K[1],zoom:ne}}function Iz(e=0){return typeof e=="number"?{top:e,bottom:e,left:e,right:e}:(q1(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e)}const mb=Math.PI/180;function Oz(e,t=0){const{width:n,height:i,unproject:c}=e,d={targetZ:t},y=c([0,i],d),x=c([n,i],d);let a,w;const M=e.fovy?.5*e.fovy*mb:Math.atan(.5/e.altitude),C=(90-e.pitch)*mb;return M>C-.01?(a=gb(e,0,t),w=gb(e,n,t)):(a=c([0,0],d),w=c([n,0],d)),[y,x,w,a]}function gb(e,t,n){const{pixelUnprojectionMatrix:i}=e,c=V0(i,[t,0,1,1]),d=V0(i,[t,e.height,1,1]),x=(n*e.distanceScales.unitsPerMeter[2]-c[2])/(d[2]-c[2]),a=$M([],c,d,x),w=Gp(a);return w.push(n),w}class lg{constructor(t={width:1,height:1}){this.equals=Q=>Q instanceof lg?Q.width===this.width&&Q.height===this.height&&fb(Q.projectionMatrix,this.projectionMatrix)&&fb(Q.viewMatrix,this.viewMatrix):!1,this.project=(Q,re={})=>{const{topLeft:ee=!0}=re,oe=this.projectPosition(Q),K=Mz(oe,this.pixelProjectionMatrix),[ne,te]=K,be=ee?te:this.height-te;return Q.length===2?[ne,be]:[ne,be,K[2]]},this.unproject=(Q,re={})=>{const{topLeft:ee=!0,targetZ:oe=void 0}=re,[K,ne,te]=Q,be=ee?ne:this.height-ne,Ce=oe&&oe*this.distanceScales.unitsPerMeter[2],Ee=pb([K,be,te],this.pixelUnprojectionMatrix,Ce),[je,Ye,Ge]=this.unprojectPosition(Ee);return Number.isFinite(te)?[je,Ye,Ge]:Number.isFinite(oe)?[je,Ye,oe]:[je,Ye]},this.projectPosition=Q=>{const[re,ee]=z0(Q),oe=(Q[2]||0)*this.distanceScales.unitsPerMeter[2];return[re,ee,oe]},this.unprojectPosition=Q=>{const[re,ee]=Gp(Q),oe=(Q[2]||0)*this.distanceScales.metersPerUnit[2];return[re,ee,oe]};let{width:n,height:i,altitude:c=null,fovy:d=null}=t;const{latitude:y=0,longitude:x=0,zoom:a=0,pitch:w=0,bearing:M=0,position:C=null,nearZMultiplier:L=.02,farZMultiplier:j=1.01}=t;n=n||1,i=i||1,d===null&&c===null?(c=GM,d=h4(c)):d===null?d=h4(c):c===null&&(c=WM(d));const W=Sz(a);c=Math.max(.75,c);const q=Tz({longitude:x,latitude:y}),U=z0([x,y]);U.push(0),C&&uz(U,U,fz([],C,q.unitsPerMeter)),this.projectionMatrix=Az({width:n,height:i,scale:W,center:U,pitch:w,fovy:d,nearZMultiplier:L,farZMultiplier:j}),this.viewMatrix=Ez({height:i,scale:W,center:U,pitch:w,bearing:M,altitude:c}),this.width=n,this.height=i,this.scale=W,this.latitude=y,this.longitude=x,this.zoom=a,this.pitch=w,this.bearing=M,this.altitude=c,this.fovy=d,this.center=U,this.meterOffset=C||[0,0,0],this.distanceScales=q,this._initMatrices(),Object.freeze(this)}_initMatrices(){const{width:t,height:n,projectionMatrix:i,viewMatrix:c}=this,d=e4();Zm(d,d,i),Zm(d,d,c),this.viewProjectionMatrix=d;const y=e4();VM(y,y,[t/2,-n/2,1]),og(y,y,[1,-1,0]),Zm(y,y,d);const x=dz(e4(),y);if(!x)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=y,this.pixelUnprojectionMatrix=x}projectFlat(t){return z0(t)}unprojectFlat(t){return Gp(t)}getMapCenterByLngLatPosition({lngLat:t,pos:n}){const i=pb(n,this.pixelUnprojectionMatrix),c=z0(t),d=hb([],c,sz([],i)),y=hb([],this.center,d);return Gp(y)}fitBounds(t,n={}){const{width:i,height:c}=this,{longitude:d,latitude:y,zoom:x}=Cz(Object.assign({width:i,height:c,bounds:t},n));return new lg({width:i,height:c,longitude:d,latitude:y,zoom:x})}getBounds(t){const n=this.getBoundingRegion(t),i=Math.min(...n.map(x=>x[0])),c=Math.max(...n.map(x=>x[0])),d=Math.min(...n.map(x=>x[1])),y=Math.max(...n.map(x=>x[1]));return[[i,d],[c,y]]}getBoundingRegion(t={}){return Oz(this,t.z||0)}getLocationAtPoint({lngLat:t,pos:n}){return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}}var Xm={exports:{}},yb;function kz(){return yb||(yb=1,(function(e){function t(w){if(w=Object.assign({},w),!(this instanceof t))throw new Error("MapboxLanguage needs to be called with the new keyword");this.setLanguage=this.setLanguage.bind(this),this._initialStyleUpdate=this._initialStyleUpdate.bind(this),this._defaultLanguage=w.defaultLanguage,this._isLanguageField=w.languageField||/^name_/,this._getLanguageField=w.getLanguageField||function(C){return C==="mul"?"name":`name_${C}`},this._languageSource=w.languageSource||null,this._languageTransform=w.languageTransform,this._excludedLayerIds=w.excludedLayerIds||[],this.supportedLanguages=w.supportedLanguages||["ar","de","en","es","fr","it","ja","ko","mul","pt","ru","vi","zh-Hans","zh-Hant"]}const n=/^\{name/;function i(w,M){const C=Array.isArray(M)&&M[0]==="get";return C&&n.test(M[1])&&console.warn("This plugin no longer supports the use of token syntax (e.g. {name}). Please use a get expression. See https://docs.mapbox.com/mapbox-gl-js/style-spec/expressions/ for more details."),C&&w.test(M[1])}function c(w,M,C){if(Array.isArray(M))for(let L=1;L<M.length;L++)Array.isArray(M[L])&&(i(w,M[L])&&(M[L][1]=C),c(w,M[L],C))}function d(w,M,C){if(i(w,M)&&(M[1]=C),c(w,M,C),M[0]==="get"&&M[1]==="name"){const L=M.slice();M=["coalesce",["get",C],L]}return M}function y(w,M,C,L){return M.layout&&M.layout["text-field"]&&L.indexOf(M.id)===-1?Object.assign({},M,{layout:Object.assign({},M.layout,{"text-field":d(w,M.layout["text-field"],C)})}):M}function x(w){const M=Object.keys(w.sources).filter(C=>{const L=w.sources[C].url;return L&&L.indexOf("mapbox.mapbox-streets-v8")>-1||/mapbox-streets-v[1-9][1-9]/.test(L)});if(!M.length)throw new Error('If using MapboxLanguage with a Mapbox style, the style must be based on vector tile version 8, e.g. "streets-v11"');return M[0]}t.prototype.setLanguage=function(w,M){if(this.supportedLanguages.indexOf(M)<0)throw new Error(`Language ${M} is not supported`);const C=this._languageSource||x(w);if(!C)return w;const L=this._getLanguageField(M),j=this._isLanguageField,W=this._excludedLayerIds,q=w.layers.map(Q=>Q.source===C?y(j,Q,L,W):Q),U=Object.assign({},w,{layers:q});return this._languageTransform?this._languageTransform(U,M):U},t.prototype._initialStyleUpdate=function(){const w=this._map.getStyle(),M=this._defaultLanguage||a(this.supportedLanguages);this._map.setStyle(this.setLanguage(w,M))};function a(w){const M=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage,C=M&&M.split("-");let L=M;return C.length>1&&(L=C[0]),w.indexOf(L)>-1?L:null}t.prototype.onAdd=function(w){return this._map=w,this._map.on("style.load",this._initialStyleUpdate),this._container=document.createElement("div"),this._container},t.prototype.onRemove=function(){this._map.off("style.load",this._initialStyleUpdate),this._map=void 0},e.exports=t})(Xm)),Xm.exports}var Dz=kz();const oee=vn(Dz),Lz=Ve.createContext(null);function Rz(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,i=Array.isArray(e)?e[1]:e?e.y:0,c=Array.isArray(t)?t[0]:t?t.x:0,d=Array.isArray(t)?t[1]:t?t.y:0;return n===c&&i===d}function Ts(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Ts(e[n],t[n]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const c of n)if(!t.hasOwnProperty(c)||!Ts(e[c],t[c]))return!1;return!0}return!1}function zz(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function _b(e,t){if(!e.getProjection)return;const n=e.getProjection(),i=t.getProjection();Ts(n,i)||t.setProjection(n)}function vb(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function xb(e,t){const n=t.viewState||t;let i=!1;if("zoom"in n){const c=e.zoom;e.zoom=n.zoom,i=i||c!==e.zoom}if("bearing"in n){const c=e.bearing;e.bearing=n.bearing,i=i||c!==e.bearing}if("pitch"in n){const c=e.pitch;e.pitch=n.pitch,i=i||c!==e.pitch}if(n.padding&&!e.isPaddingEqual(n.padding)&&(i=!0,e.padding=n.padding),"longitude"in n&&"latitude"in n){const c=e.center;e.center=new c.constructor(n.longitude,n.latitude),i=i||c!==e.center}return i}const Bz=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function bb(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const i of e.layers)t[i.id]=i;const n=e.layers.map(i=>{let c=null;"interactive"in i&&(c=Object.assign({},i),delete c.interactive);const d=t[i.ref];if(d){c=c||Object.assign({},i),delete c.ref;for(const y of Bz)y in d&&(c[y]=d[y])}return c||i});return{...e,layers:n}}var wb={};const Sb={version:8,sources:{},layers:[]},Tb={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},Km={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},Eb={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},Fz=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],jz=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class J0{constructor(t,n,i){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=c=>{const d=this.props[Eb[c.type]];d?d(c):c.type==="error"&&console.error(c.error)},this._onPointerEvent=c=>{(c.type==="mousemove"||c.type==="mouseout")&&this._updateHover(c);const d=this.props[Tb[c.type]];d&&(this.props.interactiveLayerIds&&c.type!=="mouseover"&&c.type!=="mouseout"&&(c.features=this._hoveredFeatures||this._queryRenderedFeatures(c.point)),d(c),delete c.features)},this._onCameraEvent=c=>{if(!this._internalUpdate){const d=this.props[Km[c.type]];d&&d(c)}c.type in this._deferredEvents&&(this._deferredEvents[c.type]=!1)},this._MapClass=t,this.props=n,this._initialize(i)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const n=this.props;this.props=t;const i=this._updateSettings(t,n);i&&this._createShadowTransform(this._map);const c=this._updateSize(t),d=this._updateViewState(t,!0);this._updateStyle(t,n),this._updateStyleComponents(t,n),this._updateHandlers(t,n),(i||c||d&&!this._map.isMoving())&&this.redraw()}static reuse(t,n){const i=J0.savedMaps.pop();if(!i)return null;const c=i.map,d=c.getContainer();for(n.className=d.className;d.childNodes.length>0;)n.appendChild(d.childNodes[0]);c._container=n;const y=c._resizeObserver;y&&(y.disconnect(),y.observe(n)),i.setProps({...t,styleDiffing:!1}),c.resize();const{initialViewState:x}=t;return x&&(x.bounds?c.fitBounds(x.bounds,{...x.fitBoundsOptions,duration:0}):i._updateViewState(x,!1)),c.isStyleLoaded()?c.fire("load"):c.once("styledata",()=>c.fire("load")),c._update(),i}_initialize(t){const{props:n}=this,{mapStyle:i=Sb}=n,c={...n,...n.initialViewState,accessToken:n.mapboxAccessToken||Nz()||null,container:t,style:bb(i)},d=c.initialViewState||c.viewState||c;if(Object.assign(c,{center:[d.longitude||0,d.latitude||0],zoom:d.zoom||0,pitch:d.pitch||0,bearing:d.bearing||0}),n.gl){const M=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=M,n.gl)}const y=new this._MapClass(c);d.padding&&y.setPadding(d.padding),n.cursor&&(y.getCanvas().style.cursor=n.cursor),this._createShadowTransform(y);const x=y._render;y._render=M=>{this._inRender=!0,x.call(y,M),this._inRender=!1};const a=y._renderTaskQueue.run;y._renderTaskQueue.run=M=>{a.call(y._renderTaskQueue,M),this._onBeforeRepaint()},y.on("render",()=>this._onAfterRepaint());const w=y.fire;y.fire=this._fireEvent.bind(this,w),y.on("resize",()=>{this._renderTransform.resize(y.transform.width,y.transform.height)}),y.on("styledata",()=>{this._updateStyleComponents(this.props,{}),_b(y.transform,this._renderTransform)}),y.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const M in Tb)y.on(M,this._onPointerEvent);for(const M in Km)y.on(M,this._onCameraEvent);for(const M in Eb)y.on(M,this._onEvent);this._map=y}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n?.remove(),J0.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const n=zz(t.transform);t.painter.transform=n,this._renderTransform=n}_updateSize(t){const{viewState:n}=t;if(n){const i=this._map;if(n.width!==i.transform.width||n.height!==i.transform.height)return i.resize(),!0}return!1}_updateViewState(t,n){if(this._internalUpdate)return!1;const i=this._map,c=this._renderTransform,{zoom:d,pitch:y,bearing:x}=c,a=i.isMoving();a&&(c.cameraElevationReference="sea");const w=xb(c,{...vb(i.transform),...t});if(a&&(c.cameraElevationReference="ground"),w&&n){const M=this._deferredEvents;M.move=!0,M.zoom||(M.zoom=d!==c.zoom),M.rotate||(M.rotate=x!==c.bearing),M.pitch||(M.pitch=y!==c.pitch)}return a||xb(i.transform,t),w}_updateSettings(t,n){const i=this._map;let c=!1;for(const d of Fz)if(d in t&&!Ts(t[d],n[d])){c=!0;const y=i[`set${d[0].toUpperCase()}${d.slice(1)}`];y?.call(i,t[d])}return c}_updateStyle(t,n){if(t.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==n.mapStyle){const{mapStyle:i=Sb,styleDiffing:c=!0}=t,d={diff:c};return"localIdeographFontFamily"in t&&(d.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(bb(i),d),!0}return!1}_updateStyleComponents(t,n){const i=this._map;let c=!1;return i.isStyleLoaded()&&("light"in t&&i.setLight&&!Ts(t.light,n.light)&&(c=!0,i.setLight(t.light)),"fog"in t&&i.setFog&&!Ts(t.fog,n.fog)&&(c=!0,i.setFog(t.fog)),"terrain"in t&&i.setTerrain&&!Ts(t.terrain,n.terrain)&&(!t.terrain||i.getSource(t.terrain.source))&&(c=!0,i.setTerrain(t.terrain))),c}_updateHandlers(t,n){var i,c;const d=this._map;let y=!1;for(const x of jz){const a=(i=t[x])!==null&&i!==void 0?i:!0,w=(c=n[x])!==null&&c!==void 0?c:!0;Ts(a,w)||(y=!0,a?d[x].enable(a):d[x].disable())}return y}_queryRenderedFeatures(t){const n=this._map,i=n.transform,{interactiveLayerIds:c=[]}=this.props;try{return n.transform=this._renderTransform,n.queryRenderedFeatures(t,{layers:c.filter(n.getLayer.bind(n))})}catch{return[]}finally{n.transform=i}}_updateHover(t){var n;const{props:i}=this;if(i.interactiveLayerIds&&(i.onMouseMove||i.onMouseEnter||i.onMouseLeave)){const d=t.type,y=((n=this._hoveredFeatures)===null||n===void 0?void 0:n.length)>0,x=this._queryRenderedFeatures(t.point),a=x.length>0;!a&&y&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=x,a&&!y&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=d}else this._hoveredFeatures=null}_fireEvent(t,n,i){const c=this._map,d=c.transform,y=typeof n=="string"?n:n.type;return y==="move"&&this._updateViewState(this.props,!1),y in Km&&(typeof n=="object"&&(n.viewState=vb(d)),this._map.isMoving())?(c.transform=this._renderTransform,t.call(c,n,i),c.transform=d,c):(t.call(c,n,i),c)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const i in this._deferredEvents)this._deferredEvents[i]&&t.fire(i);this._internalUpdate=!1;const n=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{_b(this._renderTransform,n),t.transform=n}}}J0.savedMaps=[];function Nz(){let e=null;if(typeof location<"u"){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||wb.MapboxAccessToken}catch{}try{e=e||wb.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const Uz=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function $z(e){if(!e)return null;const t=e.map,n={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:i=>{const c=t.transform;t.transform=e.transform;const d=t.project(i);return t.transform=c,d},unproject:i=>{const c=t.transform;t.transform=e.transform;const d=t.unproject(i);return t.transform=c,d},queryTerrainElevation:(i,c)=>{const d=t.transform;t.transform=e.transform;const y=t.queryTerrainElevation(i,c);return t.transform=d,y},queryRenderedFeatures:(i,c)=>{const d=t.transform;t.transform=e.transform;const y=t.queryRenderedFeatures(i,c);return t.transform=d,y}};for(const i of Vz(t))!(i in n)&&!Uz.includes(i)&&(n[i]=t[i].bind(t));return n}function Vz(e){const t=new Set;let n=e;for(;n;){for(const i of Object.getOwnPropertyNames(n))i[0]!=="_"&&typeof e[i]=="function"&&i!=="fire"&&i!=="setEventedParent"&&t.add(i);n=Object.getPrototypeOf(n)}return Array.from(t)}const qz=typeof document<"u"?Ve.useLayoutEffect:Ve.useEffect,Gz=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function Wz(e,t){for(const i of Gz)i in t&&(e[i]=t[i]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;n&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(n,i=>{i&&console.error(i)},!0)}const bd=Ve.createContext(null);function Hz(e,t,n){const i=Ve.useContext(Lz),[c,d]=Ve.useState(null),y=Ve.useRef(),{current:x}=Ve.useRef({mapLib:null,map:null});Ve.useEffect(()=>{const M=e.mapLib;let C=!0,L;return Promise.resolve(M||n).then(j=>{if(!C)return;if(!j)throw new Error("Invalid mapLib");const W="Map"in j?j:j.default;if(!W.Map)throw new Error("Invalid mapLib");if(Wz(W,e),!W.supported||W.supported(e))e.reuseMaps&&(L=J0.reuse(e,y.current)),L||(L=new J0(W.Map,e,y.current)),x.map=$z(L),x.mapLib=W,d(L),i?.onMapMount(x.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(j=>{const{onError:W}=e;W?W({type:"error",target:null,originalEvent:null,error:j}):console.error(j)}),()=>{C=!1,L&&(i?.onMapUnmount(e.id),e.reuseMaps?L.recycle():L.destroy())}},[]),qz(()=>{c&&c.setProps(e)}),Ve.useImperativeHandle(t,()=>x.map,[c]);const a=Ve.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),w={height:"100%"};return Ve.createElement("div",{id:e.id,ref:y,style:a},c&&Ve.createElement(bd.Provider,{value:x},Ve.createElement("div",{"mapboxgl-children":"",style:w},e.children)))}const Zz=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function wf(e,t){if(!e||!t)return;const n=e.style;for(const i in t){const c=t[i];Number.isFinite(c)&&!Zz.test(i)?n[i]=`${c}px`:n[i]=c}}function Xz(e,t){const{map:n,mapLib:i}=Ve.useContext(bd),c=Ve.useRef({props:e});c.current.props=e;const d=Ve.useMemo(()=>{let q=!1;Ve.Children.forEach(e.children,re=>{re&&(q=!0)});const U={...e,element:q?document.createElement("div"):null},Q=new i.Marker(U);return Q.setLngLat([e.longitude,e.latitude]),Q.getElement().addEventListener("click",re=>{var ee,oe;(oe=(ee=c.current.props).onClick)===null||oe===void 0||oe.call(ee,{type:"click",target:Q,originalEvent:re})}),Q.on("dragstart",re=>{var ee,oe;const K=re;K.lngLat=d.getLngLat(),(oe=(ee=c.current.props).onDragStart)===null||oe===void 0||oe.call(ee,K)}),Q.on("drag",re=>{var ee,oe;const K=re;K.lngLat=d.getLngLat(),(oe=(ee=c.current.props).onDrag)===null||oe===void 0||oe.call(ee,K)}),Q.on("dragend",re=>{var ee,oe;const K=re;K.lngLat=d.getLngLat(),(oe=(ee=c.current.props).onDragEnd)===null||oe===void 0||oe.call(ee,K)}),Q},[]);Ve.useEffect(()=>(d.addTo(n.getMap()),()=>{d.remove()}),[]);const{longitude:y,latitude:x,offset:a,style:w,draggable:M=!1,popup:C=null,rotation:L=0,rotationAlignment:j="auto",pitchAlignment:W="auto"}=e;return Ve.useEffect(()=>{wf(d.getElement(),w)},[w]),Ve.useImperativeHandle(t,()=>d,[]),(d.getLngLat().lng!==y||d.getLngLat().lat!==x)&&d.setLngLat([y,x]),a&&!Rz(d.getOffset(),a)&&d.setOffset(a),d.isDraggable()!==M&&d.setDraggable(M),d.getRotation()!==L&&d.setRotation(L),d.getRotationAlignment()!==j&&d.setRotationAlignment(j),d.getPitchAlignment()!==W&&d.setPitchAlignment(W),d.getPopup()!==C&&d.setPopup(C),s6.createPortal(e.children,d.getElement())}const Kz=Ve.memo(Ve.forwardRef(Xz));function Pb(e){return new Set(e?e.trim().split(/\s+/):[])}function Yz(e,t){const{map:n,mapLib:i}=Ve.useContext(bd),c=Ve.useMemo(()=>document.createElement("div"),[]),d=Ve.useRef({props:e});d.current.props=e;const y=Ve.useMemo(()=>{const x={...e},a=new i.Popup(x);return a.setLngLat([e.longitude,e.latitude]),a.once("open",w=>{var M,C;(C=(M=d.current.props).onOpen)===null||C===void 0||C.call(M,w)}),a},[]);if(Ve.useEffect(()=>{const x=a=>{var w,M;(M=(w=d.current.props).onClose)===null||M===void 0||M.call(w,a)};return y.on("close",x),y.setDOMContent(c).addTo(n.getMap()),()=>{y.off("close",x),y.isOpen()&&y.remove()}},[]),Ve.useEffect(()=>{wf(y.getElement(),e.style)},[e.style]),Ve.useImperativeHandle(t,()=>y,[]),y.isOpen()&&((y.getLngLat().lng!==e.longitude||y.getLngLat().lat!==e.latitude)&&y.setLngLat([e.longitude,e.latitude]),e.offset&&!Ts(y.options.offset,e.offset)&&y.setOffset(e.offset),(y.options.anchor!==e.anchor||y.options.maxWidth!==e.maxWidth)&&(y.options.anchor=e.anchor,y.setMaxWidth(e.maxWidth)),y.options.className!==e.className)){const x=Pb(y.options.className),a=Pb(e.className);for(const w of x)a.has(w)||y.removeClassName(w);for(const w of a)x.has(w)||y.addClassName(w);y.options.className=e.className}return s6.createPortal(e.children,c)}Ve.memo(Ve.forwardRef(Yz));function z3(e,t,n,i){const c=Ve.useContext(bd),d=Ve.useMemo(()=>e(c),[]);return Ve.useEffect(()=>{const y=t,x=null,a=typeof t=="function"?t:null,{map:w}=c;return w.hasControl(d)||(w.addControl(d,y?.position),x&&x(c)),()=>{a&&a(c),w.hasControl(d)&&w.removeControl(d)}},[]),d}function Jz(e){const t=z3(({mapLib:n})=>new n.AttributionControl(e),{position:e.position});return Ve.useEffect(()=>{wf(t._container,e.style)},[e.style]),null}Ve.memo(Jz);function Qz(e){const t=z3(({mapLib:n})=>new n.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return Ve.useEffect(()=>{wf(t._controlContainer,e.style)},[e.style]),null}const eB=Ve.memo(Qz);function tB(e,t){const n=Ve.useRef({props:e}),i=z3(({mapLib:c})=>{const d=new c.GeolocateControl(e),y=d._setupUI;return d._setupUI=x=>{d._container.hasChildNodes()||y(x)},d.on("geolocate",x=>{var a,w;(w=(a=n.current.props).onGeolocate)===null||w===void 0||w.call(a,x)}),d.on("error",x=>{var a,w;(w=(a=n.current.props).onError)===null||w===void 0||w.call(a,x)}),d.on("outofmaxbounds",x=>{var a,w;(w=(a=n.current.props).onOutOfMaxBounds)===null||w===void 0||w.call(a,x)}),d.on("trackuserlocationstart",x=>{var a,w;(w=(a=n.current.props).onTrackUserLocationStart)===null||w===void 0||w.call(a,x)}),d.on("trackuserlocationend",x=>{var a,w;(w=(a=n.current.props).onTrackUserLocationEnd)===null||w===void 0||w.call(a,x)}),d},{position:e.position});return n.current.props=e,Ve.useImperativeHandle(t,()=>i,[]),Ve.useEffect(()=>{wf(i._container,e.style)},[e.style]),null}Ve.memo(Ve.forwardRef(tB));function rB(e){const t=z3(({mapLib:n})=>new n.NavigationControl(e),{position:e.position});return Ve.useEffect(()=>{wf(t._container,e.style)},[e.style]),null}const nB=Ve.memo(rB);function iB(e){const t=z3(({mapLib:d})=>new d.ScaleControl(e),{position:e.position}),n=Ve.useRef(e),i=n.current;n.current=e;const{style:c}=e;return e.maxWidth!==void 0&&e.maxWidth!==i.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==i.unit&&t.setUnit(e.unit),Ve.useEffect(()=>{wf(t._container,c)},[c]),null}Ve.memo(iB);function f4(e,t){if(!e)throw new Error(t)}function oB(e,t,n,i){if(f4(n.id===i.id,"layer id changed"),f4(n.type===i.type,"layer type changed"),n.type==="custom"||i.type==="custom")return;const{layout:c={},paint:d={},filter:y,minzoom:x,maxzoom:a,beforeId:w}=n;if(w!==i.beforeId&&e.moveLayer(t,w),c!==i.layout){const M=i.layout||{};for(const C in c)Ts(c[C],M[C])||e.setLayoutProperty(t,C,c[C]);for(const C in M)c.hasOwnProperty(C)||e.setLayoutProperty(t,C,void 0)}if(d!==i.paint){const M=i.paint||{};for(const C in d)Ts(d[C],M[C])||e.setPaintProperty(t,C,d[C]);for(const C in M)d.hasOwnProperty(C)||e.setPaintProperty(t,C,void 0)}Ts(y,i.filter)||e.setFilter(t,y),(x!==i.minzoom||a!==i.maxzoom)&&e.setLayerZoomRange(t,x,a)}function aB(e,t,n){if(e.style&&e.style._loaded&&(!("source"in n)||e.getSource(n.source))){const i={...n,id:t};delete i.beforeId,e.addLayer(i,n.beforeId)}}let sB=0;function lB(e){const t=Ve.useContext(bd).map.getMap(),n=Ve.useRef(e),[,i]=Ve.useState(0),c=Ve.useMemo(()=>e.id||`jsx-layer-${sB++}`,[]);if(Ve.useEffect(()=>{if(t){const y=()=>i(x=>x+1);return t.on("styledata",y),y(),()=>{t.off("styledata",y),t.style&&t.style._loaded&&t.getLayer(c)&&t.removeLayer(c)}}},[t]),t&&t.style&&t.getLayer(c))try{oB(t,c,e,n.current)}catch(y){console.warn(y)}else aB(t,c,e);return n.current=e,null}let uB=0;function cB(e,t,n){if(e.style&&e.style._loaded){const i={...n};return delete i.id,delete i.children,e.addSource(t,i),e.getSource(t)}return null}function hB(e,t,n){f4(t.id===n.id,"source id changed"),f4(t.type===n.type,"source type changed");let i="",c=0;for(const y in t)y!=="children"&&y!=="id"&&!Ts(n[y],t[y])&&(i=y,c++);if(!c)return;const d=t.type;d==="geojson"?e.setData(t.data):d==="image"?e.updateImage({url:t.url,coordinates:t.coordinates}):"setCoordinates"in e&&c===1&&i==="coordinates"?e.setCoordinates(t.coordinates):"setUrl"in e&&i==="url"?e.setUrl(t.url):"setTiles"in e&&i==="tiles"?e.setTiles(t.tiles):console.warn(`Unable to update <Source> prop: ${i}`)}function fB(e){const t=Ve.useContext(bd).map.getMap(),n=Ve.useRef(e),[,i]=Ve.useState(0),c=Ve.useMemo(()=>e.id||`jsx-source-${uB++}`,[]);Ve.useEffect(()=>{if(t){const y=()=>setTimeout(()=>i(x=>x+1),0);return t.on("styledata",y),y(),()=>{var x;if(t.off("styledata",y),t.style&&t.style._loaded&&t.getSource(c)){const a=(x=t.getStyle())===null||x===void 0?void 0:x.layers;if(a)for(const w of a)w.source===c&&t.removeLayer(w.id);t.removeSource(c)}}}},[t]);let d=t&&t.style&&t.getSource(c);return d?hB(d,e,n.current):d=cB(t,c,e),n.current=e,d&&Ve.Children.map(e.children,y=>y&&Ve.cloneElement(y,{source:c}))||null}const dB=qR(()=>Promise.resolve().then(()=>KQ),void 0),aee=Ve.forwardRef(function(t,n){return Hz(t,n,dB)}),see=Kz,lee=eB,uee=nB,cee=lB,hee=fB;var Ym={},Jm={},Qm={},Ab;function pB(){return Ab||(Ab=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];if(typeof window<"u"){var x;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(x=window).gtag.apply(x,d)}},n=t;e.default=n})(Qm)),Qm}var e2={},Mb;function mB(){return Mb||(Mb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=y;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(x){return x.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(a,w,M){return w>0&&w+a.length!==M.length&&a.search(t)>-1&&M.charAt(w-2)!==":"&&(M.charAt(w+a.length)!=="-"||M.charAt(w-1)==="-")&&M.charAt(w-1).search(/[^\s-]/)<0?a.toLowerCase():a.substr(1).search(/[A-Z]|\../)>-1?a:a.charAt(0).toUpperCase()+a.substr(1)})}function i(x){return typeof x=="string"&&x.indexOf("@")!==-1}var c="REDACTED (Potential Email Address)";function d(x){return i(x)?(console.warn("This arg looks like an email address, redacting."),c):x}function y(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,M=x||"";return a&&(M=n(x)),w&&(M=d(M)),M}})(e2)),e2}var Cb;function gB(){return Cb||(Cb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=y(pB()),n=y(mB()),i=["eventCategory","eventAction","eventLabel","eventValue","hitType"],c=["title","location"],d=["page","hitType"];function y(Te){return Te&&Te.__esModule?Te:{default:Te}}function x(Te,Se){if(Te==null)return{};var ze=a(Te,Se),Ue,ke;if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(Te);for(ke=0;ke<$e.length;ke++)Ue=$e[ke],!(Se.indexOf(Ue)>=0)&&Object.prototype.propertyIsEnumerable.call(Te,Ue)&&(ze[Ue]=Te[Ue])}return ze}function a(Te,Se){if(Te==null)return{};var ze={},Ue=Object.keys(Te),ke,$e;for($e=0;$e<Ue.length;$e++)ke=Ue[$e],!(Se.indexOf(ke)>=0)&&(ze[ke]=Te[ke]);return ze}function w(Te){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},w(Te)}function M(Te){return j(Te)||L(Te)||re(Te)||C()}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(Te){if(typeof Symbol<"u"&&Te[Symbol.iterator]!=null||Te["@@iterator"]!=null)return Array.from(Te)}function j(Te){if(Array.isArray(Te))return ee(Te)}function W(Te,Se){var ze=Object.keys(Te);if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(Te);Se&&(Ue=Ue.filter(function(ke){return Object.getOwnPropertyDescriptor(Te,ke).enumerable})),ze.push.apply(ze,Ue)}return ze}function q(Te){for(var Se=1;Se<arguments.length;Se++){var ze=arguments[Se]!=null?arguments[Se]:{};Se%2?W(Object(ze),!0).forEach(function(Ue){Ce(Te,Ue,ze[Ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(ze)):W(Object(ze)).forEach(function(Ue){Object.defineProperty(Te,Ue,Object.getOwnPropertyDescriptor(ze,Ue))})}return Te}function U(Te,Se){return K(Te)||oe(Te,Se)||re(Te,Se)||Q()}function Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(Te,Se){if(Te){if(typeof Te=="string")return ee(Te,Se);var ze=Object.prototype.toString.call(Te).slice(8,-1);if(ze==="Object"&&Te.constructor&&(ze=Te.constructor.name),ze==="Map"||ze==="Set")return Array.from(Te);if(ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return ee(Te,Se)}}function ee(Te,Se){(Se==null||Se>Te.length)&&(Se=Te.length);for(var ze=0,Ue=new Array(Se);ze<Se;ze++)Ue[ze]=Te[ze];return Ue}function oe(Te,Se){var ze=Te==null?null:typeof Symbol<"u"&&Te[Symbol.iterator]||Te["@@iterator"];if(ze!=null){var Ue,ke,$e,ft,Pe=[],We=!0,At=!1;try{if($e=(ze=ze.call(Te)).next,Se!==0)for(;!(We=(Ue=$e.call(ze)).done)&&(Pe.push(Ue.value),Pe.length!==Se);We=!0);}catch(zt){At=!0,ke=zt}finally{try{if(!We&&ze.return!=null&&(ft=ze.return(),Object(ft)!==ft))return}finally{if(At)throw ke}}return Pe}}function K(Te){if(Array.isArray(Te))return Te}function ne(Te,Se){if(!(Te instanceof Se))throw new TypeError("Cannot call a class as a function")}function te(Te,Se){for(var ze=0;ze<Se.length;ze++){var Ue=Se[ze];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(Te,Ee(Ue.key),Ue)}}function be(Te,Se,ze){return Se&&te(Te.prototype,Se),Object.defineProperty(Te,"prototype",{writable:!1}),Te}function Ce(Te,Se,ze){return Se=Ee(Se),Se in Te?Object.defineProperty(Te,Se,{value:ze,enumerable:!0,configurable:!0,writable:!0}):Te[Se]=ze,Te}function Ee(Te){var Se=je(Te,"string");return w(Se)==="symbol"?Se:String(Se)}function je(Te,Se){if(w(Te)!=="object"||Te===null)return Te;var ze=Te[Symbol.toPrimitive];if(ze!==void 0){var Ue=ze.call(Te,Se);if(w(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Se==="string"?String:Number)(Te)}var Ye=(function(){function Te(){var Se=this;ne(this,Te),Ce(this,"reset",function(){Se.isInitialized=!1,Se._testMode=!1,Se._currentMeasurementId,Se._hasLoadedGA=!1,Se._isQueuing=!1,Se._queueGtag=[]}),Ce(this,"_gtag",function(){for(var ze=arguments.length,Ue=new Array(ze),ke=0;ke<ze;ke++)Ue[ke]=arguments[ke];Se._testMode||Se._isQueuing?Se._queueGtag.push(Ue):t.default.apply(void 0,Ue)}),Ce(this,"_loadGA",function(ze,Ue){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!Se._hasLoadedGA){var $e=document.createElement("script");$e.async=!0,$e.src="".concat(ke,"?id=").concat(ze),Ue&&$e.setAttribute("nonce",Ue),document.body.appendChild($e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},Se._hasLoadedGA=!0}}),Ce(this,"_toGtagOptions",function(ze){if(ze){var Ue={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},ke=Object.entries(ze).reduce(function($e,ft){var Pe=U(ft,2),We=Pe[0],At=Pe[1];return Ue[We]?$e[Ue[We]]=At:$e[We]=At,$e},{});return ke}}),Ce(this,"initialize",function(ze){var Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ze)throw new Error("Require GA_MEASUREMENT_ID");var ke=typeof ze=="string"?[{trackingId:ze}]:ze;Se._currentMeasurementId=ke[0].trackingId;var $e=Ue.gaOptions,ft=Ue.gtagOptions,Pe=Ue.nonce,We=Ue.testMode,At=We===void 0?!1:We,zt=Ue.gtagUrl;if(Se._testMode=At,At||Se._loadGA(Se._currentMeasurementId,Pe,zt),Se.isInitialized||(Se._gtag("js",new Date),ke.forEach(function(wr){var yr=q(q(q({},Se._toGtagOptions(q(q({},$e),wr.gaOptions))),ft),wr.gtagOptions);Object.keys(yr).length?Se._gtag("config",wr.trackingId,yr):Se._gtag("config",wr.trackingId)})),Se.isInitialized=!0,!At){var nr=M(Se._queueGtag);for(Se._queueGtag=[],Se._isQueuing=!1;nr.length;){var fr=nr.shift();Se._gtag.apply(Se,M(fr)),fr[0]==="get"&&(Se._isQueuing=!0)}}}),Ce(this,"set",function(ze){if(!ze){console.warn("`fieldsObject` is required in .set()");return}if(w(ze)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(ze).length===0&&console.warn("empty `fieldsObject` given to .set()"),Se._gaCommand("set",ze)}),Ce(this,"_gaCommandSendEvent",function(ze,Ue,ke,$e,ft){Se._gtag("event",Ue,q(q({event_category:ze,event_label:ke,value:$e},ft&&{non_interaction:ft.nonInteraction}),Se._toGtagOptions(ft)))}),Ce(this,"_gaCommandSendEventParameters",function(){for(var ze=arguments.length,Ue=new Array(ze),ke=0;ke<ze;ke++)Ue[ke]=arguments[ke];if(typeof Ue[0]=="string")Se._gaCommandSendEvent.apply(Se,M(Ue.slice(1)));else{var $e=Ue[0],ft=$e.eventCategory,Pe=$e.eventAction,We=$e.eventLabel,At=$e.eventValue;$e.hitType;var zt=x($e,i);Se._gaCommandSendEvent(ft,Pe,We,At,zt)}}),Ce(this,"_gaCommandSendTiming",function(ze,Ue,ke,$e){Se._gtag("event","timing_complete",{name:Ue,value:ke,event_category:ze,event_label:$e})}),Ce(this,"_gaCommandSendPageview",function(ze,Ue){if(Ue&&Object.keys(Ue).length){var ke=Se._toGtagOptions(Ue),$e=ke.title,ft=ke.location,Pe=x(ke,c);Se._gtag("event","page_view",q(q(q(q({},ze&&{page_path:ze}),$e&&{page_title:$e}),ft&&{page_location:ft}),Pe))}else ze?Se._gtag("event","page_view",{page_path:ze}):Se._gtag("event","page_view")}),Ce(this,"_gaCommandSendPageviewParameters",function(){for(var ze=arguments.length,Ue=new Array(ze),ke=0;ke<ze;ke++)Ue[ke]=arguments[ke];if(typeof Ue[0]=="string")Se._gaCommandSendPageview.apply(Se,M(Ue.slice(1)));else{var $e=Ue[0],ft=$e.page;$e.hitType;var Pe=x($e,d);Se._gaCommandSendPageview(ft,Pe)}}),Ce(this,"_gaCommandSend",function(){for(var ze=arguments.length,Ue=new Array(ze),ke=0;ke<ze;ke++)Ue[ke]=arguments[ke];var $e=typeof Ue[0]=="string"?Ue[0]:Ue[0].hitType;switch($e){case"event":Se._gaCommandSendEventParameters.apply(Se,Ue);break;case"pageview":Se._gaCommandSendPageviewParameters.apply(Se,Ue);break;case"timing":Se._gaCommandSendTiming.apply(Se,M(Ue.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat($e));break;default:console.warn("Send command doesn't exist: ".concat($e))}}),Ce(this,"_gaCommandSet",function(){for(var ze=arguments.length,Ue=new Array(ze),ke=0;ke<ze;ke++)Ue[ke]=arguments[ke];typeof Ue[0]=="string"&&(Ue[0]=Ce({},Ue[0],Ue[1])),Se._gtag("set",Se._toGtagOptions(Ue[0]))}),Ce(this,"_gaCommand",function(ze){for(var Ue=arguments.length,ke=new Array(Ue>1?Ue-1:0),$e=1;$e<Ue;$e++)ke[$e-1]=arguments[$e];switch(ze){case"send":Se._gaCommandSend.apply(Se,ke);break;case"set":Se._gaCommandSet.apply(Se,ke);break;default:console.warn("Command doesn't exist: ".concat(ze))}}),Ce(this,"ga",function(){for(var ze=arguments.length,Ue=new Array(ze),ke=0;ke<ze;ke++)Ue[ke]=arguments[ke];if(typeof Ue[0]=="string")Se._gaCommand.apply(Se,Ue);else{var $e=Ue[0];Se._gtag("get",Se._currentMeasurementId,"client_id",function(ft){Se._isQueuing=!1;var Pe=Se._queueGtag;for($e({get:function(zt){return zt==="clientId"?ft:zt==="trackingId"?Se._currentMeasurementId:zt==="apiVersion"?"1":void 0}});Pe.length;){var We=Pe.shift();Se._gtag.apply(Se,M(We))}}),Se._isQueuing=!0}return Se.ga}),Ce(this,"event",function(ze,Ue){if(typeof ze=="string")Se._gtag("event",ze,Se._toGtagOptions(Ue));else{var ke=ze.action,$e=ze.category,ft=ze.label,Pe=ze.value,We=ze.nonInteraction,At=ze.transport;if(!$e||!ke){console.warn("args.category AND args.action are required in event()");return}var zt={hitType:"event",eventCategory:(0,n.default)($e),eventAction:(0,n.default)(ke)};ft&&(zt.eventLabel=(0,n.default)(ft)),typeof Pe<"u"&&(typeof Pe!="number"?console.warn("Expected `args.value` arg to be a Number."):zt.eventValue=Pe),typeof We<"u"&&(typeof We!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):zt.nonInteraction=We),typeof At<"u"&&(typeof At!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(At)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),zt.transport=At)),Se._gaCommand("send",zt)}}),Ce(this,"send",function(ze){Se._gaCommand("send",ze)}),this.reset()}return be(Te,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),Te})();e.GA4=Ye;var Ge=new Ye;e.default=Ge})(Jm)),Jm}var Ib;function yB(){return Ib||(Ib=1,(function(e){function t(x){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(x)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=c(gB());function i(x){if(typeof WeakMap!="function")return null;var a=new WeakMap,w=new WeakMap;return(i=function(C){return C?w:a})(x)}function c(x,a){if(x&&x.__esModule)return x;if(x===null||t(x)!=="object"&&typeof x!="function")return{default:x};var w=i(a);if(w&&w.has(x))return w.get(x);var M={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in x)if(L!=="default"&&Object.prototype.hasOwnProperty.call(x,L)){var j=C?Object.getOwnPropertyDescriptor(x,L):null;j&&(j.get||j.set)?Object.defineProperty(M,L,j):M[L]=x[L]}return M.default=x,w&&w.set(x,M),M}var d=n.GA4;e.ReactGAImplementation=d;var y=n.default;e.default=y})(Ym)),Ym}yB();function HM(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(n=HM(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function $n(){for(var e,t,n=0,i="",c=arguments.length;n<c;n++)(e=arguments[n])&&(t=HM(e))&&(i&&(i+=" "),i+=t);return i}var t2,Ob;function es(){if(Ob)return t2;Ob=1;var e=Array.isArray;return t2=e,t2}var r2,kb;function ZM(){if(kb)return r2;kb=1;var e=typeof k5=="object"&&k5&&k5.Object===Object&&k5;return r2=e,r2}var n2,Db;function Uu(){if(Db)return n2;Db=1;var e=ZM(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return n2=n,n2}var i2,Lb;function B3(){if(Lb)return i2;Lb=1;var e=Uu(),t=e.Symbol;return i2=t,i2}var o2,Rb;function _B(){if(Rb)return o2;Rb=1;var e=B3(),t=Object.prototype,n=t.hasOwnProperty,i=t.toString,c=e?e.toStringTag:void 0;function d(y){var x=n.call(y,c),a=y[c];try{y[c]=void 0;var w=!0}catch{}var M=i.call(y);return w&&(x?y[c]=a:delete y[c]),M}return o2=d,o2}var a2,zb;function vB(){if(zb)return a2;zb=1;var e=Object.prototype,t=e.toString;function n(i){return t.call(i)}return a2=n,a2}var s2,Bb;function Uc(){if(Bb)return s2;Bb=1;var e=B3(),t=_B(),n=vB(),i="[object Null]",c="[object Undefined]",d=e?e.toStringTag:void 0;function y(x){return x==null?x===void 0?c:i:d&&d in Object(x)?t(x):n(x)}return s2=y,s2}var l2,Fb;function $c(){if(Fb)return l2;Fb=1;function e(t){return t!=null&&typeof t=="object"}return l2=e,l2}var u2,jb;function wd(){if(jb)return u2;jb=1;var e=Uc(),t=$c(),n="[object Symbol]";function i(c){return typeof c=="symbol"||t(c)&&e(c)==n}return u2=i,u2}var c2,Nb;function Ly(){if(Nb)return c2;Nb=1;var e=es(),t=wd(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function c(d,y){if(e(d))return!1;var x=typeof d;return x=="number"||x=="symbol"||x=="boolean"||d==null||t(d)?!0:i.test(d)||!n.test(d)||y!=null&&d in Object(y)}return c2=c,c2}var h2,Ub;function H1(){if(Ub)return h2;Ub=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return h2=e,h2}var f2,$b;function Ry(){if($b)return f2;$b=1;var e=Uc(),t=H1(),n="[object AsyncFunction]",i="[object Function]",c="[object GeneratorFunction]",d="[object Proxy]";function y(x){if(!t(x))return!1;var a=e(x);return a==i||a==c||a==n||a==d}return f2=y,f2}var d2,Vb;function xB(){if(Vb)return d2;Vb=1;var e=Uu(),t=e["__core-js_shared__"];return d2=t,d2}var p2,qb;function bB(){if(qb)return p2;qb=1;var e=xB(),t=(function(){var i=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function n(i){return!!t&&t in i}return p2=n,p2}var m2,Gb;function XM(){if(Gb)return m2;Gb=1;var e=Function.prototype,t=e.toString;function n(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return m2=n,m2}var g2,Wb;function wB(){if(Wb)return g2;Wb=1;var e=Ry(),t=bB(),n=H1(),i=XM(),c=/[\\^$.*+?()[\]{}|]/g,d=/^\[object .+?Constructor\]$/,y=Function.prototype,x=Object.prototype,a=y.toString,w=x.hasOwnProperty,M=RegExp("^"+a.call(w).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C(L){if(!n(L)||t(L))return!1;var j=e(L)?M:d;return j.test(i(L))}return g2=C,g2}var y2,Hb;function SB(){if(Hb)return y2;Hb=1;function e(t,n){return t?.[n]}return y2=e,y2}var _2,Zb;function Sf(){if(Zb)return _2;Zb=1;var e=wB(),t=SB();function n(i,c){var d=t(i,c);return e(d)?d:void 0}return _2=n,_2}var v2,Xb;function f6(){if(Xb)return v2;Xb=1;var e=Sf(),t=e(Object,"create");return v2=t,v2}var x2,Kb;function TB(){if(Kb)return x2;Kb=1;var e=f6();function t(){this.__data__=e?e(null):{},this.size=0}return x2=t,x2}var b2,Yb;function EB(){if(Yb)return b2;Yb=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return b2=e,b2}var w2,Jb;function PB(){if(Jb)return w2;Jb=1;var e=f6(),t="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function c(d){var y=this.__data__;if(e){var x=y[d];return x===t?void 0:x}return i.call(y,d)?y[d]:void 0}return w2=c,w2}var S2,Qb;function AB(){if(Qb)return S2;Qb=1;var e=f6(),t=Object.prototype,n=t.hasOwnProperty;function i(c){var d=this.__data__;return e?d[c]!==void 0:n.call(d,c)}return S2=i,S2}var T2,ew;function MB(){if(ew)return T2;ew=1;var e=f6(),t="__lodash_hash_undefined__";function n(i,c){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=e&&c===void 0?t:c,this}return T2=n,T2}var E2,tw;function CB(){if(tw)return E2;tw=1;var e=TB(),t=EB(),n=PB(),i=AB(),c=MB();function d(y){var x=-1,a=y==null?0:y.length;for(this.clear();++x<a;){var w=y[x];this.set(w[0],w[1])}}return d.prototype.clear=e,d.prototype.delete=t,d.prototype.get=n,d.prototype.has=i,d.prototype.set=c,E2=d,E2}var P2,rw;function IB(){if(rw)return P2;rw=1;function e(){this.__data__=[],this.size=0}return P2=e,P2}var A2,nw;function zy(){if(nw)return A2;nw=1;function e(t,n){return t===n||t!==t&&n!==n}return A2=e,A2}var M2,iw;function d6(){if(iw)return M2;iw=1;var e=zy();function t(n,i){for(var c=n.length;c--;)if(e(n[c][0],i))return c;return-1}return M2=t,M2}var C2,ow;function OB(){if(ow)return C2;ow=1;var e=d6(),t=Array.prototype,n=t.splice;function i(c){var d=this.__data__,y=e(d,c);if(y<0)return!1;var x=d.length-1;return y==x?d.pop():n.call(d,y,1),--this.size,!0}return C2=i,C2}var I2,aw;function kB(){if(aw)return I2;aw=1;var e=d6();function t(n){var i=this.__data__,c=e(i,n);return c<0?void 0:i[c][1]}return I2=t,I2}var O2,sw;function DB(){if(sw)return O2;sw=1;var e=d6();function t(n){return e(this.__data__,n)>-1}return O2=t,O2}var k2,lw;function LB(){if(lw)return k2;lw=1;var e=d6();function t(n,i){var c=this.__data__,d=e(c,n);return d<0?(++this.size,c.push([n,i])):c[d][1]=i,this}return k2=t,k2}var D2,uw;function p6(){if(uw)return D2;uw=1;var e=IB(),t=OB(),n=kB(),i=DB(),c=LB();function d(y){var x=-1,a=y==null?0:y.length;for(this.clear();++x<a;){var w=y[x];this.set(w[0],w[1])}}return d.prototype.clear=e,d.prototype.delete=t,d.prototype.get=n,d.prototype.has=i,d.prototype.set=c,D2=d,D2}var L2,cw;function By(){if(cw)return L2;cw=1;var e=Sf(),t=Uu(),n=e(t,"Map");return L2=n,L2}var R2,hw;function RB(){if(hw)return R2;hw=1;var e=CB(),t=p6(),n=By();function i(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return R2=i,R2}var z2,fw;function zB(){if(fw)return z2;fw=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return z2=e,z2}var B2,dw;function m6(){if(dw)return B2;dw=1;var e=zB();function t(n,i){var c=n.__data__;return e(i)?c[typeof i=="string"?"string":"hash"]:c.map}return B2=t,B2}var F2,pw;function BB(){if(pw)return F2;pw=1;var e=m6();function t(n){var i=e(this,n).delete(n);return this.size-=i?1:0,i}return F2=t,F2}var j2,mw;function FB(){if(mw)return j2;mw=1;var e=m6();function t(n){return e(this,n).get(n)}return j2=t,j2}var N2,gw;function jB(){if(gw)return N2;gw=1;var e=m6();function t(n){return e(this,n).has(n)}return N2=t,N2}var U2,yw;function NB(){if(yw)return U2;yw=1;var e=m6();function t(n,i){var c=e(this,n),d=c.size;return c.set(n,i),this.size+=c.size==d?0:1,this}return U2=t,U2}var $2,_w;function Fy(){if(_w)return $2;_w=1;var e=RB(),t=BB(),n=FB(),i=jB(),c=NB();function d(y){var x=-1,a=y==null?0:y.length;for(this.clear();++x<a;){var w=y[x];this.set(w[0],w[1])}}return d.prototype.clear=e,d.prototype.delete=t,d.prototype.get=n,d.prototype.has=i,d.prototype.set=c,$2=d,$2}var V2,vw;function KM(){if(vw)return V2;vw=1;var e=Fy(),t="Expected a function";function n(i,c){if(typeof i!="function"||c!=null&&typeof c!="function")throw new TypeError(t);var d=function(){var y=arguments,x=c?c.apply(this,y):y[0],a=d.cache;if(a.has(x))return a.get(x);var w=i.apply(this,y);return d.cache=a.set(x,w)||a,w};return d.cache=new(n.Cache||e),d}return n.Cache=e,V2=n,V2}var q2,xw;function UB(){if(xw)return q2;xw=1;var e=KM(),t=500;function n(i){var c=e(i,function(y){return d.size===t&&d.clear(),y}),d=c.cache;return c}return q2=n,q2}var G2,bw;function $B(){if(bw)return G2;bw=1;var e=UB(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=e(function(c){var d=[];return c.charCodeAt(0)===46&&d.push(""),c.replace(t,function(y,x,a,w){d.push(a?w.replace(n,"$1"):x||y)}),d});return G2=i,G2}var W2,ww;function jy(){if(ww)return W2;ww=1;function e(t,n){for(var i=-1,c=t==null?0:t.length,d=Array(c);++i<c;)d[i]=n(t[i],i,t);return d}return W2=e,W2}var H2,Sw;function VB(){if(Sw)return H2;Sw=1;var e=B3(),t=jy(),n=es(),i=wd(),c=e?e.prototype:void 0,d=c?c.toString:void 0;function y(x){if(typeof x=="string")return x;if(n(x))return t(x,y)+"";if(i(x))return d?d.call(x):"";var a=x+"";return a=="0"&&1/x==-1/0?"-0":a}return H2=y,H2}var Z2,Tw;function YM(){if(Tw)return Z2;Tw=1;var e=VB();function t(n){return n==null?"":e(n)}return Z2=t,Z2}var X2,Ew;function JM(){if(Ew)return X2;Ew=1;var e=es(),t=Ly(),n=$B(),i=YM();function c(d,y){return e(d)?d:t(d,y)?[d]:n(i(d))}return X2=c,X2}var K2,Pw;function g6(){if(Pw)return K2;Pw=1;var e=wd();function t(n){if(typeof n=="string"||e(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return K2=t,K2}var Y2,Aw;function Ny(){if(Aw)return Y2;Aw=1;var e=JM(),t=g6();function n(i,c){c=e(c,i);for(var d=0,y=c.length;i!=null&&d<y;)i=i[t(c[d++])];return d&&d==y?i:void 0}return Y2=n,Y2}var J2,Mw;function QM(){if(Mw)return J2;Mw=1;var e=Ny();function t(n,i,c){var d=n==null?void 0:e(n,i);return d===void 0?c:d}return J2=t,J2}var qB=QM();const al=vn(qB);var Q2,Cw;function GB(){if(Cw)return Q2;Cw=1;function e(t){return t==null}return Q2=e,Q2}var WB=GB();const Un=vn(WB);var e7,Iw;function HB(){if(Iw)return e7;Iw=1;var e=Uc(),t=es(),n=$c(),i="[object String]";function c(d){return typeof d=="string"||!t(d)&&n(d)&&e(d)==i}return e7=c,e7}var ZB=HB();const mf=vn(ZB);var XB=Ry();const fn=vn(XB);var KB=H1();const Sd=vn(KB);var t7={exports:{}},Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function YB(){if(Ow)return Nn;Ow=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.server_context"),a=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),W;W=Symbol.for("react.module.reference");function q(U){if(typeof U=="object"&&U!==null){var Q=U.$$typeof;switch(Q){case e:switch(U=U.type,U){case n:case c:case i:case w:case M:return U;default:switch(U=U&&U.$$typeof,U){case x:case y:case a:case L:case C:case d:return U;default:return Q}}case t:return Q}}}return Nn.ContextConsumer=y,Nn.ContextProvider=d,Nn.Element=e,Nn.ForwardRef=a,Nn.Fragment=n,Nn.Lazy=L,Nn.Memo=C,Nn.Portal=t,Nn.Profiler=c,Nn.StrictMode=i,Nn.Suspense=w,Nn.SuspenseList=M,Nn.isAsyncMode=function(){return!1},Nn.isConcurrentMode=function(){return!1},Nn.isContextConsumer=function(U){return q(U)===y},Nn.isContextProvider=function(U){return q(U)===d},Nn.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},Nn.isForwardRef=function(U){return q(U)===a},Nn.isFragment=function(U){return q(U)===n},Nn.isLazy=function(U){return q(U)===L},Nn.isMemo=function(U){return q(U)===C},Nn.isPortal=function(U){return q(U)===t},Nn.isProfiler=function(U){return q(U)===c},Nn.isStrictMode=function(U){return q(U)===i},Nn.isSuspense=function(U){return q(U)===w},Nn.isSuspenseList=function(U){return q(U)===M},Nn.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===n||U===c||U===i||U===w||U===M||U===j||typeof U=="object"&&U!==null&&(U.$$typeof===L||U.$$typeof===C||U.$$typeof===d||U.$$typeof===y||U.$$typeof===a||U.$$typeof===W||U.getModuleId!==void 0)},Nn.typeOf=q,Nn}var kw;function JB(){return kw||(kw=1,t7.exports=YB()),t7.exports}var QB=JB(),r7,Dw;function eC(){if(Dw)return r7;Dw=1;var e=Uc(),t=$c(),n="[object Number]";function i(c){return typeof c=="number"||t(c)&&e(c)==n}return r7=i,r7}var n7,Lw;function eF(){if(Lw)return n7;Lw=1;var e=eC();function t(n){return e(n)&&n!=+n}return n7=t,n7}var tF=eF();const F3=vn(tF);var rF=eC();const nF=vn(rF);var $l=function(t){return t===0?0:t>0?1:-1},sf=function(t){return mf(t)&&t.indexOf("%")===t.length-1},rr=function(t){return nF(t)&&!F3(t)},mo=function(t){return rr(t)||mf(t)},iF=0,y6=function(t){var n=++iF;return"".concat(t||"").concat(n)},gf=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rr(t)&&!mf(t))return i;var d;if(sf(t)){var y=t.indexOf("%");d=n*parseFloat(t.slice(0,y))/100}else d=+t;return F3(d)&&(d=i),c&&d>n&&(d=n),d},j1=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},oF=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,i={},c=0;c<n;c++)if(!i[t[c]])i[t[c]]=!0;else return!0;return!1},k0=function(t,n){return rr(t)&&rr(n)?function(i){return t+i*(n-t)}:function(){return n}};function ug(e,t,n){return!e||!e.length?null:e.find(function(i){return i&&(typeof t=="function"?t(i):al(i,t))===n})}var aF=function(t,n){return rr(t)&&rr(n)?t-n:mf(t)&&mf(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function q0(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}var sF=["viewBox","children"],lF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Rw=["points","pathLength"],i7={svg:sF,polygon:Rw,polyline:Rw},Uy=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],d4=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(Ve.isValidElement(t)&&(i=t.props),!Sd(i))return null;var c={};return Object.keys(i).forEach(function(d){Uy.includes(d)&&(c[d]=n||function(y){return i[d](i,y)})}),c},uF=function(t,n,i){return function(c){return t(n,i,c),null}},p4=function(t,n,i){if(!Sd(t)||cg(t)!=="object")return null;var c=null;return Object.keys(t).forEach(function(d){var y=t[d];Uy.includes(d)&&typeof y=="function"&&(c||(c={}),c[d]=uF(y,n,i))}),c},cF=["children"],hF=["children"];function zw(e,t){if(e==null)return{};var n=fF(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function fF(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var Bw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Rc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Fw=null,o7=null,$y=function e(t){if(t===Fw&&Array.isArray(o7))return o7;var n=[];return Ve.Children.forEach(t,function(i){Un(i)||(QB.isFragment(i)?n=n.concat(e(i.props.children)):n.push(i))}),o7=n,Fw=t,n};function Vl(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(function(c){return Rc(c)}):i=[Rc(t)],$y(e).forEach(function(c){var d=al(c,"type.displayName")||al(c,"type.name");i.indexOf(d)!==-1&&n.push(c)}),n}function bs(e,t){var n=Vl(e,t);return n&&n[0]}var jw=function(t){if(!t||!t.props)return!1;var n=t.props,i=n.width,c=n.height;return!(!rr(i)||i<=0||!rr(c)||c<=0)},dF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pF=function(t){return t&&t.type&&mf(t.type)&&dF.indexOf(t.type)>=0},mF=function(t,n,i,c){var d,y=(d=i7?.[c])!==null&&d!==void 0?d:[];return n.startsWith("data-")||!fn(t)&&(c&&y.includes(n)||lF.includes(n))||i&&Uy.includes(n)},Ln=function(t,n,i){if(!t||typeof t=="function"||typeof t=="boolean")return null;var c=t;if(Ve.isValidElement(t)&&(c=t.props),!Sd(c))return null;var d={};return Object.keys(c).forEach(function(y){var x;mF((x=c)===null||x===void 0?void 0:x[y],y,n,i)&&(d[y]=c[y])}),d},hg=function e(t,n){if(t===n)return!0;var i=Ve.Children.count(t);if(i!==Ve.Children.count(n))return!1;if(i===0)return!0;if(i===1)return Nw(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var c=0;c<i;c++){var d=t[c],y=n[c];if(Array.isArray(d)||Array.isArray(y)){if(!e(d,y))return!1}else if(!Nw(d,y))return!1}return!0},Nw=function(t,n){if(Un(t)&&Un(n))return!0;if(!Un(t)&&!Un(n)){var i=t.props||{},c=i.children,d=zw(i,cF),y=n.props||{},x=y.children,a=zw(y,hF);return c&&x?q0(d,a)&&hg(c,x):!c&&!x?q0(d,a):!1}return!1},Uw=function(t,n){var i=[],c={};return $y(t).forEach(function(d,y){if(pF(d))i.push(d);else if(d){var x=Rc(d.type),a=n[x]||{},w=a.handler,M=a.once;if(w&&(!M||!c[x])){var C=w(d,x,y);i.push(C),c[x]=!0}}}),i},gF=function(t){var n=t&&t.type;return n&&Bw[n]?Bw[n]:null},yF=function(t,n){return $y(n).indexOf(t)},_F=["children","width","height","viewBox","className","style","title","desc"];function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fg.apply(this,arguments)}function vF(e,t){if(e==null)return{};var n=xF(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function xF(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function dg(e){var t=e.children,n=e.width,i=e.height,c=e.viewBox,d=e.className,y=e.style,x=e.title,a=e.desc,w=vF(e,_F),M=c||{width:n,height:i,x:0,y:0},C=$n("recharts-surface",d);return tt.createElement("svg",fg({},Ln(w,!0,"svg"),{className:C,width:n,height:i,style:y,viewBox:"".concat(M.x," ").concat(M.y," ").concat(M.width," ").concat(M.height)}),tt.createElement("title",null,x),tt.createElement("desc",null,a),t)}var bF=["children","className"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pg.apply(this,arguments)}function wF(e,t){if(e==null)return{};var n=SF(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function SF(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var Mo=tt.forwardRef(function(e,t){var n=e.children,i=e.className,c=wF(e,bF),d=$n("recharts-layer",i);return tt.createElement("g",pg({className:d},Ln(c,!0),{ref:t}),n)}),zc=function(t,n){for(var i=arguments.length,c=new Array(i>2?i-2:0),d=2;d<i;d++)c[d-2]=arguments[d]},a7,$w;function TF(){if($w)return a7;$w=1;function e(t,n,i){var c=-1,d=t.length;n<0&&(n=-n>d?0:d+n),i=i>d?d:i,i<0&&(i+=d),d=n>i?0:i-n>>>0,n>>>=0;for(var y=Array(d);++c<d;)y[c]=t[c+n];return y}return a7=e,a7}var s7,Vw;function EF(){if(Vw)return s7;Vw=1;var e=TF();function t(n,i,c){var d=n.length;return c=c===void 0?d:c,!i&&c>=d?n:e(n,i,c)}return s7=t,s7}var l7,qw;function tC(){if(qw)return l7;qw=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",c=t+n+i,d="\\ufe0e\\ufe0f",y="\\u200d",x=RegExp("["+y+e+c+d+"]");function a(w){return x.test(w)}return l7=a,l7}var u7,Gw;function PF(){if(Gw)return u7;Gw=1;function e(t){return t.split("")}return u7=e,u7}var c7,Ww;function AF(){if(Ww)return c7;Ww=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",c=t+n+i,d="\\ufe0e\\ufe0f",y="["+e+"]",x="["+c+"]",a="\\ud83c[\\udffb-\\udfff]",w="(?:"+x+"|"+a+")",M="[^"+e+"]",C="(?:\\ud83c[\\udde6-\\uddff]){2}",L="[\\ud800-\\udbff][\\udc00-\\udfff]",j="\\u200d",W=w+"?",q="["+d+"]?",U="(?:"+j+"(?:"+[M,C,L].join("|")+")"+q+W+")*",Q=q+W+U,re="(?:"+[M+x+"?",x,C,L,y].join("|")+")",ee=RegExp(a+"(?="+a+")|"+re+Q,"g");function oe(K){return K.match(ee)||[]}return c7=oe,c7}var h7,Hw;function MF(){if(Hw)return h7;Hw=1;var e=PF(),t=tC(),n=AF();function i(c){return t(c)?n(c):e(c)}return h7=i,h7}var f7,Zw;function CF(){if(Zw)return f7;Zw=1;var e=EF(),t=tC(),n=MF(),i=YM();function c(d){return function(y){y=i(y);var x=t(y)?n(y):void 0,a=x?x[0]:y.charAt(0),w=x?e(x,1).join(""):y.slice(1);return a[d]()+w}}return f7=c,f7}var d7,Xw;function IF(){if(Xw)return d7;Xw=1;var e=CF(),t=e("toUpperCase");return d7=t,d7}var OF=IF();const _6=vn(OF);function si(e){return function(){return e}}const rC=Math.cos,m4=Math.sin,ql=Math.sqrt,g4=Math.PI,v6=2*g4,mg=Math.PI,gg=2*mg,tf=1e-6,kF=gg-tf;function nC(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function DF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nC;const n=10**t;return function(i){this._+=i[0];for(let c=1,d=i.length;c<d;++c)this._+=Math.round(arguments[c]*n)/n+i[c]}}class LF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nC:DF(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,c){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+c}`}bezierCurveTo(t,n,i,c,d,y){this._append`C${+t},${+n},${+i},${+c},${this._x1=+d},${this._y1=+y}`}arcTo(t,n,i,c,d){if(t=+t,n=+n,i=+i,c=+c,d=+d,d<0)throw new Error(`negative radius: ${d}`);let y=this._x1,x=this._y1,a=i-t,w=c-n,M=y-t,C=x-n,L=M*M+C*C;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(L>tf)if(!(Math.abs(C*a-w*M)>tf)||!d)this._append`L${this._x1=t},${this._y1=n}`;else{let j=i-y,W=c-x,q=a*a+w*w,U=j*j+W*W,Q=Math.sqrt(q),re=Math.sqrt(L),ee=d*Math.tan((mg-Math.acos((q+L-U)/(2*Q*re)))/2),oe=ee/re,K=ee/Q;Math.abs(oe-1)>tf&&this._append`L${t+oe*M},${n+oe*C}`,this._append`A${d},${d},0,0,${+(C*j>M*W)},${this._x1=t+K*a},${this._y1=n+K*w}`}}arc(t,n,i,c,d,y){if(t=+t,n=+n,i=+i,y=!!y,i<0)throw new Error(`negative radius: ${i}`);let x=i*Math.cos(c),a=i*Math.sin(c),w=t+x,M=n+a,C=1^y,L=y?c-d:d-c;this._x1===null?this._append`M${w},${M}`:(Math.abs(this._x1-w)>tf||Math.abs(this._y1-M)>tf)&&this._append`L${w},${M}`,i&&(L<0&&(L=L%gg+gg),L>kF?this._append`A${i},${i},0,1,${C},${t-x},${n-a}A${i},${i},0,1,${C},${this._x1=w},${this._y1=M}`:L>tf&&this._append`A${i},${i},0,${+(L>=mg)},${C},${this._x1=t+i*Math.cos(d)},${this._y1=n+i*Math.sin(d)}`)}rect(t,n,i,c){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+c}h${-i}Z`}toString(){return this._}}function Vy(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new LF(t)}function qy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function iC(e){this._context=e}iC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function x6(e){return new iC(e)}function oC(e){return e[0]}function aC(e){return e[1]}function sC(e,t){var n=si(!0),i=null,c=x6,d=null,y=Vy(x);e=typeof e=="function"?e:e===void 0?oC:si(e),t=typeof t=="function"?t:t===void 0?aC:si(t);function x(a){var w,M=(a=qy(a)).length,C,L=!1,j;for(i==null&&(d=c(j=y())),w=0;w<=M;++w)!(w<M&&n(C=a[w],w,a))===L&&((L=!L)?d.lineStart():d.lineEnd()),L&&d.point(+e(C,w,a),+t(C,w,a));if(j)return d=null,j+""||null}return x.x=function(a){return arguments.length?(e=typeof a=="function"?a:si(+a),x):e},x.y=function(a){return arguments.length?(t=typeof a=="function"?a:si(+a),x):t},x.defined=function(a){return arguments.length?(n=typeof a=="function"?a:si(!!a),x):n},x.curve=function(a){return arguments.length?(c=a,i!=null&&(d=c(i)),x):c},x.context=function(a){return arguments.length?(a==null?i=d=null:d=c(i=a),x):i},x}function j5(e,t,n){var i=null,c=si(!0),d=null,y=x6,x=null,a=Vy(w);e=typeof e=="function"?e:e===void 0?oC:si(+e),t=typeof t=="function"?t:si(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?aC:si(+n);function w(C){var L,j,W,q=(C=qy(C)).length,U,Q=!1,re,ee=new Array(q),oe=new Array(q);for(d==null&&(x=y(re=a())),L=0;L<=q;++L){if(!(L<q&&c(U=C[L],L,C))===Q)if(Q=!Q)j=L,x.areaStart(),x.lineStart();else{for(x.lineEnd(),x.lineStart(),W=L-1;W>=j;--W)x.point(ee[W],oe[W]);x.lineEnd(),x.areaEnd()}Q&&(ee[L]=+e(U,L,C),oe[L]=+t(U,L,C),x.point(i?+i(U,L,C):ee[L],n?+n(U,L,C):oe[L]))}if(re)return x=null,re+""||null}function M(){return sC().defined(c).curve(y).context(d)}return w.x=function(C){return arguments.length?(e=typeof C=="function"?C:si(+C),i=null,w):e},w.x0=function(C){return arguments.length?(e=typeof C=="function"?C:si(+C),w):e},w.x1=function(C){return arguments.length?(i=C==null?null:typeof C=="function"?C:si(+C),w):i},w.y=function(C){return arguments.length?(t=typeof C=="function"?C:si(+C),n=null,w):t},w.y0=function(C){return arguments.length?(t=typeof C=="function"?C:si(+C),w):t},w.y1=function(C){return arguments.length?(n=C==null?null:typeof C=="function"?C:si(+C),w):n},w.lineX0=w.lineY0=function(){return M().x(e).y(t)},w.lineY1=function(){return M().x(e).y(n)},w.lineX1=function(){return M().x(i).y(t)},w.defined=function(C){return arguments.length?(c=typeof C=="function"?C:si(!!C),w):c},w.curve=function(C){return arguments.length?(y=C,d!=null&&(x=y(d)),w):y},w.context=function(C){return arguments.length?(C==null?d=x=null:x=y(d=C),w):d},w}class lC{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function RF(e){return new lC(e,!0)}function zF(e){return new lC(e,!1)}const Gy={draw(e,t){const n=ql(t/g4);e.moveTo(n,0),e.arc(0,0,n,0,v6)}},BF={draw(e,t){const n=ql(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},uC=ql(1/3),FF=uC*2,jF={draw(e,t){const n=ql(t/FF),i=n*uC;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},NF={draw(e,t){const n=ql(t),i=-n/2;e.rect(i,i,n,n)}},UF=.8908130915292852,cC=m4(g4/10)/m4(7*g4/10),$F=m4(v6/10)*cC,VF=-rC(v6/10)*cC,qF={draw(e,t){const n=ql(t*UF),i=$F*n,c=VF*n;e.moveTo(0,-n),e.lineTo(i,c);for(let d=1;d<5;++d){const y=v6*d/5,x=rC(y),a=m4(y);e.lineTo(a*n,-x*n),e.lineTo(x*i-a*c,a*i+x*c)}e.closePath()}},p7=ql(3),GF={draw(e,t){const n=-ql(t/(p7*3));e.moveTo(0,n*2),e.lineTo(-p7*n,-n),e.lineTo(p7*n,-n),e.closePath()}},el=-.5,tl=ql(3)/2,yg=1/ql(12),WF=(yg/2+1)*3,HF={draw(e,t){const n=ql(t/WF),i=n/2,c=n*yg,d=i,y=n*yg+n,x=-d,a=y;e.moveTo(i,c),e.lineTo(d,y),e.lineTo(x,a),e.lineTo(el*i-tl*c,tl*i+el*c),e.lineTo(el*d-tl*y,tl*d+el*y),e.lineTo(el*x-tl*a,tl*x+el*a),e.lineTo(el*i+tl*c,el*c-tl*i),e.lineTo(el*d+tl*y,el*y-tl*d),e.lineTo(el*x+tl*a,el*a-tl*x),e.closePath()}};function ZF(e,t){let n=null,i=Vy(c);e=typeof e=="function"?e:si(e||Gy),t=typeof t=="function"?t:si(t===void 0?64:+t);function c(){let d;if(n||(n=d=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),d)return n=null,d+""||null}return c.type=function(d){return arguments.length?(e=typeof d=="function"?d:si(d),c):e},c.size=function(d){return arguments.length?(t=typeof d=="function"?d:si(+d),c):t},c.context=function(d){return arguments.length?(n=d??null,c):n},c}function y4(){}function _4(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function hC(e){this._context=e}hC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XF(e){return new hC(e)}function fC(e){this._context=e}fC.prototype={areaStart:y4,areaEnd:y4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KF(e){return new fC(e)}function dC(e){this._context=e}dC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:_4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YF(e){return new dC(e)}function pC(e){this._context=e}pC.prototype={areaStart:y4,areaEnd:y4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JF(e){return new pC(e)}function Kw(e){return e<0?-1:1}function Yw(e,t,n){var i=e._x1-e._x0,c=t-e._x1,d=(e._y1-e._y0)/(i||c<0&&-0),y=(n-e._y1)/(c||i<0&&-0),x=(d*c+y*i)/(i+c);return(Kw(d)+Kw(y))*Math.min(Math.abs(d),Math.abs(y),.5*Math.abs(x))||0}function Jw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function m7(e,t,n){var i=e._x0,c=e._y0,d=e._x1,y=e._y1,x=(d-i)/3;e._context.bezierCurveTo(i+x,c+x*t,d-x,y-x*n,d,y)}function v4(e){this._context=e}v4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m7(this,this._t0,Jw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,m7(this,Jw(this,n=Yw(this,e,t)),n);break;default:m7(this,this._t0,n=Yw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function mC(e){this._context=new gC(e)}(mC.prototype=Object.create(v4.prototype)).point=function(e,t){v4.prototype.point.call(this,t,e)};function gC(e){this._context=e}gC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,c,d){this._context.bezierCurveTo(t,e,i,n,d,c)}};function QF(e){return new v4(e)}function ej(e){return new mC(e)}function yC(e){this._context=e}yC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=Qw(e),c=Qw(t),d=0,y=1;y<n;++d,++y)this._context.bezierCurveTo(i[0][d],c[0][d],i[1][d],c[1][d],e[y],t[y]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Qw(e){var t,n=e.length-1,i,c=new Array(n),d=new Array(n),y=new Array(n);for(c[0]=0,d[0]=2,y[0]=e[0]+2*e[1],t=1;t<n-1;++t)c[t]=1,d[t]=4,y[t]=4*e[t]+2*e[t+1];for(c[n-1]=2,d[n-1]=7,y[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=c[t]/d[t-1],d[t]-=i,y[t]-=i*y[t-1];for(c[n-1]=y[n-1]/d[n-1],t=n-2;t>=0;--t)c[t]=(y[t]-c[t+1])/d[t];for(d[n-1]=(e[n]+c[n-1])/2,t=0;t<n-1;++t)d[t]=2*e[t+1]-c[t+1];return[c,d]}function tj(e){return new yC(e)}function b6(e,t){this._context=e,this._t=t}b6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function rj(e){return new b6(e,.5)}function nj(e){return new b6(e,0)}function ij(e){return new b6(e,1)}function Q0(e,t){if((y=e.length)>1)for(var n=1,i,c,d=e[t[0]],y,x=d.length;n<y;++n)for(c=d,d=e[t[n]],i=0;i<x;++i)d[i][1]+=d[i][0]=isNaN(c[i][1])?c[i][0]:c[i][1]}function _g(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function oj(e,t){return e[t]}function aj(e){const t=[];return t.key=e,t}function sj(){var e=si([]),t=_g,n=Q0,i=oj;function c(d){var y=Array.from(e.apply(this,arguments),aj),x,a=y.length,w=-1,M;for(const C of d)for(x=0,++w;x<a;++x)(y[x][w]=[0,+i(C,y[x].key,w,d)]).data=C;for(x=0,M=qy(t(y));x<a;++x)y[M[x]].index=x;return n(y,M),y}return c.keys=function(d){return arguments.length?(e=typeof d=="function"?d:si(Array.from(d)),c):e},c.value=function(d){return arguments.length?(i=typeof d=="function"?d:si(+d),c):i},c.order=function(d){return arguments.length?(t=d==null?_g:typeof d=="function"?d:si(Array.from(d)),c):t},c.offset=function(d){return arguments.length?(n=d??Q0,c):n},c}function lj(e,t){if((i=e.length)>0){for(var n,i,c=0,d=e[0].length,y;c<d;++c){for(y=n=0;n<i;++n)y+=e[n][c][1]||0;if(y)for(n=0;n<i;++n)e[n][c][1]/=y}Q0(e,t)}}function uj(e,t){if((c=e.length)>0){for(var n=0,i=e[t[0]],c,d=i.length;n<d;++n){for(var y=0,x=0;y<c;++y)x+=e[y][n][1]||0;i[n][1]+=i[n][0]=-x/2}Q0(e,t)}}function cj(e,t){if(!(!((y=e.length)>0)||!((d=(c=e[t[0]]).length)>0))){for(var n=0,i=1,c,d,y;i<d;++i){for(var x=0,a=0,w=0;x<y;++x){for(var M=e[t[x]],C=M[i][1]||0,L=M[i-1][1]||0,j=(C-L)/2,W=0;W<x;++W){var q=e[t[W]],U=q[i][1]||0,Q=q[i-1][1]||0;j+=U-Q}a+=C,w+=j*C}c[i-1][1]+=c[i-1][0]=n,a&&(n-=w/a)}c[i-1][1]+=c[i-1][0]=n,Q0(e,t)}}function e3(e){"@babel/helpers - typeof";return e3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e3(e)}var hj=["type","size","sizeType"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vg.apply(this,arguments)}function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(i){fj(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function fj(e,t,n){return t=dj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dj(e){var t=pj(e,"string");return e3(t)=="symbol"?t:t+""}function pj(e,t){if(e3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(e3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mj(e,t){if(e==null)return{};var n=gj(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function gj(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var _C={symbolCircle:Gy,symbolCross:BF,symbolDiamond:jF,symbolSquare:NF,symbolStar:qF,symbolTriangle:GF,symbolWye:HF},yj=Math.PI/180,_j=function(t){var n="symbol".concat(_6(t));return _C[n]||Gy},vj=function(t,n,i){if(n==="area")return t;switch(i){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var c=18*yj;return 1.25*t*t*(Math.tan(c)-Math.tan(c*2)*Math.pow(Math.tan(c),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},xj=function(t,n){_C["symbol".concat(_6(t))]=n},Wy=function(t){var n=t.type,i=n===void 0?"circle":n,c=t.size,d=c===void 0?64:c,y=t.sizeType,x=y===void 0?"area":y,a=mj(t,hj),w=tS(tS({},a),{},{type:i,size:d,sizeType:x}),M=function(){var U=_j(i),Q=ZF().type(U).size(vj(d,x,i));return Q()},C=w.className,L=w.cx,j=w.cy,W=Ln(w,!0);return L===+L&&j===+j&&d===+d?tt.createElement("path",vg({},W,{className:$n("recharts-symbols",C),transform:"translate(".concat(L,", ").concat(j,")"),d:M()})):null};Wy.registerSymbol=xj;function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xg.apply(this,arguments)}function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function bj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(n),!0).forEach(function(i){t3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sj(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xC(i.key),i)}}function Tj(e,t,n){return t&&Sj(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ej(e,t,n){return t=x4(t),Pj(e,vC()?Reflect.construct(t,n||[],x4(e).constructor):t.apply(e,n))}function Pj(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aj(e)}function Aj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vC=function(){return!!e})()}function x4(e){return x4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x4(e)}function Mj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bg(e,t)}function bg(e,t){return bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},bg(e,t)}function t3(e,t,n){return t=xC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xC(e){var t=Cj(e,"string");return ed(t)=="symbol"?t:t+""}function Cj(e,t){if(ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(ed(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rl=32,Hy=(function(e){function t(){return wj(this,t),Ej(this,t,arguments)}return Mj(t,e),Tj(t,[{key:"renderIcon",value:function(i){var c=this.props.inactiveColor,d=rl/2,y=rl/6,x=rl/3,a=i.inactive?c:i.color;if(i.type==="plainline")return tt.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:i.payload.strokeDasharray,x1:0,y1:d,x2:rl,y2:d,className:"recharts-legend-icon"});if(i.type==="line")return tt.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(d,"h").concat(x,`
            A`).concat(y,",").concat(y,",0,1,1,").concat(2*x,",").concat(d,`
            H`).concat(rl,"M").concat(2*x,",").concat(d,`
            A`).concat(y,",").concat(y,",0,1,1,").concat(x,",").concat(d),className:"recharts-legend-icon"});if(i.type==="rect")return tt.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(rl/8,"h").concat(rl,"v").concat(rl*3/4,"h").concat(-rl,"z"),className:"recharts-legend-icon"});if(tt.isValidElement(i.legendIcon)){var w=bj({},i);return delete w.legendIcon,tt.cloneElement(i.legendIcon,w)}return tt.createElement(Wy,{fill:a,cx:d,cy:d,size:rl,sizeType:"diameter",type:i.type})}},{key:"renderItems",value:function(){var i=this,c=this.props,d=c.payload,y=c.iconSize,x=c.layout,a=c.formatter,w=c.inactiveColor,M={x:0,y:0,width:rl,height:rl},C={display:x==="horizontal"?"inline-block":"block",marginRight:10},L={display:"inline-block",verticalAlign:"middle",marginRight:4};return d.map(function(j,W){var q=j.formatter||a,U=$n(t3(t3({"recharts-legend-item":!0},"legend-item-".concat(W),!0),"inactive",j.inactive));if(j.type==="none")return null;var Q=fn(j.value)?null:j.value;zc(!fn(j.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var re=j.inactive?w:j.color;return tt.createElement("li",xg({className:U,style:C,key:"legend-item-".concat(W)},p4(i.props,j,W)),tt.createElement(dg,{width:y,height:y,viewBox:M,style:L},i.renderIcon(j)),tt.createElement("span",{className:"recharts-legend-item-text",style:{color:re}},q?q(Q,j,W):Q))})}},{key:"render",value:function(){var i=this.props,c=i.payload,d=i.layout,y=i.align;if(!c||!c.length)return null;var x={padding:0,margin:0,textAlign:d==="horizontal"?y:"left"};return tt.createElement("ul",{className:"recharts-default-legend",style:x},this.renderItems())}}])})(Ve.PureComponent);t3(Hy,"displayName","Legend");t3(Hy,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var g7,nS;function Ij(){if(nS)return g7;nS=1;var e=p6();function t(){this.__data__=new e,this.size=0}return g7=t,g7}var y7,iS;function Oj(){if(iS)return y7;iS=1;function e(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i}return y7=e,y7}var _7,oS;function kj(){if(oS)return _7;oS=1;function e(t){return this.__data__.get(t)}return _7=e,_7}var v7,aS;function Dj(){if(aS)return v7;aS=1;function e(t){return this.__data__.has(t)}return v7=e,v7}var x7,sS;function Lj(){if(sS)return x7;sS=1;var e=p6(),t=By(),n=Fy(),i=200;function c(d,y){var x=this.__data__;if(x instanceof e){var a=x.__data__;if(!t||a.length<i-1)return a.push([d,y]),this.size=++x.size,this;x=this.__data__=new n(a)}return x.set(d,y),this.size=x.size,this}return x7=c,x7}var b7,lS;function bC(){if(lS)return b7;lS=1;var e=p6(),t=Ij(),n=Oj(),i=kj(),c=Dj(),d=Lj();function y(x){var a=this.__data__=new e(x);this.size=a.size}return y.prototype.clear=t,y.prototype.delete=n,y.prototype.get=i,y.prototype.has=c,y.prototype.set=d,b7=y,b7}var w7,uS;function Rj(){if(uS)return w7;uS=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return w7=t,w7}var S7,cS;function zj(){if(cS)return S7;cS=1;function e(t){return this.__data__.has(t)}return S7=e,S7}var T7,hS;function wC(){if(hS)return T7;hS=1;var e=Fy(),t=Rj(),n=zj();function i(c){var d=-1,y=c==null?0:c.length;for(this.__data__=new e;++d<y;)this.add(c[d])}return i.prototype.add=i.prototype.push=t,i.prototype.has=n,T7=i,T7}var E7,fS;function SC(){if(fS)return E7;fS=1;function e(t,n){for(var i=-1,c=t==null?0:t.length;++i<c;)if(n(t[i],i,t))return!0;return!1}return E7=e,E7}var P7,dS;function TC(){if(dS)return P7;dS=1;function e(t,n){return t.has(n)}return P7=e,P7}var A7,pS;function EC(){if(pS)return A7;pS=1;var e=wC(),t=SC(),n=TC(),i=1,c=2;function d(y,x,a,w,M,C){var L=a&i,j=y.length,W=x.length;if(j!=W&&!(L&&W>j))return!1;var q=C.get(y),U=C.get(x);if(q&&U)return q==x&&U==y;var Q=-1,re=!0,ee=a&c?new e:void 0;for(C.set(y,x),C.set(x,y);++Q<j;){var oe=y[Q],K=x[Q];if(w)var ne=L?w(K,oe,Q,x,y,C):w(oe,K,Q,y,x,C);if(ne!==void 0){if(ne)continue;re=!1;break}if(ee){if(!t(x,function(te,be){if(!n(ee,be)&&(oe===te||M(oe,te,a,w,C)))return ee.push(be)})){re=!1;break}}else if(!(oe===K||M(oe,K,a,w,C))){re=!1;break}}return C.delete(y),C.delete(x),re}return A7=d,A7}var M7,mS;function Bj(){if(mS)return M7;mS=1;var e=Uu(),t=e.Uint8Array;return M7=t,M7}var C7,gS;function Fj(){if(gS)return C7;gS=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(c,d){i[++n]=[d,c]}),i}return C7=e,C7}var I7,yS;function Zy(){if(yS)return I7;yS=1;function e(t){var n=-1,i=Array(t.size);return t.forEach(function(c){i[++n]=c}),i}return I7=e,I7}var O7,_S;function jj(){if(_S)return O7;_S=1;var e=B3(),t=Bj(),n=zy(),i=EC(),c=Fj(),d=Zy(),y=1,x=2,a="[object Boolean]",w="[object Date]",M="[object Error]",C="[object Map]",L="[object Number]",j="[object RegExp]",W="[object Set]",q="[object String]",U="[object Symbol]",Q="[object ArrayBuffer]",re="[object DataView]",ee=e?e.prototype:void 0,oe=ee?ee.valueOf:void 0;function K(ne,te,be,Ce,Ee,je,Ye){switch(be){case re:if(ne.byteLength!=te.byteLength||ne.byteOffset!=te.byteOffset)return!1;ne=ne.buffer,te=te.buffer;case Q:return!(ne.byteLength!=te.byteLength||!je(new t(ne),new t(te)));case a:case w:case L:return n(+ne,+te);case M:return ne.name==te.name&&ne.message==te.message;case j:case q:return ne==te+"";case C:var Ge=c;case W:var Te=Ce&y;if(Ge||(Ge=d),ne.size!=te.size&&!Te)return!1;var Se=Ye.get(ne);if(Se)return Se==te;Ce|=x,Ye.set(ne,te);var ze=i(Ge(ne),Ge(te),Ce,Ee,je,Ye);return Ye.delete(ne),ze;case U:if(oe)return oe.call(ne)==oe.call(te)}return!1}return O7=K,O7}var k7,vS;function PC(){if(vS)return k7;vS=1;function e(t,n){for(var i=-1,c=n.length,d=t.length;++i<c;)t[d+i]=n[i];return t}return k7=e,k7}var D7,xS;function Nj(){if(xS)return D7;xS=1;var e=PC(),t=es();function n(i,c,d){var y=c(i);return t(i)?y:e(y,d(i))}return D7=n,D7}var L7,bS;function Uj(){if(bS)return L7;bS=1;function e(t,n){for(var i=-1,c=t==null?0:t.length,d=0,y=[];++i<c;){var x=t[i];n(x,i,t)&&(y[d++]=x)}return y}return L7=e,L7}var R7,wS;function $j(){if(wS)return R7;wS=1;function e(){return[]}return R7=e,R7}var z7,SS;function Vj(){if(SS)return z7;SS=1;var e=Uj(),t=$j(),n=Object.prototype,i=n.propertyIsEnumerable,c=Object.getOwnPropertySymbols,d=c?function(y){return y==null?[]:(y=Object(y),e(c(y),function(x){return i.call(y,x)}))}:t;return z7=d,z7}var B7,TS;function qj(){if(TS)return B7;TS=1;function e(t,n){for(var i=-1,c=Array(t);++i<t;)c[i]=n(i);return c}return B7=e,B7}var F7,ES;function Gj(){if(ES)return F7;ES=1;var e=Uc(),t=$c(),n="[object Arguments]";function i(c){return t(c)&&e(c)==n}return F7=i,F7}var j7,PS;function Xy(){if(PS)return j7;PS=1;var e=Gj(),t=$c(),n=Object.prototype,i=n.hasOwnProperty,c=n.propertyIsEnumerable,d=e((function(){return arguments})())?e:function(y){return t(y)&&i.call(y,"callee")&&!c.call(y,"callee")};return j7=d,j7}var $p={exports:{}},N7,AS;function Wj(){if(AS)return N7;AS=1;function e(){return!1}return N7=e,N7}$p.exports;var MS;function AC(){return MS||(MS=1,(function(e,t){var n=Uu(),i=Wj(),c=t&&!t.nodeType&&t,d=c&&!0&&e&&!e.nodeType&&e,y=d&&d.exports===c,x=y?n.Buffer:void 0,a=x?x.isBuffer:void 0,w=a||i;e.exports=w})($p,$p.exports)),$p.exports}var U7,CS;function Ky(){if(CS)return U7;CS=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(i,c){var d=typeof i;return c=c??e,!!c&&(d=="number"||d!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<c}return U7=n,U7}var $7,IS;function Yy(){if(IS)return $7;IS=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return $7=t,$7}var V7,OS;function Hj(){if(OS)return V7;OS=1;var e=Uc(),t=Yy(),n=$c(),i="[object Arguments]",c="[object Array]",d="[object Boolean]",y="[object Date]",x="[object Error]",a="[object Function]",w="[object Map]",M="[object Number]",C="[object Object]",L="[object RegExp]",j="[object Set]",W="[object String]",q="[object WeakMap]",U="[object ArrayBuffer]",Q="[object DataView]",re="[object Float32Array]",ee="[object Float64Array]",oe="[object Int8Array]",K="[object Int16Array]",ne="[object Int32Array]",te="[object Uint8Array]",be="[object Uint8ClampedArray]",Ce="[object Uint16Array]",Ee="[object Uint32Array]",je={};je[re]=je[ee]=je[oe]=je[K]=je[ne]=je[te]=je[be]=je[Ce]=je[Ee]=!0,je[i]=je[c]=je[U]=je[d]=je[Q]=je[y]=je[x]=je[a]=je[w]=je[M]=je[C]=je[L]=je[j]=je[W]=je[q]=!1;function Ye(Ge){return n(Ge)&&t(Ge.length)&&!!je[e(Ge)]}return V7=Ye,V7}var q7,kS;function MC(){if(kS)return q7;kS=1;function e(t){return function(n){return t(n)}}return q7=e,q7}var Vp={exports:{}};Vp.exports;var DS;function Zj(){return DS||(DS=1,(function(e,t){var n=ZM(),i=t&&!t.nodeType&&t,c=i&&!0&&e&&!e.nodeType&&e,d=c&&c.exports===i,y=d&&n.process,x=(function(){try{var a=c&&c.require&&c.require("util").types;return a||y&&y.binding&&y.binding("util")}catch{}})();e.exports=x})(Vp,Vp.exports)),Vp.exports}var G7,LS;function CC(){if(LS)return G7;LS=1;var e=Hj(),t=MC(),n=Zj(),i=n&&n.isTypedArray,c=i?t(i):e;return G7=c,G7}var W7,RS;function Xj(){if(RS)return W7;RS=1;var e=qj(),t=Xy(),n=es(),i=AC(),c=Ky(),d=CC(),y=Object.prototype,x=y.hasOwnProperty;function a(w,M){var C=n(w),L=!C&&t(w),j=!C&&!L&&i(w),W=!C&&!L&&!j&&d(w),q=C||L||j||W,U=q?e(w.length,String):[],Q=U.length;for(var re in w)(M||x.call(w,re))&&!(q&&(re=="length"||j&&(re=="offset"||re=="parent")||W&&(re=="buffer"||re=="byteLength"||re=="byteOffset")||c(re,Q)))&&U.push(re);return U}return W7=a,W7}var H7,zS;function Kj(){if(zS)return H7;zS=1;var e=Object.prototype;function t(n){var i=n&&n.constructor,c=typeof i=="function"&&i.prototype||e;return n===c}return H7=t,H7}var Z7,BS;function IC(){if(BS)return Z7;BS=1;function e(t,n){return function(i){return t(n(i))}}return Z7=e,Z7}var X7,FS;function Yj(){if(FS)return X7;FS=1;var e=IC(),t=e(Object.keys,Object);return X7=t,X7}var K7,jS;function Jj(){if(jS)return K7;jS=1;var e=Kj(),t=Yj(),n=Object.prototype,i=n.hasOwnProperty;function c(d){if(!e(d))return t(d);var y=[];for(var x in Object(d))i.call(d,x)&&x!="constructor"&&y.push(x);return y}return K7=c,K7}var Y7,NS;function j3(){if(NS)return Y7;NS=1;var e=Ry(),t=Yy();function n(i){return i!=null&&t(i.length)&&!e(i)}return Y7=n,Y7}var J7,US;function w6(){if(US)return J7;US=1;var e=Xj(),t=Jj(),n=j3();function i(c){return n(c)?e(c):t(c)}return J7=i,J7}var Q7,$S;function Qj(){if($S)return Q7;$S=1;var e=Nj(),t=Vj(),n=w6();function i(c){return e(c,n,t)}return Q7=i,Q7}var e8,VS;function eN(){if(VS)return e8;VS=1;var e=Qj(),t=1,n=Object.prototype,i=n.hasOwnProperty;function c(d,y,x,a,w,M){var C=x&t,L=e(d),j=L.length,W=e(y),q=W.length;if(j!=q&&!C)return!1;for(var U=j;U--;){var Q=L[U];if(!(C?Q in y:i.call(y,Q)))return!1}var re=M.get(d),ee=M.get(y);if(re&&ee)return re==y&&ee==d;var oe=!0;M.set(d,y),M.set(y,d);for(var K=C;++U<j;){Q=L[U];var ne=d[Q],te=y[Q];if(a)var be=C?a(te,ne,Q,y,d,M):a(ne,te,Q,d,y,M);if(!(be===void 0?ne===te||w(ne,te,x,a,M):be)){oe=!1;break}K||(K=Q=="constructor")}if(oe&&!K){var Ce=d.constructor,Ee=y.constructor;Ce!=Ee&&"constructor"in d&&"constructor"in y&&!(typeof Ce=="function"&&Ce instanceof Ce&&typeof Ee=="function"&&Ee instanceof Ee)&&(oe=!1)}return M.delete(d),M.delete(y),oe}return e8=c,e8}var t8,qS;function tN(){if(qS)return t8;qS=1;var e=Sf(),t=Uu(),n=e(t,"DataView");return t8=n,t8}var r8,GS;function rN(){if(GS)return r8;GS=1;var e=Sf(),t=Uu(),n=e(t,"Promise");return r8=n,r8}var n8,WS;function OC(){if(WS)return n8;WS=1;var e=Sf(),t=Uu(),n=e(t,"Set");return n8=n,n8}var i8,HS;function nN(){if(HS)return i8;HS=1;var e=Sf(),t=Uu(),n=e(t,"WeakMap");return i8=n,i8}var o8,ZS;function iN(){if(ZS)return o8;ZS=1;var e=tN(),t=By(),n=rN(),i=OC(),c=nN(),d=Uc(),y=XM(),x="[object Map]",a="[object Object]",w="[object Promise]",M="[object Set]",C="[object WeakMap]",L="[object DataView]",j=y(e),W=y(t),q=y(n),U=y(i),Q=y(c),re=d;return(e&&re(new e(new ArrayBuffer(1)))!=L||t&&re(new t)!=x||n&&re(n.resolve())!=w||i&&re(new i)!=M||c&&re(new c)!=C)&&(re=function(ee){var oe=d(ee),K=oe==a?ee.constructor:void 0,ne=K?y(K):"";if(ne)switch(ne){case j:return L;case W:return x;case q:return w;case U:return M;case Q:return C}return oe}),o8=re,o8}var a8,XS;function oN(){if(XS)return a8;XS=1;var e=bC(),t=EC(),n=jj(),i=eN(),c=iN(),d=es(),y=AC(),x=CC(),a=1,w="[object Arguments]",M="[object Array]",C="[object Object]",L=Object.prototype,j=L.hasOwnProperty;function W(q,U,Q,re,ee,oe){var K=d(q),ne=d(U),te=K?M:c(q),be=ne?M:c(U);te=te==w?C:te,be=be==w?C:be;var Ce=te==C,Ee=be==C,je=te==be;if(je&&y(q)){if(!y(U))return!1;K=!0,Ce=!1}if(je&&!Ce)return oe||(oe=new e),K||x(q)?t(q,U,Q,re,ee,oe):n(q,U,te,Q,re,ee,oe);if(!(Q&a)){var Ye=Ce&&j.call(q,"__wrapped__"),Ge=Ee&&j.call(U,"__wrapped__");if(Ye||Ge){var Te=Ye?q.value():q,Se=Ge?U.value():U;return oe||(oe=new e),ee(Te,Se,Q,re,oe)}}return je?(oe||(oe=new e),i(q,U,Q,re,ee,oe)):!1}return a8=W,a8}var s8,KS;function Jy(){if(KS)return s8;KS=1;var e=oN(),t=$c();function n(i,c,d,y,x){return i===c?!0:i==null||c==null||!t(i)&&!t(c)?i!==i&&c!==c:e(i,c,d,y,n,x)}return s8=n,s8}var l8,YS;function aN(){if(YS)return l8;YS=1;var e=bC(),t=Jy(),n=1,i=2;function c(d,y,x,a){var w=x.length,M=w,C=!a;if(d==null)return!M;for(d=Object(d);w--;){var L=x[w];if(C&&L[2]?L[1]!==d[L[0]]:!(L[0]in d))return!1}for(;++w<M;){L=x[w];var j=L[0],W=d[j],q=L[1];if(C&&L[2]){if(W===void 0&&!(j in d))return!1}else{var U=new e;if(a)var Q=a(W,q,j,d,y,U);if(!(Q===void 0?t(q,W,n|i,a,U):Q))return!1}}return!0}return l8=c,l8}var u8,JS;function kC(){if(JS)return u8;JS=1;var e=H1();function t(n){return n===n&&!e(n)}return u8=t,u8}var c8,QS;function sN(){if(QS)return c8;QS=1;var e=kC(),t=w6();function n(i){for(var c=t(i),d=c.length;d--;){var y=c[d],x=i[y];c[d]=[y,x,e(x)]}return c}return c8=n,c8}var h8,eT;function DC(){if(eT)return h8;eT=1;function e(t,n){return function(i){return i==null?!1:i[t]===n&&(n!==void 0||t in Object(i))}}return h8=e,h8}var f8,tT;function lN(){if(tT)return f8;tT=1;var e=aN(),t=sN(),n=DC();function i(c){var d=t(c);return d.length==1&&d[0][2]?n(d[0][0],d[0][1]):function(y){return y===c||e(y,c,d)}}return f8=i,f8}var d8,rT;function uN(){if(rT)return d8;rT=1;function e(t,n){return t!=null&&n in Object(t)}return d8=e,d8}var p8,nT;function cN(){if(nT)return p8;nT=1;var e=JM(),t=Xy(),n=es(),i=Ky(),c=Yy(),d=g6();function y(x,a,w){a=e(a,x);for(var M=-1,C=a.length,L=!1;++M<C;){var j=d(a[M]);if(!(L=x!=null&&w(x,j)))break;x=x[j]}return L||++M!=C?L:(C=x==null?0:x.length,!!C&&c(C)&&i(j,C)&&(n(x)||t(x)))}return p8=y,p8}var m8,iT;function hN(){if(iT)return m8;iT=1;var e=uN(),t=cN();function n(i,c){return i!=null&&t(i,c,e)}return m8=n,m8}var g8,oT;function fN(){if(oT)return g8;oT=1;var e=Jy(),t=QM(),n=hN(),i=Ly(),c=kC(),d=DC(),y=g6(),x=1,a=2;function w(M,C){return i(M)&&c(C)?d(y(M),C):function(L){var j=t(L,M);return j===void 0&&j===C?n(L,M):e(C,j,x|a)}}return g8=w,g8}var y8,aT;function Td(){if(aT)return y8;aT=1;function e(t){return t}return y8=e,y8}var _8,sT;function dN(){if(sT)return _8;sT=1;function e(t){return function(n){return n?.[t]}}return _8=e,_8}var v8,lT;function pN(){if(lT)return v8;lT=1;var e=Ny();function t(n){return function(i){return e(i,n)}}return v8=t,v8}var x8,uT;function mN(){if(uT)return x8;uT=1;var e=dN(),t=pN(),n=Ly(),i=g6();function c(d){return n(d)?e(i(d)):t(d)}return x8=c,x8}var b8,cT;function Z1(){if(cT)return b8;cT=1;var e=lN(),t=fN(),n=Td(),i=es(),c=mN();function d(y){return typeof y=="function"?y:y==null?n:typeof y=="object"?i(y)?t(y[0],y[1]):e(y):c(y)}return b8=d,b8}var w8,hT;function LC(){if(hT)return w8;hT=1;function e(t,n,i,c){for(var d=t.length,y=i+(c?1:-1);c?y--:++y<d;)if(n(t[y],y,t))return y;return-1}return w8=e,w8}var S8,fT;function gN(){if(fT)return S8;fT=1;function e(t){return t!==t}return S8=e,S8}var T8,dT;function yN(){if(dT)return T8;dT=1;function e(t,n,i){for(var c=i-1,d=t.length;++c<d;)if(t[c]===n)return c;return-1}return T8=e,T8}var E8,pT;function _N(){if(pT)return E8;pT=1;var e=LC(),t=gN(),n=yN();function i(c,d,y){return d===d?n(c,d,y):e(c,t,y)}return E8=i,E8}var P8,mT;function vN(){if(mT)return P8;mT=1;var e=_N();function t(n,i){var c=n==null?0:n.length;return!!c&&e(n,i,0)>-1}return P8=t,P8}var A8,gT;function xN(){if(gT)return A8;gT=1;function e(t,n,i){for(var c=-1,d=t==null?0:t.length;++c<d;)if(i(n,t[c]))return!0;return!1}return A8=e,A8}var M8,yT;function bN(){if(yT)return M8;yT=1;function e(){}return M8=e,M8}var C8,_T;function wN(){if(_T)return C8;_T=1;var e=OC(),t=bN(),n=Zy(),i=1/0,c=e&&1/n(new e([,-0]))[1]==i?function(d){return new e(d)}:t;return C8=c,C8}var I8,vT;function SN(){if(vT)return I8;vT=1;var e=wC(),t=vN(),n=xN(),i=TC(),c=wN(),d=Zy(),y=200;function x(a,w,M){var C=-1,L=t,j=a.length,W=!0,q=[],U=q;if(M)W=!1,L=n;else if(j>=y){var Q=w?null:c(a);if(Q)return d(Q);W=!1,L=i,U=new e}else U=w?[]:q;e:for(;++C<j;){var re=a[C],ee=w?w(re):re;if(re=M||re!==0?re:0,W&&ee===ee){for(var oe=U.length;oe--;)if(U[oe]===ee)continue e;w&&U.push(ee),q.push(re)}else L(U,ee,M)||(U!==q&&U.push(ee),q.push(re))}return q}return I8=x,I8}var O8,xT;function TN(){if(xT)return O8;xT=1;var e=Z1(),t=SN();function n(i,c){return i&&i.length?t(i,e(c,2)):[]}return O8=n,O8}var EN=TN();const bT=vn(EN);function RC(e,t,n){return t===!0?bT(e,n):fn(t)?bT(e,t):e}function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}var PN=["ref"];function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(i){S6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,BC(i.key),i)}}function MN(e,t,n){return t&&ST(e.prototype,t),n&&ST(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CN(e,t,n){return t=b4(t),IN(e,zC()?Reflect.construct(t,n||[],b4(e).constructor):t.apply(e,n))}function IN(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ON(e)}function ON(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zC=function(){return!!e})()}function b4(e){return b4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b4(e)}function kN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wg(e,t)}function wg(e,t){return wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},wg(e,t)}function S6(e,t,n){return t=BC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BC(e){var t=DN(e,"string");return td(t)=="symbol"?t:t+""}function DN(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(td(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LN(e,t){if(e==null)return{};var n=RN(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function RN(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function zN(e){return e.value}function BN(e,t){if(tt.isValidElement(e))return tt.cloneElement(e,t);if(typeof e=="function")return tt.createElement(e,t);t.ref;var n=LN(t,PN);return tt.createElement(Hy,n)}var TT=1,G0=(function(e){function t(){var n;AN(this,t);for(var i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return n=CN(this,t,[].concat(c)),S6(n,"lastBoundingBox",{width:-1,height:-1}),n}return kN(t,e),MN(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();return i.height=this.wrapperNode.offsetHeight,i.width=this.wrapperNode.offsetWidth,i}return null}},{key:"updateBBox",value:function(){var i=this.props.onBBoxUpdate,c=this.getBBox();c?(Math.abs(c.width-this.lastBoundingBox.width)>TT||Math.abs(c.height-this.lastBoundingBox.height)>TT)&&(this.lastBoundingBox.width=c.width,this.lastBoundingBox.height=c.height,i&&i(c)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,i&&i(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(i){var c=this.props,d=c.layout,y=c.align,x=c.verticalAlign,a=c.margin,w=c.chartWidth,M=c.chartHeight,C,L;if(!i||(i.left===void 0||i.left===null)&&(i.right===void 0||i.right===null))if(y==="center"&&d==="vertical"){var j=this.getBBoxSnapshot();C={left:((w||0)-j.width)/2}}else C=y==="right"?{right:a&&a.right||0}:{left:a&&a.left||0};if(!i||(i.top===void 0||i.top===null)&&(i.bottom===void 0||i.bottom===null))if(x==="middle"){var W=this.getBBoxSnapshot();L={top:((M||0)-W.height)/2}}else L=x==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0};return Cc(Cc({},C),L)}},{key:"render",value:function(){var i=this,c=this.props,d=c.content,y=c.width,x=c.height,a=c.wrapperStyle,w=c.payloadUniqBy,M=c.payload,C=Cc(Cc({position:"absolute",width:y||"auto",height:x||"auto"},this.getDefaultPosition(a)),a);return tt.createElement("div",{className:"recharts-legend-wrapper",style:C,ref:function(j){i.wrapperNode=j}},BN(d,Cc(Cc({},this.props),{},{payload:RC(M,w,zN)})))}}],[{key:"getWithHeight",value:function(i,c){var d=Cc(Cc({},this.defaultProps),i.props),y=d.layout;return y==="vertical"&&rr(i.props.height)?{height:i.props.height}:y==="horizontal"?{width:i.props.width||c}:null}}])})(Ve.PureComponent);S6(G0,"displayName","Legend");S6(G0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var k8,ET;function FN(){if(ET)return k8;ET=1;var e=B3(),t=Xy(),n=es(),i=e?e.isConcatSpreadable:void 0;function c(d){return n(d)||t(d)||!!(i&&d&&d[i])}return k8=c,k8}var D8,PT;function FC(){if(PT)return D8;PT=1;var e=PC(),t=FN();function n(i,c,d,y,x){var a=-1,w=i.length;for(d||(d=t),x||(x=[]);++a<w;){var M=i[a];c>0&&d(M)?c>1?n(M,c-1,d,y,x):e(x,M):y||(x[x.length]=M)}return x}return D8=n,D8}var L8,AT;function jN(){if(AT)return L8;AT=1;function e(t){return function(n,i,c){for(var d=-1,y=Object(n),x=c(n),a=x.length;a--;){var w=x[t?a:++d];if(i(y[w],w,y)===!1)break}return n}}return L8=e,L8}var R8,MT;function NN(){if(MT)return R8;MT=1;var e=jN(),t=e();return R8=t,R8}var z8,CT;function jC(){if(CT)return z8;CT=1;var e=NN(),t=w6();function n(i,c){return i&&e(i,c,t)}return z8=n,z8}var B8,IT;function UN(){if(IT)return B8;IT=1;var e=j3();function t(n,i){return function(c,d){if(c==null)return c;if(!e(c))return n(c,d);for(var y=c.length,x=i?y:-1,a=Object(c);(i?x--:++x<y)&&d(a[x],x,a)!==!1;);return c}}return B8=t,B8}var F8,OT;function Qy(){if(OT)return F8;OT=1;var e=jC(),t=UN(),n=t(e);return F8=n,F8}var j8,kT;function NC(){if(kT)return j8;kT=1;var e=Qy(),t=j3();function n(i,c){var d=-1,y=t(i)?Array(i.length):[];return e(i,function(x,a,w){y[++d]=c(x,a,w)}),y}return j8=n,j8}var N8,DT;function $N(){if(DT)return N8;DT=1;function e(t,n){var i=t.length;for(t.sort(n);i--;)t[i]=t[i].value;return t}return N8=e,N8}var U8,LT;function VN(){if(LT)return U8;LT=1;var e=wd();function t(n,i){if(n!==i){var c=n!==void 0,d=n===null,y=n===n,x=e(n),a=i!==void 0,w=i===null,M=i===i,C=e(i);if(!w&&!C&&!x&&n>i||x&&a&&M&&!w&&!C||d&&a&&M||!c&&M||!y)return 1;if(!d&&!x&&!C&&n<i||C&&c&&y&&!d&&!x||w&&c&&y||!a&&y||!M)return-1}return 0}return U8=t,U8}var $8,RT;function qN(){if(RT)return $8;RT=1;var e=VN();function t(n,i,c){for(var d=-1,y=n.criteria,x=i.criteria,a=y.length,w=c.length;++d<a;){var M=e(y[d],x[d]);if(M){if(d>=w)return M;var C=c[d];return M*(C=="desc"?-1:1)}}return n.index-i.index}return $8=t,$8}var V8,zT;function GN(){if(zT)return V8;zT=1;var e=jy(),t=Ny(),n=Z1(),i=NC(),c=$N(),d=MC(),y=qN(),x=Td(),a=es();function w(M,C,L){C.length?C=e(C,function(q){return a(q)?function(U){return t(U,q.length===1?q[0]:q)}:q}):C=[x];var j=-1;C=e(C,d(n));var W=i(M,function(q,U,Q){var re=e(C,function(ee){return ee(q)});return{criteria:re,index:++j,value:q}});return c(W,function(q,U){return y(q,U,L)})}return V8=w,V8}var q8,BT;function WN(){if(BT)return q8;BT=1;function e(t,n,i){switch(i.length){case 0:return t.call(n);case 1:return t.call(n,i[0]);case 2:return t.call(n,i[0],i[1]);case 3:return t.call(n,i[0],i[1],i[2])}return t.apply(n,i)}return q8=e,q8}var G8,FT;function HN(){if(FT)return G8;FT=1;var e=WN(),t=Math.max;function n(i,c,d){return c=t(c===void 0?i.length-1:c,0),function(){for(var y=arguments,x=-1,a=t(y.length-c,0),w=Array(a);++x<a;)w[x]=y[c+x];x=-1;for(var M=Array(c+1);++x<c;)M[x]=y[x];return M[c]=d(w),e(i,this,M)}}return G8=n,G8}var W8,jT;function ZN(){if(jT)return W8;jT=1;function e(t){return function(){return t}}return W8=e,W8}var H8,NT;function UC(){if(NT)return H8;NT=1;var e=Sf(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return H8=t,H8}var Z8,UT;function XN(){if(UT)return Z8;UT=1;var e=ZN(),t=UC(),n=Td(),i=t?function(c,d){return t(c,"toString",{configurable:!0,enumerable:!1,value:e(d),writable:!0})}:n;return Z8=i,Z8}var X8,$T;function KN(){if($T)return X8;$T=1;var e=800,t=16,n=Date.now;function i(c){var d=0,y=0;return function(){var x=n(),a=t-(x-y);if(y=x,a>0){if(++d>=e)return arguments[0]}else d=0;return c.apply(void 0,arguments)}}return X8=i,X8}var K8,VT;function YN(){if(VT)return K8;VT=1;var e=XN(),t=KN(),n=t(e);return K8=n,K8}var Y8,qT;function JN(){if(qT)return Y8;qT=1;var e=Td(),t=HN(),n=YN();function i(c,d){return n(t(c,d,e),c+"")}return Y8=i,Y8}var J8,GT;function T6(){if(GT)return J8;GT=1;var e=zy(),t=j3(),n=Ky(),i=H1();function c(d,y,x){if(!i(x))return!1;var a=typeof y;return(a=="number"?t(x)&&n(y,x.length):a=="string"&&y in x)?e(x[y],d):!1}return J8=c,J8}var Q8,WT;function QN(){if(WT)return Q8;WT=1;var e=FC(),t=GN(),n=JN(),i=T6(),c=n(function(d,y){if(d==null)return[];var x=y.length;return x>1&&i(d,y[0],y[1])?y=[]:x>2&&i(y[0],y[1],y[2])&&(y=[y[0]]),t(d,e(y,1),[])});return Q8=c,Q8}var eU=QN();const e_=vn(eU);function r3(e){"@babel/helpers - typeof";return r3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r3(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sg.apply(this,arguments)}function tU(e,t){return oU(e)||iU(e,t)||nU(e,t)||rU()}function rU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nU(e,t){if(e){if(typeof e=="string")return HT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HT(e,t)}}function HT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function iU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function oU(e){if(Array.isArray(e))return e}function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function e9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(i){aU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function aU(e,t,n){return t=sU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sU(e){var t=lU(e,"string");return r3(t)=="symbol"?t:t+""}function lU(e,t){if(r3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(r3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uU(e){return Array.isArray(e)&&mo(e[0])&&mo(e[1])?e.join(" ~ "):e}var cU=function(t){var n=t.separator,i=n===void 0?" : ":n,c=t.contentStyle,d=c===void 0?{}:c,y=t.itemStyle,x=y===void 0?{}:y,a=t.labelStyle,w=a===void 0?{}:a,M=t.payload,C=t.formatter,L=t.itemSorter,j=t.wrapperClassName,W=t.labelClassName,q=t.label,U=t.labelFormatter,Q=t.accessibilityLayer,re=Q===void 0?!1:Q,ee=function(){if(M&&M.length){var Ye={padding:0,margin:0},Ge=(L?e_(M,L):M).map(function(Te,Se){if(Te.type==="none")return null;var ze=e9({display:"block",paddingTop:4,paddingBottom:4,color:Te.color||"#000"},x),Ue=Te.formatter||C||uU,ke=Te.value,$e=Te.name,ft=ke,Pe=$e;if(Ue&&ft!=null&&Pe!=null){var We=Ue(ke,$e,Te,Se,M);if(Array.isArray(We)){var At=tU(We,2);ft=At[0],Pe=At[1]}else ft=We}return tt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Se),style:ze},mo(Pe)?tt.createElement("span",{className:"recharts-tooltip-item-name"},Pe):null,mo(Pe)?tt.createElement("span",{className:"recharts-tooltip-item-separator"},i):null,tt.createElement("span",{className:"recharts-tooltip-item-value"},ft),tt.createElement("span",{className:"recharts-tooltip-item-unit"},Te.unit||""))});return tt.createElement("ul",{className:"recharts-tooltip-item-list",style:Ye},Ge)}return null},oe=e9({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},d),K=e9({margin:0},w),ne=!Un(q),te=ne?q:"",be=$n("recharts-default-tooltip",j),Ce=$n("recharts-tooltip-label",W);ne&&U&&M!==void 0&&M!==null&&(te=U(q,M));var Ee=re?{role:"status","aria-live":"assertive"}:{};return tt.createElement("div",Sg({className:be,style:oe},Ee),tt.createElement("p",{className:Ce,style:K},tt.isValidElement(te)?te:"".concat(te)),ee())};function n3(e){"@babel/helpers - typeof";return n3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n3(e)}function N5(e,t,n){return t=hU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hU(e){var t=fU(e,"string");return n3(t)=="symbol"?t:t+""}function fU(e,t){if(n3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(n3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kp="recharts-tooltip-wrapper",dU={visibility:"hidden"};function pU(e){var t=e.coordinate,n=e.translateX,i=e.translateY;return $n(kp,N5(N5(N5(N5({},"".concat(kp,"-right"),rr(n)&&t&&rr(t.x)&&n>=t.x),"".concat(kp,"-left"),rr(n)&&t&&rr(t.x)&&n<t.x),"".concat(kp,"-bottom"),rr(i)&&t&&rr(t.y)&&i>=t.y),"".concat(kp,"-top"),rr(i)&&t&&rr(t.y)&&i<t.y))}function XT(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.key,c=e.offsetTopLeft,d=e.position,y=e.reverseDirection,x=e.tooltipDimension,a=e.viewBox,w=e.viewBoxDimension;if(d&&rr(d[i]))return d[i];var M=n[i]-x-c,C=n[i]+c;if(t[i])return y[i]?M:C;if(y[i]){var L=M,j=a[i];return L<j?Math.max(C,a[i]):Math.max(M,a[i])}var W=C+x,q=a[i]+w;return W>q?Math.max(M,a[i]):Math.max(C,a[i])}function mU(e){var t=e.translateX,n=e.translateY,i=e.useTranslate3d;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function gU(e){var t=e.allowEscapeViewBox,n=e.coordinate,i=e.offsetTopLeft,c=e.position,d=e.reverseDirection,y=e.tooltipBox,x=e.useTranslate3d,a=e.viewBox,w,M,C;return y.height>0&&y.width>0&&n?(M=XT({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:c,reverseDirection:d,tooltipDimension:y.width,viewBox:a,viewBoxDimension:a.width}),C=XT({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:c,reverseDirection:d,tooltipDimension:y.height,viewBox:a,viewBoxDimension:a.height}),w=mU({translateX:M,translateY:C,useTranslate3d:x})):w=dU,{cssProperties:w,cssClasses:pU({translateX:M,translateY:C,coordinate:n})}}function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function YT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(i){Eg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _U(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,VC(i.key),i)}}function vU(e,t,n){return t&&_U(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xU(e,t,n){return t=w4(t),bU(e,$C()?Reflect.construct(t,n||[],w4(e).constructor):t.apply(e,n))}function bU(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wU(e)}function wU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($C=function(){return!!e})()}function w4(e){return w4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w4(e)}function SU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tg(e,t)}function Tg(e,t){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},Tg(e,t)}function Eg(e,t,n){return t=VC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VC(e){var t=TU(e,"string");return rd(t)=="symbol"?t:t+""}function TU(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(rd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JT=1,EU=(function(e){function t(){var n;yU(this,t);for(var i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return n=xU(this,t,[].concat(c)),Eg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Eg(n,"handleKeyDown",function(y){if(y.key==="Escape"){var x,a,w,M;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(x=(a=n.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&x!==void 0?x:0,y:(w=(M=n.props.coordinate)===null||M===void 0?void 0:M.y)!==null&&w!==void 0?w:0}})}}),n}return SU(t,e),vU(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.state.lastBoundingBox.width)>JT||Math.abs(i.height-this.state.lastBoundingBox.height)>JT)&&this.setState({lastBoundingBox:{width:i.width,height:i.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var i,c;this.props.active&&this.updateBBox(),this.state.dismissed&&(((i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==this.state.dismissedAtCoordinate.x||((c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var i=this,c=this.props,d=c.active,y=c.allowEscapeViewBox,x=c.animationDuration,a=c.animationEasing,w=c.children,M=c.coordinate,C=c.hasPayload,L=c.isAnimationActive,j=c.offset,W=c.position,q=c.reverseDirection,U=c.useTranslate3d,Q=c.viewBox,re=c.wrapperStyle,ee=gU({allowEscapeViewBox:y,coordinate:M,offsetTopLeft:j,position:W,reverseDirection:q,tooltipBox:this.state.lastBoundingBox,useTranslate3d:U,viewBox:Q}),oe=ee.cssClasses,K=ee.cssProperties,ne=YT(YT({transition:L&&d?"transform ".concat(x,"ms ").concat(a):void 0},K),{},{pointerEvents:"none",visibility:!this.state.dismissed&&d&&C?"visible":"hidden",position:"absolute",top:0,left:0},re);return tt.createElement("div",{tabIndex:-1,className:oe,style:ne,ref:function(be){i.wrapperNode=be}},w)}}])})(Ve.PureComponent),PU=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},N3={isSsr:PU()};function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(i){t_(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MU(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,GC(i.key),i)}}function CU(e,t,n){return t&&MU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IU(e,t,n){return t=S4(t),OU(e,qC()?Reflect.construct(t,n||[],S4(e).constructor):t.apply(e,n))}function OU(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kU(e)}function kU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qC=function(){return!!e})()}function S4(e){return S4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S4(e)}function DU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pg(e,t)}function Pg(e,t){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},Pg(e,t)}function t_(e,t,n){return t=GC(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GC(e){var t=LU(e,"string");return nd(t)=="symbol"?t:t+""}function LU(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(nd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function RU(e){return e.dataKey}function zU(e,t){return tt.isValidElement(e)?tt.cloneElement(e,t):typeof e=="function"?tt.createElement(e,t):tt.createElement(cU,t)}var Ic=(function(e){function t(){return AU(this,t),IU(this,t,arguments)}return DU(t,e),CU(t,[{key:"render",value:function(){var i=this,c=this.props,d=c.active,y=c.allowEscapeViewBox,x=c.animationDuration,a=c.animationEasing,w=c.content,M=c.coordinate,C=c.filterNull,L=c.isAnimationActive,j=c.offset,W=c.payload,q=c.payloadUniqBy,U=c.position,Q=c.reverseDirection,re=c.useTranslate3d,ee=c.viewBox,oe=c.wrapperStyle,K=W??[];C&&K.length&&(K=RC(W.filter(function(te){return te.value!=null&&(te.hide!==!0||i.props.includeHidden)}),q,RU));var ne=K.length>0;return tt.createElement(EU,{allowEscapeViewBox:y,animationDuration:x,animationEasing:a,isAnimationActive:L,active:d,coordinate:M,hasPayload:ne,offset:j,position:U,reverseDirection:Q,useTranslate3d:re,viewBox:ee,wrapperStyle:oe},zU(w,eE(eE({},this.props),{},{payload:K})))}}])})(Ve.PureComponent);t_(Ic,"displayName","Tooltip");t_(Ic,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!N3.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var t9,tE;function BU(){if(tE)return t9;tE=1;var e=Uu(),t=function(){return e.Date.now()};return t9=t,t9}var r9,rE;function FU(){if(rE)return r9;rE=1;var e=/\s/;function t(n){for(var i=n.length;i--&&e.test(n.charAt(i)););return i}return r9=t,r9}var n9,nE;function jU(){if(nE)return n9;nE=1;var e=FU(),t=/^\s+/;function n(i){return i&&i.slice(0,e(i)+1).replace(t,"")}return n9=n,n9}var i9,iE;function WC(){if(iE)return i9;iE=1;var e=jU(),t=H1(),n=wd(),i=NaN,c=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,y=/^0o[0-7]+$/i,x=parseInt;function a(w){if(typeof w=="number")return w;if(n(w))return i;if(t(w)){var M=typeof w.valueOf=="function"?w.valueOf():w;w=t(M)?M+"":M}if(typeof w!="string")return w===0?w:+w;w=e(w);var C=d.test(w);return C||y.test(w)?x(w.slice(2),C?2:8):c.test(w)?i:+w}return i9=a,i9}var o9,oE;function NU(){if(oE)return o9;oE=1;var e=H1(),t=BU(),n=WC(),i="Expected a function",c=Math.max,d=Math.min;function y(x,a,w){var M,C,L,j,W,q,U=0,Q=!1,re=!1,ee=!0;if(typeof x!="function")throw new TypeError(i);a=n(a)||0,e(w)&&(Q=!!w.leading,re="maxWait"in w,L=re?c(n(w.maxWait)||0,a):L,ee="trailing"in w?!!w.trailing:ee);function oe(Ge){var Te=M,Se=C;return M=C=void 0,U=Ge,j=x.apply(Se,Te),j}function K(Ge){return U=Ge,W=setTimeout(be,a),Q?oe(Ge):j}function ne(Ge){var Te=Ge-q,Se=Ge-U,ze=a-Te;return re?d(ze,L-Se):ze}function te(Ge){var Te=Ge-q,Se=Ge-U;return q===void 0||Te>=a||Te<0||re&&Se>=L}function be(){var Ge=t();if(te(Ge))return Ce(Ge);W=setTimeout(be,ne(Ge))}function Ce(Ge){return W=void 0,ee&&M?oe(Ge):(M=C=void 0,j)}function Ee(){W!==void 0&&clearTimeout(W),U=0,M=q=C=W=void 0}function je(){return W===void 0?j:Ce(t())}function Ye(){var Ge=t(),Te=te(Ge);if(M=arguments,C=this,q=Ge,Te){if(W===void 0)return K(q);if(re)return clearTimeout(W),W=setTimeout(be,a),oe(q)}return W===void 0&&(W=setTimeout(be,a)),j}return Ye.cancel=Ee,Ye.flush=je,Ye}return o9=y,o9}var a9,aE;function UU(){if(aE)return a9;aE=1;var e=NU(),t=H1(),n="Expected a function";function i(c,d,y){var x=!0,a=!0;if(typeof c!="function")throw new TypeError(n);return t(y)&&(x="leading"in y?!!y.leading:x,a="trailing"in y?!!y.trailing:a),e(c,d,{leading:x,maxWait:d,trailing:a})}return a9=i,a9}var $U=UU();const HC=vn($U);function i3(e){"@babel/helpers - typeof";return i3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i3(e)}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function U5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(i){VU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function VU(e,t,n){return t=qU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qU(e){var t=GU(e,"string");return i3(t)=="symbol"?t:t+""}function GU(e,t){if(i3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(i3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WU(e,t){return KU(e)||XU(e,t)||ZU(e,t)||HU()}function HU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZU(e,t){if(e){if(typeof e=="string")return lE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lE(e,t)}}function lE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function XU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function KU(e){if(Array.isArray(e))return e}var fee=Ve.forwardRef(function(e,t){var n=e.aspect,i=e.initialDimension,c=i===void 0?{width:-1,height:-1}:i,d=e.width,y=d===void 0?"100%":d,x=e.height,a=x===void 0?"100%":x,w=e.minWidth,M=w===void 0?0:w,C=e.minHeight,L=e.maxHeight,j=e.children,W=e.debounce,q=W===void 0?0:W,U=e.id,Q=e.className,re=e.onResize,ee=e.style,oe=ee===void 0?{}:ee,K=Ve.useRef(null),ne=Ve.useRef();ne.current=re,Ve.useImperativeHandle(t,function(){return Object.defineProperty(K.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),K.current},configurable:!0})});var te=Ve.useState({containerWidth:c.width,containerHeight:c.height}),be=WU(te,2),Ce=be[0],Ee=be[1],je=Ve.useCallback(function(Ge,Te){Ee(function(Se){var ze=Math.round(Ge),Ue=Math.round(Te);return Se.containerWidth===ze&&Se.containerHeight===Ue?Se:{containerWidth:ze,containerHeight:Ue}})},[]);Ve.useEffect(function(){var Ge=function($e){var ft,Pe=$e[0].contentRect,We=Pe.width,At=Pe.height;je(We,At),(ft=ne.current)===null||ft===void 0||ft.call(ne,We,At)};q>0&&(Ge=HC(Ge,q,{trailing:!0,leading:!1}));var Te=new ResizeObserver(Ge),Se=K.current.getBoundingClientRect(),ze=Se.width,Ue=Se.height;return je(ze,Ue),Te.observe(K.current),function(){Te.disconnect()}},[je,q]);var Ye=Ve.useMemo(function(){var Ge=Ce.containerWidth,Te=Ce.containerHeight;if(Ge<0||Te<0)return null;zc(sf(y)||sf(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,y,a),zc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Se=sf(y)?Ge:y,ze=sf(a)?Te:a;n&&n>0&&(Se?ze=Se/n:ze&&(Se=ze*n),L&&ze>L&&(ze=L)),zc(Se>0||ze>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Se,ze,y,a,M,C,n);var Ue=!Array.isArray(j)&&Rc(j.type).endsWith("Chart");return tt.Children.map(j,function(ke){return tt.isValidElement(ke)?Ve.cloneElement(ke,U5({width:Se,height:ze},Ue?{style:U5({height:"100%",width:"100%",maxHeight:ze,maxWidth:Se},ke.props.style)}:{})):ke})},[n,j,a,L,C,M,Ce,y]);return tt.createElement("div",{id:U?"".concat(U):void 0,className:$n("recharts-responsive-container",Q),style:U5(U5({},oe),{},{width:y,height:a,minWidth:M,minHeight:C,maxHeight:L}),ref:K},Ye)}),ZC=function(t){return null};ZC.displayName="Cell";function o3(e){"@babel/helpers - typeof";return o3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o3(e)}function uE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function Ag(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(n),!0).forEach(function(i){YU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uE(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function YU(e,t,n){return t=JU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JU(e){var t=QU(e,"string");return o3(t)=="symbol"?t:t+""}function QU(e,t){if(o3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(o3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D0={widthCache:{},cacheCount:0},e$=2e3,t$={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cE="recharts_measurement_span";function r$(e){var t=Ag({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Wp=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||N3.isSsr)return{width:0,height:0};var i=r$(n),c=JSON.stringify({text:t,copyStyle:i});if(D0.widthCache[c])return D0.widthCache[c];try{var d=document.getElementById(cE);d||(d=document.createElement("span"),d.setAttribute("id",cE),d.setAttribute("aria-hidden","true"),document.body.appendChild(d));var y=Ag(Ag({},t$),i);Object.assign(d.style,y),d.textContent="".concat(t);var x=d.getBoundingClientRect(),a={width:x.width,height:x.height};return D0.widthCache[c]=a,++D0.cacheCount>e$&&(D0.cacheCount=0,D0.widthCache={}),a}catch{return{width:0,height:0}}},n$=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function a3(e){"@babel/helpers - typeof";return a3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a3(e)}function T4(e,t){return s$(e)||a$(e,t)||o$(e,t)||i$()}function i$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$(e,t){if(e){if(typeof e=="string")return hE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(e,t)}}function hE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function s$(e){if(Array.isArray(e))return e}function l$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c$(i.key),i)}}function u$(e,t,n){return t&&fE(e.prototype,t),n&&fE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c$(e){var t=h$(e,"string");return a3(t)=="symbol"?t:t+""}function h$(e,t){if(a3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(a3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d$=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},p$=Object.keys(XC),B0="NaN";function m$(e,t){return e*XC[t]}var $5=(function(){function e(t,n){l$(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!f$.test(n)&&(this.num=NaN,this.unit=""),p$.includes(n)&&(this.num=m$(t,n),this.unit="px")}return u$(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var i,c=(i=d$.exec(n))!==null&&i!==void 0?i:[],d=T4(c,3),y=d[1],x=d[2];return new e(parseFloat(y),x??"")}}])})();function KC(e){if(e.includes(B0))return B0;for(var t=e;t.includes("*")||t.includes("/");){var n,i=(n=dE.exec(t))!==null&&n!==void 0?n:[],c=T4(i,4),d=c[1],y=c[2],x=c[3],a=$5.parse(d??""),w=$5.parse(x??""),M=y==="*"?a.multiply(w):a.divide(w);if(M.isNaN())return B0;t=t.replace(dE,M.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var C,L=(C=pE.exec(t))!==null&&C!==void 0?C:[],j=T4(L,4),W=j[1],q=j[2],U=j[3],Q=$5.parse(W??""),re=$5.parse(U??""),ee=q==="+"?Q.add(re):Q.subtract(re);if(ee.isNaN())return B0;t=t.replace(pE,ee.toString())}return t}var mE=/\(([^()]*)\)/;function g$(e){for(var t=e;t.includes("(");){var n=mE.exec(t),i=T4(n,2),c=i[1];t=t.replace(mE,KC(c))}return t}function y$(e){var t=e.replace(/\s+/g,"");return t=g$(t),t=KC(t),t}function _$(e){try{return y$(e)}catch{return B0}}function s9(e){var t=_$(e.slice(5,-1));return t===B0?"":t}var v$=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],x$=["dx","dy","angle","className","breakAll"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mg.apply(this,arguments)}function gE(e,t){if(e==null)return{};var n=b$(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function b$(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function yE(e,t){return E$(e)||T$(e,t)||S$(e,t)||w$()}function w$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S$(e,t){if(e){if(typeof e=="string")return _E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(e,t)}}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function T$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function E$(e){if(Array.isArray(e))return e}var YC=/[ \f\n\r\t\v\u2028\u2029]+/,JC=function(t){var n=t.children,i=t.breakAll,c=t.style;try{var d=[];Un(n)||(i?d=n.toString().split(""):d=n.toString().split(YC));var y=d.map(function(a){return{word:a,width:Wp(a,c).width}}),x=i?0:Wp("",c).width;return{wordsWithComputedWidth:y,spaceWidth:x}}catch{return null}},P$=function(t,n,i,c,d){var y=t.maxLines,x=t.children,a=t.style,w=t.breakAll,M=rr(y),C=x,L=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Se.reduce(function(ze,Ue){var ke=Ue.word,$e=Ue.width,ft=ze[ze.length-1];if(ft&&(c==null||d||ft.width+$e+i<Number(c)))ft.words.push(ke),ft.width+=$e+i;else{var Pe={words:[ke],width:$e};ze.push(Pe)}return ze},[])},j=L(n),W=function(Se){return Se.reduce(function(ze,Ue){return ze.width>Ue.width?ze:Ue})};if(!M)return j;for(var q="",U=function(Se){var ze=C.slice(0,Se),Ue=JC({breakAll:w,style:a,children:ze+q}).wordsWithComputedWidth,ke=L(Ue),$e=ke.length>y||W(ke).width>Number(c);return[$e,ke]},Q=0,re=C.length-1,ee=0,oe;Q<=re&&ee<=C.length-1;){var K=Math.floor((Q+re)/2),ne=K-1,te=U(ne),be=yE(te,2),Ce=be[0],Ee=be[1],je=U(K),Ye=yE(je,1),Ge=Ye[0];if(!Ce&&!Ge&&(Q=K+1),Ce&&Ge&&(re=K-1),!Ce&&Ge){oe=Ee;break}ee++}return oe||j},vE=function(t){var n=Un(t)?[]:t.toString().split(YC);return[{words:n}]},A$=function(t){var n=t.width,i=t.scaleToFit,c=t.children,d=t.style,y=t.breakAll,x=t.maxLines;if((n||i)&&!N3.isSsr){var a,w,M=JC({breakAll:y,children:c,style:d});if(M){var C=M.wordsWithComputedWidth,L=M.spaceWidth;a=C,w=L}else return vE(c);return P$({breakAll:y,children:c,maxLines:x,style:d},a,w,n,i)}return vE(c)},xE="#808080",E4=function(t){var n=t.x,i=n===void 0?0:n,c=t.y,d=c===void 0?0:c,y=t.lineHeight,x=y===void 0?"1em":y,a=t.capHeight,w=a===void 0?"0.71em":a,M=t.scaleToFit,C=M===void 0?!1:M,L=t.textAnchor,j=L===void 0?"start":L,W=t.verticalAnchor,q=W===void 0?"end":W,U=t.fill,Q=U===void 0?xE:U,re=gE(t,v$),ee=Ve.useMemo(function(){return A$({breakAll:re.breakAll,children:re.children,maxLines:re.maxLines,scaleToFit:C,style:re.style,width:re.width})},[re.breakAll,re.children,re.maxLines,C,re.style,re.width]),oe=re.dx,K=re.dy,ne=re.angle,te=re.className,be=re.breakAll,Ce=gE(re,x$);if(!mo(i)||!mo(d))return null;var Ee=i+(rr(oe)?oe:0),je=d+(rr(K)?K:0),Ye;switch(q){case"start":Ye=s9("calc(".concat(w,")"));break;case"middle":Ye=s9("calc(".concat((ee.length-1)/2," * -").concat(x," + (").concat(w," / 2))"));break;default:Ye=s9("calc(".concat(ee.length-1," * -").concat(x,")"));break}var Ge=[];if(C){var Te=ee[0].width,Se=re.width;Ge.push("scale(".concat((rr(Se)?Se/Te:1)/Te,")"))}return ne&&Ge.push("rotate(".concat(ne,", ").concat(Ee,", ").concat(je,")")),Ge.length&&(Ce.transform=Ge.join(" ")),tt.createElement("text",Mg({},Ln(Ce,!0),{x:Ee,y:je,className:$n("recharts-text",te),textAnchor:j,fill:Q.includes("url")?xE:Q}),ee.map(function(ze,Ue){var ke=ze.words.join(be?"":" ");return tt.createElement("tspan",{x:Ee,dy:Ue===0?Ye:x,key:"".concat(ke,"-").concat(Ue)},ke)}))};function V1(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function M$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r_(e){let t,n,i;e.length!==2?(t=V1,n=(x,a)=>V1(e(x),a),i=(x,a)=>e(x)-a):(t=e===V1||e===M$?e:C$,n=e,i=e);function c(x,a,w=0,M=x.length){if(w<M){if(t(a,a)!==0)return M;do{const C=w+M>>>1;n(x[C],a)<0?w=C+1:M=C}while(w<M)}return w}function d(x,a,w=0,M=x.length){if(w<M){if(t(a,a)!==0)return M;do{const C=w+M>>>1;n(x[C],a)<=0?w=C+1:M=C}while(w<M)}return w}function y(x,a,w=0,M=x.length){const C=c(x,a,w,M-1);return C>w&&i(x[C-1],a)>-i(x[C],a)?C-1:C}return{left:c,center:y,right:d}}function C$(){return 0}function QC(e){return e===null?NaN:+e}function*I$(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const O$=r_(V1),U3=O$.right;r_(QC).center;class bE extends Map{constructor(t,n=L$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,c]of t)this.set(i,c)}get(t){return super.get(wE(this,t))}has(t){return super.has(wE(this,t))}set(t,n){return super.set(k$(this,t),n)}delete(t){return super.delete(D$(this,t))}}function wE({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function k$({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function D$({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function L$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function R$(e=V1){if(e===V1)return eI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function eI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const z$=Math.sqrt(50),B$=Math.sqrt(10),F$=Math.sqrt(2);function P4(e,t,n){const i=(t-e)/Math.max(0,n),c=Math.floor(Math.log10(i)),d=i/Math.pow(10,c),y=d>=z$?10:d>=B$?5:d>=F$?2:1;let x,a,w;return c<0?(w=Math.pow(10,-c)/y,x=Math.round(e*w),a=Math.round(t*w),x/w<e&&++x,a/w>t&&--a,w=-w):(w=Math.pow(10,c)*y,x=Math.round(e/w),a=Math.round(t/w),x*w<e&&++x,a*w>t&&--a),a<x&&.5<=n&&n<2?P4(e,t,n*2):[x,a,w]}function Cg(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[c,d,y]=i?P4(t,e,n):P4(e,t,n);if(!(d>=c))return[];const x=d-c+1,a=new Array(x);if(i)if(y<0)for(let w=0;w<x;++w)a[w]=(d-w)/-y;else for(let w=0;w<x;++w)a[w]=(d-w)*y;else if(y<0)for(let w=0;w<x;++w)a[w]=(c+w)/-y;else for(let w=0;w<x;++w)a[w]=(c+w)*y;return a}function Ig(e,t,n){return t=+t,e=+e,n=+n,P4(e,t,n)[2]}function Og(e,t,n){t=+t,e=+e,n=+n;const i=t<e,c=i?Ig(t,e,n):Ig(e,t,n);return(i?-1:1)*(c<0?1/-c:c)}function SE(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function TE(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function tI(e,t,n=0,i=1/0,c){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(c=c===void 0?eI:R$(c);i>n;){if(i-n>600){const a=i-n+1,w=t-n+1,M=Math.log(a),C=.5*Math.exp(2*M/3),L=.5*Math.sqrt(M*C*(a-C)/a)*(w-a/2<0?-1:1),j=Math.max(n,Math.floor(t-w*C/a+L)),W=Math.min(i,Math.floor(t+(a-w)*C/a+L));tI(e,t,j,W,c)}const d=e[t];let y=n,x=i;for(Dp(e,n,t),c(e[i],d)>0&&Dp(e,n,i);y<x;){for(Dp(e,y,x),++y,--x;c(e[y],d)<0;)++y;for(;c(e[x],d)>0;)--x}c(e[n],d)===0?Dp(e,n,x):(++x,Dp(e,x,i)),x<=t&&(n=x+1),t<=x&&(i=x-1)}return e}function Dp(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function j$(e,t,n){if(e=Float64Array.from(I$(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return TE(e);if(t>=1)return SE(e);var i,c=(i-1)*t,d=Math.floor(c),y=SE(tI(e,d).subarray(0,d+1)),x=TE(e.subarray(d+1));return y+(x-y)*(c-d)}}function N$(e,t,n=QC){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,c=(i-1)*t,d=Math.floor(c),y=+n(e[d],d,e),x=+n(e[d+1],d+1,e);return y+(x-y)*(c-d)}}function U$(e,t,n){e=+e,t=+t,n=(c=arguments.length)<2?(t=e,e=0,1):c<3?1:+n;for(var i=-1,c=Math.max(0,Math.ceil((t-e)/n))|0,d=new Array(c);++i<c;)d[i]=e+i*n;return d}function ll(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kg=Symbol("implicit");function n_(){var e=new bE,t=[],n=[],i=kg;function c(d){let y=e.get(d);if(y===void 0){if(i!==kg)return i;e.set(d,y=t.push(d)-1)}return n[y%n.length]}return c.domain=function(d){if(!arguments.length)return t.slice();t=[],e=new bE;for(const y of d)e.has(y)||e.set(y,t.push(y)-1);return c},c.range=function(d){return arguments.length?(n=Array.from(d),c):n.slice()},c.unknown=function(d){return arguments.length?(i=d,c):i},c.copy=function(){return n_(t,n).unknown(i)},ll.apply(c,arguments),c}function s3(){var e=n_().unknown(void 0),t=e.domain,n=e.range,i=0,c=1,d,y,x=!1,a=0,w=0,M=.5;delete e.unknown;function C(){var L=t().length,j=c<i,W=j?c:i,q=j?i:c;d=(q-W)/Math.max(1,L-a+w*2),x&&(d=Math.floor(d)),W+=(q-W-d*(L-a))*M,y=d*(1-a),x&&(W=Math.round(W),y=Math.round(y));var U=U$(L).map(function(Q){return W+d*Q});return n(j?U.reverse():U)}return e.domain=function(L){return arguments.length?(t(L),C()):t()},e.range=function(L){return arguments.length?([i,c]=L,i=+i,c=+c,C()):[i,c]},e.rangeRound=function(L){return[i,c]=L,i=+i,c=+c,x=!0,C()},e.bandwidth=function(){return y},e.step=function(){return d},e.round=function(L){return arguments.length?(x=!!L,C()):x},e.padding=function(L){return arguments.length?(a=Math.min(1,w=+L),C()):a},e.paddingInner=function(L){return arguments.length?(a=Math.min(1,L),C()):a},e.paddingOuter=function(L){return arguments.length?(w=+L,C()):w},e.align=function(L){return arguments.length?(M=Math.max(0,Math.min(1,L)),C()):M},e.copy=function(){return s3(t(),[i,c]).round(x).paddingInner(a).paddingOuter(w).align(M)},ll.apply(C(),arguments)}function rI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rI(t())},e}function Hp(){return rI(s3.apply(null,arguments).paddingInner(1))}function i_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nI(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function $3(){}var l3=.7,A4=1/l3,W0="\\s*([+-]?\\d+)\\s*",u3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$$=/^#([0-9a-f]{3,8})$/,V$=new RegExp(`^rgb\\(${W0},${W0},${W0}\\)$`),q$=new RegExp(`^rgb\\(${Bu},${Bu},${Bu}\\)$`),G$=new RegExp(`^rgba\\(${W0},${W0},${W0},${u3}\\)$`),W$=new RegExp(`^rgba\\(${Bu},${Bu},${Bu},${u3}\\)$`),H$=new RegExp(`^hsl\\(${u3},${Bu},${Bu}\\)$`),Z$=new RegExp(`^hsla\\(${u3},${Bu},${Bu},${u3}\\)$`),EE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i_($3,c3,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PE,formatHex:PE,formatHex8:X$,formatHsl:K$,formatRgb:AE,toString:AE});function PE(){return this.rgb().formatHex()}function X$(){return this.rgb().formatHex8()}function K$(){return iI(this).formatHsl()}function AE(){return this.rgb().formatRgb()}function c3(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$$.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ME(t):n===3?new Qa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?V5(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?V5(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=V$.exec(e))?new Qa(t[1],t[2],t[3],1):(t=q$.exec(e))?new Qa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=G$.exec(e))?V5(t[1],t[2],t[3],t[4]):(t=W$.exec(e))?V5(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=H$.exec(e))?OE(t[1],t[2]/100,t[3]/100,1):(t=Z$.exec(e))?OE(t[1],t[2]/100,t[3]/100,t[4]):EE.hasOwnProperty(e)?ME(EE[e]):e==="transparent"?new Qa(NaN,NaN,NaN,0):null}function ME(e){return new Qa(e>>16&255,e>>8&255,e&255,1)}function V5(e,t,n,i){return i<=0&&(e=t=n=NaN),new Qa(e,t,n,i)}function Y$(e){return e instanceof $3||(e=c3(e)),e?(e=e.rgb(),new Qa(e.r,e.g,e.b,e.opacity)):new Qa}function Dg(e,t,n,i){return arguments.length===1?Y$(e):new Qa(e,t,n,i??1)}function Qa(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}i_(Qa,Dg,nI($3,{brighter(e){return e=e==null?A4:Math.pow(A4,e),new Qa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?l3:Math.pow(l3,e),new Qa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qa(hf(this.r),hf(this.g),hf(this.b),M4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CE,formatHex:CE,formatHex8:J$,formatRgb:IE,toString:IE}));function CE(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}`}function J$(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}${lf((isNaN(this.opacity)?1:this.opacity)*255)}`}function IE(){const e=M4(this.opacity);return`${e===1?"rgb(":"rgba("}${hf(this.r)}, ${hf(this.g)}, ${hf(this.b)}${e===1?")":`, ${e})`}`}function M4(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lf(e){return e=hf(e),(e<16?"0":"")+e.toString(16)}function OE(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jl(e,t,n,i)}function iI(e){if(e instanceof jl)return new jl(e.h,e.s,e.l,e.opacity);if(e instanceof $3||(e=c3(e)),!e)return new jl;if(e instanceof jl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,c=Math.min(t,n,i),d=Math.max(t,n,i),y=NaN,x=d-c,a=(d+c)/2;return x?(t===d?y=(n-i)/x+(n<i)*6:n===d?y=(i-t)/x+2:y=(t-n)/x+4,x/=a<.5?d+c:2-d-c,y*=60):x=a>0&&a<1?0:y,new jl(y,x,a,e.opacity)}function Q$(e,t,n,i){return arguments.length===1?iI(e):new jl(e,t,n,i??1)}function jl(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}i_(jl,Q$,nI($3,{brighter(e){return e=e==null?A4:Math.pow(A4,e),new jl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?l3:Math.pow(l3,e),new jl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,c=2*n-i;return new Qa(l9(e>=240?e-240:e+120,c,i),l9(e,c,i),l9(e<120?e+240:e-120,c,i),this.opacity)},clamp(){return new jl(kE(this.h),q5(this.s),q5(this.l),M4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=M4(this.opacity);return`${e===1?"hsl(":"hsla("}${kE(this.h)}, ${q5(this.s)*100}%, ${q5(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kE(e){return e=(e||0)%360,e<0?e+360:e}function q5(e){return Math.max(0,Math.min(1,e||0))}function l9(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const o_=e=>()=>e;function eV(e,t){return function(n){return e+n*t}}function tV(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function rV(e){return(e=+e)==1?oI:function(t,n){return n-t?tV(t,n,e):o_(isNaN(t)?n:t)}}function oI(e,t){var n=t-e;return n?eV(e,n):o_(isNaN(e)?t:e)}const DE=(function e(t){var n=rV(t);function i(c,d){var y=n((c=Dg(c)).r,(d=Dg(d)).r),x=n(c.g,d.g),a=n(c.b,d.b),w=oI(c.opacity,d.opacity);return function(M){return c.r=y(M),c.g=x(M),c.b=a(M),c.opacity=w(M),c+""}}return i.gamma=e,i})(1);function nV(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),c;return function(d){for(c=0;c<n;++c)i[c]=e[c]*(1-d)+t[c]*d;return i}}function iV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oV(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,c=new Array(i),d=new Array(n),y;for(y=0;y<i;++y)c[y]=Ed(e[y],t[y]);for(;y<n;++y)d[y]=t[y];return function(x){for(y=0;y<i;++y)d[y]=c[y](x);return d}}function aV(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function C4(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sV(e,t){var n={},i={},c;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(c in t)c in e?n[c]=Ed(e[c],t[c]):i[c]=t[c];return function(d){for(c in n)i[c]=n[c](d);return i}}var Lg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u9=new RegExp(Lg.source,"g");function lV(e){return function(){return e}}function uV(e){return function(t){return e(t)+""}}function cV(e,t){var n=Lg.lastIndex=u9.lastIndex=0,i,c,d,y=-1,x=[],a=[];for(e=e+"",t=t+"";(i=Lg.exec(e))&&(c=u9.exec(t));)(d=c.index)>n&&(d=t.slice(n,d),x[y]?x[y]+=d:x[++y]=d),(i=i[0])===(c=c[0])?x[y]?x[y]+=c:x[++y]=c:(x[++y]=null,a.push({i:y,x:C4(i,c)})),n=u9.lastIndex;return n<t.length&&(d=t.slice(n),x[y]?x[y]+=d:x[++y]=d),x.length<2?a[0]?uV(a[0].x):lV(t):(t=a.length,function(w){for(var M=0,C;M<t;++M)x[(C=a[M]).i]=C.x(w);return x.join("")})}function Ed(e,t){var n=typeof t,i;return t==null||n==="boolean"?o_(t):(n==="number"?C4:n==="string"?(i=c3(t))?(t=i,DE):cV:t instanceof c3?DE:t instanceof Date?aV:iV(t)?nV:Array.isArray(t)?oV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sV:C4)(e,t)}function a_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function hV(e,t){t===void 0&&(t=e,e=Ed);for(var n=0,i=t.length-1,c=t[0],d=new Array(i<0?0:i);n<i;)d[n]=e(c,c=t[++n]);return function(y){var x=Math.max(0,Math.min(i-1,Math.floor(y*=i)));return d[x](y-x)}}function fV(e){return function(){return e}}function I4(e){return+e}var LE=[0,1];function La(e){return e}function Rg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:fV(isNaN(t)?NaN:.5)}function dV(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function pV(e,t,n){var i=e[0],c=e[1],d=t[0],y=t[1];return c<i?(i=Rg(c,i),d=n(y,d)):(i=Rg(i,c),d=n(d,y)),function(x){return d(i(x))}}function mV(e,t,n){var i=Math.min(e.length,t.length)-1,c=new Array(i),d=new Array(i),y=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++y<i;)c[y]=Rg(e[y],e[y+1]),d[y]=n(t[y],t[y+1]);return function(x){var a=U3(e,x,1,i)-1;return d[a](c[a](x))}}function V3(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function E6(){var e=LE,t=LE,n=Ed,i,c,d,y=La,x,a,w;function M(){var L=Math.min(e.length,t.length);return y!==La&&(y=dV(e[0],e[L-1])),x=L>2?mV:pV,a=w=null,C}function C(L){return L==null||isNaN(L=+L)?d:(a||(a=x(e.map(i),t,n)))(i(y(L)))}return C.invert=function(L){return y(c((w||(w=x(t,e.map(i),C4)))(L)))},C.domain=function(L){return arguments.length?(e=Array.from(L,I4),M()):e.slice()},C.range=function(L){return arguments.length?(t=Array.from(L),M()):t.slice()},C.rangeRound=function(L){return t=Array.from(L),n=a_,M()},C.clamp=function(L){return arguments.length?(y=L?!0:La,M()):y!==La},C.interpolate=function(L){return arguments.length?(n=L,M()):n},C.unknown=function(L){return arguments.length?(d=L,C):d},function(L,j){return i=L,c=j,M()}}function s_(){return E6()(La,La)}function gV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function O4(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function id(e){return e=O4(Math.abs(e)),e?e[1]:NaN}function yV(e,t){return function(n,i){for(var c=n.length,d=[],y=0,x=e[0],a=0;c>0&&x>0&&(a+x+1>i&&(x=Math.max(1,i-a)),d.push(n.substring(c-=x,c+x)),!((a+=x+1)>i));)x=e[y=(y+1)%e.length];return d.reverse().join(t)}}function _V(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var vV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function h3(e){if(!(t=vV.exec(e)))throw new Error("invalid format: "+e);var t;return new l_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}h3.prototype=l_.prototype;function l_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}l_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xV(e){e:for(var t=e.length,n=1,i=-1,c;n<t;++n)switch(e[n]){case".":i=c=n;break;case"0":i===0&&(i=n),c=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(c+1):e}var aI;function bV(e,t){var n=O4(e,t);if(!n)return e+"";var i=n[0],c=n[1],d=c-(aI=Math.max(-8,Math.min(8,Math.floor(c/3)))*3)+1,y=i.length;return d===y?i:d>y?i+new Array(d-y+1).join("0"):d>0?i.slice(0,d)+"."+i.slice(d):"0."+new Array(1-d).join("0")+O4(e,Math.max(0,t+d-1))[0]}function RE(e,t){var n=O4(e,t);if(!n)return e+"";var i=n[0],c=n[1];return c<0?"0."+new Array(-c).join("0")+i:i.length>c+1?i.slice(0,c+1)+"."+i.slice(c+1):i+new Array(c-i.length+2).join("0")}const zE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>RE(e*100,t),r:RE,s:bV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BE(e){return e}var FE=Array.prototype.map,jE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wV(e){var t=e.grouping===void 0||e.thousands===void 0?BE:yV(FE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",c=e.decimal===void 0?".":e.decimal+"",d=e.numerals===void 0?BE:_V(FE.call(e.numerals,String)),y=e.percent===void 0?"%":e.percent+"",x=e.minus===void 0?"":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function w(C){C=h3(C);var L=C.fill,j=C.align,W=C.sign,q=C.symbol,U=C.zero,Q=C.width,re=C.comma,ee=C.precision,oe=C.trim,K=C.type;K==="n"?(re=!0,K="g"):zE[K]||(ee===void 0&&(ee=12),oe=!0,K="g"),(U||L==="0"&&j==="=")&&(U=!0,L="0",j="=");var ne=q==="$"?n:q==="#"&&/[boxX]/.test(K)?"0"+K.toLowerCase():"",te=q==="$"?i:/[%p]/.test(K)?y:"",be=zE[K],Ce=/[defgprs%]/.test(K);ee=ee===void 0?6:/[gprs]/.test(K)?Math.max(1,Math.min(21,ee)):Math.max(0,Math.min(20,ee));function Ee(je){var Ye=ne,Ge=te,Te,Se,ze;if(K==="c")Ge=be(je)+Ge,je="";else{je=+je;var Ue=je<0||1/je<0;if(je=isNaN(je)?a:be(Math.abs(je),ee),oe&&(je=xV(je)),Ue&&+je==0&&W!=="+"&&(Ue=!1),Ye=(Ue?W==="("?W:x:W==="-"||W==="("?"":W)+Ye,Ge=(K==="s"?jE[8+aI/3]:"")+Ge+(Ue&&W==="("?")":""),Ce){for(Te=-1,Se=je.length;++Te<Se;)if(ze=je.charCodeAt(Te),48>ze||ze>57){Ge=(ze===46?c+je.slice(Te+1):je.slice(Te))+Ge,je=je.slice(0,Te);break}}}re&&!U&&(je=t(je,1/0));var ke=Ye.length+je.length+Ge.length,$e=ke<Q?new Array(Q-ke+1).join(L):"";switch(re&&U&&(je=t($e+je,$e.length?Q-Ge.length:1/0),$e=""),j){case"<":je=Ye+je+Ge+$e;break;case"=":je=Ye+$e+je+Ge;break;case"^":je=$e.slice(0,ke=$e.length>>1)+Ye+je+Ge+$e.slice(ke);break;default:je=$e+Ye+je+Ge;break}return d(je)}return Ee.toString=function(){return C+""},Ee}function M(C,L){var j=w((C=h3(C),C.type="f",C)),W=Math.max(-8,Math.min(8,Math.floor(id(L)/3)))*3,q=Math.pow(10,-W),U=jE[8+W/3];return function(Q){return j(q*Q)+U}}return{format:w,formatPrefix:M}}var G5,u_,sI;SV({thousands:",",grouping:[3],currency:["$",""]});function SV(e){return G5=wV(e),u_=G5.format,sI=G5.formatPrefix,G5}function TV(e){return Math.max(0,-id(Math.abs(e)))}function EV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(id(t)/3)))*3-id(Math.abs(e)))}function PV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,id(t)-id(e))+1}function lI(e,t,n,i){var c=Og(e,t,n),d;switch(i=h3(i??",f"),i.type){case"s":{var y=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(d=EV(c,y))&&(i.precision=d),sI(i,y)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(d=PV(c,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=d-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(d=TV(c))&&(i.precision=d-(i.type==="%")*2);break}}return u_(i)}function X1(e){var t=e.domain;return e.ticks=function(n){var i=t();return Cg(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var c=t();return lI(c[0],c[c.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),c=0,d=i.length-1,y=i[c],x=i[d],a,w,M=10;for(x<y&&(w=y,y=x,x=w,w=c,c=d,d=w);M-- >0;){if(w=Ig(y,x,n),w===a)return i[c]=y,i[d]=x,t(i);if(w>0)y=Math.floor(y/w)*w,x=Math.ceil(x/w)*w;else if(w<0)y=Math.ceil(y*w)/w,x=Math.floor(x*w)/w;else break;a=w}return e},e}function k4(){var e=s_();return e.copy=function(){return V3(e,k4())},ll.apply(e,arguments),X1(e)}function uI(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,I4),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return uI(e).unknown(t)},e=arguments.length?Array.from(e,I4):[0,1],X1(n)}function cI(e,t){e=e.slice();var n=0,i=e.length-1,c=e[n],d=e[i],y;return d<c&&(y=n,n=i,i=y,y=c,c=d,d=y),e[n]=t.floor(c),e[i]=t.ceil(d),e}function NE(e){return Math.log(e)}function UE(e){return Math.exp(e)}function AV(e){return-Math.log(-e)}function MV(e){return-Math.exp(-e)}function CV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IV(e){return e===10?CV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function OV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $E(e){return(t,n)=>-e(-t,n)}function c_(e){const t=e(NE,UE),n=t.domain;let i=10,c,d;function y(){return c=OV(i),d=IV(i),n()[0]<0?(c=$E(c),d=$E(d),e(AV,MV)):e(NE,UE),t}return t.base=function(x){return arguments.length?(i=+x,y()):i},t.domain=function(x){return arguments.length?(n(x),y()):n()},t.ticks=x=>{const a=n();let w=a[0],M=a[a.length-1];const C=M<w;C&&([w,M]=[M,w]);let L=c(w),j=c(M),W,q;const U=x==null?10:+x;let Q=[];if(!(i%1)&&j-L<U){if(L=Math.floor(L),j=Math.ceil(j),w>0){for(;L<=j;++L)for(W=1;W<i;++W)if(q=L<0?W/d(-L):W*d(L),!(q<w)){if(q>M)break;Q.push(q)}}else for(;L<=j;++L)for(W=i-1;W>=1;--W)if(q=L>0?W/d(-L):W*d(L),!(q<w)){if(q>M)break;Q.push(q)}Q.length*2<U&&(Q=Cg(w,M,U))}else Q=Cg(L,j,Math.min(j-L,U)).map(d);return C?Q.reverse():Q},t.tickFormat=(x,a)=>{if(x==null&&(x=10),a==null&&(a=i===10?"s":","),typeof a!="function"&&(!(i%1)&&(a=h3(a)).precision==null&&(a.trim=!0),a=u_(a)),x===1/0)return a;const w=Math.max(1,i*x/t.ticks().length);return M=>{let C=M/d(Math.round(c(M)));return C*i<i-.5&&(C*=i),C<=w?a(M):""}},t.nice=()=>n(cI(n(),{floor:x=>d(Math.floor(c(x))),ceil:x=>d(Math.ceil(c(x)))})),t}function hI(){const e=c_(E6()).domain([1,10]);return e.copy=()=>V3(e,hI()).base(e.base()),ll.apply(e,arguments),e}function VE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function h_(e){var t=1,n=e(VE(t),qE(t));return n.constant=function(i){return arguments.length?e(VE(t=+i),qE(t)):t},X1(n)}function fI(){var e=h_(E6());return e.copy=function(){return V3(e,fI()).constant(e.constant())},ll.apply(e,arguments)}function GE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DV(e){return e<0?-e*e:e*e}function f_(e){var t=e(La,La),n=1;function i(){return n===1?e(La,La):n===.5?e(kV,DV):e(GE(n),GE(1/n))}return t.exponent=function(c){return arguments.length?(n=+c,i()):n},X1(t)}function d_(){var e=f_(E6());return e.copy=function(){return V3(e,d_()).exponent(e.exponent())},ll.apply(e,arguments),e}function LV(){return d_.apply(null,arguments).exponent(.5)}function WE(e){return Math.sign(e)*e*e}function RV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dI(){var e=s_(),t=[0,1],n=!1,i;function c(d){var y=RV(e(d));return isNaN(y)?i:n?Math.round(y):y}return c.invert=function(d){return e.invert(WE(d))},c.domain=function(d){return arguments.length?(e.domain(d),c):e.domain()},c.range=function(d){return arguments.length?(e.range((t=Array.from(d,I4)).map(WE)),c):t.slice()},c.rangeRound=function(d){return c.range(d).round(!0)},c.round=function(d){return arguments.length?(n=!!d,c):n},c.clamp=function(d){return arguments.length?(e.clamp(d),c):e.clamp()},c.unknown=function(d){return arguments.length?(i=d,c):i},c.copy=function(){return dI(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},ll.apply(c,arguments),X1(c)}function pI(){var e=[],t=[],n=[],i;function c(){var y=0,x=Math.max(1,t.length);for(n=new Array(x-1);++y<x;)n[y-1]=N$(e,y/x);return d}function d(y){return y==null||isNaN(y=+y)?i:t[U3(n,y)]}return d.invertExtent=function(y){var x=t.indexOf(y);return x<0?[NaN,NaN]:[x>0?n[x-1]:e[0],x<n.length?n[x]:e[e.length-1]]},d.domain=function(y){if(!arguments.length)return e.slice();e=[];for(let x of y)x!=null&&!isNaN(x=+x)&&e.push(x);return e.sort(V1),c()},d.range=function(y){return arguments.length?(t=Array.from(y),c()):t.slice()},d.unknown=function(y){return arguments.length?(i=y,d):i},d.quantiles=function(){return n.slice()},d.copy=function(){return pI().domain(e).range(t).unknown(i)},ll.apply(d,arguments)}function mI(){var e=0,t=1,n=1,i=[.5],c=[0,1],d;function y(a){return a!=null&&a<=a?c[U3(i,a,0,n)]:d}function x(){var a=-1;for(i=new Array(n);++a<n;)i[a]=((a+1)*t-(a-n)*e)/(n+1);return y}return y.domain=function(a){return arguments.length?([e,t]=a,e=+e,t=+t,x()):[e,t]},y.range=function(a){return arguments.length?(n=(c=Array.from(a)).length-1,x()):c.slice()},y.invertExtent=function(a){var w=c.indexOf(a);return w<0?[NaN,NaN]:w<1?[e,i[0]]:w>=n?[i[n-1],t]:[i[w-1],i[w]]},y.unknown=function(a){return arguments.length&&(d=a),y},y.thresholds=function(){return i.slice()},y.copy=function(){return mI().domain([e,t]).range(c).unknown(d)},ll.apply(X1(y),arguments)}function gI(){var e=[.5],t=[0,1],n,i=1;function c(d){return d!=null&&d<=d?t[U3(e,d,0,i)]:n}return c.domain=function(d){return arguments.length?(e=Array.from(d),i=Math.min(e.length,t.length-1),c):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),i=Math.min(e.length,t.length-1),c):t.slice()},c.invertExtent=function(d){var y=t.indexOf(d);return[e[y-1],e[y]]},c.unknown=function(d){return arguments.length?(n=d,c):n},c.copy=function(){return gI().domain(e).range(t).unknown(n)},ll.apply(c,arguments)}const c9=new Date,h9=new Date;function go(e,t,n,i){function c(d){return e(d=arguments.length===0?new Date:new Date(+d)),d}return c.floor=d=>(e(d=new Date(+d)),d),c.ceil=d=>(e(d=new Date(d-1)),t(d,1),e(d),d),c.round=d=>{const y=c(d),x=c.ceil(d);return d-y<x-d?y:x},c.offset=(d,y)=>(t(d=new Date(+d),y==null?1:Math.floor(y)),d),c.range=(d,y,x)=>{const a=[];if(d=c.ceil(d),x=x==null?1:Math.floor(x),!(d<y)||!(x>0))return a;let w;do a.push(w=new Date(+d)),t(d,x),e(d);while(w<d&&d<y);return a},c.filter=d=>go(y=>{if(y>=y)for(;e(y),!d(y);)y.setTime(y-1)},(y,x)=>{if(y>=y)if(x<0)for(;++x<=0;)for(;t(y,-1),!d(y););else for(;--x>=0;)for(;t(y,1),!d(y););}),n&&(c.count=(d,y)=>(c9.setTime(+d),h9.setTime(+y),e(c9),e(h9),Math.floor(n(c9,h9))),c.every=d=>(d=Math.floor(d),!isFinite(d)||!(d>0)?null:d>1?c.filter(i?y=>i(y)%d===0:y=>c.count(0,y)%d===0):c)),c}const D4=go(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);D4.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?go(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):D4);D4.range;const Oc=1e3,il=Oc*60,kc=il*60,Fc=kc*24,p_=Fc*7,HE=Fc*30,f9=Fc*365,uf=go(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oc)},(e,t)=>(t-e)/Oc,e=>e.getUTCSeconds());uf.range;const m_=go(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oc)},(e,t)=>{e.setTime(+e+t*il)},(e,t)=>(t-e)/il,e=>e.getMinutes());m_.range;const g_=go(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*il)},(e,t)=>(t-e)/il,e=>e.getUTCMinutes());g_.range;const y_=go(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oc-e.getMinutes()*il)},(e,t)=>{e.setTime(+e+t*kc)},(e,t)=>(t-e)/kc,e=>e.getHours());y_.range;const __=go(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kc)},(e,t)=>(t-e)/kc,e=>e.getUTCHours());__.range;const q3=go(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*il)/Fc,e=>e.getDate()-1);q3.range;const P6=go(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fc,e=>e.getUTCDate()-1);P6.range;const yI=go(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fc,e=>Math.floor(e/Fc));yI.range;function Tf(e){return go(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*il)/p_)}const A6=Tf(0),L4=Tf(1),zV=Tf(2),BV=Tf(3),od=Tf(4),FV=Tf(5),jV=Tf(6);A6.range;L4.range;zV.range;BV.range;od.range;FV.range;jV.range;function Ef(e){return go(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/p_)}const M6=Ef(0),R4=Ef(1),NV=Ef(2),UV=Ef(3),ad=Ef(4),$V=Ef(5),VV=Ef(6);M6.range;R4.range;NV.range;UV.range;ad.range;$V.range;VV.range;const v_=go(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());v_.range;const x_=go(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());x_.range;const jc=go(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:go(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});jc.range;const Nc=go(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:go(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Nc.range;function _I(e,t,n,i,c,d){const y=[[uf,1,Oc],[uf,5,5*Oc],[uf,15,15*Oc],[uf,30,30*Oc],[d,1,il],[d,5,5*il],[d,15,15*il],[d,30,30*il],[c,1,kc],[c,3,3*kc],[c,6,6*kc],[c,12,12*kc],[i,1,Fc],[i,2,2*Fc],[n,1,p_],[t,1,HE],[t,3,3*HE],[e,1,f9]];function x(w,M,C){const L=M<w;L&&([w,M]=[M,w]);const j=C&&typeof C.range=="function"?C:a(w,M,C),W=j?j.range(w,+M+1):[];return L?W.reverse():W}function a(w,M,C){const L=Math.abs(M-w)/C,j=r_(([,,U])=>U).right(y,L);if(j===y.length)return e.every(Og(w/f9,M/f9,C));if(j===0)return D4.every(Math.max(Og(w,M,C),1));const[W,q]=y[L/y[j-1][2]<y[j][2]/L?j-1:j];return W.every(q)}return[x,a]}const[qV,GV]=_I(Nc,x_,M6,yI,__,g_),[WV,HV]=_I(jc,v_,A6,q3,y_,m_);function d9(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p9(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ZV(e){var t=e.dateTime,n=e.date,i=e.time,c=e.periods,d=e.days,y=e.shortDays,x=e.months,a=e.shortMonths,w=Rp(c),M=zp(c),C=Rp(d),L=zp(d),j=Rp(y),W=zp(y),q=Rp(x),U=zp(x),Q=Rp(a),re=zp(a),ee={a:Ue,A:ke,b:$e,B:ft,c:null,d:QE,e:QE,f:yq,g:Aq,G:Cq,H:pq,I:mq,j:gq,L:vI,m:_q,M:vq,p:Pe,q:We,Q:rP,s:nP,S:xq,u:bq,U:wq,V:Sq,w:Tq,W:Eq,x:null,X:null,y:Pq,Y:Mq,Z:Iq,"%":tP},oe={a:At,A:zt,b:nr,B:fr,c:null,d:eP,e:eP,f:Lq,g:qq,G:Wq,H:Oq,I:kq,j:Dq,L:bI,m:Rq,M:zq,p:wr,q:yr,Q:rP,s:nP,S:Bq,u:Fq,U:jq,V:Nq,w:Uq,W:$q,x:null,X:null,y:Vq,Y:Gq,Z:Hq,"%":tP},K={a:Ee,A:je,b:Ye,B:Ge,c:Te,d:YE,e:YE,f:cq,g:KE,G:XE,H:JE,I:JE,j:aq,L:uq,m:oq,M:sq,p:Ce,q:iq,Q:fq,s:dq,S:lq,u:QV,U:eq,V:tq,w:JV,W:rq,x:Se,X:ze,y:KE,Y:XE,Z:nq,"%":hq};ee.x=ne(n,ee),ee.X=ne(i,ee),ee.c=ne(t,ee),oe.x=ne(n,oe),oe.X=ne(i,oe),oe.c=ne(t,oe);function ne(Nt,cr){return function(Cr){var dt=[],Zr=-1,Mr=0,wn=Nt.length,Sr,yn,Gi;for(Cr instanceof Date||(Cr=new Date(+Cr));++Zr<wn;)Nt.charCodeAt(Zr)===37&&(dt.push(Nt.slice(Mr,Zr)),(yn=ZE[Sr=Nt.charAt(++Zr)])!=null?Sr=Nt.charAt(++Zr):yn=Sr==="e"?" ":"0",(Gi=cr[Sr])&&(Sr=Gi(Cr,yn)),dt.push(Sr),Mr=Zr+1);return dt.push(Nt.slice(Mr,Zr)),dt.join("")}}function te(Nt,cr){return function(Cr){var dt=Lp(1900,void 0,1),Zr=be(dt,Nt,Cr+="",0),Mr,wn;if(Zr!=Cr.length)return null;if("Q"in dt)return new Date(dt.Q);if("s"in dt)return new Date(dt.s*1e3+("L"in dt?dt.L:0));if(cr&&!("Z"in dt)&&(dt.Z=0),"p"in dt&&(dt.H=dt.H%12+dt.p*12),dt.m===void 0&&(dt.m="q"in dt?dt.q:0),"V"in dt){if(dt.V<1||dt.V>53)return null;"w"in dt||(dt.w=1),"Z"in dt?(Mr=p9(Lp(dt.y,0,1)),wn=Mr.getUTCDay(),Mr=wn>4||wn===0?R4.ceil(Mr):R4(Mr),Mr=P6.offset(Mr,(dt.V-1)*7),dt.y=Mr.getUTCFullYear(),dt.m=Mr.getUTCMonth(),dt.d=Mr.getUTCDate()+(dt.w+6)%7):(Mr=d9(Lp(dt.y,0,1)),wn=Mr.getDay(),Mr=wn>4||wn===0?L4.ceil(Mr):L4(Mr),Mr=q3.offset(Mr,(dt.V-1)*7),dt.y=Mr.getFullYear(),dt.m=Mr.getMonth(),dt.d=Mr.getDate()+(dt.w+6)%7)}else("W"in dt||"U"in dt)&&("w"in dt||(dt.w="u"in dt?dt.u%7:"W"in dt?1:0),wn="Z"in dt?p9(Lp(dt.y,0,1)).getUTCDay():d9(Lp(dt.y,0,1)).getDay(),dt.m=0,dt.d="W"in dt?(dt.w+6)%7+dt.W*7-(wn+5)%7:dt.w+dt.U*7-(wn+6)%7);return"Z"in dt?(dt.H+=dt.Z/100|0,dt.M+=dt.Z%100,p9(dt)):d9(dt)}}function be(Nt,cr,Cr,dt){for(var Zr=0,Mr=cr.length,wn=Cr.length,Sr,yn;Zr<Mr;){if(dt>=wn)return-1;if(Sr=cr.charCodeAt(Zr++),Sr===37){if(Sr=cr.charAt(Zr++),yn=K[Sr in ZE?cr.charAt(Zr++):Sr],!yn||(dt=yn(Nt,Cr,dt))<0)return-1}else if(Sr!=Cr.charCodeAt(dt++))return-1}return dt}function Ce(Nt,cr,Cr){var dt=w.exec(cr.slice(Cr));return dt?(Nt.p=M.get(dt[0].toLowerCase()),Cr+dt[0].length):-1}function Ee(Nt,cr,Cr){var dt=j.exec(cr.slice(Cr));return dt?(Nt.w=W.get(dt[0].toLowerCase()),Cr+dt[0].length):-1}function je(Nt,cr,Cr){var dt=C.exec(cr.slice(Cr));return dt?(Nt.w=L.get(dt[0].toLowerCase()),Cr+dt[0].length):-1}function Ye(Nt,cr,Cr){var dt=Q.exec(cr.slice(Cr));return dt?(Nt.m=re.get(dt[0].toLowerCase()),Cr+dt[0].length):-1}function Ge(Nt,cr,Cr){var dt=q.exec(cr.slice(Cr));return dt?(Nt.m=U.get(dt[0].toLowerCase()),Cr+dt[0].length):-1}function Te(Nt,cr,Cr){return be(Nt,t,cr,Cr)}function Se(Nt,cr,Cr){return be(Nt,n,cr,Cr)}function ze(Nt,cr,Cr){return be(Nt,i,cr,Cr)}function Ue(Nt){return y[Nt.getDay()]}function ke(Nt){return d[Nt.getDay()]}function $e(Nt){return a[Nt.getMonth()]}function ft(Nt){return x[Nt.getMonth()]}function Pe(Nt){return c[+(Nt.getHours()>=12)]}function We(Nt){return 1+~~(Nt.getMonth()/3)}function At(Nt){return y[Nt.getUTCDay()]}function zt(Nt){return d[Nt.getUTCDay()]}function nr(Nt){return a[Nt.getUTCMonth()]}function fr(Nt){return x[Nt.getUTCMonth()]}function wr(Nt){return c[+(Nt.getUTCHours()>=12)]}function yr(Nt){return 1+~~(Nt.getUTCMonth()/3)}return{format:function(Nt){var cr=ne(Nt+="",ee);return cr.toString=function(){return Nt},cr},parse:function(Nt){var cr=te(Nt+="",!1);return cr.toString=function(){return Nt},cr},utcFormat:function(Nt){var cr=ne(Nt+="",oe);return cr.toString=function(){return Nt},cr},utcParse:function(Nt){var cr=te(Nt+="",!0);return cr.toString=function(){return Nt},cr}}}var ZE={"-":"",_:" ",0:"0"},Co=/^\s*\d+/,XV=/^%/,KV=/[\\^$*+?|[\]().{}]/g;function An(e,t,n){var i=e<0?"-":"",c=(i?-e:e)+"",d=c.length;return i+(d<n?new Array(n-d+1).join(t)+c:c)}function YV(e){return e.replace(KV,"\\$&")}function Rp(e){return new RegExp("^(?:"+e.map(YV).join("|")+")","i")}function zp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function JV(e,t,n){var i=Co.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function QV(e,t,n){var i=Co.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function eq(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function tq(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function rq(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function XE(e,t,n){var i=Co.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function KE(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function nq(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function iq(e,t,n){var i=Co.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function oq(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function YE(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function aq(e,t,n){var i=Co.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function JE(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function sq(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function lq(e,t,n){var i=Co.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function uq(e,t,n){var i=Co.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function cq(e,t,n){var i=Co.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function hq(e,t,n){var i=XV.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function fq(e,t,n){var i=Co.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function dq(e,t,n){var i=Co.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function QE(e,t){return An(e.getDate(),t,2)}function pq(e,t){return An(e.getHours(),t,2)}function mq(e,t){return An(e.getHours()%12||12,t,2)}function gq(e,t){return An(1+q3.count(jc(e),e),t,3)}function vI(e,t){return An(e.getMilliseconds(),t,3)}function yq(e,t){return vI(e,t)+"000"}function _q(e,t){return An(e.getMonth()+1,t,2)}function vq(e,t){return An(e.getMinutes(),t,2)}function xq(e,t){return An(e.getSeconds(),t,2)}function bq(e){var t=e.getDay();return t===0?7:t}function wq(e,t){return An(A6.count(jc(e)-1,e),t,2)}function xI(e){var t=e.getDay();return t>=4||t===0?od(e):od.ceil(e)}function Sq(e,t){return e=xI(e),An(od.count(jc(e),e)+(jc(e).getDay()===4),t,2)}function Tq(e){return e.getDay()}function Eq(e,t){return An(L4.count(jc(e)-1,e),t,2)}function Pq(e,t){return An(e.getFullYear()%100,t,2)}function Aq(e,t){return e=xI(e),An(e.getFullYear()%100,t,2)}function Mq(e,t){return An(e.getFullYear()%1e4,t,4)}function Cq(e,t){var n=e.getDay();return e=n>=4||n===0?od(e):od.ceil(e),An(e.getFullYear()%1e4,t,4)}function Iq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+An(t/60|0,"0",2)+An(t%60,"0",2)}function eP(e,t){return An(e.getUTCDate(),t,2)}function Oq(e,t){return An(e.getUTCHours(),t,2)}function kq(e,t){return An(e.getUTCHours()%12||12,t,2)}function Dq(e,t){return An(1+P6.count(Nc(e),e),t,3)}function bI(e,t){return An(e.getUTCMilliseconds(),t,3)}function Lq(e,t){return bI(e,t)+"000"}function Rq(e,t){return An(e.getUTCMonth()+1,t,2)}function zq(e,t){return An(e.getUTCMinutes(),t,2)}function Bq(e,t){return An(e.getUTCSeconds(),t,2)}function Fq(e){var t=e.getUTCDay();return t===0?7:t}function jq(e,t){return An(M6.count(Nc(e)-1,e),t,2)}function wI(e){var t=e.getUTCDay();return t>=4||t===0?ad(e):ad.ceil(e)}function Nq(e,t){return e=wI(e),An(ad.count(Nc(e),e)+(Nc(e).getUTCDay()===4),t,2)}function Uq(e){return e.getUTCDay()}function $q(e,t){return An(R4.count(Nc(e)-1,e),t,2)}function Vq(e,t){return An(e.getUTCFullYear()%100,t,2)}function qq(e,t){return e=wI(e),An(e.getUTCFullYear()%100,t,2)}function Gq(e,t){return An(e.getUTCFullYear()%1e4,t,4)}function Wq(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ad(e):ad.ceil(e),An(e.getUTCFullYear()%1e4,t,4)}function Hq(){return"+0000"}function tP(){return"%"}function rP(e){return+e}function nP(e){return Math.floor(+e/1e3)}var L0,SI,TI;Zq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zq(e){return L0=ZV(e),SI=L0.format,L0.parse,TI=L0.utcFormat,L0.utcParse,L0}function Xq(e){return new Date(e)}function Kq(e){return e instanceof Date?+e:+new Date(+e)}function b_(e,t,n,i,c,d,y,x,a,w){var M=s_(),C=M.invert,L=M.domain,j=w(".%L"),W=w(":%S"),q=w("%I:%M"),U=w("%I %p"),Q=w("%a %d"),re=w("%b %d"),ee=w("%B"),oe=w("%Y");function K(ne){return(a(ne)<ne?j:x(ne)<ne?W:y(ne)<ne?q:d(ne)<ne?U:i(ne)<ne?c(ne)<ne?Q:re:n(ne)<ne?ee:oe)(ne)}return M.invert=function(ne){return new Date(C(ne))},M.domain=function(ne){return arguments.length?L(Array.from(ne,Kq)):L().map(Xq)},M.ticks=function(ne){var te=L();return e(te[0],te[te.length-1],ne??10)},M.tickFormat=function(ne,te){return te==null?K:w(te)},M.nice=function(ne){var te=L();return(!ne||typeof ne.range!="function")&&(ne=t(te[0],te[te.length-1],ne??10)),ne?L(cI(te,ne)):M},M.copy=function(){return V3(M,b_(e,t,n,i,c,d,y,x,a,w))},M}function Yq(){return ll.apply(b_(WV,HV,jc,v_,A6,q3,y_,m_,uf,SI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jq(){return ll.apply(b_(qV,GV,Nc,x_,M6,P6,__,g_,uf,TI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function C6(){var e=0,t=1,n,i,c,d,y=La,x=!1,a;function w(C){return C==null||isNaN(C=+C)?a:y(c===0?.5:(C=(d(C)-n)*c,x?Math.max(0,Math.min(1,C)):C))}w.domain=function(C){return arguments.length?([e,t]=C,n=d(e=+e),i=d(t=+t),c=n===i?0:1/(i-n),w):[e,t]},w.clamp=function(C){return arguments.length?(x=!!C,w):x},w.interpolator=function(C){return arguments.length?(y=C,w):y};function M(C){return function(L){var j,W;return arguments.length?([j,W]=L,y=C(j,W),w):[y(0),y(1)]}}return w.range=M(Ed),w.rangeRound=M(a_),w.unknown=function(C){return arguments.length?(a=C,w):a},function(C){return d=C,n=C(e),i=C(t),c=n===i?0:1/(i-n),w}}function K1(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EI(){var e=X1(C6()(La));return e.copy=function(){return K1(e,EI())},Vc.apply(e,arguments)}function PI(){var e=c_(C6()).domain([1,10]);return e.copy=function(){return K1(e,PI()).base(e.base())},Vc.apply(e,arguments)}function AI(){var e=h_(C6());return e.copy=function(){return K1(e,AI()).constant(e.constant())},Vc.apply(e,arguments)}function w_(){var e=f_(C6());return e.copy=function(){return K1(e,w_()).exponent(e.exponent())},Vc.apply(e,arguments)}function Qq(){return w_.apply(null,arguments).exponent(.5)}function MI(){var e=[],t=La;function n(i){if(i!=null&&!isNaN(i=+i))return t((U3(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let c of i)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(V1),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,c)=>t(c/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(c,d)=>j$(e,d/i))},n.copy=function(){return MI(t).domain(e)},Vc.apply(n,arguments)}function I6(){var e=0,t=.5,n=1,i=1,c,d,y,x,a,w=La,M,C=!1,L;function j(q){return isNaN(q=+q)?L:(q=.5+((q=+M(q))-d)*(i*q<i*d?x:a),w(C?Math.max(0,Math.min(1,q)):q))}j.domain=function(q){return arguments.length?([e,t,n]=q,c=M(e=+e),d=M(t=+t),y=M(n=+n),x=c===d?0:.5/(d-c),a=d===y?0:.5/(y-d),i=d<c?-1:1,j):[e,t,n]},j.clamp=function(q){return arguments.length?(C=!!q,j):C},j.interpolator=function(q){return arguments.length?(w=q,j):w};function W(q){return function(U){var Q,re,ee;return arguments.length?([Q,re,ee]=U,w=hV(q,[Q,re,ee]),j):[w(0),w(.5),w(1)]}}return j.range=W(Ed),j.rangeRound=W(a_),j.unknown=function(q){return arguments.length?(L=q,j):L},function(q){return M=q,c=q(e),d=q(t),y=q(n),x=c===d?0:.5/(d-c),a=d===y?0:.5/(y-d),i=d<c?-1:1,j}}function CI(){var e=X1(I6()(La));return e.copy=function(){return K1(e,CI())},Vc.apply(e,arguments)}function II(){var e=c_(I6()).domain([.1,1,10]);return e.copy=function(){return K1(e,II()).base(e.base())},Vc.apply(e,arguments)}function OI(){var e=h_(I6());return e.copy=function(){return K1(e,OI()).constant(e.constant())},Vc.apply(e,arguments)}function S_(){var e=f_(I6());return e.copy=function(){return K1(e,S_()).exponent(e.exponent())},Vc.apply(e,arguments)}function eG(){return S_.apply(null,arguments).exponent(.5)}const iP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:s3,scaleDiverging:CI,scaleDivergingLog:II,scaleDivergingPow:S_,scaleDivergingSqrt:eG,scaleDivergingSymlog:OI,scaleIdentity:uI,scaleImplicit:kg,scaleLinear:k4,scaleLog:hI,scaleOrdinal:n_,scalePoint:Hp,scalePow:d_,scaleQuantile:pI,scaleQuantize:mI,scaleRadial:dI,scaleSequential:EI,scaleSequentialLog:PI,scaleSequentialPow:w_,scaleSequentialQuantile:MI,scaleSequentialSqrt:Qq,scaleSequentialSymlog:AI,scaleSqrt:LV,scaleSymlog:fI,scaleThreshold:gI,scaleTime:Yq,scaleUtc:Jq,tickFormat:lI},Symbol.toStringTag,{value:"Module"}));var m9,oP;function kI(){if(oP)return m9;oP=1;var e=wd();function t(n,i,c){for(var d=-1,y=n.length;++d<y;){var x=n[d],a=i(x);if(a!=null&&(w===void 0?a===a&&!e(a):c(a,w)))var w=a,M=x}return M}return m9=t,m9}var g9,aP;function tG(){if(aP)return g9;aP=1;function e(t,n){return t>n}return g9=e,g9}var y9,sP;function rG(){if(sP)return y9;sP=1;var e=kI(),t=tG(),n=Td();function i(c){return c&&c.length?e(c,n,t):void 0}return y9=i,y9}var nG=rG();const O6=vn(nG);var _9,lP;function iG(){if(lP)return _9;lP=1;function e(t,n){return t<n}return _9=e,_9}var v9,uP;function oG(){if(uP)return v9;uP=1;var e=kI(),t=iG(),n=Td();function i(c){return c&&c.length?e(c,n,t):void 0}return v9=i,v9}var aG=oG();const k6=vn(aG);var x9,cP;function sG(){if(cP)return x9;cP=1;var e=jy(),t=Z1(),n=NC(),i=es();function c(d,y){var x=i(d)?e:n;return x(d,t(y,3))}return x9=c,x9}var b9,hP;function lG(){if(hP)return b9;hP=1;var e=FC(),t=sG();function n(i,c){return e(t(i,c),1)}return b9=n,b9}var uG=lG();const cG=vn(uG);var w9,fP;function hG(){if(fP)return w9;fP=1;var e=Jy();function t(n,i){return e(n,i)}return w9=t,w9}var fG=hG();const T_=vn(fG);var Pd=1e9,dG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},P_,Ti=!0,sl="[DecimalError] ",ff=sl+"Invalid argument: ",E_=sl+"Exponent out of range: ",Ad=Math.floor,rf=Math.pow,pG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Es,Ao=1e7,pi=7,DI=9007199254740991,z4=Ad(DI/pi),gr={};gr.absoluteValue=gr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};gr.comparedTo=gr.cmp=function(e){var t,n,i,c,d=this;if(e=new d.constructor(e),d.s!==e.s)return d.s||-e.s;if(d.e!==e.e)return d.e>e.e^d.s<0?1:-1;for(i=d.d.length,c=e.d.length,t=0,n=i<c?i:c;t<n;++t)if(d.d[t]!==e.d[t])return d.d[t]>e.d[t]^d.s<0?1:-1;return i===c?0:i>c^d.s<0?1:-1};gr.decimalPlaces=gr.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*pi;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};gr.dividedBy=gr.div=function(e){return Bc(this,new this.constructor(e))};gr.dividedToIntegerBy=gr.idiv=function(e){var t=this,n=t.constructor;return ti(Bc(t,new n(e),0,1),n.precision)};gr.equals=gr.eq=function(e){return!this.cmp(e)};gr.exponent=function(){return no(this)};gr.greaterThan=gr.gt=function(e){return this.cmp(e)>0};gr.greaterThanOrEqualTo=gr.gte=function(e){return this.cmp(e)>=0};gr.isInteger=gr.isint=function(){return this.e>this.d.length-2};gr.isNegative=gr.isneg=function(){return this.s<0};gr.isPositive=gr.ispos=function(){return this.s>0};gr.isZero=function(){return this.s===0};gr.lessThan=gr.lt=function(e){return this.cmp(e)<0};gr.lessThanOrEqualTo=gr.lte=function(e){return this.cmp(e)<1};gr.logarithm=gr.log=function(e){var t,n=this,i=n.constructor,c=i.precision,d=c+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(Es))throw Error(sl+"NaN");if(n.s<1)throw Error(sl+(n.s?"NaN":"-Infinity"));return n.eq(Es)?new i(0):(Ti=!1,t=Bc(f3(n,d),f3(e,d),d),Ti=!0,ti(t,c))};gr.minus=gr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zI(t,e):LI(t,(e.s=-e.s,e))};gr.modulo=gr.mod=function(e){var t,n=this,i=n.constructor,c=i.precision;if(e=new i(e),!e.s)throw Error(sl+"NaN");return n.s?(Ti=!1,t=Bc(n,e,0,1).times(e),Ti=!0,n.minus(t)):ti(new i(n),c)};gr.naturalExponential=gr.exp=function(){return RI(this)};gr.naturalLogarithm=gr.ln=function(){return f3(this)};gr.negated=gr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};gr.plus=gr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LI(t,e):zI(t,(e.s=-e.s,e))};gr.precision=gr.sd=function(e){var t,n,i,c=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ff+e);if(t=no(c)+1,i=c.d.length-1,n=i*pi+1,i=c.d[i],i){for(;i%10==0;i/=10)n--;for(i=c.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};gr.squareRoot=gr.sqrt=function(){var e,t,n,i,c,d,y,x=this,a=x.constructor;if(x.s<1){if(!x.s)return new a(0);throw Error(sl+"NaN")}for(e=no(x),Ti=!1,c=Math.sqrt(+x),c==0||c==1/0?(t=Ru(x.d),(t.length+e)%2==0&&(t+="0"),c=Math.sqrt(t),e=Ad((e+1)/2)-(e<0||e%2),c==1/0?t="5e"+e:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new a(t)):i=new a(c.toString()),n=a.precision,c=y=n+3;;)if(d=i,i=d.plus(Bc(x,d,y+2)).times(.5),Ru(d.d).slice(0,y)===(t=Ru(i.d)).slice(0,y)){if(t=t.slice(y-3,y+1),c==y&&t=="4999"){if(ti(d,n+1,0),d.times(d).eq(x)){i=d;break}}else if(t!="9999")break;y+=4}return Ti=!0,ti(i,n)};gr.times=gr.mul=function(e){var t,n,i,c,d,y,x,a,w,M=this,C=M.constructor,L=M.d,j=(e=new C(e)).d;if(!M.s||!e.s)return new C(0);for(e.s*=M.s,n=M.e+e.e,a=L.length,w=j.length,a<w&&(d=L,L=j,j=d,y=a,a=w,w=y),d=[],y=a+w,i=y;i--;)d.push(0);for(i=w;--i>=0;){for(t=0,c=a+i;c>i;)x=d[c]+j[i]*L[c-i-1]+t,d[c--]=x%Ao|0,t=x/Ao|0;d[c]=(d[c]+t)%Ao|0}for(;!d[--y];)d.pop();return t?++n:d.shift(),e.d=d,e.e=n,Ti?ti(e,C.precision):e};gr.toDecimalPlaces=gr.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(ju(e,0,Pd),t===void 0?t=i.rounding:ju(t,0,8),ti(n,e+no(n)+1,t))};gr.toExponential=function(e,t){var n,i=this,c=i.constructor;return e===void 0?n=yf(i,!0):(ju(e,0,Pd),t===void 0?t=c.rounding:ju(t,0,8),i=ti(new c(i),e+1,t),n=yf(i,!0,e+1)),n};gr.toFixed=function(e,t){var n,i,c=this,d=c.constructor;return e===void 0?yf(c):(ju(e,0,Pd),t===void 0?t=d.rounding:ju(t,0,8),i=ti(new d(c),e+no(c)+1,t),n=yf(i.abs(),!1,e+no(i)+1),c.isneg()&&!c.isZero()?"-"+n:n)};gr.toInteger=gr.toint=function(){var e=this,t=e.constructor;return ti(new t(e),no(e)+1,t.rounding)};gr.toNumber=function(){return+this};gr.toPower=gr.pow=function(e){var t,n,i,c,d,y,x=this,a=x.constructor,w=12,M=+(e=new a(e));if(!e.s)return new a(Es);if(x=new a(x),!x.s){if(e.s<1)throw Error(sl+"Infinity");return x}if(x.eq(Es))return x;if(i=a.precision,e.eq(Es))return ti(x,i);if(t=e.e,n=e.d.length-1,y=t>=n,d=x.s,y){if((n=M<0?-M:M)<=DI){for(c=new a(Es),t=Math.ceil(i/pi+4),Ti=!1;n%2&&(c=c.times(x),pP(c.d,t)),n=Ad(n/2),n!==0;)x=x.times(x),pP(x.d,t);return Ti=!0,e.s<0?new a(Es).div(c):ti(c,i)}}else if(d<0)throw Error(sl+"NaN");return d=d<0&&e.d[Math.max(t,n)]&1?-1:1,x.s=1,Ti=!1,c=e.times(f3(x,i+w)),Ti=!0,c=RI(c),c.s=d,c};gr.toPrecision=function(e,t){var n,i,c=this,d=c.constructor;return e===void 0?(n=no(c),i=yf(c,n<=d.toExpNeg||n>=d.toExpPos)):(ju(e,1,Pd),t===void 0?t=d.rounding:ju(t,0,8),c=ti(new d(c),e,t),n=no(c),i=yf(c,e<=n||n<=d.toExpNeg,e)),i};gr.toSignificantDigits=gr.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(ju(e,1,Pd),t===void 0?t=i.rounding:ju(t,0,8)),ti(new i(n),e,t)};gr.toString=gr.valueOf=gr.val=gr.toJSON=gr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=no(e),n=e.constructor;return yf(e,t<=n.toExpNeg||t>=n.toExpPos)};function LI(e,t){var n,i,c,d,y,x,a,w,M=e.constructor,C=M.precision;if(!e.s||!t.s)return t.s||(t=new M(e)),Ti?ti(t,C):t;if(a=e.d,w=t.d,y=e.e,c=t.e,a=a.slice(),d=y-c,d){for(d<0?(i=a,d=-d,x=w.length):(i=w,c=y,x=a.length),y=Math.ceil(C/pi),x=y>x?y+1:x+1,d>x&&(d=x,i.length=1),i.reverse();d--;)i.push(0);i.reverse()}for(x=a.length,d=w.length,x-d<0&&(d=x,i=w,w=a,a=i),n=0;d;)n=(a[--d]=a[d]+w[d]+n)/Ao|0,a[d]%=Ao;for(n&&(a.unshift(n),++c),x=a.length;a[--x]==0;)a.pop();return t.d=a,t.e=c,Ti?ti(t,C):t}function ju(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ff+e)}function Ru(e){var t,n,i,c=e.length-1,d="",y=e[0];if(c>0){for(d+=y,t=1;t<c;t++)i=e[t]+"",n=pi-i.length,n&&(d+=F1(n)),d+=i;y=e[t],i=y+"",n=pi-i.length,n&&(d+=F1(n))}else if(y===0)return"0";for(;y%10===0;)y/=10;return d+y}var Bc=(function(){function e(i,c){var d,y=0,x=i.length;for(i=i.slice();x--;)d=i[x]*c+y,i[x]=d%Ao|0,y=d/Ao|0;return y&&i.unshift(y),i}function t(i,c,d,y){var x,a;if(d!=y)a=d>y?1:-1;else for(x=a=0;x<d;x++)if(i[x]!=c[x]){a=i[x]>c[x]?1:-1;break}return a}function n(i,c,d){for(var y=0;d--;)i[d]-=y,y=i[d]<c[d]?1:0,i[d]=y*Ao+i[d]-c[d];for(;!i[0]&&i.length>1;)i.shift()}return function(i,c,d,y){var x,a,w,M,C,L,j,W,q,U,Q,re,ee,oe,K,ne,te,be,Ce=i.constructor,Ee=i.s==c.s?1:-1,je=i.d,Ye=c.d;if(!i.s)return new Ce(i);if(!c.s)throw Error(sl+"Division by zero");for(a=i.e-c.e,te=Ye.length,K=je.length,j=new Ce(Ee),W=j.d=[],w=0;Ye[w]==(je[w]||0);)++w;if(Ye[w]>(je[w]||0)&&--a,d==null?re=d=Ce.precision:y?re=d+(no(i)-no(c))+1:re=d,re<0)return new Ce(0);if(re=re/pi+2|0,w=0,te==1)for(M=0,Ye=Ye[0],re++;(w<K||M)&&re--;w++)ee=M*Ao+(je[w]||0),W[w]=ee/Ye|0,M=ee%Ye|0;else{for(M=Ao/(Ye[0]+1)|0,M>1&&(Ye=e(Ye,M),je=e(je,M),te=Ye.length,K=je.length),oe=te,q=je.slice(0,te),U=q.length;U<te;)q[U++]=0;be=Ye.slice(),be.unshift(0),ne=Ye[0],Ye[1]>=Ao/2&&++ne;do M=0,x=t(Ye,q,te,U),x<0?(Q=q[0],te!=U&&(Q=Q*Ao+(q[1]||0)),M=Q/ne|0,M>1?(M>=Ao&&(M=Ao-1),C=e(Ye,M),L=C.length,U=q.length,x=t(C,q,L,U),x==1&&(M--,n(C,te<L?be:Ye,L))):(M==0&&(x=M=1),C=Ye.slice()),L=C.length,L<U&&C.unshift(0),n(q,C,U),x==-1&&(U=q.length,x=t(Ye,q,te,U),x<1&&(M++,n(q,te<U?be:Ye,U))),U=q.length):x===0&&(M++,q=[0]),W[w++]=M,x&&q[0]?q[U++]=je[oe]||0:(q=[je[oe]],U=1);while((oe++<K||q[0]!==void 0)&&re--)}return W[0]||W.shift(),j.e=a,ti(j,y?d+no(j)+1:d)}})();function RI(e,t){var n,i,c,d,y,x,a=0,w=0,M=e.constructor,C=M.precision;if(no(e)>16)throw Error(E_+no(e));if(!e.s)return new M(Es);for(Ti=!1,x=C,y=new M(.03125);e.abs().gte(.1);)e=e.times(y),w+=5;for(i=Math.log(rf(2,w))/Math.LN10*2+5|0,x+=i,n=c=d=new M(Es),M.precision=x;;){if(c=ti(c.times(e),x),n=n.times(++a),y=d.plus(Bc(c,n,x)),Ru(y.d).slice(0,x)===Ru(d.d).slice(0,x)){for(;w--;)d=ti(d.times(d),x);return M.precision=C,t==null?(Ti=!0,ti(d,C)):d}d=y}}function no(e){for(var t=e.e*pi,n=e.d[0];n>=10;n/=10)t++;return t}function S9(e,t,n){if(t>e.LN10.sd())throw Ti=!0,n&&(e.precision=n),Error(sl+"LN10 precision limit exceeded");return ti(new e(e.LN10),t)}function F1(e){for(var t="";e--;)t+="0";return t}function f3(e,t){var n,i,c,d,y,x,a,w,M,C=1,L=10,j=e,W=j.d,q=j.constructor,U=q.precision;if(j.s<1)throw Error(sl+(j.s?"NaN":"-Infinity"));if(j.eq(Es))return new q(0);if(t==null?(Ti=!1,w=U):w=t,j.eq(10))return t==null&&(Ti=!0),S9(q,w);if(w+=L,q.precision=w,n=Ru(W),i=n.charAt(0),d=no(j),Math.abs(d)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)j=j.times(e),n=Ru(j.d),i=n.charAt(0),C++;d=no(j),i>1?(j=new q("0."+n),d++):j=new q(i+"."+n.slice(1))}else return a=S9(q,w+2,U).times(d+""),j=f3(new q(i+"."+n.slice(1)),w-L).plus(a),q.precision=U,t==null?(Ti=!0,ti(j,U)):j;for(x=y=j=Bc(j.minus(Es),j.plus(Es),w),M=ti(j.times(j),w),c=3;;){if(y=ti(y.times(M),w),a=x.plus(Bc(y,new q(c),w)),Ru(a.d).slice(0,w)===Ru(x.d).slice(0,w))return x=x.times(2),d!==0&&(x=x.plus(S9(q,w+2,U).times(d+""))),x=Bc(x,new q(C),w),q.precision=U,t==null?(Ti=!0,ti(x,U)):x;x=a,c+=2}}function dP(e,t){var n,i,c;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(c=t.length;t.charCodeAt(c-1)===48;)--c;if(t=t.slice(i,c),t){if(c-=i,n=n-i-1,e.e=Ad(n/pi),e.d=[],i=(n+1)%pi,n<0&&(i+=pi),i<c){for(i&&e.d.push(+t.slice(0,i)),c-=pi;i<c;)e.d.push(+t.slice(i,i+=pi));t=t.slice(i),i=pi-t.length}else i-=c;for(;i--;)t+="0";if(e.d.push(+t),Ti&&(e.e>z4||e.e<-z4))throw Error(E_+n)}else e.s=0,e.e=0,e.d=[0];return e}function ti(e,t,n){var i,c,d,y,x,a,w,M,C=e.d;for(y=1,d=C[0];d>=10;d/=10)y++;if(i=t-y,i<0)i+=pi,c=t,w=C[M=0];else{if(M=Math.ceil((i+1)/pi),d=C.length,M>=d)return e;for(w=d=C[M],y=1;d>=10;d/=10)y++;i%=pi,c=i-pi+y}if(n!==void 0&&(d=rf(10,y-c-1),x=w/d%10|0,a=t<0||C[M+1]!==void 0||w%d,a=n<4?(x||a)&&(n==0||n==(e.s<0?3:2)):x>5||x==5&&(n==4||a||n==6&&(i>0?c>0?w/rf(10,y-c):0:C[M-1])%10&1||n==(e.s<0?8:7))),t<1||!C[0])return a?(d=no(e),C.length=1,t=t-d-1,C[0]=rf(10,(pi-t%pi)%pi),e.e=Ad(-t/pi)||0):(C.length=1,C[0]=e.e=e.s=0),e;if(i==0?(C.length=M,d=1,M--):(C.length=M+1,d=rf(10,pi-i),C[M]=c>0?(w/rf(10,y-c)%rf(10,c)|0)*d:0),a)for(;;)if(M==0){(C[0]+=d)==Ao&&(C[0]=1,++e.e);break}else{if(C[M]+=d,C[M]!=Ao)break;C[M--]=0,d=1}for(i=C.length;C[--i]===0;)C.pop();if(Ti&&(e.e>z4||e.e<-z4))throw Error(E_+no(e));return e}function zI(e,t){var n,i,c,d,y,x,a,w,M,C,L=e.constructor,j=L.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new L(e),Ti?ti(t,j):t;if(a=e.d,C=t.d,i=t.e,w=e.e,a=a.slice(),y=w-i,y){for(M=y<0,M?(n=a,y=-y,x=C.length):(n=C,i=w,x=a.length),c=Math.max(Math.ceil(j/pi),x)+2,y>c&&(y=c,n.length=1),n.reverse(),c=y;c--;)n.push(0);n.reverse()}else{for(c=a.length,x=C.length,M=c<x,M&&(x=c),c=0;c<x;c++)if(a[c]!=C[c]){M=a[c]<C[c];break}y=0}for(M&&(n=a,a=C,C=n,t.s=-t.s),x=a.length,c=C.length-x;c>0;--c)a[x++]=0;for(c=C.length;c>y;){if(a[--c]<C[c]){for(d=c;d&&a[--d]===0;)a[d]=Ao-1;--a[d],a[c]+=Ao}a[c]-=C[c]}for(;a[--x]===0;)a.pop();for(;a[0]===0;a.shift())--i;return a[0]?(t.d=a,t.e=i,Ti?ti(t,j):t):new L(0)}function yf(e,t,n){var i,c=no(e),d=Ru(e.d),y=d.length;return t?(n&&(i=n-y)>0?d=d.charAt(0)+"."+d.slice(1)+F1(i):y>1&&(d=d.charAt(0)+"."+d.slice(1)),d=d+(c<0?"e":"e+")+c):c<0?(d="0."+F1(-c-1)+d,n&&(i=n-y)>0&&(d+=F1(i))):c>=y?(d+=F1(c+1-y),n&&(i=n-c-1)>0&&(d=d+"."+F1(i))):((i=c+1)<y&&(d=d.slice(0,i)+"."+d.slice(i)),n&&(i=n-y)>0&&(c+1===y&&(d+="."),d+=F1(i))),e.s<0?"-"+d:d}function pP(e,t){if(e.length>t)return e.length=t,!0}function BI(e){var t,n,i;function c(d){var y=this;if(!(y instanceof c))return new c(d);if(y.constructor=c,d instanceof c){y.s=d.s,y.e=d.e,y.d=(d=d.d)?d.slice():d;return}if(typeof d=="number"){if(d*0!==0)throw Error(ff+d);if(d>0)y.s=1;else if(d<0)d=-d,y.s=-1;else{y.s=0,y.e=0,y.d=[0];return}if(d===~~d&&d<1e7){y.e=0,y.d=[d];return}return dP(y,d.toString())}else if(typeof d!="string")throw Error(ff+d);if(d.charCodeAt(0)===45?(d=d.slice(1),y.s=-1):y.s=1,pG.test(d))dP(y,d);else throw Error(ff+d)}if(c.prototype=gr,c.ROUND_UP=0,c.ROUND_DOWN=1,c.ROUND_CEIL=2,c.ROUND_FLOOR=3,c.ROUND_HALF_UP=4,c.ROUND_HALF_DOWN=5,c.ROUND_HALF_EVEN=6,c.ROUND_HALF_CEIL=7,c.ROUND_HALF_FLOOR=8,c.clone=BI,c.config=c.set=mG,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return c.config(e),c}function mG(e){if(!e||typeof e!="object")throw Error(sl+"Object expected");var t,n,i,c=["precision",1,Pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<c.length;t+=3)if((i=e[n=c[t]])!==void 0)if(Ad(i)===i&&i>=c[t+1]&&i<=c[t+2])this[n]=i;else throw Error(ff+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(ff+n+": "+i);return this}var P_=BI(dG);Es=new P_(1);const Kn=P_;function gG(e){return xG(e)||vG(e)||_G(e)||yG()}function yG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _G(e,t){if(e){if(typeof e=="string")return zg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(e,t)}}function vG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xG(e){if(Array.isArray(e))return zg(e)}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var bG=function(t){return t},FI={},jI=function(t){return t===FI},mP=function(t){return function n(){return arguments.length===0||arguments.length===1&&jI(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},wG=function e(t,n){return t===1?n:mP(function(){for(var i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];var y=c.filter(function(x){return x!==FI}).length;return y>=t?n.apply(void 0,c):e(t-y,mP(function(){for(var x=arguments.length,a=new Array(x),w=0;w<x;w++)a[w]=arguments[w];var M=c.map(function(C){return jI(C)?a.shift():C});return n.apply(void 0,gG(M).concat(a))}))})},D6=function(t){return wG(t.length,t)},Bg=function(t,n){for(var i=[],c=t;c<n;++c)i[c-t]=c;return i},SG=D6(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),TG=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return bG;var c=n.reverse(),d=c[0],y=c.slice(1);return function(){return y.reduce(function(x,a){return a(x)},d.apply(void 0,arguments))}},Fg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},NI=function(t){var n=null,i=null;return function(){for(var c=arguments.length,d=new Array(c),y=0;y<c;y++)d[y]=arguments[y];return n&&d.every(function(x,a){return x===n[a]})||(n=d,i=t.apply(void 0,d)),i}};function EG(e){var t;return e===0?t=1:t=Math.floor(new Kn(e).abs().log(10).toNumber())+1,t}function PG(e,t,n){for(var i=new Kn(e),c=0,d=[];i.lt(t)&&c<1e5;)d.push(i.toNumber()),i=i.add(n),c++;return d}var AG=D6(function(e,t,n){var i=+e,c=+t;return i+n*(c-i)}),MG=D6(function(e,t,n){var i=t-+e;return i=i||1/0,(n-e)/i}),CG=D6(function(e,t,n){var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});const L6={rangeStep:PG,getDigitCount:EG,interpolateNumber:AG,uninterpolateNumber:MG,uninterpolateTruncation:CG};function jg(e){return kG(e)||OG(e)||UI(e)||IG()}function IG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kG(e){if(Array.isArray(e))return Ng(e)}function d3(e,t){return RG(e)||LG(e,t)||UI(e,t)||DG()}function DG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UI(e,t){if(e){if(typeof e=="string")return Ng(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ng(e,t)}}function Ng(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function LG(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],i=!0,c=!1,d=void 0;try{for(var y=e[Symbol.iterator](),x;!(i=(x=y.next()).done)&&(n.push(x.value),!(t&&n.length===t));i=!0);}catch(a){c=!0,d=a}finally{try{!i&&y.return!=null&&y.return()}finally{if(c)throw d}}return n}}function RG(e){if(Array.isArray(e))return e}function $I(e){var t=d3(e,2),n=t[0],i=t[1],c=n,d=i;return n>i&&(c=i,d=n),[c,d]}function VI(e,t,n){if(e.lte(0))return new Kn(0);var i=L6.getDigitCount(e.toNumber()),c=new Kn(10).pow(i),d=e.div(c),y=i!==1?.05:.1,x=new Kn(Math.ceil(d.div(y).toNumber())).add(n).mul(y),a=x.mul(c);return t?a:new Kn(Math.ceil(a))}function zG(e,t,n){var i=1,c=new Kn(e);if(!c.isint()&&n){var d=Math.abs(e);d<1?(i=new Kn(10).pow(L6.getDigitCount(e)-1),c=new Kn(Math.floor(c.div(i).toNumber())).mul(i)):d>1&&(c=new Kn(Math.floor(e)))}else e===0?c=new Kn(Math.floor((t-1)/2)):n||(c=new Kn(Math.floor(e)));var y=Math.floor((t-1)/2),x=TG(SG(function(a){return c.add(new Kn(a-y).mul(i)).toNumber()}),Bg);return x(0,t)}function qI(e,t,n,i){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Kn(0),tickMin:new Kn(0),tickMax:new Kn(0)};var d=VI(new Kn(t).sub(e).div(n-1),i,c),y;e<=0&&t>=0?y=new Kn(0):(y=new Kn(e).add(t).div(2),y=y.sub(new Kn(y).mod(d)));var x=Math.ceil(y.sub(e).div(d).toNumber()),a=Math.ceil(new Kn(t).sub(y).div(d).toNumber()),w=x+a+1;return w>n?qI(e,t,n,i,c+1):(w<n&&(a=t>0?a+(n-w):a,x=t>0?x:x+(n-w)),{step:d,tickMin:y.sub(new Kn(x).mul(d)),tickMax:y.add(new Kn(a).mul(d))})}function BG(e){var t=d3(e,2),n=t[0],i=t[1],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,y=Math.max(c,2),x=$I([n,i]),a=d3(x,2),w=a[0],M=a[1];if(w===-1/0||M===1/0){var C=M===1/0?[w].concat(jg(Bg(0,c-1).map(function(){return 1/0}))):[].concat(jg(Bg(0,c-1).map(function(){return-1/0})),[M]);return n>i?Fg(C):C}if(w===M)return zG(w,c,d);var L=qI(w,M,y,d),j=L.step,W=L.tickMin,q=L.tickMax,U=L6.rangeStep(W,q.add(new Kn(.1).mul(j)),j);return n>i?Fg(U):U}function FG(e,t){var n=d3(e,2),i=n[0],c=n[1],d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,y=$I([i,c]),x=d3(y,2),a=x[0],w=x[1];if(a===-1/0||w===1/0)return[i,c];if(a===w)return[a];var M=Math.max(t,2),C=VI(new Kn(w).sub(a).div(M-1),d,0),L=[].concat(jg(L6.rangeStep(new Kn(a),new Kn(w).sub(new Kn(.99).mul(C)),C)),[w]);return i>c?Fg(L):L}var jG=NI(BG),NG=NI(FG),UG="Invariant failed";function _f(e,t){throw new Error(UG)}var $G=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function B4(){return B4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},B4.apply(this,arguments)}function VG(e,t){return HG(e)||WG(e,t)||GG(e,t)||qG()}function qG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GG(e,t){if(e){if(typeof e=="string")return gP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gP(e,t)}}function gP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function WG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function HG(e){if(Array.isArray(e))return e}function ZG(e,t){if(e==null)return{};var n=XG(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function XG(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function KG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YG(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,HI(i.key),i)}}function JG(e,t,n){return t&&YG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QG(e,t,n){return t=F4(t),eW(e,GI()?Reflect.construct(t,n||[],F4(e).constructor):t.apply(e,n))}function eW(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tW(e)}function tW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GI=function(){return!!e})()}function F4(e){return F4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F4(e)}function rW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},Ug(e,t)}function WI(e,t,n){return t=HI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HI(e){var t=nW(e,"string");return sd(t)=="symbol"?t:t+""}function nW(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(sd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var R6=(function(e){function t(){return KG(this,t),QG(this,t,arguments)}return rW(t,e),JG(t,[{key:"render",value:function(){var i=this.props,c=i.offset,d=i.layout,y=i.width,x=i.dataKey,a=i.data,w=i.dataPointFormatter,M=i.xAxis,C=i.yAxis,L=ZG(i,$G),j=Ln(L,!1);this.props.direction==="x"&&M.type!=="number"&&_f();var W=a.map(function(q){var U=w(q,x),Q=U.x,re=U.y,ee=U.value,oe=U.errorVal;if(!oe)return null;var K=[],ne,te;if(Array.isArray(oe)){var be=VG(oe,2);ne=be[0],te=be[1]}else ne=te=oe;if(d==="vertical"){var Ce=M.scale,Ee=re+c,je=Ee+y,Ye=Ee-y,Ge=Ce(ee-ne),Te=Ce(ee+te);K.push({x1:Te,y1:je,x2:Te,y2:Ye}),K.push({x1:Ge,y1:Ee,x2:Te,y2:Ee}),K.push({x1:Ge,y1:je,x2:Ge,y2:Ye})}else if(d==="horizontal"){var Se=C.scale,ze=Q+c,Ue=ze-y,ke=ze+y,$e=Se(ee-ne),ft=Se(ee+te);K.push({x1:Ue,y1:ft,x2:ke,y2:ft}),K.push({x1:ze,y1:$e,x2:ze,y2:ft}),K.push({x1:Ue,y1:$e,x2:ke,y2:$e})}return tt.createElement(Mo,B4({className:"recharts-errorBar",key:"bar-".concat(K.map(function(Pe){return"".concat(Pe.x1,"-").concat(Pe.x2,"-").concat(Pe.y1,"-").concat(Pe.y2)}))},j),K.map(function(Pe){return tt.createElement("line",B4({},Pe,{key:"line-".concat(Pe.x1,"-").concat(Pe.x2,"-").concat(Pe.y1,"-").concat(Pe.y2)}))}))});return tt.createElement(Mo,{className:"recharts-errorBars"},W)}}])})(tt.Component);WI(R6,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});WI(R6,"displayName","ErrorBar");function p3(e){"@babel/helpers - typeof";return p3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p3(e)}function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(i){iW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iW(e,t,n){return t=oW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=aW(e,"string");return p3(t)=="symbol"?t:t+""}function aW(e,t){if(p3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(p3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZI=function(t){var n=t.children,i=t.formattedGraphicalItems,c=t.legendWidth,d=t.legendContent,y=bs(n,G0);if(!y)return null;var x=G0.defaultProps,a=x!==void 0?ef(ef({},x),y.props):{},w;return y.props&&y.props.payload?w=y.props&&y.props.payload:d==="children"?w=(i||[]).reduce(function(M,C){var L=C.item,j=C.props,W=j.sectors||j.data||[];return M.concat(W.map(function(q){return{type:y.props.iconType||L.props.legendType,value:q.name,color:q.fill,payload:q}}))},[]):w=(i||[]).map(function(M){var C=M.item,L=C.type.defaultProps,j=L!==void 0?ef(ef({},L),C.props):{},W=j.dataKey,q=j.name,U=j.legendType,Q=j.hide;return{inactive:Q,dataKey:W,type:a.iconType||U||"square",color:A_(C),value:q||W,payload:j}}),ef(ef(ef({},a),G0.getWithHeight(y,c)),{},{payload:w,item:y})};function m3(e){"@babel/helpers - typeof";return m3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m3(e)}function _P(e){return cW(e)||uW(e)||lW(e)||sW()}function sW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lW(e,t){if(e){if(typeof e=="string")return $g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $g(e,t)}}function uW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cW(e){if(Array.isArray(e))return $g(e)}function $g(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(i){H0(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function H0(e,t,n){return t=hW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hW(e){var t=fW(e,"string");return m3(t)=="symbol"?t:t+""}function fW(e,t){if(m3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(m3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nu(e,t,n){return Un(e)||Un(t)?n:mo(t)?al(e,t,n):fn(t)?t(e):n}function Zp(e,t,n,i){var c=cG(e,function(x){return Nu(x,t)});if(n==="number"){var d=c.filter(function(x){return rr(x)||parseFloat(x)});return d.length?[k6(d),O6(d)]:[1/0,-1/0]}var y=i?c.filter(function(x){return!Un(x)}):c;return y.map(function(x){return mo(x)||x instanceof Date?x:""})}var dW=function(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0,d=arguments.length>3?arguments[3]:void 0,y=-1,x=(n=i?.length)!==null&&n!==void 0?n:0;if(x<=1)return 0;if(d&&d.axisType==="angleAxis"&&Math.abs(Math.abs(d.range[1]-d.range[0])-360)<=1e-6)for(var a=d.range,w=0;w<x;w++){var M=w>0?c[w-1].coordinate:c[x-1].coordinate,C=c[w].coordinate,L=w>=x-1?c[0].coordinate:c[w+1].coordinate,j=void 0;if($l(C-M)!==$l(L-C)){var W=[];if($l(L-C)===$l(a[1]-a[0])){j=L;var q=C+a[1]-a[0];W[0]=Math.min(q,(q+M)/2),W[1]=Math.max(q,(q+M)/2)}else{j=M;var U=L+a[1]-a[0];W[0]=Math.min(C,(U+C)/2),W[1]=Math.max(C,(U+C)/2)}var Q=[Math.min(C,(j+C)/2),Math.max(C,(j+C)/2)];if(t>Q[0]&&t<=Q[1]||t>=W[0]&&t<=W[1]){y=c[w].index;break}}else{var re=Math.min(M,L),ee=Math.max(M,L);if(t>(re+C)/2&&t<=(ee+C)/2){y=c[w].index;break}}}else for(var oe=0;oe<x;oe++)if(oe===0&&t<=(i[oe].coordinate+i[oe+1].coordinate)/2||oe>0&&oe<x-1&&t>(i[oe].coordinate+i[oe-1].coordinate)/2&&t<=(i[oe].coordinate+i[oe+1].coordinate)/2||oe===x-1&&t>(i[oe].coordinate+i[oe-1].coordinate)/2){y=i[oe].index;break}return y},A_=function(t){var n,i=t,c=i.type.displayName,d=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ui(Ui({},t.type.defaultProps),t.props):t.props,y=d.stroke,x=d.fill,a;switch(c){case"Line":a=y;break;case"Area":case"Radar":a=y&&y!=="none"?y:x;break;default:a=x;break}return a},pW=function(t){var n=t.barSize,i=t.totalSize,c=t.stackGroups,d=c===void 0?{}:c;if(!d)return{};for(var y={},x=Object.keys(d),a=0,w=x.length;a<w;a++)for(var M=d[x[a]].stackGroups,C=Object.keys(M),L=0,j=C.length;L<j;L++){var W=M[C[L]],q=W.items,U=W.cateAxisId,Q=q.filter(function(te){return Rc(te.type).indexOf("Bar")>=0});if(Q&&Q.length){var re=Q[0].type.defaultProps,ee=re!==void 0?Ui(Ui({},re),Q[0].props):Q[0].props,oe=ee.barSize,K=ee[U];y[K]||(y[K]=[]);var ne=Un(oe)?n:oe;y[K].push({item:Q[0],stackList:Q.slice(1),barSize:Un(ne)?void 0:gf(ne,i,0)})}}return y},mW=function(t){var n=t.barGap,i=t.barCategoryGap,c=t.bandSize,d=t.sizeList,y=d===void 0?[]:d,x=t.maxBarSize,a=y.length;if(a<1)return null;var w=gf(n,c,0,!0),M,C=[];if(y[0].barSize===+y[0].barSize){var L=!1,j=c/a,W=y.reduce(function(oe,K){return oe+K.barSize||0},0);W+=(a-1)*w,W>=c&&(W-=(a-1)*w,w=0),W>=c&&j>0&&(L=!0,j*=.9,W=a*j);var q=(c-W)/2>>0,U={offset:q-w,size:0};M=y.reduce(function(oe,K){var ne={item:K.item,position:{offset:U.offset+U.size+w,size:L?j:K.barSize}},te=[].concat(_P(oe),[ne]);return U=te[te.length-1].position,K.stackList&&K.stackList.length&&K.stackList.forEach(function(be){te.push({item:be,position:U})}),te},C)}else{var Q=gf(i,c,0,!0);c-2*Q-(a-1)*w<=0&&(w=0);var re=(c-2*Q-(a-1)*w)/a;re>1&&(re>>=0);var ee=x===+x?Math.min(re,x):re;M=y.reduce(function(oe,K,ne){var te=[].concat(_P(oe),[{item:K.item,position:{offset:Q+(re+w)*ne+(re-ee)/2,size:ee}}]);return K.stackList&&K.stackList.length&&K.stackList.forEach(function(be){te.push({item:be,position:te[te.length-1].position})}),te},C)}return M},gW=function(t,n,i,c){var d=i.children,y=i.width,x=i.margin,a=y-(x.left||0)-(x.right||0),w=ZI({children:d,legendWidth:a});if(w){var M=c||{},C=M.width,L=M.height,j=w.align,W=w.verticalAlign,q=w.layout;if((q==="vertical"||q==="horizontal"&&W==="middle")&&j!=="center"&&rr(t[j]))return Ui(Ui({},t),{},H0({},j,t[j]+(C||0)));if((q==="horizontal"||q==="vertical"&&j==="center")&&W!=="middle"&&rr(t[W]))return Ui(Ui({},t),{},H0({},W,t[W]+(L||0)))}return t},yW=function(t,n,i){return Un(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||i==="x"?n==="xAxis":i==="y"?n==="yAxis":!0},XI=function(t,n,i,c,d){var y=n.props.children,x=Vl(y,R6).filter(function(w){return yW(c,d,w.props.direction)});if(x&&x.length){var a=x.map(function(w){return w.props.dataKey});return t.reduce(function(w,M){var C=Nu(M,i);if(Un(C))return w;var L=Array.isArray(C)?[k6(C),O6(C)]:[C,C],j=a.reduce(function(W,q){var U=Nu(M,q,0),Q=L[0]-Math.abs(Array.isArray(U)?U[0]:U),re=L[1]+Math.abs(Array.isArray(U)?U[1]:U);return[Math.min(Q,W[0]),Math.max(re,W[1])]},[1/0,-1/0]);return[Math.min(j[0],w[0]),Math.max(j[1],w[1])]},[1/0,-1/0])}return null},_W=function(t,n,i,c,d){var y=n.map(function(x){return XI(t,x,i,d,c)}).filter(function(x){return!Un(x)});return y&&y.length?y.reduce(function(x,a){return[Math.min(x[0],a[0]),Math.max(x[1],a[1])]},[1/0,-1/0]):null},KI=function(t,n,i,c,d){var y=n.map(function(a){var w=a.props.dataKey;return i==="number"&&w&&XI(t,a,w,c)||Zp(t,w,i,d)});if(i==="number")return y.reduce(function(a,w){return[Math.min(a[0],w[0]),Math.max(a[1],w[1])]},[1/0,-1/0]);var x={};return y.reduce(function(a,w){for(var M=0,C=w.length;M<C;M++)x[w[M]]||(x[w[M]]=!0,a.push(w[M]));return a},[])},YI=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},JI=function(t,n,i,c){if(c)return t.map(function(a){return a.coordinate});var d,y,x=t.map(function(a){return a.coordinate===n&&(d=!0),a.coordinate===i&&(y=!0),a.coordinate});return d||x.push(n),y||x.push(i),x},Dc=function(t,n,i){if(!t)return null;var c=t.scale,d=t.duplicateDomain,y=t.type,x=t.range,a=t.realScaleType==="scaleBand"?c.bandwidth()/2:2,w=(n||i)&&y==="category"&&c.bandwidth?c.bandwidth()/a:0;if(w=t.axisType==="angleAxis"&&x?.length>=2?$l(x[0]-x[1])*2*w:w,n&&(t.ticks||t.niceTicks)){var M=(t.ticks||t.niceTicks).map(function(C){var L=d?d.indexOf(C):C;return{coordinate:c(L)+w,value:C,offset:w}});return M.filter(function(C){return!F3(C.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(C,L){return{coordinate:c(C)+w,value:C,index:L,offset:w}}):c.ticks&&!i?c.ticks(t.tickCount).map(function(C){return{coordinate:c(C)+w,value:C,offset:w}}):c.domain().map(function(C,L){return{coordinate:c(C)+w,value:d?d[C]:C,index:L,offset:w}})},T9=new WeakMap,W5=function(t,n){if(typeof n!="function")return t;T9.has(t)||T9.set(t,new WeakMap);var i=T9.get(t);if(i.has(n))return i.get(n);var c=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return i.set(n,c),c},vW=function(t,n,i){var c=t.scale,d=t.type,y=t.layout,x=t.axisType;if(c==="auto")return y==="radial"&&x==="radiusAxis"?{scale:s3(),realScaleType:"band"}:y==="radial"&&x==="angleAxis"?{scale:k4(),realScaleType:"linear"}:d==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!i)?{scale:Hp(),realScaleType:"point"}:d==="category"?{scale:s3(),realScaleType:"band"}:{scale:k4(),realScaleType:"linear"};if(mf(c)){var a="scale".concat(_6(c));return{scale:(iP[a]||Hp)(),realScaleType:iP[a]?a:"point"}}return fn(c)?{scale:c}:{scale:Hp(),realScaleType:"point"}},xP=1e-4,xW=function(t){var n=t.domain();if(!(!n||n.length<=2)){var i=n.length,c=t.range(),d=Math.min(c[0],c[1])-xP,y=Math.max(c[0],c[1])+xP,x=t(n[0]),a=t(n[i-1]);(x<d||x>y||a<d||a>y)&&t.domain([n[0],n[i-1]])}},bW=function(t,n){if(!t)return null;for(var i=0,c=t.length;i<c;i++)if(t[i].item===n)return t[i].position;return null},wW=function(t,n){if(!n||n.length!==2||!rr(n[0])||!rr(n[1]))return t;var i=Math.min(n[0],n[1]),c=Math.max(n[0],n[1]),d=[t[0],t[1]];return(!rr(t[0])||t[0]<i)&&(d[0]=i),(!rr(t[1])||t[1]>c)&&(d[1]=c),d[0]>c&&(d[0]=c),d[1]<i&&(d[1]=i),d},SW=function(t){var n=t.length;if(!(n<=0))for(var i=0,c=t[0].length;i<c;++i)for(var d=0,y=0,x=0;x<n;++x){var a=F3(t[x][i][1])?t[x][i][0]:t[x][i][1];a>=0?(t[x][i][0]=d,t[x][i][1]=d+a,d=t[x][i][1]):(t[x][i][0]=y,t[x][i][1]=y+a,y=t[x][i][1])}},TW=function(t){var n=t.length;if(!(n<=0))for(var i=0,c=t[0].length;i<c;++i)for(var d=0,y=0;y<n;++y){var x=F3(t[y][i][1])?t[y][i][0]:t[y][i][1];x>=0?(t[y][i][0]=d,t[y][i][1]=d+x,d=t[y][i][1]):(t[y][i][0]=0,t[y][i][1]=0)}},EW={sign:SW,expand:lj,none:Q0,silhouette:uj,wiggle:cj,positive:TW},PW=function(t,n,i){var c=n.map(function(x){return x.props.dataKey}),d=EW[i],y=sj().keys(c).value(function(x,a){return+Nu(x,a,0)}).order(_g).offset(d);return y(t)},AW=function(t,n,i,c,d,y){if(!t)return null;var x=y?n.reverse():n,a={},w=x.reduce(function(C,L){var j,W=(j=L.type)!==null&&j!==void 0&&j.defaultProps?Ui(Ui({},L.type.defaultProps),L.props):L.props,q=W.stackId,U=W.hide;if(U)return C;var Q=W[i],re=C[Q]||{hasStack:!1,stackGroups:{}};if(mo(q)){var ee=re.stackGroups[q]||{numericAxisId:i,cateAxisId:c,items:[]};ee.items.push(L),re.hasStack=!0,re.stackGroups[q]=ee}else re.stackGroups[y6("_stackId_")]={numericAxisId:i,cateAxisId:c,items:[L]};return Ui(Ui({},C),{},H0({},Q,re))},a),M={};return Object.keys(w).reduce(function(C,L){var j=w[L];if(j.hasStack){var W={};j.stackGroups=Object.keys(j.stackGroups).reduce(function(q,U){var Q=j.stackGroups[U];return Ui(Ui({},q),{},H0({},U,{numericAxisId:i,cateAxisId:c,items:Q.items,stackedData:PW(t,Q.items,d)}))},W)}return Ui(Ui({},C),{},H0({},L,j))},M)},MW=function(t,n){var i=n.realScaleType,c=n.type,d=n.tickCount,y=n.originalDomain,x=n.allowDecimals,a=i||n.scale;if(a!=="auto"&&a!=="linear")return null;if(d&&c==="number"&&y&&(y[0]==="auto"||y[1]==="auto")){var w=t.domain();if(!w.length)return null;var M=jG(w,d,x);return t.domain([k6(M),O6(M)]),{niceTicks:M}}if(d&&c==="number"){var C=t.domain(),L=NG(C,d,x);return{niceTicks:L}}return null},bP=function(t){var n=t.axis,i=t.ticks,c=t.offset,d=t.bandSize,y=t.entry,x=t.index;if(n.type==="category")return i[x]?i[x].coordinate+c:null;var a=Nu(y,n.dataKey,n.domain[x]);return Un(a)?null:n.scale(a)-d/2+c},CW=function(t){var n=t.numericAxis,i=n.scale.domain();if(n.type==="number"){var c=Math.min(i[0],i[1]),d=Math.max(i[0],i[1]);return c<=0&&d>=0?0:d<0?d:c}return i[0]},IW=function(t,n){var i,c=(i=t.type)!==null&&i!==void 0&&i.defaultProps?Ui(Ui({},t.type.defaultProps),t.props):t.props,d=c.stackId;if(mo(d)){var y=n[d];if(y){var x=y.items.indexOf(t);return x>=0?y.stackedData[x]:null}}return null},OW=function(t){return t.reduce(function(n,i){return[k6(i.concat([n[0]]).filter(rr)),O6(i.concat([n[1]]).filter(rr))]},[1/0,-1/0])},QI=function(t,n,i){return Object.keys(t).reduce(function(c,d){var y=t[d],x=y.stackedData,a=x.reduce(function(w,M){var C=OW(M.slice(n,i+1));return[Math.min(w[0],C[0]),Math.max(w[1],C[1])]},[1/0,-1/0]);return[Math.min(a[0],c[0]),Math.max(a[1],c[1])]},[1/0,-1/0]).map(function(c){return c===1/0||c===-1/0?0:c})},wP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vg=function(t,n,i){if(fn(t))return t(n,i);if(!Array.isArray(t))return n;var c=[];if(rr(t[0]))c[0]=i?t[0]:Math.min(t[0],n[0]);else if(wP.test(t[0])){var d=+wP.exec(t[0])[1];c[0]=n[0]-d}else fn(t[0])?c[0]=t[0](n[0]):c[0]=n[0];if(rr(t[1]))c[1]=i?t[1]:Math.max(t[1],n[1]);else if(SP.test(t[1])){var y=+SP.exec(t[1])[1];c[1]=n[1]+y}else fn(t[1])?c[1]=t[1](n[1]):c[1]=n[1];return c},j4=function(t,n,i){if(t&&t.scale&&t.scale.bandwidth){var c=t.scale.bandwidth();if(!i||c>0)return c}if(t&&n&&n.length>=2){for(var d=e_(n,function(C){return C.coordinate}),y=1/0,x=1,a=d.length;x<a;x++){var w=d[x],M=d[x-1];y=Math.min((w.coordinate||0)-(M.coordinate||0),y)}return y===1/0?0:y}return i?void 0:0},TP=function(t,n,i){return!t||!t.length||T_(t,al(i,"type.defaultProps.domain"))?n:t},eO=function(t,n){var i=t.type.defaultProps?Ui(Ui({},t.type.defaultProps),t.props):t.props,c=i.dataKey,d=i.name,y=i.unit,x=i.formatter,a=i.tooltipType,w=i.chartType,M=i.hide;return Ui(Ui({},Ln(t,!1)),{},{dataKey:c,unit:y,formatter:x,name:d||c,color:A_(t),value:Nu(n,c),type:a,payload:n,chartType:w,hide:M})};function g3(e){"@babel/helpers - typeof";return g3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g3(e)}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function PP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(i){kW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function kW(e,t,n){return t=DW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DW(e){var t=LW(e,"string");return g3(t)=="symbol"?t:t+""}function LW(e,t){if(g3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(g3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N4=Math.PI/180,RW=function(t){return t*180/Math.PI},qo=function(t,n,i,c){return{x:t+Math.cos(-N4*c)*i,y:n+Math.sin(-N4*c)*i}},zW=function(t,n){var i=t.x,c=t.y,d=n.x,y=n.y;return Math.sqrt(Math.pow(i-d,2)+Math.pow(c-y,2))},BW=function(t,n){var i=t.x,c=t.y,d=n.cx,y=n.cy,x=zW({x:i,y:c},{x:d,y});if(x<=0)return{radius:x};var a=(i-d)/x,w=Math.acos(a);return c>y&&(w=2*Math.PI-w),{radius:x,angle:RW(w),angleInRadian:w}},FW=function(t){var n=t.startAngle,i=t.endAngle,c=Math.floor(n/360),d=Math.floor(i/360),y=Math.min(c,d);return{startAngle:n-y*360,endAngle:i-y*360}},jW=function(t,n){var i=n.startAngle,c=n.endAngle,d=Math.floor(i/360),y=Math.floor(c/360),x=Math.min(d,y);return t+x*360},AP=function(t,n){var i=t.x,c=t.y,d=BW({x:i,y:c},n),y=d.radius,x=d.angle,a=n.innerRadius,w=n.outerRadius;if(y<a||y>w)return!1;if(y===0)return!0;var M=FW(n),C=M.startAngle,L=M.endAngle,j=x,W;if(C<=L){for(;j>L;)j-=360;for(;j<C;)j+=360;W=j>=C&&j<=L}else{for(;j>C;)j-=360;for(;j<L;)j+=360;W=j>=L&&j<=C}return W?PP(PP({},n),{},{radius:y,angle:jW(j,n)}):null};function y3(e){"@babel/helpers - typeof";return y3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y3(e)}var NW=["offset"];function UW(e){return GW(e)||qW(e)||VW(e)||$W()}function $W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VW(e,t){if(e){if(typeof e=="string")return qg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qg(e,t)}}function qW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GW(e){if(Array.isArray(e))return qg(e)}function qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function WW(e,t){if(e==null)return{};var n=HW(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function HW(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(i){ZW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ZW(e,t,n){return t=XW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=KW(e,"string");return y3(t)=="symbol"?t:t+""}function KW(e,t){if(y3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(y3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _3(){return _3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_3.apply(this,arguments)}var YW=function(t){var n=t.value,i=t.formatter,c=Un(t.children)?n:t.children;return fn(i)?i(c):c},JW=function(t,n){var i=$l(n-t),c=Math.min(Math.abs(n-t),360);return i*c},QW=function(t,n,i){var c=t.position,d=t.viewBox,y=t.offset,x=t.className,a=d,w=a.cx,M=a.cy,C=a.innerRadius,L=a.outerRadius,j=a.startAngle,W=a.endAngle,q=a.clockWise,U=(C+L)/2,Q=JW(j,W),re=Q>=0?1:-1,ee,oe;c==="insideStart"?(ee=j+re*y,oe=q):c==="insideEnd"?(ee=W-re*y,oe=!q):c==="end"&&(ee=W+re*y,oe=q),oe=Q<=0?oe:!oe;var K=qo(w,M,U,ee),ne=qo(w,M,U,ee+(oe?1:-1)*359),te="M".concat(K.x,",").concat(K.y,`
    A`).concat(U,",").concat(U,",0,1,").concat(oe?0:1,`,
    `).concat(ne.x,",").concat(ne.y),be=Un(t.id)?y6("recharts-radial-line-"):t.id;return tt.createElement("text",_3({},i,{dominantBaseline:"central",className:$n("recharts-radial-bar-label",x)}),tt.createElement("defs",null,tt.createElement("path",{id:be,d:te})),tt.createElement("textPath",{xlinkHref:"#".concat(be)},n))},eH=function(t){var n=t.viewBox,i=t.offset,c=t.position,d=n,y=d.cx,x=d.cy,a=d.innerRadius,w=d.outerRadius,M=d.startAngle,C=d.endAngle,L=(M+C)/2;if(c==="outside"){var j=qo(y,x,w+i,L),W=j.x,q=j.y;return{x:W,y:q,textAnchor:W>=y?"start":"end",verticalAnchor:"middle"}}if(c==="center")return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"};if(c==="centerTop")return{x:y,y:x,textAnchor:"middle",verticalAnchor:"start"};if(c==="centerBottom")return{x:y,y:x,textAnchor:"middle",verticalAnchor:"end"};var U=(a+w)/2,Q=qo(y,x,U,L),re=Q.x,ee=Q.y;return{x:re,y:ee,textAnchor:"middle",verticalAnchor:"middle"}},tH=function(t){var n=t.viewBox,i=t.parentViewBox,c=t.offset,d=t.position,y=n,x=y.x,a=y.y,w=y.width,M=y.height,C=M>=0?1:-1,L=C*c,j=C>0?"end":"start",W=C>0?"start":"end",q=w>=0?1:-1,U=q*c,Q=q>0?"end":"start",re=q>0?"start":"end";if(d==="top"){var ee={x:x+w/2,y:a-C*c,textAnchor:"middle",verticalAnchor:j};return po(po({},ee),i?{height:Math.max(a-i.y,0),width:w}:{})}if(d==="bottom"){var oe={x:x+w/2,y:a+M+L,textAnchor:"middle",verticalAnchor:W};return po(po({},oe),i?{height:Math.max(i.y+i.height-(a+M),0),width:w}:{})}if(d==="left"){var K={x:x-U,y:a+M/2,textAnchor:Q,verticalAnchor:"middle"};return po(po({},K),i?{width:Math.max(K.x-i.x,0),height:M}:{})}if(d==="right"){var ne={x:x+w+U,y:a+M/2,textAnchor:re,verticalAnchor:"middle"};return po(po({},ne),i?{width:Math.max(i.x+i.width-ne.x,0),height:M}:{})}var te=i?{width:w,height:M}:{};return d==="insideLeft"?po({x:x+U,y:a+M/2,textAnchor:re,verticalAnchor:"middle"},te):d==="insideRight"?po({x:x+w-U,y:a+M/2,textAnchor:Q,verticalAnchor:"middle"},te):d==="insideTop"?po({x:x+w/2,y:a+L,textAnchor:"middle",verticalAnchor:W},te):d==="insideBottom"?po({x:x+w/2,y:a+M-L,textAnchor:"middle",verticalAnchor:j},te):d==="insideTopLeft"?po({x:x+U,y:a+L,textAnchor:re,verticalAnchor:W},te):d==="insideTopRight"?po({x:x+w-U,y:a+L,textAnchor:Q,verticalAnchor:W},te):d==="insideBottomLeft"?po({x:x+U,y:a+M-L,textAnchor:re,verticalAnchor:j},te):d==="insideBottomRight"?po({x:x+w-U,y:a+M-L,textAnchor:Q,verticalAnchor:j},te):Sd(d)&&(rr(d.x)||sf(d.x))&&(rr(d.y)||sf(d.y))?po({x:x+gf(d.x,w),y:a+gf(d.y,M),textAnchor:"end",verticalAnchor:"end"},te):po({x:x+w/2,y:a+M/2,textAnchor:"middle",verticalAnchor:"middle"},te)},rH=function(t){return"cx"in t&&rr(t.cx)};function fa(e){var t=e.offset,n=t===void 0?5:t,i=WW(e,NW),c=po({offset:n},i),d=c.viewBox,y=c.position,x=c.value,a=c.children,w=c.content,M=c.className,C=M===void 0?"":M,L=c.textBreakAll;if(!d||Un(x)&&Un(a)&&!Ve.isValidElement(w)&&!fn(w))return null;if(Ve.isValidElement(w))return Ve.cloneElement(w,c);var j;if(fn(w)){if(j=Ve.createElement(w,c),Ve.isValidElement(j))return j}else j=YW(c);var W=rH(d),q=Ln(c,!0);if(W&&(y==="insideStart"||y==="insideEnd"||y==="end"))return QW(c,j,q);var U=W?eH(c):tH(c);return tt.createElement(E4,_3({className:$n("recharts-label",C)},q,U,{breakAll:L}),j)}fa.displayName="Label";var tO=function(t){var n=t.cx,i=t.cy,c=t.angle,d=t.startAngle,y=t.endAngle,x=t.r,a=t.radius,w=t.innerRadius,M=t.outerRadius,C=t.x,L=t.y,j=t.top,W=t.left,q=t.width,U=t.height,Q=t.clockWise,re=t.labelViewBox;if(re)return re;if(rr(q)&&rr(U)){if(rr(C)&&rr(L))return{x:C,y:L,width:q,height:U};if(rr(j)&&rr(W))return{x:j,y:W,width:q,height:U}}return rr(C)&&rr(L)?{x:C,y:L,width:0,height:0}:rr(n)&&rr(i)?{cx:n,cy:i,startAngle:d||c||0,endAngle:y||c||0,innerRadius:w||0,outerRadius:M||a||x||0,clockWise:Q}:t.viewBox?t.viewBox:{}},nH=function(t,n){return t?t===!0?tt.createElement(fa,{key:"label-implicit",viewBox:n}):mo(t)?tt.createElement(fa,{key:"label-implicit",viewBox:n,value:t}):Ve.isValidElement(t)?t.type===fa?Ve.cloneElement(t,{key:"label-implicit",viewBox:n}):tt.createElement(fa,{key:"label-implicit",content:t,viewBox:n}):fn(t)?tt.createElement(fa,{key:"label-implicit",content:t,viewBox:n}):Sd(t)?tt.createElement(fa,_3({viewBox:n},t,{key:"label-implicit"})):null:null},iH=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&i&&!t.label)return null;var c=t.children,d=tO(t),y=Vl(c,fa).map(function(a,w){return Ve.cloneElement(a,{viewBox:n||d,key:"label-".concat(w)})});if(!i)return y;var x=nH(t.label,n||d);return[x].concat(UW(y))};fa.parseViewBox=tO;fa.renderCallByParent=iH;var E9,CP;function oH(){if(CP)return E9;CP=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return E9=e,E9}var aH=oH();const sH=vn(aH);function v3(e){"@babel/helpers - typeof";return v3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v3(e)}var lH=["valueAccessor"],uH=["data","dataKey","clockWise","id","textBreakAll"];function cH(e){return pH(e)||dH(e)||fH(e)||hH()}function hH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fH(e,t){if(e){if(typeof e=="string")return Gg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gg(e,t)}}function dH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pH(e){if(Array.isArray(e))return Gg(e)}function Gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function U4(){return U4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},U4.apply(this,arguments)}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function OP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(i){mH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mH(e,t,n){return t=gH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=yH(e,"string");return v3(t)=="symbol"?t:t+""}function yH(e,t){if(v3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(v3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kP(e,t){if(e==null)return{};var n=_H(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function _H(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var vH=function(t){return Array.isArray(t.value)?sH(t.value):t.value};function df(e){var t=e.valueAccessor,n=t===void 0?vH:t,i=kP(e,lH),c=i.data,d=i.dataKey,y=i.clockWise,x=i.id,a=i.textBreakAll,w=kP(i,uH);return!c||!c.length?null:tt.createElement(Mo,{className:"recharts-label-list"},c.map(function(M,C){var L=Un(d)?n(M,C):Nu(M&&M.payload,d),j=Un(x)?{}:{id:"".concat(x,"-").concat(C)};return tt.createElement(fa,U4({},Ln(M,!0),w,j,{parentViewBox:M.parentViewBox,value:L,textBreakAll:a,viewBox:fa.parseViewBox(Un(y)?M:OP(OP({},M),{},{clockWise:y})),key:"label-".concat(C),index:C}))}))}df.displayName="LabelList";function xH(e,t){return e?e===!0?tt.createElement(df,{key:"labelList-implicit",data:t}):tt.isValidElement(e)||fn(e)?tt.createElement(df,{key:"labelList-implicit",data:t,content:e}):Sd(e)?tt.createElement(df,U4({data:t},e,{key:"labelList-implicit"})):null:null}function bH(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,c=Vl(i,df).map(function(y,x){return Ve.cloneElement(y,{data:t,key:"labelList-".concat(x)})});if(!n)return c;var d=xH(e.label,t);return[d].concat(cH(c))}df.renderCallByParent=bH;function x3(e){"@babel/helpers - typeof";return x3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x3(e)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wg.apply(this,arguments)}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function LP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(i){wH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wH(e,t,n){return t=SH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=TH(e,"string");return x3(t)=="symbol"?t:t+""}function TH(e,t){if(x3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(x3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EH=function(t,n){var i=$l(n-t),c=Math.min(Math.abs(n-t),359.999);return i*c},H5=function(t){var n=t.cx,i=t.cy,c=t.radius,d=t.angle,y=t.sign,x=t.isExternal,a=t.cornerRadius,w=t.cornerIsExternal,M=a*(x?1:-1)+c,C=Math.asin(a/M)/N4,L=w?d:d+y*C,j=qo(n,i,M,L),W=qo(n,i,c,L),q=w?d-y*C:d,U=qo(n,i,M*Math.cos(C*N4),q);return{center:j,circleTangency:W,lineTangency:U,theta:C}},rO=function(t){var n=t.cx,i=t.cy,c=t.innerRadius,d=t.outerRadius,y=t.startAngle,x=t.endAngle,a=EH(y,x),w=y+a,M=qo(n,i,d,y),C=qo(n,i,d,w),L="M ".concat(M.x,",").concat(M.y,`
    A `).concat(d,",").concat(d,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(y>w),`,
    `).concat(C.x,",").concat(C.y,`
  `);if(c>0){var j=qo(n,i,c,y),W=qo(n,i,c,w);L+="L ".concat(W.x,",").concat(W.y,`
            A `).concat(c,",").concat(c,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(y<=w),`,
            `).concat(j.x,",").concat(j.y," Z")}else L+="L ".concat(n,",").concat(i," Z");return L},PH=function(t){var n=t.cx,i=t.cy,c=t.innerRadius,d=t.outerRadius,y=t.cornerRadius,x=t.forceCornerRadius,a=t.cornerIsExternal,w=t.startAngle,M=t.endAngle,C=$l(M-w),L=H5({cx:n,cy:i,radius:d,angle:w,sign:C,cornerRadius:y,cornerIsExternal:a}),j=L.circleTangency,W=L.lineTangency,q=L.theta,U=H5({cx:n,cy:i,radius:d,angle:M,sign:-C,cornerRadius:y,cornerIsExternal:a}),Q=U.circleTangency,re=U.lineTangency,ee=U.theta,oe=a?Math.abs(w-M):Math.abs(w-M)-q-ee;if(oe<0)return x?"M ".concat(W.x,",").concat(W.y,`
        a`).concat(y,",").concat(y,",0,0,1,").concat(y*2,`,0
        a`).concat(y,",").concat(y,",0,0,1,").concat(-y*2,`,0
      `):rO({cx:n,cy:i,innerRadius:c,outerRadius:d,startAngle:w,endAngle:M});var K="M ".concat(W.x,",").concat(W.y,`
    A`).concat(y,",").concat(y,",0,0,").concat(+(C<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(d,",").concat(d,",0,").concat(+(oe>180),",").concat(+(C<0),",").concat(Q.x,",").concat(Q.y,`
    A`).concat(y,",").concat(y,",0,0,").concat(+(C<0),",").concat(re.x,",").concat(re.y,`
  `);if(c>0){var ne=H5({cx:n,cy:i,radius:c,angle:w,sign:C,isExternal:!0,cornerRadius:y,cornerIsExternal:a}),te=ne.circleTangency,be=ne.lineTangency,Ce=ne.theta,Ee=H5({cx:n,cy:i,radius:c,angle:M,sign:-C,isExternal:!0,cornerRadius:y,cornerIsExternal:a}),je=Ee.circleTangency,Ye=Ee.lineTangency,Ge=Ee.theta,Te=a?Math.abs(w-M):Math.abs(w-M)-Ce-Ge;if(Te<0&&y===0)return"".concat(K,"L").concat(n,",").concat(i,"Z");K+="L".concat(Ye.x,",").concat(Ye.y,`
      A`).concat(y,",").concat(y,",0,0,").concat(+(C<0),",").concat(je.x,",").concat(je.y,`
      A`).concat(c,",").concat(c,",0,").concat(+(Te>180),",").concat(+(C>0),",").concat(te.x,",").concat(te.y,`
      A`).concat(y,",").concat(y,",0,0,").concat(+(C<0),",").concat(be.x,",").concat(be.y,"Z")}else K+="L".concat(n,",").concat(i,"Z");return K},AH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nO=function(t){var n=LP(LP({},AH),t),i=n.cx,c=n.cy,d=n.innerRadius,y=n.outerRadius,x=n.cornerRadius,a=n.forceCornerRadius,w=n.cornerIsExternal,M=n.startAngle,C=n.endAngle,L=n.className;if(y<d||M===C)return null;var j=$n("recharts-sector",L),W=y-d,q=gf(x,W,0,!0),U;return q>0&&Math.abs(M-C)<360?U=PH({cx:i,cy:c,innerRadius:d,outerRadius:y,cornerRadius:Math.min(q,W/2),forceCornerRadius:a,cornerIsExternal:w,startAngle:M,endAngle:C}):U=rO({cx:i,cy:c,innerRadius:d,outerRadius:y,startAngle:M,endAngle:C}),tt.createElement("path",Wg({},Ln(n,!0),{className:j,d:U,role:"img"}))};function b3(e){"@babel/helpers - typeof";return b3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b3(e)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hg.apply(this,arguments)}function RP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function zP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(n),!0).forEach(function(i){MH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function MH(e,t,n){return t=CH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CH(e){var t=IH(e,"string");return b3(t)=="symbol"?t:t+""}function IH(e,t){if(b3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(b3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BP={curveBasisClosed:KF,curveBasisOpen:YF,curveBasis:XF,curveBumpX:RF,curveBumpY:zF,curveLinearClosed:JF,curveLinear:x6,curveMonotoneX:QF,curveMonotoneY:ej,curveNatural:tj,curveStep:rj,curveStepAfter:ij,curveStepBefore:nj},Z5=function(t){return t.x===+t.x&&t.y===+t.y},Bp=function(t){return t.x},Fp=function(t){return t.y},OH=function(t,n){if(fn(t))return t;var i="curve".concat(_6(t));return(i==="curveMonotone"||i==="curveBump")&&n?BP["".concat(i).concat(n==="vertical"?"Y":"X")]:BP[i]||x6},kH=function(t){var n=t.type,i=n===void 0?"linear":n,c=t.points,d=c===void 0?[]:c,y=t.baseLine,x=t.layout,a=t.connectNulls,w=a===void 0?!1:a,M=OH(i,x),C=w?d.filter(function(q){return Z5(q)}):d,L;if(Array.isArray(y)){var j=w?y.filter(function(q){return Z5(q)}):y,W=C.map(function(q,U){return zP(zP({},q),{},{base:j[U]})});return x==="vertical"?L=j5().y(Fp).x1(Bp).x0(function(q){return q.base.x}):L=j5().x(Bp).y1(Fp).y0(function(q){return q.base.y}),L.defined(Z5).curve(M),L(W)}return x==="vertical"&&rr(y)?L=j5().y(Fp).x1(Bp).x0(y):rr(y)?L=j5().x(Bp).y1(Fp).y0(y):L=sC().x(Bp).y(Fp),L.defined(Z5).curve(M),L(C)},FP=function(t){var n=t.className,i=t.points,c=t.path,d=t.pathRef;if((!i||!i.length)&&!c)return null;var y=i&&i.length?kH(t):c;return tt.createElement("path",Hg({},Ln(t,!1),d4(t),{className:$n("recharts-curve",n),d:y,ref:d}))},DH=Object.getOwnPropertyNames,LH=Object.getOwnPropertySymbols,RH=Object.prototype.hasOwnProperty;function jP(e,t){return function(i,c,d){return e(i,c,d)&&t(i,c,d)}}function X5(e){return function(n,i,c){if(!n||!i||typeof n!="object"||typeof i!="object")return e(n,i,c);var d=c.cache,y=d.get(n),x=d.get(i);if(y&&x)return y===i&&x===n;d.set(n,i),d.set(i,n);var a=e(n,i,c);return d.delete(n),d.delete(i),a}}function NP(e){return DH(e).concat(LH(e))}var zH=Object.hasOwn||(function(e,t){return RH.call(e,t)});function Pf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var BH="__v",FH="__o",jH="_owner",UP=Object.getOwnPropertyDescriptor,$P=Object.keys;function NH(e,t,n){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n.equals(e[i],t[i],i,i,e,t,n))return!1;return!0}function UH(e,t){return Pf(e.getTime(),t.getTime())}function $H(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function VH(e,t){return e===t}function VP(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var c=new Array(i),d=e.entries(),y,x,a=0;(y=d.next())&&!y.done;){for(var w=t.entries(),M=!1,C=0;(x=w.next())&&!x.done;){if(c[C]){C++;continue}var L=y.value,j=x.value;if(n.equals(L[0],j[0],a,C,e,t,n)&&n.equals(L[1],j[1],L[0],j[0],e,t,n)){M=c[C]=!0;break}C++}if(!M)return!1;a++}return!0}var qH=Pf;function GH(e,t,n){var i=$P(e),c=i.length;if($P(t).length!==c)return!1;for(;c-- >0;)if(!iO(e,t,n,i[c]))return!1;return!0}function jp(e,t,n){var i=NP(e),c=i.length;if(NP(t).length!==c)return!1;for(var d,y,x;c-- >0;)if(d=i[c],!iO(e,t,n,d)||(y=UP(e,d),x=UP(t,d),(y||x)&&(!y||!x||y.configurable!==x.configurable||y.enumerable!==x.enumerable||y.writable!==x.writable)))return!1;return!0}function WH(e,t){return Pf(e.valueOf(),t.valueOf())}function HH(e,t){return e.source===t.source&&e.flags===t.flags}function qP(e,t,n){var i=e.size;if(i!==t.size)return!1;if(!i)return!0;for(var c=new Array(i),d=e.values(),y,x;(y=d.next())&&!y.done;){for(var a=t.values(),w=!1,M=0;(x=a.next())&&!x.done;){if(!c[M]&&n.equals(y.value,x.value,y.value,x.value,e,t,n)){w=c[M]=!0;break}M++}if(!w)return!1}return!0}function ZH(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function XH(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function iO(e,t,n,i){return(i===jH||i===FH||i===BH)&&(e.$$typeof||t.$$typeof)?!0:zH(t,i)&&n.equals(e[i],t[i],i,i,e,t,n)}var KH="[object Arguments]",YH="[object Boolean]",JH="[object Date]",QH="[object Error]",eZ="[object Map]",tZ="[object Number]",rZ="[object Object]",nZ="[object RegExp]",iZ="[object Set]",oZ="[object String]",aZ="[object URL]",sZ=Array.isArray,GP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,WP=Object.assign,lZ=Object.prototype.toString.call.bind(Object.prototype.toString);function uZ(e){var t=e.areArraysEqual,n=e.areDatesEqual,i=e.areErrorsEqual,c=e.areFunctionsEqual,d=e.areMapsEqual,y=e.areNumbersEqual,x=e.areObjectsEqual,a=e.arePrimitiveWrappersEqual,w=e.areRegExpsEqual,M=e.areSetsEqual,C=e.areTypedArraysEqual,L=e.areUrlsEqual;return function(W,q,U){if(W===q)return!0;if(W==null||q==null)return!1;var Q=typeof W;if(Q!==typeof q)return!1;if(Q!=="object")return Q==="number"?y(W,q,U):Q==="function"?c(W,q,U):!1;var re=W.constructor;if(re!==q.constructor)return!1;if(re===Object)return x(W,q,U);if(sZ(W))return t(W,q,U);if(GP!=null&&GP(W))return C(W,q,U);if(re===Date)return n(W,q,U);if(re===RegExp)return w(W,q,U);if(re===Map)return d(W,q,U);if(re===Set)return M(W,q,U);var ee=lZ(W);return ee===JH?n(W,q,U):ee===nZ?w(W,q,U):ee===eZ?d(W,q,U):ee===iZ?M(W,q,U):ee===rZ?typeof W.then!="function"&&typeof q.then!="function"&&x(W,q,U):ee===aZ?L(W,q,U):ee===QH?i(W,q,U):ee===KH?x(W,q,U):ee===YH||ee===tZ||ee===oZ?a(W,q,U):!1}}function cZ(e){var t=e.circular,n=e.createCustomConfig,i=e.strict,c={areArraysEqual:i?jp:NH,areDatesEqual:UH,areErrorsEqual:$H,areFunctionsEqual:VH,areMapsEqual:i?jP(VP,jp):VP,areNumbersEqual:qH,areObjectsEqual:i?jp:GH,arePrimitiveWrappersEqual:WH,areRegExpsEqual:HH,areSetsEqual:i?jP(qP,jp):qP,areTypedArraysEqual:i?jp:ZH,areUrlsEqual:XH};if(n&&(c=WP({},c,n(c))),t){var d=X5(c.areArraysEqual),y=X5(c.areMapsEqual),x=X5(c.areObjectsEqual),a=X5(c.areSetsEqual);c=WP({},c,{areArraysEqual:d,areMapsEqual:y,areObjectsEqual:x,areSetsEqual:a})}return c}function hZ(e){return function(t,n,i,c,d,y,x){return e(t,n,x)}}function fZ(e){var t=e.circular,n=e.comparator,i=e.createState,c=e.equals,d=e.strict;if(i)return function(a,w){var M=i(),C=M.cache,L=C===void 0?t?new WeakMap:void 0:C,j=M.meta;return n(a,w,{cache:L,equals:c,meta:j,strict:d})};if(t)return function(a,w){return n(a,w,{cache:new WeakMap,equals:c,meta:void 0,strict:d})};var y={cache:void 0,equals:c,meta:void 0,strict:d};return function(a,w){return n(a,w,y)}}var dZ=Y1();Y1({strict:!0});Y1({circular:!0});Y1({circular:!0,strict:!0});Y1({createInternalComparator:function(){return Pf}});Y1({strict:!0,createInternalComparator:function(){return Pf}});Y1({circular:!0,createInternalComparator:function(){return Pf}});Y1({circular:!0,createInternalComparator:function(){return Pf},strict:!0});function Y1(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,i=e.createInternalComparator,c=e.createState,d=e.strict,y=d===void 0?!1:d,x=cZ(e),a=uZ(x),w=i?i(a):hZ(a);return fZ({circular:n,comparator:a,createState:c,equals:w,strict:y})}function pZ(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function HP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,i=function c(d){n<0&&(n=d),d-n>t?(e(d),n=-1):pZ(c)};requestAnimationFrame(i)}function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function mZ(e){return vZ(e)||_Z(e)||yZ(e)||gZ()}function gZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yZ(e,t){if(e){if(typeof e=="string")return ZP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZP(e,t)}}function ZP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _Z(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vZ(e){if(Array.isArray(e))return e}function xZ(){var e={},t=function(){return null},n=!1,i=function c(d){if(!n){if(Array.isArray(d)){if(!d.length)return;var y=d,x=mZ(y),a=x[0],w=x.slice(1);if(typeof a=="number"){HP(c.bind(null,w),a);return}c(a),HP(c.bind(null,w));return}Zg(d)==="object"&&(e=d,t(e)),typeof d=="function"&&d()}};return{stop:function(){n=!0},start:function(d){n=!1,i(d)},subscribe:function(d){return t=d,function(){t=function(){return null}}}}}function w3(e){"@babel/helpers - typeof";return w3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w3(e)}function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function KP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(n),!0).forEach(function(i){oO(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function oO(e,t,n){return t=bZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bZ(e){var t=wZ(e,"string");return w3(t)==="symbol"?t:String(t)}function wZ(e,t){if(w3(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(w3(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SZ=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(i,c){return i.filter(function(d){return c.includes(d)})})},TZ=function(t){return t},EZ=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Xp=function(t,n){return Object.keys(n).reduce(function(i,c){return KP(KP({},i),{},oO({},c,t(c,n[c])))},{})},YP=function(t,n,i){return t.map(function(c){return"".concat(EZ(c)," ").concat(n,"ms ").concat(i)}).join(",")};function PZ(e,t){return CZ(e)||MZ(e,t)||aO(e,t)||AZ()}function AZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function CZ(e){if(Array.isArray(e))return e}function IZ(e){return DZ(e)||kZ(e)||aO(e)||OZ()}function OZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aO(e,t){if(e){if(typeof e=="string")return Xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xg(e,t)}}function kZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DZ(e){if(Array.isArray(e))return Xg(e)}function Xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var $4=1e-4,sO=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},lO=function(t,n){return t.map(function(i,c){return i*Math.pow(n,c)}).reduce(function(i,c){return i+c})},JP=function(t,n){return function(i){var c=sO(t,n);return lO(c,i)}},LZ=function(t,n){return function(i){var c=sO(t,n),d=[].concat(IZ(c.map(function(y,x){return y*x}).slice(1)),[0]);return lO(d,i)}},QP=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var c=n[0],d=n[1],y=n[2],x=n[3];if(n.length===1)switch(n[0]){case"linear":c=0,d=0,y=1,x=1;break;case"ease":c=.25,d=.1,y=.25,x=1;break;case"ease-in":c=.42,d=0,y=1,x=1;break;case"ease-out":c=.42,d=0,y=.58,x=1;break;case"ease-in-out":c=0,d=0,y=.58,x=1;break;default:{var a=n[0].split("(");if(a[0]==="cubic-bezier"&&a[1].split(")")[0].split(",").length===4){var w=a[1].split(")")[0].split(",").map(function(U){return parseFloat(U)}),M=PZ(w,4);c=M[0],d=M[1],y=M[2],x=M[3]}}}var C=JP(c,y),L=JP(d,x),j=LZ(c,y),W=function(Q){return Q>1?1:Q<0?0:Q},q=function(Q){for(var re=Q>1?1:Q,ee=re,oe=0;oe<8;++oe){var K=C(ee)-re,ne=j(ee);if(Math.abs(K-re)<$4||ne<$4)return L(ee);ee=W(ee-K/ne)}return L(ee)};return q.isStepper=!1,q},RZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,i=n===void 0?100:n,c=t.damping,d=c===void 0?8:c,y=t.dt,x=y===void 0?17:y,a=function(M,C,L){var j=-(M-C)*i,W=L*d,q=L+(j-W)*x/1e3,U=L*x/1e3+M;return Math.abs(U-C)<$4&&Math.abs(q)<$4?[C,0]:[U,q]};return a.isStepper=!0,a.dt=x,a},zZ=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var c=n[0];if(typeof c=="string")switch(c){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QP(c);case"spring":return RZ();default:if(c.split("(")[0]==="cubic-bezier")return QP(c)}return typeof c=="function"?c:null};function S3(e){"@babel/helpers - typeof";return S3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S3(e)}function eA(e){return jZ(e)||FZ(e)||uO(e)||BZ()}function BZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jZ(e){if(Array.isArray(e))return Yg(e)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(i){Kg(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Kg(e,t,n){return t=NZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=UZ(e,"string");return S3(t)==="symbol"?t:String(t)}function UZ(e,t){if(S3(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(S3(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Z(e,t){return GZ(e)||qZ(e,t)||uO(e,t)||VZ()}function VZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uO(e,t){if(e){if(typeof e=="string")return Yg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yg(e,t)}}function Yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function GZ(e){if(Array.isArray(e))return e}var V4=function(t,n,i){return t+(n-t)*i},Jg=function(t){var n=t.from,i=t.to;return n!==i},WZ=function e(t,n,i){var c=Xp(function(d,y){if(Jg(y)){var x=t(y.from,y.to,y.velocity),a=$Z(x,2),w=a[0],M=a[1];return Vo(Vo({},y),{},{from:w,velocity:M})}return y},n);return i<1?Xp(function(d,y){return Jg(y)?Vo(Vo({},y),{},{velocity:V4(y.velocity,c[d].velocity,i),from:V4(y.from,c[d].from,i)}):y},n):e(t,c,i-1)};const HZ=(function(e,t,n,i,c){var d=SZ(e,t),y=d.reduce(function(U,Q){return Vo(Vo({},U),{},Kg({},Q,[e[Q],t[Q]]))},{}),x=d.reduce(function(U,Q){return Vo(Vo({},U),{},Kg({},Q,{from:e[Q],velocity:0,to:t[Q]}))},{}),a=-1,w,M,C=function(){return null},L=function(){return Xp(function(Q,re){return re.from},x)},j=function(){return!Object.values(x).filter(Jg).length},W=function(Q){w||(w=Q);var re=Q-w,ee=re/n.dt;x=WZ(n,x,ee),c(Vo(Vo(Vo({},e),t),L())),w=Q,j()||(a=requestAnimationFrame(C))},q=function(Q){M||(M=Q);var re=(Q-M)/i,ee=Xp(function(K,ne){return V4.apply(void 0,eA(ne).concat([n(re)]))},y);if(c(Vo(Vo(Vo({},e),t),ee)),re<1)a=requestAnimationFrame(C);else{var oe=Xp(function(K,ne){return V4.apply(void 0,eA(ne).concat([n(1)]))},y);c(Vo(Vo(Vo({},e),t),oe))}};return C=n.isStepper?W:q,function(){return requestAnimationFrame(C),function(){cancelAnimationFrame(a)}}});function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}var ZZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XZ(e,t){if(e==null)return{};var n=KZ(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function KZ(e,t){if(e==null)return{};var n={},i=Object.keys(e),c,d;for(d=0;d<i.length;d++)c=i[d],!(t.indexOf(c)>=0)&&(n[c]=e[c]);return n}function P9(e){return eX(e)||QZ(e)||JZ(e)||YZ()}function YZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JZ(e,t){if(e){if(typeof e=="string")return Qg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qg(e,t)}}function QZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eX(e){if(Array.isArray(e))return Qg(e)}function Qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(i){qp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function qp(e,t,n){return t=cO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rX(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cO(i.key),i)}}function nX(e,t,n){return t&&rX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cO(e){var t=iX(e,"string");return ld(t)==="symbol"?t:String(t)}function iX(e,t){if(ld(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(ld(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},ey(e,t)}function aX(e){var t=sX();return function(){var i=q4(e),c;if(t){var d=q4(this).constructor;c=Reflect.construct(i,arguments,d)}else c=i.apply(this,arguments);return ty(this,c)}}function ty(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ry(e)}function ry(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q4(e){return q4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q4(e)}var G1=(function(e){oX(n,e);var t=aX(n);function n(i,c){var d;tX(this,n),d=t.call(this,i,c);var y=d.props,x=y.isActive,a=y.attributeName,w=y.from,M=y.to,C=y.steps,L=y.children,j=y.duration;if(d.handleStyleChange=d.handleStyleChange.bind(ry(d)),d.changeStyle=d.changeStyle.bind(ry(d)),!x||j<=0)return d.state={style:{}},typeof L=="function"&&(d.state={style:M}),ty(d);if(C&&C.length)d.state={style:C[0].style};else if(w){if(typeof L=="function")return d.state={style:w},ty(d);d.state={style:a?qp({},a,w):w}}else d.state={style:{}};return d}return nX(n,[{key:"componentDidMount",value:function(){var c=this.props,d=c.isActive,y=c.canBegin;this.mounted=!0,!(!d||!y)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(c){var d=this.props,y=d.isActive,x=d.canBegin,a=d.attributeName,w=d.shouldReAnimate,M=d.to,C=d.from,L=this.state.style;if(x){if(!y){var j={style:a?qp({},a,M):M};this.state&&L&&(a&&L[a]!==M||!a&&L!==M)&&this.setState(j);return}if(!(dZ(c.to,M)&&c.canBegin&&c.isActive)){var W=!c.canBegin||!c.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var q=W||w?C:c.to;if(this.state&&L){var U={style:a?qp({},a,q):q};(a&&L[a]!==q||!a&&L!==q)&&this.setState(U)}this.runAnimation(zl(zl({},this.props),{},{from:q,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var c=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),c&&c()}},{key:"handleStyleChange",value:function(c){this.changeStyle(c)}},{key:"changeStyle",value:function(c){this.mounted&&this.setState({style:c})}},{key:"runJSAnimation",value:function(c){var d=this,y=c.from,x=c.to,a=c.duration,w=c.easing,M=c.begin,C=c.onAnimationEnd,L=c.onAnimationStart,j=HZ(y,x,zZ(w),a,this.changeStyle),W=function(){d.stopJSAnimation=j()};this.manager.start([L,M,W,a,C])}},{key:"runStepAnimation",value:function(c){var d=this,y=c.steps,x=c.begin,a=c.onAnimationStart,w=y[0],M=w.style,C=w.duration,L=C===void 0?0:C,j=function(q,U,Q){if(Q===0)return q;var re=U.duration,ee=U.easing,oe=ee===void 0?"ease":ee,K=U.style,ne=U.properties,te=U.onAnimationEnd,be=Q>0?y[Q-1]:U,Ce=ne||Object.keys(K);if(typeof oe=="function"||oe==="spring")return[].concat(P9(q),[d.runJSAnimation.bind(d,{from:be.style,to:K,duration:re,easing:oe}),re]);var Ee=YP(Ce,re,oe),je=zl(zl(zl({},be.style),K),{},{transition:Ee});return[].concat(P9(q),[je,re,te]).filter(TZ)};return this.manager.start([a].concat(P9(y.reduce(j,[M,Math.max(L,x)])),[c.onAnimationEnd]))}},{key:"runAnimation",value:function(c){this.manager||(this.manager=xZ());var d=c.begin,y=c.duration,x=c.attributeName,a=c.to,w=c.easing,M=c.onAnimationStart,C=c.onAnimationEnd,L=c.steps,j=c.children,W=this.manager;if(this.unSubscribe=W.subscribe(this.handleStyleChange),typeof w=="function"||typeof j=="function"||w==="spring"){this.runJSAnimation(c);return}if(L.length>1){this.runStepAnimation(c);return}var q=x?qp({},x,a):a,U=YP(Object.keys(q),y,w);W.start([M,d,zl(zl({},q),{},{transition:U}),y,C])}},{key:"render",value:function(){var c=this.props,d=c.children;c.begin;var y=c.duration;c.attributeName,c.easing;var x=c.isActive;c.steps,c.from,c.to,c.canBegin,c.onAnimationEnd,c.shouldReAnimate,c.onAnimationReStart;var a=XZ(c,ZZ),w=Ve.Children.count(d),M=this.state.style;if(typeof d=="function")return d(M);if(!x||w===0||y<=0)return d;var C=function(j){var W=j.props,q=W.style,U=q===void 0?{}:q,Q=W.className,re=Ve.cloneElement(j,zl(zl({},a),{},{style:zl(zl({},U),M),className:Q}));return re};return w===1?C(Ve.Children.only(d)):tt.createElement("div",null,Ve.Children.map(d,function(L){return C(L)}))}}]),n})(Ve.PureComponent);G1.displayName="Animate";G1.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};G1.propTypes={from:jn.oneOfType([jn.object,jn.string]),to:jn.oneOfType([jn.object,jn.string]),attributeName:jn.string,duration:jn.number,begin:jn.number,easing:jn.oneOfType([jn.string,jn.func]),steps:jn.arrayOf(jn.shape({duration:jn.number.isRequired,style:jn.object.isRequired,easing:jn.oneOfType([jn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jn.func]),properties:jn.arrayOf("string"),onAnimationEnd:jn.func})),children:jn.oneOfType([jn.node,jn.func]),isActive:jn.bool,canBegin:jn.bool,onAnimationEnd:jn.func,shouldReAnimate:jn.bool,onAnimationStart:jn.func,onAnimationReStart:jn.func};function T3(e){"@babel/helpers - typeof";return T3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T3(e)}function G4(){return G4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},G4.apply(this,arguments)}function lX(e,t){return fX(e)||hX(e,t)||cX(e,t)||uX()}function uX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cX(e,t){if(e){if(typeof e=="string")return nA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(e,t)}}function nA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function fX(e){if(Array.isArray(e))return e}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(i){dX(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function dX(e,t,n){return t=pX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pX(e){var t=mX(e,"string");return T3(t)=="symbol"?t:t+""}function mX(e,t){if(T3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(T3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aA=function(t,n,i,c,d){var y=Math.min(Math.abs(i)/2,Math.abs(c)/2),x=c>=0?1:-1,a=i>=0?1:-1,w=c>=0&&i>=0||c<0&&i<0?1:0,M;if(y>0&&d instanceof Array){for(var C=[0,0,0,0],L=0,j=4;L<j;L++)C[L]=d[L]>y?y:d[L];M="M".concat(t,",").concat(n+x*C[0]),C[0]>0&&(M+="A ".concat(C[0],",").concat(C[0],",0,0,").concat(w,",").concat(t+a*C[0],",").concat(n)),M+="L ".concat(t+i-a*C[1],",").concat(n),C[1]>0&&(M+="A ".concat(C[1],",").concat(C[1],",0,0,").concat(w,`,
        `).concat(t+i,",").concat(n+x*C[1])),M+="L ".concat(t+i,",").concat(n+c-x*C[2]),C[2]>0&&(M+="A ".concat(C[2],",").concat(C[2],",0,0,").concat(w,`,
        `).concat(t+i-a*C[2],",").concat(n+c)),M+="L ".concat(t+a*C[3],",").concat(n+c),C[3]>0&&(M+="A ".concat(C[3],",").concat(C[3],",0,0,").concat(w,`,
        `).concat(t,",").concat(n+c-x*C[3])),M+="Z"}else if(y>0&&d===+d&&d>0){var W=Math.min(y,d);M="M ".concat(t,",").concat(n+x*W,`
            A `).concat(W,",").concat(W,",0,0,").concat(w,",").concat(t+a*W,",").concat(n,`
            L `).concat(t+i-a*W,",").concat(n,`
            A `).concat(W,",").concat(W,",0,0,").concat(w,",").concat(t+i,",").concat(n+x*W,`
            L `).concat(t+i,",").concat(n+c-x*W,`
            A `).concat(W,",").concat(W,",0,0,").concat(w,",").concat(t+i-a*W,",").concat(n+c,`
            L `).concat(t+a*W,",").concat(n+c,`
            A `).concat(W,",").concat(W,",0,0,").concat(w,",").concat(t,",").concat(n+c-x*W," Z")}else M="M ".concat(t,",").concat(n," h ").concat(i," v ").concat(c," h ").concat(-i," Z");return M},gX=function(t,n){if(!t||!n)return!1;var i=t.x,c=t.y,d=n.x,y=n.y,x=n.width,a=n.height;if(Math.abs(x)>0&&Math.abs(a)>0){var w=Math.min(d,d+x),M=Math.max(d,d+x),C=Math.min(y,y+a),L=Math.max(y,y+a);return i>=w&&i<=M&&c>=C&&c<=L}return!1},yX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M_=function(t){var n=oA(oA({},yX),t),i=Ve.useRef(),c=Ve.useState(-1),d=lX(c,2),y=d[0],x=d[1];Ve.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var oe=i.current.getTotalLength();oe&&x(oe)}catch{}},[]);var a=n.x,w=n.y,M=n.width,C=n.height,L=n.radius,j=n.className,W=n.animationEasing,q=n.animationDuration,U=n.animationBegin,Q=n.isAnimationActive,re=n.isUpdateAnimationActive;if(a!==+a||w!==+w||M!==+M||C!==+C||M===0||C===0)return null;var ee=$n("recharts-rectangle",j);return re?tt.createElement(G1,{canBegin:y>0,from:{width:M,height:C,x:a,y:w},to:{width:M,height:C,x:a,y:w},duration:q,animationEasing:W,isActive:re},function(oe){var K=oe.width,ne=oe.height,te=oe.x,be=oe.y;return tt.createElement(G1,{canBegin:y>0,from:"0px ".concat(y===-1?1:y,"px"),to:"".concat(y,"px 0px"),attributeName:"strokeDasharray",begin:U,duration:q,isActive:Q,easing:W},tt.createElement("path",G4({},Ln(n,!0),{className:ee,d:aA(te,be,K,ne,L),ref:i})))}):tt.createElement("path",G4({},Ln(n,!0),{className:ee,d:aA(a,w,M,C,L)}))};function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ny.apply(this,arguments)}var hO=function(t){var n=t.cx,i=t.cy,c=t.r,d=t.className,y=$n("recharts-dot",d);return n===+n&&i===+i&&c===+c?tt.createElement("circle",ny({},Ln(t,!1),d4(t),{className:y,cx:n,cy:i,r:c})):null};function E3(e){"@babel/helpers - typeof";return E3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E3(e)}var _X=["x","y","top","left","width","height","className"];function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},iy.apply(this,arguments)}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function vX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(i){xX(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xX(e,t,n){return t=bX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bX(e){var t=wX(e,"string");return E3(t)=="symbol"?t:t+""}function wX(e,t){if(E3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(E3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SX(e,t){if(e==null)return{};var n=TX(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function TX(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var EX=function(t,n,i,c,d,y){return"M".concat(t,",").concat(d,"v").concat(c,"M").concat(y,",").concat(n,"h").concat(i)},PX=function(t){var n=t.x,i=n===void 0?0:n,c=t.y,d=c===void 0?0:c,y=t.top,x=y===void 0?0:y,a=t.left,w=a===void 0?0:a,M=t.width,C=M===void 0?0:M,L=t.height,j=L===void 0?0:L,W=t.className,q=SX(t,_X),U=vX({x:i,y:d,top:x,left:w,width:C,height:j},q);return!rr(i)||!rr(d)||!rr(C)||!rr(j)||!rr(x)||!rr(w)?null:tt.createElement("path",iy({},Ln(U,!0),{className:$n("recharts-cross",W),d:EX(i,d,C,j,x,w)}))},A9,lA;function AX(){if(lA)return A9;lA=1;var e=IC(),t=e(Object.getPrototypeOf,Object);return A9=t,A9}var M9,uA;function MX(){if(uA)return M9;uA=1;var e=Uc(),t=AX(),n=$c(),i="[object Object]",c=Function.prototype,d=Object.prototype,y=c.toString,x=d.hasOwnProperty,a=y.call(Object);function w(M){if(!n(M)||e(M)!=i)return!1;var C=t(M);if(C===null)return!0;var L=x.call(C,"constructor")&&C.constructor;return typeof L=="function"&&L instanceof L&&y.call(L)==a}return M9=w,M9}var CX=MX();const IX=vn(CX);var C9,cA;function OX(){if(cA)return C9;cA=1;var e=Uc(),t=$c(),n="[object Boolean]";function i(c){return c===!0||c===!1||t(c)&&e(c)==n}return C9=i,C9}var kX=OX();const DX=vn(kX);function P3(e){"@babel/helpers - typeof";return P3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P3(e)}function W4(){return W4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W4.apply(this,arguments)}function LX(e,t){return FX(e)||BX(e,t)||zX(e,t)||RX()}function RX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){if(e){if(typeof e=="string")return hA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(e,t)}}function hA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function BX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function FX(e){if(Array.isArray(e))return e}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function dA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(i){jX(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function jX(e,t,n){return t=NX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=UX(e,"string");return P3(t)=="symbol"?t:t+""}function UX(e,t){if(P3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(P3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pA=function(t,n,i,c,d){var y=i-c,x;return x="M ".concat(t,",").concat(n),x+="L ".concat(t+i,",").concat(n),x+="L ".concat(t+i-y/2,",").concat(n+d),x+="L ".concat(t+i-y/2-c,",").concat(n+d),x+="L ".concat(t,",").concat(n," Z"),x},$X={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VX=function(t){var n=dA(dA({},$X),t),i=Ve.useRef(),c=Ve.useState(-1),d=LX(c,2),y=d[0],x=d[1];Ve.useEffect(function(){if(i.current&&i.current.getTotalLength)try{var ee=i.current.getTotalLength();ee&&x(ee)}catch{}},[]);var a=n.x,w=n.y,M=n.upperWidth,C=n.lowerWidth,L=n.height,j=n.className,W=n.animationEasing,q=n.animationDuration,U=n.animationBegin,Q=n.isUpdateAnimationActive;if(a!==+a||w!==+w||M!==+M||C!==+C||L!==+L||M===0&&C===0||L===0)return null;var re=$n("recharts-trapezoid",j);return Q?tt.createElement(G1,{canBegin:y>0,from:{upperWidth:0,lowerWidth:0,height:L,x:a,y:w},to:{upperWidth:M,lowerWidth:C,height:L,x:a,y:w},duration:q,animationEasing:W,isActive:Q},function(ee){var oe=ee.upperWidth,K=ee.lowerWidth,ne=ee.height,te=ee.x,be=ee.y;return tt.createElement(G1,{canBegin:y>0,from:"0px ".concat(y===-1?1:y,"px"),to:"".concat(y,"px 0px"),attributeName:"strokeDasharray",begin:U,duration:q,easing:W},tt.createElement("path",W4({},Ln(n,!0),{className:re,d:pA(te,be,oe,K,ne),ref:i})))}):tt.createElement("g",null,tt.createElement("path",W4({},Ln(n,!0),{className:re,d:pA(a,w,M,C,L)})))},qX=["option","shapeType","propTransformer","activeClassName","isActive"];function A3(e){"@babel/helpers - typeof";return A3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A3(e)}function GX(e,t){if(e==null)return{};var n=WX(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function WX(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function H4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(i){HX(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function HX(e,t,n){return t=ZX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZX(e){var t=XX(e,"string");return A3(t)=="symbol"?t:t+""}function XX(e,t){if(A3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(A3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KX(e,t){return H4(H4({},t),e)}function YX(e,t){return e==="symbols"}function gA(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return tt.createElement(M_,n);case"trapezoid":return tt.createElement(VX,n);case"sector":return tt.createElement(nO,n);case"symbols":if(YX(t))return tt.createElement(Wy,n);break;default:return null}}function JX(e){return Ve.isValidElement(e)?e.props:e}function QX(e){var t=e.option,n=e.shapeType,i=e.propTransformer,c=i===void 0?KX:i,d=e.activeClassName,y=d===void 0?"recharts-active-shape":d,x=e.isActive,a=GX(e,qX),w;if(Ve.isValidElement(t))w=Ve.cloneElement(t,H4(H4({},a),JX(t)));else if(fn(t))w=t(a);else if(IX(t)&&!DX(t)){var M=c(t,a);w=tt.createElement(gA,{shapeType:n,elementProps:M})}else{var C=a;w=tt.createElement(gA,{shapeType:n,elementProps:C})}return x?tt.createElement(Mo,{className:y},w):w}function z6(e,t){return t!=null&&"trapezoids"in e.props}function B6(e,t){return t!=null&&"sectors"in e.props}function M3(e,t){return t!=null&&"points"in e.props}function eK(e,t){var n,i,c=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,d=e.y===(t==null||(i=t.labelViewBox)===null||i===void 0?void 0:i.y)||e.y===t.y;return c&&d}function tK(e,t){var n=e.endAngle===t.endAngle,i=e.startAngle===t.startAngle;return n&&i}function rK(e,t){var n=e.x===t.x,i=e.y===t.y,c=e.z===t.z;return n&&i&&c}function nK(e,t){var n;return z6(e,t)?n=eK:B6(e,t)?n=tK:M3(e,t)&&(n=rK),n}function iK(e,t){var n;return z6(e,t)?n="trapezoids":B6(e,t)?n="sectors":M3(e,t)&&(n="points"),n}function oK(e,t){if(z6(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(B6(e,t)){var i;return(i=t.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}return M3(e,t)?t.payload:{}}function aK(e){var t=e.activeTooltipItem,n=e.graphicalItem,i=e.itemData,c=iK(n,t),d=oK(n,t),y=i.filter(function(a,w){var M=T_(d,a),C=n.props[c].filter(function(W){var q=nK(n,t);return q(W,t)}),L=n.props[c].indexOf(C[C.length-1]),j=w===L;return M&&j}),x=i.indexOf(y[y.length-1]);return x}var I9,yA;function sK(){if(yA)return I9;yA=1;var e=Math.ceil,t=Math.max;function n(i,c,d,y){for(var x=-1,a=t(e((c-i)/(d||1)),0),w=Array(a);a--;)w[y?a:++x]=i,i+=d;return w}return I9=n,I9}var O9,_A;function fO(){if(_A)return O9;_A=1;var e=WC(),t=1/0,n=17976931348623157e292;function i(c){if(!c)return c===0?c:0;if(c=e(c),c===t||c===-t){var d=c<0?-1:1;return d*n}return c===c?c:0}return O9=i,O9}var k9,vA;function lK(){if(vA)return k9;vA=1;var e=sK(),t=T6(),n=fO();function i(c){return function(d,y,x){return x&&typeof x!="number"&&t(d,y,x)&&(y=x=void 0),d=n(d),y===void 0?(y=d,d=0):y=n(y),x=x===void 0?d<y?1:-1:n(x),e(d,y,x,c)}}return k9=i,k9}var D9,xA;function uK(){if(xA)return D9;xA=1;var e=lK(),t=e();return D9=t,D9}var cK=uK();const Z4=vn(cK);function C3(e){"@babel/helpers - typeof";return C3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C3(e)}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function wA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(i){dO(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function dO(e,t,n){return t=hK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hK(e){var t=fK(e,"string");return C3(t)=="symbol"?t:t+""}function fK(e,t){if(C3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(C3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dK=["Webkit","Moz","O","ms"],pK=function(t,n){var i=t.replace(/(\w)/,function(d){return d.toUpperCase()}),c=dK.reduce(function(d,y){return wA(wA({},d),{},dO({},y+i,n))},{});return c[t]=n,c};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function X4(){return X4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},X4.apply(this,arguments)}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function L9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(i){xs(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mO(i.key),i)}}function gK(e,t,n){return t&&TA(e.prototype,t),n&&TA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yK(e,t,n){return t=K4(t),_K(e,pO()?Reflect.construct(t,n||[],K4(e).constructor):t.apply(e,n))}function _K(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vK(e)}function vK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pO=function(){return!!e})()}function K4(e){return K4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K4(e)}function xK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oy(e,t)}function oy(e,t){return oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},oy(e,t)}function xs(e,t,n){return t=mO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mO(e){var t=bK(e,"string");return ud(t)=="symbol"?t:t+""}function bK(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(ud(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wK=function(t){var n=t.data,i=t.startIndex,c=t.endIndex,d=t.x,y=t.width,x=t.travellerWidth;if(!n||!n.length)return{};var a=n.length,w=Hp().domain(Z4(0,a)).range([d,d+y-x]),M=w.domain().map(function(C){return w(C)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:w(i),endX:w(c),scale:w,scaleValues:M}},EA=function(t){return t.changedTouches&&!!t.changedTouches.length},cd=(function(e){function t(n){var i;return mK(this,t),i=yK(this,t,[n]),xs(i,"handleDrag",function(c){i.leaveTimer&&(clearTimeout(i.leaveTimer),i.leaveTimer=null),i.state.isTravellerMoving?i.handleTravellerMove(c):i.state.isSlideMoving&&i.handleSlideDrag(c)}),xs(i,"handleTouchMove",function(c){c.changedTouches!=null&&c.changedTouches.length>0&&i.handleDrag(c.changedTouches[0])}),xs(i,"handleDragEnd",function(){i.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var c=i.props,d=c.endIndex,y=c.onDragEnd,x=c.startIndex;y?.({endIndex:d,startIndex:x})}),i.detachDragEndListener()}),xs(i,"handleLeaveWrapper",function(){(i.state.isTravellerMoving||i.state.isSlideMoving)&&(i.leaveTimer=window.setTimeout(i.handleDragEnd,i.props.leaveTimeOut))}),xs(i,"handleEnterSlideOrTraveller",function(){i.setState({isTextActive:!0})}),xs(i,"handleLeaveSlideOrTraveller",function(){i.setState({isTextActive:!1})}),xs(i,"handleSlideDragStart",function(c){var d=EA(c)?c.changedTouches[0]:c;i.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:d.pageX}),i.attachDragEndListener()}),i.travellerDragStartHandlers={startX:i.handleTravellerDragStart.bind(i,"startX"),endX:i.handleTravellerDragStart.bind(i,"endX")},i.state={},i}return xK(t,e),gK(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(i){var c=i.startX,d=i.endX,y=this.state.scaleValues,x=this.props,a=x.gap,w=x.data,M=w.length-1,C=Math.min(c,d),L=Math.max(c,d),j=t.getIndexInRange(y,C),W=t.getIndexInRange(y,L);return{startIndex:j-j%a,endIndex:W===M?M:W-W%a}}},{key:"getTextOfTick",value:function(i){var c=this.props,d=c.data,y=c.tickFormatter,x=c.dataKey,a=Nu(d[i],x,i);return fn(y)?y(a,i):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(i){var c=this.state,d=c.slideMoveStartX,y=c.startX,x=c.endX,a=this.props,w=a.x,M=a.width,C=a.travellerWidth,L=a.startIndex,j=a.endIndex,W=a.onChange,q=i.pageX-d;q>0?q=Math.min(q,w+M-C-x,w+M-C-y):q<0&&(q=Math.max(q,w-y,w-x));var U=this.getIndex({startX:y+q,endX:x+q});(U.startIndex!==L||U.endIndex!==j)&&W&&W(U),this.setState({startX:y+q,endX:x+q,slideMoveStartX:i.pageX})}},{key:"handleTravellerDragStart",value:function(i,c){var d=EA(c)?c.changedTouches[0]:c;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:i,brushMoveStartX:d.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(i){var c=this.state,d=c.brushMoveStartX,y=c.movingTravellerId,x=c.endX,a=c.startX,w=this.state[y],M=this.props,C=M.x,L=M.width,j=M.travellerWidth,W=M.onChange,q=M.gap,U=M.data,Q={startX:this.state.startX,endX:this.state.endX},re=i.pageX-d;re>0?re=Math.min(re,C+L-j-w):re<0&&(re=Math.max(re,C-w)),Q[y]=w+re;var ee=this.getIndex(Q),oe=ee.startIndex,K=ee.endIndex,ne=function(){var be=U.length-1;return y==="startX"&&(x>a?oe%q===0:K%q===0)||x<a&&K===be||y==="endX"&&(x>a?K%q===0:oe%q===0)||x>a&&K===be};this.setState(xs(xs({},y,w+re),"brushMoveStartX",i.pageX),function(){W&&ne()&&W(ee)})}},{key:"handleTravellerMoveKeyboard",value:function(i,c){var d=this,y=this.state,x=y.scaleValues,a=y.startX,w=y.endX,M=this.state[c],C=x.indexOf(M);if(C!==-1){var L=C+i;if(!(L===-1||L>=x.length)){var j=x[L];c==="startX"&&j>=w||c==="endX"&&j<=a||this.setState(xs({},c,j),function(){d.props.onChange(d.getIndex({startX:d.state.startX,endX:d.state.endX}))})}}}},{key:"renderBackground",value:function(){var i=this.props,c=i.x,d=i.y,y=i.width,x=i.height,a=i.fill,w=i.stroke;return tt.createElement("rect",{stroke:w,fill:a,x:c,y:d,width:y,height:x})}},{key:"renderPanorama",value:function(){var i=this.props,c=i.x,d=i.y,y=i.width,x=i.height,a=i.data,w=i.children,M=i.padding,C=Ve.Children.only(w);return C?tt.cloneElement(C,{x:c,y:d,width:y,height:x,margin:M,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(i,c){var d,y,x=this,a=this.props,w=a.y,M=a.travellerWidth,C=a.height,L=a.traveller,j=a.ariaLabel,W=a.data,q=a.startIndex,U=a.endIndex,Q=Math.max(i,this.props.x),re=L9(L9({},Ln(this.props,!1)),{},{x:Q,y:w,width:M,height:C}),ee=j||"Min value: ".concat((d=W[q])===null||d===void 0?void 0:d.name,", Max value: ").concat((y=W[U])===null||y===void 0?void 0:y.name);return tt.createElement(Mo,{tabIndex:0,role:"slider","aria-label":ee,"aria-valuenow":i,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[c],onTouchStart:this.travellerDragStartHandlers[c],onKeyDown:function(K){["ArrowLeft","ArrowRight"].includes(K.key)&&(K.preventDefault(),K.stopPropagation(),x.handleTravellerMoveKeyboard(K.key==="ArrowRight"?1:-1,c))},onFocus:function(){x.setState({isTravellerFocused:!0})},onBlur:function(){x.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(L,re))}},{key:"renderSlide",value:function(i,c){var d=this.props,y=d.y,x=d.height,a=d.stroke,w=d.travellerWidth,M=Math.min(i,c)+w,C=Math.max(Math.abs(c-i)-w,0);return tt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:M,y,width:C,height:x})}},{key:"renderText",value:function(){var i=this.props,c=i.startIndex,d=i.endIndex,y=i.y,x=i.height,a=i.travellerWidth,w=i.stroke,M=this.state,C=M.startX,L=M.endX,j=5,W={pointerEvents:"none",fill:w};return tt.createElement(Mo,{className:"recharts-brush-texts"},tt.createElement(E4,X4({textAnchor:"end",verticalAnchor:"middle",x:Math.min(C,L)-j,y:y+x/2},W),this.getTextOfTick(c)),tt.createElement(E4,X4({textAnchor:"start",verticalAnchor:"middle",x:Math.max(C,L)+a+j,y:y+x/2},W),this.getTextOfTick(d)))}},{key:"render",value:function(){var i=this.props,c=i.data,d=i.className,y=i.children,x=i.x,a=i.y,w=i.width,M=i.height,C=i.alwaysShowText,L=this.state,j=L.startX,W=L.endX,q=L.isTextActive,U=L.isSlideMoving,Q=L.isTravellerMoving,re=L.isTravellerFocused;if(!c||!c.length||!rr(x)||!rr(a)||!rr(w)||!rr(M)||w<=0||M<=0)return null;var ee=$n("recharts-brush",d),oe=tt.Children.count(y)===1,K=pK("userSelect","none");return tt.createElement(Mo,{className:ee,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:K},this.renderBackground(),oe&&this.renderPanorama(),this.renderSlide(j,W),this.renderTravellerLayer(j,"startX"),this.renderTravellerLayer(W,"endX"),(q||U||Q||re||C)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(i){var c=i.x,d=i.y,y=i.width,x=i.height,a=i.stroke,w=Math.floor(d+x/2)-1;return tt.createElement(tt.Fragment,null,tt.createElement("rect",{x:c,y:d,width:y,height:x,fill:a,stroke:"none"}),tt.createElement("line",{x1:c+1,y1:w,x2:c+y-1,y2:w,fill:"none",stroke:"#fff"}),tt.createElement("line",{x1:c+1,y1:w+2,x2:c+y-1,y2:w+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(i,c){var d;return tt.isValidElement(i)?d=tt.cloneElement(i,c):fn(i)?d=i(c):d=t.renderDefaultTraveller(c),d}},{key:"getDerivedStateFromProps",value:function(i,c){var d=i.data,y=i.width,x=i.x,a=i.travellerWidth,w=i.updateId,M=i.startIndex,C=i.endIndex;if(d!==c.prevData||w!==c.prevUpdateId)return L9({prevData:d,prevTravellerWidth:a,prevUpdateId:w,prevX:x,prevWidth:y},d&&d.length?wK({data:d,width:y,x,travellerWidth:a,startIndex:M,endIndex:C}):{scale:null,scaleValues:null});if(c.scale&&(y!==c.prevWidth||x!==c.prevX||a!==c.prevTravellerWidth)){c.scale.range([x,x+y-a]);var L=c.scale.domain().map(function(j){return c.scale(j)});return{prevData:d,prevTravellerWidth:a,prevUpdateId:w,prevX:x,prevWidth:y,startX:c.scale(i.startIndex),endX:c.scale(i.endIndex),scaleValues:L}}return null}},{key:"getIndexInRange",value:function(i,c){for(var d=i.length,y=0,x=d-1;x-y>1;){var a=Math.floor((y+x)/2);i[a]>c?x=a:y=a}return c>=i[x]?x:y}}])})(Ve.PureComponent);xs(cd,"displayName","Brush");xs(cd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var R9,PA;function SK(){if(PA)return R9;PA=1;var e=Qy();function t(n,i){var c;return e(n,function(d,y,x){return c=i(d,y,x),!c}),!!c}return R9=t,R9}var z9,AA;function TK(){if(AA)return z9;AA=1;var e=SC(),t=Z1(),n=SK(),i=es(),c=T6();function d(y,x,a){var w=i(y)?e:n;return a&&c(y,x,a)&&(x=void 0),w(y,t(x,3))}return z9=d,z9}var EK=TK();const PK=vn(EK);var Fu=function(t,n){var i=t.alwaysShow,c=t.ifOverflow;return i&&(c="extendDomain"),c===n},B9,MA;function AK(){if(MA)return B9;MA=1;var e=UC();function t(n,i,c){i=="__proto__"&&e?e(n,i,{configurable:!0,enumerable:!0,value:c,writable:!0}):n[i]=c}return B9=t,B9}var F9,CA;function MK(){if(CA)return F9;CA=1;var e=AK(),t=jC(),n=Z1();function i(c,d){var y={};return d=n(d,3),t(c,function(x,a,w){e(y,a,d(x,a,w))}),y}return F9=i,F9}var CK=MK();const IK=vn(CK);var j9,IA;function OK(){if(IA)return j9;IA=1;function e(t,n){for(var i=-1,c=t==null?0:t.length;++i<c;)if(!n(t[i],i,t))return!1;return!0}return j9=e,j9}var N9,OA;function kK(){if(OA)return N9;OA=1;var e=Qy();function t(n,i){var c=!0;return e(n,function(d,y,x){return c=!!i(d,y,x),c}),c}return N9=t,N9}var U9,kA;function DK(){if(kA)return U9;kA=1;var e=OK(),t=kK(),n=Z1(),i=es(),c=T6();function d(y,x,a){var w=i(y)?e:t;return a&&c(y,x,a)&&(x=void 0),w(y,n(x,3))}return U9=d,U9}var LK=DK();const gO=vn(LK);var RK=["x","y"];function I3(e){"@babel/helpers - typeof";return I3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I3(e)}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ay.apply(this,arguments)}function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(i){zK(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zK(e,t,n){return t=BK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BK(e){var t=FK(e,"string");return I3(t)=="symbol"?t:t+""}function FK(e,t){if(I3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(I3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jK(e,t){if(e==null)return{};var n=NK(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function NK(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function UK(e,t){var n=e.x,i=e.y,c=jK(e,RK),d="".concat(n),y=parseInt(d,10),x="".concat(i),a=parseInt(x,10),w="".concat(t.height||c.height),M=parseInt(w,10),C="".concat(t.width||c.width),L=parseInt(C,10);return Np(Np(Np(Np(Np({},t),c),y?{x:y}:{}),a?{y:a}:{}),{},{height:M,width:L,name:t.name,radius:t.radius})}function LA(e){return tt.createElement(QX,ay({shapeType:"rectangle",propTransformer:UK,activeClassName:"recharts-active-bar"},e))}var $K=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(i,c){if(typeof t=="number")return t;var d=typeof i=="number";return d?t(i,c):(d||_f(),n)}},VK=["value","background"],yO;function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function qK(e,t){if(e==null)return{};var n=GK(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function GK(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function Y4(){return Y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Y4.apply(this,arguments)}function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(i){U1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function WK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,vO(i.key),i)}}function HK(e,t,n){return t&&zA(e.prototype,t),n&&zA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZK(e,t,n){return t=J4(t),XK(e,_O()?Reflect.construct(t,n||[],J4(e).constructor):t.apply(e,n))}function XK(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KK(e)}function KK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_O=function(){return!!e})()}function J4(e){return J4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J4(e)}function YK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sy(e,t)}function sy(e,t){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},sy(e,t)}function U1(e,t,n){return t=vO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vO(e){var t=JK(e,"string");return hd(t)=="symbol"?t:t+""}function JK(e,t){if(hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(hd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Md=(function(e){function t(){var n;WK(this,t);for(var i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return n=ZK(this,t,[].concat(c)),U1(n,"state",{isAnimationFinished:!1}),U1(n,"id",y6("recharts-bar-")),U1(n,"handleAnimationEnd",function(){var y=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),y&&y()}),U1(n,"handleAnimationStart",function(){var y=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),y&&y()}),n}return YK(t,e),HK(t,[{key:"renderRectanglesStatically",value:function(i){var c=this,d=this.props,y=d.shape,x=d.dataKey,a=d.activeIndex,w=d.activeBar,M=Ln(this.props,!1);return i&&i.map(function(C,L){var j=L===a,W=j?w:y,q=to(to(to({},M),C),{},{isActive:j,option:W,index:L,dataKey:x,onAnimationStart:c.handleAnimationStart,onAnimationEnd:c.handleAnimationEnd});return tt.createElement(Mo,Y4({className:"recharts-bar-rectangle"},p4(c.props,C,L),{key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(L)}),tt.createElement(LA,q))})}},{key:"renderRectanglesWithAnimation",value:function(){var i=this,c=this.props,d=c.data,y=c.layout,x=c.isAnimationActive,a=c.animationBegin,w=c.animationDuration,M=c.animationEasing,C=c.animationId,L=this.state.prevData;return tt.createElement(G1,{begin:a,duration:w,isActive:x,easing:M,from:{t:0},to:{t:1},key:"bar-".concat(C),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var W=j.t,q=d.map(function(U,Q){var re=L&&L[Q];if(re){var ee=k0(re.x,U.x),oe=k0(re.y,U.y),K=k0(re.width,U.width),ne=k0(re.height,U.height);return to(to({},U),{},{x:ee(W),y:oe(W),width:K(W),height:ne(W)})}if(y==="horizontal"){var te=k0(0,U.height),be=te(W);return to(to({},U),{},{y:U.y+U.height-be,height:be})}var Ce=k0(0,U.width),Ee=Ce(W);return to(to({},U),{},{width:Ee})});return tt.createElement(Mo,null,i.renderRectanglesStatically(q))})}},{key:"renderRectangles",value:function(){var i=this.props,c=i.data,d=i.isAnimationActive,y=this.state.prevData;return d&&c&&c.length&&(!y||!T_(y,c))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(c)}},{key:"renderBackground",value:function(){var i=this,c=this.props,d=c.data,y=c.dataKey,x=c.activeIndex,a=Ln(this.props.background,!1);return d.map(function(w,M){w.value;var C=w.background,L=qK(w,VK);if(!C)return null;var j=to(to(to(to(to({},L),{},{fill:"#eee"},C),a),p4(i.props,w,M)),{},{onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd,dataKey:y,index:M,className:"recharts-bar-background-rectangle"});return tt.createElement(LA,Y4({key:"background-bar-".concat(M),option:i.props.background,isActive:M===x},j))})}},{key:"renderErrorBar",value:function(i,c){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var d=this.props,y=d.data,x=d.xAxis,a=d.yAxis,w=d.layout,M=d.children,C=Vl(M,R6);if(!C)return null;var L=w==="vertical"?y[0].height/2:y[0].width/2,j=function(U,Q){var re=Array.isArray(U.value)?U.value[1]:U.value;return{x:U.x,y:U.y,value:re,errorVal:Nu(U,Q)}},W={clipPath:i?"url(#clipPath-".concat(c,")"):null};return tt.createElement(Mo,W,C.map(function(q){return tt.cloneElement(q,{key:"error-bar-".concat(c,"-").concat(q.props.dataKey),data:y,xAxis:x,yAxis:a,layout:w,offset:L,dataPointFormatter:j})}))}},{key:"render",value:function(){var i=this.props,c=i.hide,d=i.data,y=i.className,x=i.xAxis,a=i.yAxis,w=i.left,M=i.top,C=i.width,L=i.height,j=i.isAnimationActive,W=i.background,q=i.id;if(c||!d||!d.length)return null;var U=this.state.isAnimationFinished,Q=$n("recharts-bar",y),re=x&&x.allowDataOverflow,ee=a&&a.allowDataOverflow,oe=re||ee,K=Un(q)?this.id:q;return tt.createElement(Mo,{className:Q},re||ee?tt.createElement("defs",null,tt.createElement("clipPath",{id:"clipPath-".concat(K)},tt.createElement("rect",{x:re?w:w-C/2,y:ee?M:M-L/2,width:re?C:C*2,height:ee?L:L*2}))):null,tt.createElement(Mo,{className:"recharts-bar-rectangles",clipPath:oe?"url(#clipPath-".concat(K,")"):null},W?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(oe,K),(!j||U)&&df.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(i,c){return i.animationId!==c.prevAnimationId?{prevAnimationId:i.animationId,curData:i.data,prevData:c.curData}:i.data!==c.curData?{curData:i.data}:null}}])})(Ve.PureComponent);yO=Md;U1(Md,"displayName","Bar");U1(Md,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!N3.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});U1(Md,"getComposedData",function(e){var t=e.props,n=e.item,i=e.barPosition,c=e.bandSize,d=e.xAxis,y=e.yAxis,x=e.xAxisTicks,a=e.yAxisTicks,w=e.stackedData,M=e.dataStartIndex,C=e.displayedData,L=e.offset,j=bW(i,n);if(!j)return null;var W=t.layout,q=n.type.defaultProps,U=q!==void 0?to(to({},q),n.props):n.props,Q=U.dataKey,re=U.children,ee=U.minPointSize,oe=W==="horizontal"?y:d,K=w?oe.scale.domain():null,ne=CW({numericAxis:oe}),te=Vl(re,ZC),be=C.map(function(Ce,Ee){var je,Ye,Ge,Te,Se,ze;w?je=wW(w[M+Ee],K):(je=Nu(Ce,Q),Array.isArray(je)||(je=[ne,je]));var Ue=$K(ee,yO.defaultProps.minPointSize)(je[1],Ee);if(W==="horizontal"){var ke,$e=[y.scale(je[0]),y.scale(je[1])],ft=$e[0],Pe=$e[1];Ye=bP({axis:d,ticks:x,bandSize:c,offset:j.offset,entry:Ce,index:Ee}),Ge=(ke=Pe??ft)!==null&&ke!==void 0?ke:void 0,Te=j.size;var We=ft-Pe;if(Se=Number.isNaN(We)?0:We,ze={x:Ye,y:y.y,width:Te,height:y.height},Math.abs(Ue)>0&&Math.abs(Se)<Math.abs(Ue)){var At=$l(Se||Ue)*(Math.abs(Ue)-Math.abs(Se));Ge-=At,Se+=At}}else{var zt=[d.scale(je[0]),d.scale(je[1])],nr=zt[0],fr=zt[1];if(Ye=nr,Ge=bP({axis:y,ticks:a,bandSize:c,offset:j.offset,entry:Ce,index:Ee}),Te=fr-nr,Se=j.size,ze={x:d.x,y:Ge,width:d.width,height:Se},Math.abs(Ue)>0&&Math.abs(Te)<Math.abs(Ue)){var wr=$l(Te||Ue)*(Math.abs(Ue)-Math.abs(Te));Te+=wr}}return to(to(to({},Ce),{},{x:Ye,y:Ge,width:Te,height:Se,value:w?je:je[1],payload:Ce,background:ze},te&&te[Ee]&&te[Ee].props),{},{tooltipPayload:[eO(n,Ce)],tooltipPosition:{x:Ye+Te/2,y:Ge+Se/2}})});return to({data:be,layout:W},L)});function O3(e){"@babel/helpers - typeof";return O3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O3(e)}function QK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xO(i.key),i)}}function eY(e,t,n){return t&&BA(e.prototype,t),n&&BA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(i){F6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function F6(e,t,n){return t=xO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xO(e){var t=tY(e,"string");return O3(t)=="symbol"?t:t+""}function tY(e,t){if(O3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(O3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rY=function(t,n,i,c,d){var y=t.width,x=t.height,a=t.layout,w=t.children,M=Object.keys(n),C={left:i.left,leftMirror:i.left,right:y-i.right,rightMirror:y-i.right,top:i.top,topMirror:i.top,bottom:x-i.bottom,bottomMirror:x-i.bottom},L=!!bs(w,Md);return M.reduce(function(j,W){var q=n[W],U=q.orientation,Q=q.domain,re=q.padding,ee=re===void 0?{}:re,oe=q.mirror,K=q.reversed,ne="".concat(U).concat(oe?"Mirror":""),te,be,Ce,Ee,je;if(q.type==="number"&&(q.padding==="gap"||q.padding==="no-gap")){var Ye=Q[1]-Q[0],Ge=1/0,Te=q.categoricalDomain.sort(aF);if(Te.forEach(function(zt,nr){nr>0&&(Ge=Math.min((zt||0)-(Te[nr-1]||0),Ge))}),Number.isFinite(Ge)){var Se=Ge/Ye,ze=q.layout==="vertical"?i.height:i.width;if(q.padding==="gap"&&(te=Se*ze/2),q.padding==="no-gap"){var Ue=gf(t.barCategoryGap,Se*ze),ke=Se*ze/2;te=ke-Ue-(ke-Ue)/ze*Ue}}}c==="xAxis"?be=[i.left+(ee.left||0)+(te||0),i.left+i.width-(ee.right||0)-(te||0)]:c==="yAxis"?be=a==="horizontal"?[i.top+i.height-(ee.bottom||0),i.top+(ee.top||0)]:[i.top+(ee.top||0)+(te||0),i.top+i.height-(ee.bottom||0)-(te||0)]:be=q.range,K&&(be=[be[1],be[0]]);var $e=vW(q,d,L),ft=$e.scale,Pe=$e.realScaleType;ft.domain(Q).range(be),xW(ft);var We=MW(ft,Fl(Fl({},q),{},{realScaleType:Pe}));c==="xAxis"?(je=U==="top"&&!oe||U==="bottom"&&oe,Ce=i.left,Ee=C[ne]-je*q.height):c==="yAxis"&&(je=U==="left"&&!oe||U==="right"&&oe,Ce=C[ne]-je*q.width,Ee=i.top);var At=Fl(Fl(Fl({},q),We),{},{realScaleType:Pe,x:Ce,y:Ee,scale:ft,width:c==="xAxis"?i.width:q.width,height:c==="yAxis"?i.height:q.height});return At.bandSize=j4(At,We),!q.hide&&c==="xAxis"?C[ne]+=(je?-1:1)*At.height:q.hide||(C[ne]+=(je?-1:1)*At.width),Fl(Fl({},j),{},F6({},W,At))},{})},bO=function(t,n){var i=t.x,c=t.y,d=n.x,y=n.y;return{x:Math.min(i,d),y:Math.min(c,y),width:Math.abs(d-i),height:Math.abs(y-c)}},nY=function(t){var n=t.x1,i=t.y1,c=t.x2,d=t.y2;return bO({x:n,y:i},{x:c,y:d})},wO=(function(){function e(t){QK(this,e),this.scale=t}return eY(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=i.bandAware,d=i.position;if(n!==void 0){if(d)switch(d){case"start":return this.scale(n);case"middle":{var y=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+y}case"end":{var x=this.bandwidth?this.bandwidth():0;return this.scale(n)+x}default:return this.scale(n)}if(c){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}return this.scale(n)}}},{key:"isInRange",value:function(n){var i=this.range(),c=i[0],d=i[i.length-1];return c<=d?n>=c&&n<=d:n>=d&&n<=c}}],[{key:"create",value:function(n){return new e(n)}}])})();F6(wO,"EPS",1e-4);var C_=function(t){var n=Object.keys(t).reduce(function(i,c){return Fl(Fl({},i),{},F6({},c,wO.create(t[c])))},{});return Fl(Fl({},n),{},{apply:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=d.bandAware,x=d.position;return IK(c,function(a,w){return n[w].apply(a,{bandAware:y,position:x})})},isInRange:function(c){return gO(c,function(d,y){return n[y].isInRange(d)})}})};function iY(e){return(e%180+180)%180}var oY=function(t){var n=t.width,i=t.height,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=iY(c),y=d*Math.PI/180,x=Math.atan(i/n),a=y>x&&y<Math.PI-x?i/Math.sin(y):n/Math.cos(y);return Math.abs(a)},$9,jA;function aY(){if(jA)return $9;jA=1;var e=Z1(),t=j3(),n=w6();function i(c){return function(d,y,x){var a=Object(d);if(!t(d)){var w=e(y,3);d=n(d),y=function(C){return w(a[C],C,a)}}var M=c(d,y,x);return M>-1?a[w?d[M]:M]:void 0}}return $9=i,$9}var V9,NA;function sY(){if(NA)return V9;NA=1;var e=fO();function t(n){var i=e(n),c=i%1;return i===i?c?i-c:i:0}return V9=t,V9}var q9,UA;function lY(){if(UA)return q9;UA=1;var e=LC(),t=Z1(),n=sY(),i=Math.max;function c(d,y,x){var a=d==null?0:d.length;if(!a)return-1;var w=x==null?0:n(x);return w<0&&(w=i(a+w,0)),e(d,t(y,3),w)}return q9=c,q9}var G9,$A;function uY(){if($A)return G9;$A=1;var e=aY(),t=lY(),n=e(t);return G9=n,G9}var cY=uY();const hY=vn(cY);var fY=KM();const dY=vn(fY);var pY=dY(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),I_=Ve.createContext(void 0),O_=Ve.createContext(void 0),SO=Ve.createContext(void 0),TO=Ve.createContext({}),EO=Ve.createContext(void 0),PO=Ve.createContext(0),AO=Ve.createContext(0),VA=function(t){var n=t.state,i=n.xAxisMap,c=n.yAxisMap,d=n.offset,y=t.clipPathId,x=t.children,a=t.width,w=t.height,M=pY(d);return tt.createElement(I_.Provider,{value:i},tt.createElement(O_.Provider,{value:c},tt.createElement(TO.Provider,{value:d},tt.createElement(SO.Provider,{value:M},tt.createElement(EO.Provider,{value:y},tt.createElement(PO.Provider,{value:w},tt.createElement(AO.Provider,{value:a},x)))))))},mY=function(){return Ve.useContext(EO)},MO=function(t){var n=Ve.useContext(I_);n==null&&_f();var i=n[t];return i==null&&_f(),i},gY=function(){var t=Ve.useContext(I_);return j1(t)},yY=function(){var t=Ve.useContext(O_),n=hY(t,function(i){return gO(i.domain,Number.isFinite)});return n||j1(t)},CO=function(t){var n=Ve.useContext(O_);n==null&&_f();var i=n[t];return i==null&&_f(),i},_Y=function(){var t=Ve.useContext(SO);return t},vY=function(){return Ve.useContext(TO)},k_=function(){return Ve.useContext(AO)},D_=function(){return Ve.useContext(PO)};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function xY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bY(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,OO(i.key),i)}}function wY(e,t,n){return t&&bY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SY(e,t,n){return t=Q4(t),TY(e,IO()?Reflect.construct(t,n||[],Q4(e).constructor):t.apply(e,n))}function TY(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EY(e)}function EY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IO=function(){return!!e})()}function Q4(e){return Q4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q4(e)}function PY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},ly(e,t)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(i){L_(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function L_(e,t,n){return t=OO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OO(e){var t=AY(e,"string");return fd(t)=="symbol"?t:t+""}function AY(e,t){if(fd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(fd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function MY(e,t){return kY(e)||OY(e,t)||IY(e,t)||CY()}function CY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(e,t){if(e){if(typeof e=="string")return WA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(e,t)}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function OY(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function kY(e){if(Array.isArray(e))return e}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uy.apply(this,arguments)}var DY=function(t,n){var i;return tt.isValidElement(t)?i=tt.cloneElement(t,n):fn(t)?i=t(n):i=tt.createElement("line",uy({},n,{className:"recharts-reference-line-line"})),i},LY=function(t,n,i,c,d,y,x,a,w){var M=d.x,C=d.y,L=d.width,j=d.height;if(i){var W=w.y,q=t.y.apply(W,{position:y});if(Fu(w,"discard")&&!t.y.isInRange(q))return null;var U=[{x:M+L,y:q},{x:M,y:q}];return a==="left"?U.reverse():U}if(n){var Q=w.x,re=t.x.apply(Q,{position:y});if(Fu(w,"discard")&&!t.x.isInRange(re))return null;var ee=[{x:re,y:C+j},{x:re,y:C}];return x==="top"?ee.reverse():ee}if(c){var oe=w.segment,K=oe.map(function(ne){return t.apply(ne,{position:y})});return Fu(w,"discard")&&PK(K,function(ne){return!t.isInRange(ne)})?null:K}return null};function RY(e){var t=e.x,n=e.y,i=e.segment,c=e.xAxisId,d=e.yAxisId,y=e.shape,x=e.className,a=e.alwaysShow,w=mY(),M=MO(c),C=CO(d),L=_Y();if(!w||!L)return null;zc(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=C_({x:M.scale,y:C.scale}),W=mo(t),q=mo(n),U=i&&i.length===2,Q=LY(j,W,q,U,L,e.position,M.orientation,C.orientation,e);if(!Q)return null;var re=MY(Q,2),ee=re[0],oe=ee.x,K=ee.y,ne=re[1],te=ne.x,be=ne.y,Ce=Fu(e,"hidden")?"url(#".concat(w,")"):void 0,Ee=GA(GA({clipPath:Ce},Ln(e,!0)),{},{x1:oe,y1:K,x2:te,y2:be});return tt.createElement(Mo,{className:$n("recharts-reference-line",x)},DY(y,Ee),fa.renderCallByParent(e,nY({x1:oe,y1:K,x2:te,y2:be})))}var R_=(function(e){function t(){return xY(this,t),SY(this,t,arguments)}return PY(t,e),wY(t,[{key:"render",value:function(){return tt.createElement(RY,this.props)}}])})(tt.Component);L_(R_,"displayName","ReferenceLine");L_(R_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cy.apply(this,arguments)}function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function ZA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(i){j6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BY(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,DO(i.key),i)}}function FY(e,t,n){return t&&BY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jY(e,t,n){return t=e6(t),NY(e,kO()?Reflect.construct(t,n||[],e6(e).constructor):t.apply(e,n))}function NY(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UY(e)}function UY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kO=function(){return!!e})()}function e6(e){return e6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e6(e)}function $Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hy(e,t)}function hy(e,t){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},hy(e,t)}function j6(e,t,n){return t=DO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DO(e){var t=VY(e,"string");return dd(t)=="symbol"?t:t+""}function VY(e,t){if(dd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(dd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qY=function(t){var n=t.x,i=t.y,c=t.xAxis,d=t.yAxis,y=C_({x:c.scale,y:d.scale}),x=y.apply({x:n,y:i},{bandAware:!0});return Fu(t,"discard")&&!y.isInRange(x)?null:x},N6=(function(e){function t(){return zY(this,t),jY(this,t,arguments)}return $Y(t,e),FY(t,[{key:"render",value:function(){var i=this.props,c=i.x,d=i.y,y=i.r,x=i.alwaysShow,a=i.clipPathId,w=mo(c),M=mo(d);if(zc(x===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!w||!M)return null;var C=qY(this.props);if(!C)return null;var L=C.x,j=C.y,W=this.props,q=W.shape,U=W.className,Q=Fu(this.props,"hidden")?"url(#".concat(a,")"):void 0,re=ZA(ZA({clipPath:Q},Ln(this.props,!0)),{},{cx:L,cy:j});return tt.createElement(Mo,{className:$n("recharts-reference-dot",U)},t.renderDot(q,re),fa.renderCallByParent(this.props,{x:L-y,y:j-y,width:2*y,height:2*y}))}}])})(tt.Component);j6(N6,"displayName","ReferenceDot");j6(N6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});j6(N6,"renderDot",function(e,t){var n;return tt.isValidElement(e)?n=tt.cloneElement(e,t):fn(e)?n=e(t):n=tt.createElement(hO,cy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fy.apply(this,arguments)}function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function KA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(i){U6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function GY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WY(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,RO(i.key),i)}}function HY(e,t,n){return t&&WY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZY(e,t,n){return t=t6(t),XY(e,LO()?Reflect.construct(t,n||[],t6(e).constructor):t.apply(e,n))}function XY(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KY(e)}function KY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LO=function(){return!!e})()}function t6(e){return t6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t6(e)}function YY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},dy(e,t)}function U6(e,t,n){return t=RO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RO(e){var t=JY(e,"string");return pd(t)=="symbol"?t:t+""}function JY(e,t){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(pd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QY=function(t,n,i,c,d){var y=d.x1,x=d.x2,a=d.y1,w=d.y2,M=d.xAxis,C=d.yAxis;if(!M||!C)return null;var L=C_({x:M.scale,y:C.scale}),j={x:t?L.x.apply(y,{position:"start"}):L.x.rangeMin,y:i?L.y.apply(a,{position:"start"}):L.y.rangeMin},W={x:n?L.x.apply(x,{position:"end"}):L.x.rangeMax,y:c?L.y.apply(w,{position:"end"}):L.y.rangeMax};return Fu(d,"discard")&&(!L.isInRange(j)||!L.isInRange(W))?null:bO(j,W)},$6=(function(e){function t(){return GY(this,t),ZY(this,t,arguments)}return YY(t,e),HY(t,[{key:"render",value:function(){var i=this.props,c=i.x1,d=i.x2,y=i.y1,x=i.y2,a=i.className,w=i.alwaysShow,M=i.clipPathId;zc(w===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var C=mo(c),L=mo(d),j=mo(y),W=mo(x),q=this.props.shape;if(!C&&!L&&!j&&!W&&!q)return null;var U=QY(C,L,j,W,this.props);if(!U&&!q)return null;var Q=Fu(this.props,"hidden")?"url(#".concat(M,")"):void 0;return tt.createElement(Mo,{className:$n("recharts-reference-area",a)},t.renderRect(q,KA(KA({clipPath:Q},Ln(this.props,!0)),U)),fa.renderCallByParent(this.props,U))}}])})(tt.Component);U6($6,"displayName","ReferenceArea");U6($6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});U6($6,"renderRect",function(e,t){var n;return tt.isValidElement(e)?n=tt.cloneElement(e,t):fn(e)?n=e(t):n=tt.createElement(M_,fy({},t,{className:"recharts-reference-area-rect"})),n});function zO(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],c=0;c<e.length;c+=t)i.push(e[c]);return i}function eJ(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return oY(i,n)}function tJ(e,t,n){var i=n==="width",c=e.x,d=e.y,y=e.width,x=e.height;return t===1?{start:i?c:d,end:i?c+y:d+x}:{start:i?c+y:d+x,end:i?c:d}}function r6(e,t,n,i,c){if(e*t<e*i||e*t>e*c)return!1;var d=n();return e*(t-e*d/2-i)>=0&&e*(t+e*d/2-c)<=0}function rJ(e,t){return zO(e,t+1)}function nJ(e,t,n,i,c){for(var d=(i||[]).slice(),y=t.start,x=t.end,a=0,w=1,M=y,C=function(){var W=i?.[a];if(W===void 0)return{v:zO(i,w)};var q=a,U,Q=function(){return U===void 0&&(U=n(W,q)),U},re=W.coordinate,ee=a===0||r6(e,re,Q,M,x);ee||(a=0,M=y,w+=1),ee&&(M=re+e*(Q()/2+c),a+=w)},L;w<=d.length;)if(L=C(),L)return L.v;return[]}function k3(e){"@babel/helpers - typeof";return k3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k3(e)}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(i){iJ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iJ(e,t,n){return t=oJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oJ(e){var t=aJ(e,"string");return k3(t)=="symbol"?t:t+""}function aJ(e,t){if(k3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(k3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sJ(e,t,n,i,c){for(var d=(i||[]).slice(),y=d.length,x=t.start,a=t.end,w=function(L){var j=d[L],W,q=function(){return W===void 0&&(W=n(j,L)),W};if(L===y-1){var U=e*(j.coordinate+e*q()/2-a);d[L]=j=ha(ha({},j),{},{tickCoord:U>0?j.coordinate-U*e:j.coordinate})}else d[L]=j=ha(ha({},j),{},{tickCoord:j.coordinate});var Q=r6(e,j.tickCoord,q,x,a);Q&&(a=j.tickCoord-e*(q()/2+c),d[L]=ha(ha({},j),{},{isShow:!0}))},M=y-1;M>=0;M--)w(M);return d}function lJ(e,t,n,i,c,d){var y=(i||[]).slice(),x=y.length,a=t.start,w=t.end;if(d){var M=i[x-1],C=n(M,x-1),L=e*(M.coordinate+e*C/2-w);y[x-1]=M=ha(ha({},M),{},{tickCoord:L>0?M.coordinate-L*e:M.coordinate});var j=r6(e,M.tickCoord,function(){return C},a,w);j&&(w=M.tickCoord-e*(C/2+c),y[x-1]=ha(ha({},M),{},{isShow:!0}))}for(var W=d?x-1:x,q=function(re){var ee=y[re],oe,K=function(){return oe===void 0&&(oe=n(ee,re)),oe};if(re===0){var ne=e*(ee.coordinate-e*K()/2-a);y[re]=ee=ha(ha({},ee),{},{tickCoord:ne<0?ee.coordinate-ne*e:ee.coordinate})}else y[re]=ee=ha(ha({},ee),{},{tickCoord:ee.coordinate});var te=r6(e,ee.tickCoord,K,a,w);te&&(a=ee.tickCoord+e*(K()/2+c),y[re]=ha(ha({},ee),{},{isShow:!0}))},U=0;U<W;U++)q(U);return y}function z_(e,t,n){var i=e.tick,c=e.ticks,d=e.viewBox,y=e.minTickGap,x=e.orientation,a=e.interval,w=e.tickFormatter,M=e.unit,C=e.angle;if(!c||!c.length||!i)return[];if(rr(a)||N3.isSsr)return rJ(c,typeof a=="number"&&rr(a)?a:0);var L=[],j=x==="top"||x==="bottom"?"width":"height",W=M&&j==="width"?Wp(M,{fontSize:t,letterSpacing:n}):{width:0,height:0},q=function(ee,oe){var K=fn(w)?w(ee.value,oe):ee.value;return j==="width"?eJ(Wp(K,{fontSize:t,letterSpacing:n}),W,C):Wp(K,{fontSize:t,letterSpacing:n})[j]},U=c.length>=2?$l(c[1].coordinate-c[0].coordinate):1,Q=tJ(d,U,j);return a==="equidistantPreserveStart"?nJ(U,Q,q,c,y):(a==="preserveStart"||a==="preserveStartEnd"?L=lJ(U,Q,q,c,y,a==="preserveStartEnd"):L=sJ(U,Q,q,c,y),L.filter(function(re){return re.isShow}))}var uJ=["viewBox"],cJ=["viewBox"],hJ=["ticks"];function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F0.apply(this,arguments)}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(i){B_(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function W9(e,t){if(e==null)return{};var n=fJ(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function fJ(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function dJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,FO(i.key),i)}}function pJ(e,t,n){return t&&QA(e.prototype,t),n&&QA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mJ(e,t,n){return t=n6(t),gJ(e,BO()?Reflect.construct(t,n||[],n6(e).constructor):t.apply(e,n))}function gJ(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yJ(e)}function yJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BO=function(){return!!e})()}function n6(e){return n6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n6(e)}function _J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&py(e,t)}function py(e,t){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},py(e,t)}function B_(e,t,n){return t=FO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FO(e){var t=vJ(e,"string");return md(t)=="symbol"?t:t+""}function vJ(e,t){if(md(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(md(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cd=(function(e){function t(n){var i;return dJ(this,t),i=mJ(this,t,[n]),i.state={fontSize:"",letterSpacing:""},i}return _J(t,e),pJ(t,[{key:"shouldComponentUpdate",value:function(i,c){var d=i.viewBox,y=W9(i,uJ),x=this.props,a=x.viewBox,w=W9(x,cJ);return!q0(d,a)||!q0(y,w)||!q0(c,this.state)}},{key:"componentDidMount",value:function(){var i=this.layerReference;if(i){var c=i.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];c&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}},{key:"getTickLineCoord",value:function(i){var c=this.props,d=c.x,y=c.y,x=c.width,a=c.height,w=c.orientation,M=c.tickSize,C=c.mirror,L=c.tickMargin,j,W,q,U,Q,re,ee=C?-1:1,oe=i.tickSize||M,K=rr(i.tickCoord)?i.tickCoord:i.coordinate;switch(w){case"top":j=W=i.coordinate,U=y+ +!C*a,q=U-ee*oe,re=q-ee*L,Q=K;break;case"left":q=U=i.coordinate,W=d+ +!C*x,j=W-ee*oe,Q=j-ee*L,re=K;break;case"right":q=U=i.coordinate,W=d+ +C*x,j=W+ee*oe,Q=j+ee*L,re=K;break;default:j=W=i.coordinate,U=y+ +C*a,q=U+ee*oe,re=q+ee*L,Q=K;break}return{line:{x1:j,y1:q,x2:W,y2:U},tick:{x:Q,y:re}}}},{key:"getTickTextAnchor",value:function(){var i=this.props,c=i.orientation,d=i.mirror,y;switch(c){case"left":y=d?"start":"end";break;case"right":y=d?"end":"start";break;default:y="middle";break}return y}},{key:"getTickVerticalAnchor",value:function(){var i=this.props,c=i.orientation,d=i.mirror,y="end";switch(c){case"left":case"right":y="middle";break;case"top":y=d?"start":"end";break;default:y=d?"end":"start";break}return y}},{key:"renderAxisLine",value:function(){var i=this.props,c=i.x,d=i.y,y=i.width,x=i.height,a=i.orientation,w=i.mirror,M=i.axisLine,C=ka(ka(ka({},Ln(this.props,!1)),Ln(M,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var L=+(a==="top"&&!w||a==="bottom"&&w);C=ka(ka({},C),{},{x1:c,y1:d+L*x,x2:c+y,y2:d+L*x})}else{var j=+(a==="left"&&!w||a==="right"&&w);C=ka(ka({},C),{},{x1:c+j*y,y1:d,x2:c+j*y,y2:d+x})}return tt.createElement("line",F0({},C,{className:$n("recharts-cartesian-axis-line",al(M,"className"))}))}},{key:"renderTicks",value:function(i,c,d){var y=this,x=this.props,a=x.tickLine,w=x.stroke,M=x.tick,C=x.tickFormatter,L=x.unit,j=z_(ka(ka({},this.props),{},{ticks:i}),c,d),W=this.getTickTextAnchor(),q=this.getTickVerticalAnchor(),U=Ln(this.props,!1),Q=Ln(M,!1),re=ka(ka({},U),{},{fill:"none"},Ln(a,!1)),ee=j.map(function(oe,K){var ne=y.getTickLineCoord(oe),te=ne.line,be=ne.tick,Ce=ka(ka(ka(ka({textAnchor:W,verticalAnchor:q},U),{},{stroke:"none",fill:w},Q),be),{},{index:K,payload:oe,visibleTicksCount:j.length,tickFormatter:C});return tt.createElement(Mo,F0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},p4(y.props,oe,K)),a&&tt.createElement("line",F0({},re,te,{className:$n("recharts-cartesian-axis-tick-line",al(a,"className"))})),M&&t.renderTickItem(M,Ce,"".concat(fn(C)?C(oe.value,K):oe.value).concat(L||"")))});return tt.createElement("g",{className:"recharts-cartesian-axis-ticks"},ee)}},{key:"render",value:function(){var i=this,c=this.props,d=c.axisLine,y=c.width,x=c.height,a=c.ticksGenerator,w=c.className,M=c.hide;if(M)return null;var C=this.props,L=C.ticks,j=W9(C,hJ),W=L;return fn(a)&&(W=L&&L.length>0?a(this.props):a(j)),y<=0||x<=0||!W||!W.length?null:tt.createElement(Mo,{className:$n("recharts-cartesian-axis",w),ref:function(U){i.layerReference=U}},d&&this.renderAxisLine(),this.renderTicks(W,this.state.fontSize,this.state.letterSpacing),fa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(i,c,d){var y;return tt.isValidElement(i)?y=tt.cloneElement(i,c):fn(i)?y=i(c):y=tt.createElement(E4,F0({},c,{className:"recharts-cartesian-axis-tick-value"}),d),y}}])})(Ve.Component);B_(Cd,"displayName","CartesianAxis");B_(Cd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xJ=["x1","y1","x2","y2","key"],bJ=["offset"];function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function eM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(n),!0).forEach(function(i){wJ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wJ(e,t,n){return t=SJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SJ(e){var t=TJ(e,"string");return vf(t)=="symbol"?t:t+""}function TJ(e,t){if(vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(vf(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cf.apply(this,arguments)}function tM(e,t){if(e==null)return{};var n=EJ(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function EJ(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}var PJ=function(t){var n=t.fill;if(!n||n==="none")return null;var i=t.fillOpacity,c=t.x,d=t.y,y=t.width,x=t.height,a=t.ry;return tt.createElement("rect",{x:c,y:d,ry:a,width:y,height:x,stroke:"none",fill:n,fillOpacity:i,className:"recharts-cartesian-grid-bg"})};function jO(e,t){var n;if(tt.isValidElement(e))n=tt.cloneElement(e,t);else if(fn(e))n=e(t);else{var i=t.x1,c=t.y1,d=t.x2,y=t.y2,x=t.key,a=tM(t,xJ),w=Ln(a,!1);w.offset;var M=tM(w,bJ);n=tt.createElement("line",cf({},M,{x1:i,y1:c,x2:d,y2:y,fill:"none",key:x}))}return n}function AJ(e){var t=e.x,n=e.width,i=e.horizontal,c=i===void 0?!0:i,d=e.horizontalPoints;if(!c||!d||!d.length)return null;var y=d.map(function(x,a){var w=da(da({},e),{},{x1:t,y1:x,x2:t+n,y2:x,key:"line-".concat(a),index:a});return jO(c,w)});return tt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},y)}function MJ(e){var t=e.y,n=e.height,i=e.vertical,c=i===void 0?!0:i,d=e.verticalPoints;if(!c||!d||!d.length)return null;var y=d.map(function(x,a){var w=da(da({},e),{},{x1:x,y1:t,x2:x,y2:t+n,key:"line-".concat(a),index:a});return jO(c,w)});return tt.createElement("g",{className:"recharts-cartesian-grid-vertical"},y)}function CJ(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,c=e.y,d=e.width,y=e.height,x=e.horizontalPoints,a=e.horizontal,w=a===void 0?!0:a;if(!w||!t||!t.length)return null;var M=x.map(function(L){return Math.round(L+c-c)}).sort(function(L,j){return L-j});c!==M[0]&&M.unshift(0);var C=M.map(function(L,j){var W=!M[j+1],q=W?c+y-L:M[j+1]-L;if(q<=0)return null;var U=j%t.length;return tt.createElement("rect",{key:"react-".concat(j),y:L,x:i,height:q,width:d,stroke:"none",fill:t[U],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return tt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},C)}function IJ(e){var t=e.vertical,n=t===void 0?!0:t,i=e.verticalFill,c=e.fillOpacity,d=e.x,y=e.y,x=e.width,a=e.height,w=e.verticalPoints;if(!n||!i||!i.length)return null;var M=w.map(function(L){return Math.round(L+d-d)}).sort(function(L,j){return L-j});d!==M[0]&&M.unshift(0);var C=M.map(function(L,j){var W=!M[j+1],q=W?d+x-L:M[j+1]-L;if(q<=0)return null;var U=j%i.length;return tt.createElement("rect",{key:"react-".concat(j),x:L,y,width:q,height:a,stroke:"none",fill:i[U],fillOpacity:c,className:"recharts-cartesian-grid-bg"})});return tt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},C)}var OJ=function(t,n){var i=t.xAxis,c=t.width,d=t.height,y=t.offset;return JI(z_(da(da(da({},Cd.defaultProps),i),{},{ticks:Dc(i,!0),viewBox:{x:0,y:0,width:c,height:d}})),y.left,y.left+y.width,n)},kJ=function(t,n){var i=t.yAxis,c=t.width,d=t.height,y=t.offset;return JI(z_(da(da(da({},Cd.defaultProps),i),{},{ticks:Dc(i,!0),viewBox:{x:0,y:0,width:c,height:d}})),y.top,y.top+y.height,n)},R0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function DJ(e){var t,n,i,c,d,y,x=k_(),a=D_(),w=vY(),M=da(da({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:R0.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:R0.fill,horizontal:(i=e.horizontal)!==null&&i!==void 0?i:R0.horizontal,horizontalFill:(c=e.horizontalFill)!==null&&c!==void 0?c:R0.horizontalFill,vertical:(d=e.vertical)!==null&&d!==void 0?d:R0.vertical,verticalFill:(y=e.verticalFill)!==null&&y!==void 0?y:R0.verticalFill,x:rr(e.x)?e.x:w.left,y:rr(e.y)?e.y:w.top,width:rr(e.width)?e.width:w.width,height:rr(e.height)?e.height:w.height}),C=M.x,L=M.y,j=M.width,W=M.height,q=M.syncWithTicks,U=M.horizontalValues,Q=M.verticalValues,re=gY(),ee=yY();if(!rr(j)||j<=0||!rr(W)||W<=0||!rr(C)||C!==+C||!rr(L)||L!==+L)return null;var oe=M.verticalCoordinatesGenerator||OJ,K=M.horizontalCoordinatesGenerator||kJ,ne=M.horizontalPoints,te=M.verticalPoints;if((!ne||!ne.length)&&fn(K)){var be=U&&U.length,Ce=K({yAxis:ee?da(da({},ee),{},{ticks:be?U:ee.ticks}):void 0,width:x,height:a,offset:w},be?!0:q);zc(Array.isArray(Ce),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vf(Ce),"]")),Array.isArray(Ce)&&(ne=Ce)}if((!te||!te.length)&&fn(oe)){var Ee=Q&&Q.length,je=oe({xAxis:re?da(da({},re),{},{ticks:Ee?Q:re.ticks}):void 0,width:x,height:a,offset:w},Ee?!0:q);zc(Array.isArray(je),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vf(je),"]")),Array.isArray(je)&&(te=je)}return tt.createElement("g",{className:"recharts-cartesian-grid"},tt.createElement(PJ,{fill:M.fill,fillOpacity:M.fillOpacity,x:M.x,y:M.y,width:M.width,height:M.height,ry:M.ry}),tt.createElement(AJ,cf({},M,{offset:w,horizontalPoints:ne,xAxis:re,yAxis:ee})),tt.createElement(MJ,cf({},M,{offset:w,verticalPoints:te,xAxis:re,yAxis:ee})),tt.createElement(CJ,cf({},M,{horizontalPoints:ne})),tt.createElement(IJ,cf({},M,{verticalPoints:te})))}DJ.displayName="CartesianGrid";function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function LJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RJ(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,$O(i.key),i)}}function zJ(e,t,n){return t&&RJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BJ(e,t,n){return t=i6(t),FJ(e,NO()?Reflect.construct(t,n||[],i6(e).constructor):t.apply(e,n))}function FJ(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jJ(e)}function jJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!e})()}function i6(e){return i6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i6(e)}function NJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&my(e,t)}function my(e,t){return my=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},my(e,t)}function UO(e,t,n){return t=$O(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $O(e){var t=UJ(e,"string");return gd(t)=="symbol"?t:t+""}function UJ(e,t){if(gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(gd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gy.apply(this,arguments)}function $J(e){var t=e.xAxisId,n=k_(),i=D_(),c=MO(t);return c==null?null:tt.createElement(Cd,gy({},c,{className:$n("recharts-".concat(c.axisType," ").concat(c.axisType),c.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(y){return Dc(y,!0)}}))}var F_=(function(e){function t(){return LJ(this,t),BJ(this,t,arguments)}return NJ(t,e),zJ(t,[{key:"render",value:function(){return tt.createElement($J,this.props)}}])})(tt.Component);UO(F_,"displayName","XAxis");UO(F_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function VJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qJ(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,GO(i.key),i)}}function GJ(e,t,n){return t&&qJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WJ(e,t,n){return t=o6(t),HJ(e,VO()?Reflect.construct(t,n||[],o6(e).constructor):t.apply(e,n))}function HJ(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZJ(e)}function ZJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VO=function(){return!!e})()}function o6(e){return o6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o6(e)}function XJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yy(e,t)}function yy(e,t){return yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},yy(e,t)}function qO(e,t,n){return t=GO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GO(e){var t=KJ(e,"string");return yd(t)=="symbol"?t:t+""}function KJ(e,t){if(yd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(yd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_y.apply(this,arguments)}var YJ=function(t){var n=t.yAxisId,i=k_(),c=D_(),d=CO(n);return d==null?null:tt.createElement(Cd,_y({},d,{className:$n("recharts-".concat(d.axisType," ").concat(d.axisType),d.className),viewBox:{x:0,y:0,width:i,height:c},ticksGenerator:function(x){return Dc(x,!0)}}))},j_=(function(e){function t(){return VJ(this,t),WJ(this,t,arguments)}return XJ(t,e),GJ(t,[{key:"render",value:function(){return tt.createElement(YJ,this.props)}}])})(tt.Component);qO(j_,"displayName","YAxis");qO(j_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function rM(e){return tQ(e)||eQ(e)||QJ(e)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(e,t){if(e){if(typeof e=="string")return vy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vy(e,t)}}function eQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tQ(e){if(Array.isArray(e))return vy(e)}function vy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xy=function(t,n,i,c,d){var y=Vl(t,R_),x=Vl(t,N6),a=[].concat(rM(y),rM(x)),w=Vl(t,$6),M="".concat(c,"Id"),C=c[0],L=n;if(a.length&&(L=a.reduce(function(q,U){if(U.props[M]===i&&Fu(U.props,"extendDomain")&&rr(U.props[C])){var Q=U.props[C];return[Math.min(q[0],Q),Math.max(q[1],Q)]}return q},L)),w.length){var j="".concat(C,"1"),W="".concat(C,"2");L=w.reduce(function(q,U){if(U.props[M]===i&&Fu(U.props,"extendDomain")&&rr(U.props[j])&&rr(U.props[W])){var Q=U.props[j],re=U.props[W];return[Math.min(q[0],Q,re),Math.max(q[1],Q,re)]}return q},L)}return d&&d.length&&(L=d.reduce(function(q,U){return rr(U)?[Math.min(q[0],U),Math.max(q[1],U)]:q},L)),L},H9={exports:{}},nM;function rQ(){return nM||(nM=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function c(a,w,M){this.fn=a,this.context=w,this.once=M||!1}function d(a,w,M,C,L){if(typeof M!="function")throw new TypeError("The listener must be a function");var j=new c(M,C||a,L),W=n?n+w:w;return a._events[W]?a._events[W].fn?a._events[W]=[a._events[W],j]:a._events[W].push(j):(a._events[W]=j,a._eventsCount++),a}function y(a,w){--a._eventsCount===0?a._events=new i:delete a._events[w]}function x(){this._events=new i,this._eventsCount=0}x.prototype.eventNames=function(){var w=[],M,C;if(this._eventsCount===0)return w;for(C in M=this._events)t.call(M,C)&&w.push(n?C.slice(1):C);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(M)):w},x.prototype.listeners=function(w){var M=n?n+w:w,C=this._events[M];if(!C)return[];if(C.fn)return[C.fn];for(var L=0,j=C.length,W=new Array(j);L<j;L++)W[L]=C[L].fn;return W},x.prototype.listenerCount=function(w){var M=n?n+w:w,C=this._events[M];return C?C.fn?1:C.length:0},x.prototype.emit=function(w,M,C,L,j,W){var q=n?n+w:w;if(!this._events[q])return!1;var U=this._events[q],Q=arguments.length,re,ee;if(U.fn){switch(U.once&&this.removeListener(w,U.fn,void 0,!0),Q){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,M),!0;case 3:return U.fn.call(U.context,M,C),!0;case 4:return U.fn.call(U.context,M,C,L),!0;case 5:return U.fn.call(U.context,M,C,L,j),!0;case 6:return U.fn.call(U.context,M,C,L,j,W),!0}for(ee=1,re=new Array(Q-1);ee<Q;ee++)re[ee-1]=arguments[ee];U.fn.apply(U.context,re)}else{var oe=U.length,K;for(ee=0;ee<oe;ee++)switch(U[ee].once&&this.removeListener(w,U[ee].fn,void 0,!0),Q){case 1:U[ee].fn.call(U[ee].context);break;case 2:U[ee].fn.call(U[ee].context,M);break;case 3:U[ee].fn.call(U[ee].context,M,C);break;case 4:U[ee].fn.call(U[ee].context,M,C,L);break;default:if(!re)for(K=1,re=new Array(Q-1);K<Q;K++)re[K-1]=arguments[K];U[ee].fn.apply(U[ee].context,re)}}return!0},x.prototype.on=function(w,M,C){return d(this,w,M,C,!1)},x.prototype.once=function(w,M,C){return d(this,w,M,C,!0)},x.prototype.removeListener=function(w,M,C,L){var j=n?n+w:w;if(!this._events[j])return this;if(!M)return y(this,j),this;var W=this._events[j];if(W.fn)W.fn===M&&(!L||W.once)&&(!C||W.context===C)&&y(this,j);else{for(var q=0,U=[],Q=W.length;q<Q;q++)(W[q].fn!==M||L&&!W[q].once||C&&W[q].context!==C)&&U.push(W[q]);U.length?this._events[j]=U.length===1?U[0]:U:y(this,j)}return this},x.prototype.removeAllListeners=function(w){var M;return w?(M=n?n+w:w,this._events[M]&&y(this,M)):(this._events=new i,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=n,x.EventEmitter=x,e.exports=x})(H9)),H9.exports}var nQ=rQ();const iQ=vn(nQ);var Z9=new iQ,X9="recharts.syncMouseEvents";function D3(e){"@babel/helpers - typeof";return D3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D3(e)}function oQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aQ(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,WO(i.key),i)}}function sQ(e,t,n){return t&&aQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K9(e,t,n){return t=WO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WO(e){var t=lQ(e,"string");return D3(t)=="symbol"?t:t+""}function lQ(e,t){if(D3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(D3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uQ=(function(){function e(){oQ(this,e),K9(this,"activeIndex",0),K9(this,"coordinateList",[]),K9(this,"layout","horizontal")}return sQ(e,[{key:"setDetails",value:function(n){var i,c=n.coordinateList,d=c===void 0?null:c,y=n.container,x=y===void 0?null:y,a=n.layout,w=a===void 0?null:a,M=n.offset,C=M===void 0?null:M,L=n.mouseHandlerCallback,j=L===void 0?null:L;this.coordinateList=(i=d??this.coordinateList)!==null&&i!==void 0?i:[],this.container=x??this.container,this.layout=w??this.layout,this.offset=C??this.offset,this.mouseHandlerCallback=j??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,i;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var c=this.container.getBoundingClientRect(),d=c.x,y=c.y,x=c.height,a=this.coordinateList[this.activeIndex].coordinate,w=((n=window)===null||n===void 0?void 0:n.scrollX)||0,M=((i=window)===null||i===void 0?void 0:i.scrollY)||0,C=d+a+w,L=y+this.offset.top+x/2+M;this.mouseHandlerCallback({pageX:C,pageY:L})}}}])})();function cQ(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var i=e?.[0],c=e?.[1];if(i&&c&&rr(i)&&rr(c))return!0}return!1}function hQ(e,t,n,i){var c=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-c:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-c,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function HO(e){var t=e.cx,n=e.cy,i=e.radius,c=e.startAngle,d=e.endAngle,y=qo(t,n,i,c),x=qo(t,n,i,d);return{points:[y,x],cx:t,cy:n,radius:i,startAngle:c,endAngle:d}}function fQ(e,t,n){var i,c,d,y;if(e==="horizontal")i=t.x,d=i,c=n.top,y=n.top+n.height;else if(e==="vertical")c=t.y,y=c,i=n.left,d=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var x=t.cx,a=t.cy,w=t.innerRadius,M=t.outerRadius,C=t.angle,L=qo(x,a,w,C),j=qo(x,a,M,C);i=L.x,c=L.y,d=j.x,y=j.y}else return HO(t);return[{x:i,y:c},{x:d,y}]}function L3(e){"@babel/helpers - typeof";return L3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L3(e)}function iM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function K5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(n),!0).forEach(function(i){dQ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function dQ(e,t,n){return t=pQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=mQ(e,"string");return L3(t)=="symbol"?t:t+""}function mQ(e,t){if(L3(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(L3(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gQ(e){var t,n,i=e.element,c=e.tooltipEventType,d=e.isActive,y=e.activeCoordinate,x=e.activePayload,a=e.offset,w=e.activeTooltipIndex,M=e.tooltipAxisBandSize,C=e.layout,L=e.chartName,j=(t=i.props.cursor)!==null&&t!==void 0?t:(n=i.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!i||!j||!d||!y||L!=="ScatterChart"&&c!=="axis")return null;var W,q=FP;if(L==="ScatterChart")W=y,q=PX;else if(L==="BarChart")W=hQ(C,y,a,M),q=M_;else if(C==="radial"){var U=HO(y),Q=U.cx,re=U.cy,ee=U.radius,oe=U.startAngle,K=U.endAngle;W={cx:Q,cy:re,startAngle:oe,endAngle:K,innerRadius:ee,outerRadius:ee},q=nO}else W={points:fQ(C,y,a)},q=FP;var ne=K5(K5(K5(K5({stroke:"#ccc",pointerEvents:"none"},a),W),Ln(j,!1)),{},{payload:x,payloadIndex:w,className:$n("recharts-tooltip-cursor",j.className)});return Ve.isValidElement(j)?Ve.cloneElement(j,ne):Ve.createElement(q,ne)}var yQ=["item"],_Q=["children","className","width","height","style","compact","title","desc"];function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},j0.apply(this,arguments)}function oM(e,t){return bQ(e)||xQ(e,t)||XO(e,t)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,c,d,y,x=[],a=!0,w=!1;try{if(d=(n=n.call(e)).next,t!==0)for(;!(a=(i=d.call(n)).done)&&(x.push(i.value),x.length!==t);a=!0);}catch(M){w=!0,c=M}finally{try{if(!a&&n.return!=null&&(y=n.return(),Object(y)!==y))return}finally{if(w)throw c}}return x}}function bQ(e){if(Array.isArray(e))return e}function aM(e,t){if(e==null)return{};var n=wQ(e,t),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(c=0;c<d.length;c++)i=d[c],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function wQ(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function SQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TQ(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,KO(i.key),i)}}function EQ(e,t,n){return t&&TQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PQ(e,t,n){return t=a6(t),AQ(e,ZO()?Reflect.construct(t,n||[],a6(e).constructor):t.apply(e,n))}function AQ(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MQ(e)}function MQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!e})()}function a6(e){return a6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a6(e)}function CQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&by(e,t)}function by(e,t){return by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},by(e,t)}function vd(e){return kQ(e)||OQ(e)||XO(e)||IQ()}function IQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XO(e,t){if(e){if(typeof e=="string")return wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wy(e,t)}}function OQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kQ(e){if(Array.isArray(e))return wy(e)}function wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function sM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(n),!0).forEach(function(i){Fr(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Fr(e,t,n){return t=KO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KO(e){var t=DQ(e,"string");return _d(t)=="symbol"?t:t+""}function DQ(e,t){if(_d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(_d(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LQ={xAxis:["bottom","top"],yAxis:["left","right"]},RQ={width:"100%",height:"100%"},YO={x:0,y:0};function Y5(e){return e}var zQ=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},BQ=function(t,n,i,c){var d=n.find(function(M){return M&&M.index===i});if(d){if(t==="horizontal")return{x:d.coordinate,y:c.y};if(t==="vertical")return{x:c.x,y:d.coordinate};if(t==="centric"){var y=d.coordinate,x=c.radius;return Pt(Pt(Pt({},c),qo(c.cx,c.cy,x,y)),{},{angle:y,radius:x})}var a=d.coordinate,w=c.angle;return Pt(Pt(Pt({},c),qo(c.cx,c.cy,a,w)),{},{angle:w,radius:a})}return YO},V6=function(t,n){var i=n.graphicalItems,c=n.dataStartIndex,d=n.dataEndIndex,y=(i??[]).reduce(function(x,a){var w=a.props.data;return w&&w.length?[].concat(vd(x),vd(w)):x},[]);return y.length>0?y:t&&t.length&&rr(c)&&rr(d)?t.slice(c,d+1):[]};function JO(e){return e==="number"?[0,"auto"]:void 0}var Sy=function(t,n,i,c){var d=t.graphicalItems,y=t.tooltipAxis,x=V6(n,t);return i<0||!d||!d.length||i>=x.length?null:d.reduce(function(a,w){var M,C=(M=w.props.data)!==null&&M!==void 0?M:n;C&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=i&&(C=C.slice(t.dataStartIndex,t.dataEndIndex+1));var L;if(y.dataKey&&!y.allowDuplicatedCategory){var j=C===void 0?x:C;L=ug(j,y.dataKey,c)}else L=C&&C[i]||x[i];return L?[].concat(vd(a),[eO(w,L)]):a},[])},lM=function(t,n,i,c){var d=c||{x:t.chartX,y:t.chartY},y=zQ(d,i),x=t.orderedTooltipTicks,a=t.tooltipAxis,w=t.tooltipTicks,M=dW(y,x,w,a);if(M>=0&&w){var C=w[M]&&w[M].value,L=Sy(t,n,M,C),j=BQ(i,x,M,d);return{activeTooltipIndex:M,activeLabel:C,activePayload:L,activeCoordinate:j}}return null},FQ=function(t,n){var i=n.axes,c=n.graphicalItems,d=n.axisType,y=n.axisIdKey,x=n.stackGroups,a=n.dataStartIndex,w=n.dataEndIndex,M=t.layout,C=t.children,L=t.stackOffset,j=YI(M,d);return i.reduce(function(W,q){var U,Q=q.type.defaultProps!==void 0?Pt(Pt({},q.type.defaultProps),q.props):q.props,re=Q.type,ee=Q.dataKey,oe=Q.allowDataOverflow,K=Q.allowDuplicatedCategory,ne=Q.scale,te=Q.ticks,be=Q.includeHidden,Ce=Q[y];if(W[Ce])return W;var Ee=V6(t.data,{graphicalItems:c.filter(function(We){var At,zt=y in We.props?We.props[y]:(At=We.type.defaultProps)===null||At===void 0?void 0:At[y];return zt===Ce}),dataStartIndex:a,dataEndIndex:w}),je=Ee.length,Ye,Ge,Te;cQ(Q.domain,oe,re)&&(Ye=Vg(Q.domain,null,oe),j&&(re==="number"||ne!=="auto")&&(Te=Zp(Ee,ee,"category")));var Se=JO(re);if(!Ye||Ye.length===0){var ze,Ue=(ze=Q.domain)!==null&&ze!==void 0?ze:Se;if(ee){if(Ye=Zp(Ee,ee,re),re==="category"&&j){var ke=oF(Ye);K&&ke?(Ge=Ye,Ye=Z4(0,je)):K||(Ye=TP(Ue,Ye,q).reduce(function(We,At){return We.indexOf(At)>=0?We:[].concat(vd(We),[At])},[]))}else if(re==="category")K?Ye=Ye.filter(function(We){return We!==""&&!Un(We)}):Ye=TP(Ue,Ye,q).reduce(function(We,At){return We.indexOf(At)>=0||At===""||Un(At)?We:[].concat(vd(We),[At])},[]);else if(re==="number"){var $e=_W(Ee,c.filter(function(We){var At,zt,nr=y in We.props?We.props[y]:(At=We.type.defaultProps)===null||At===void 0?void 0:At[y],fr="hide"in We.props?We.props.hide:(zt=We.type.defaultProps)===null||zt===void 0?void 0:zt.hide;return nr===Ce&&(be||!fr)}),ee,d,M);$e&&(Ye=$e)}j&&(re==="number"||ne!=="auto")&&(Te=Zp(Ee,ee,"category"))}else j?Ye=Z4(0,je):x&&x[Ce]&&x[Ce].hasStack&&re==="number"?Ye=L==="expand"?[0,1]:QI(x[Ce].stackGroups,a,w):Ye=KI(Ee,c.filter(function(We){var At=y in We.props?We.props[y]:We.type.defaultProps[y],zt="hide"in We.props?We.props.hide:We.type.defaultProps.hide;return At===Ce&&(be||!zt)}),re,M,!0);if(re==="number")Ye=xy(C,Ye,Ce,d,te),Ue&&(Ye=Vg(Ue,Ye,oe));else if(re==="category"&&Ue){var ft=Ue,Pe=Ye.every(function(We){return ft.indexOf(We)>=0});Pe&&(Ye=ft)}}return Pt(Pt({},W),{},Fr({},Ce,Pt(Pt({},Q),{},{axisType:d,domain:Ye,categoricalDomain:Te,duplicateDomain:Ge,originalDomain:(U=Q.domain)!==null&&U!==void 0?U:Se,isCategorical:j,layout:M})))},{})},jQ=function(t,n){var i=n.graphicalItems,c=n.Axis,d=n.axisType,y=n.axisIdKey,x=n.stackGroups,a=n.dataStartIndex,w=n.dataEndIndex,M=t.layout,C=t.children,L=V6(t.data,{graphicalItems:i,dataStartIndex:a,dataEndIndex:w}),j=L.length,W=YI(M,d),q=-1;return i.reduce(function(U,Q){var re=Q.type.defaultProps!==void 0?Pt(Pt({},Q.type.defaultProps),Q.props):Q.props,ee=re[y],oe=JO("number");if(!U[ee]){q++;var K;return W?K=Z4(0,j):x&&x[ee]&&x[ee].hasStack?(K=QI(x[ee].stackGroups,a,w),K=xy(C,K,ee,d)):(K=Vg(oe,KI(L,i.filter(function(ne){var te,be,Ce=y in ne.props?ne.props[y]:(te=ne.type.defaultProps)===null||te===void 0?void 0:te[y],Ee="hide"in ne.props?ne.props.hide:(be=ne.type.defaultProps)===null||be===void 0?void 0:be.hide;return Ce===ee&&!Ee}),"number",M),c.defaultProps.allowDataOverflow),K=xy(C,K,ee,d)),Pt(Pt({},U),{},Fr({},ee,Pt(Pt({axisType:d},c.defaultProps),{},{hide:!0,orientation:al(LQ,"".concat(d,".").concat(q%2),null),domain:K,originalDomain:oe,isCategorical:W,layout:M})))}return U},{})},NQ=function(t,n){var i=n.axisType,c=i===void 0?"xAxis":i,d=n.AxisComp,y=n.graphicalItems,x=n.stackGroups,a=n.dataStartIndex,w=n.dataEndIndex,M=t.children,C="".concat(c,"Id"),L=Vl(M,d),j={};return L&&L.length?j=FQ(t,{axes:L,graphicalItems:y,axisType:c,axisIdKey:C,stackGroups:x,dataStartIndex:a,dataEndIndex:w}):y&&y.length&&(j=jQ(t,{Axis:d,graphicalItems:y,axisType:c,axisIdKey:C,stackGroups:x,dataStartIndex:a,dataEndIndex:w})),j},UQ=function(t){var n=j1(t),i=Dc(n,!1,!0);return{tooltipTicks:i,orderedTooltipTicks:e_(i,function(c){return c.coordinate}),tooltipAxis:n,tooltipAxisBandSize:j4(n,i)}},uM=function(t){var n=t.children,i=t.defaultShowTooltip,c=bs(n,cd),d=0,y=0;return t.data&&t.data.length!==0&&(y=t.data.length-1),c&&c.props&&(c.props.startIndex>=0&&(d=c.props.startIndex),c.props.endIndex>=0&&(y=c.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:d,dataEndIndex:y,activeTooltipIndex:-1,isTooltipActive:!!i}},$Q=function(t){return!t||!t.length?!1:t.some(function(n){var i=Rc(n&&n.type);return i&&i.indexOf("Bar")>=0})},cM=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},VQ=function(t,n){var i=t.props,c=t.graphicalItems,d=t.xAxisMap,y=d===void 0?{}:d,x=t.yAxisMap,a=x===void 0?{}:x,w=i.width,M=i.height,C=i.children,L=i.margin||{},j=bs(C,cd),W=bs(C,G0),q=Object.keys(a).reduce(function(K,ne){var te=a[ne],be=te.orientation;return!te.mirror&&!te.hide?Pt(Pt({},K),{},Fr({},be,K[be]+te.width)):K},{left:L.left||0,right:L.right||0}),U=Object.keys(y).reduce(function(K,ne){var te=y[ne],be=te.orientation;return!te.mirror&&!te.hide?Pt(Pt({},K),{},Fr({},be,al(K,"".concat(be))+te.height)):K},{top:L.top||0,bottom:L.bottom||0}),Q=Pt(Pt({},U),q),re=Q.bottom;j&&(Q.bottom+=j.props.height||cd.defaultProps.height),W&&n&&(Q=gW(Q,c,i,n));var ee=w-Q.left-Q.right,oe=M-Q.top-Q.bottom;return Pt(Pt({brushBottom:re},Q),{},{width:Math.max(ee,0),height:Math.max(oe,0)})},qQ=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},GQ=function(t){var n=t.chartName,i=t.GraphicalChild,c=t.defaultTooltipEventType,d=c===void 0?"axis":c,y=t.validateTooltipEventTypes,x=y===void 0?["axis"]:y,a=t.axisComponents,w=t.legendContent,M=t.formatAxisMap,C=t.defaultProps,L=function(Q,re){var ee=re.graphicalItems,oe=re.stackGroups,K=re.offset,ne=re.updateId,te=re.dataStartIndex,be=re.dataEndIndex,Ce=Q.barSize,Ee=Q.layout,je=Q.barGap,Ye=Q.barCategoryGap,Ge=Q.maxBarSize,Te=cM(Ee),Se=Te.numericAxisName,ze=Te.cateAxisName,Ue=$Q(ee),ke=[];return ee.forEach(function($e,ft){var Pe=V6(Q.data,{graphicalItems:[$e],dataStartIndex:te,dataEndIndex:be}),We=$e.type.defaultProps!==void 0?Pt(Pt({},$e.type.defaultProps),$e.props):$e.props,At=We.dataKey,zt=We.maxBarSize,nr=We["".concat(Se,"Id")],fr=We["".concat(ze,"Id")],wr={},yr=a.reduce(function(mi,Ii){var Go=re["".concat(Ii.axisType,"Map")],gi=We["".concat(Ii.axisType,"Id")];Go&&Go[gi]||Ii.axisType==="zAxis"||_f();var Wi=Go[gi];return Pt(Pt({},mi),{},Fr(Fr({},Ii.axisType,Wi),"".concat(Ii.axisType,"Ticks"),Dc(Wi)))},wr),Nt=yr[ze],cr=yr["".concat(ze,"Ticks")],Cr=oe&&oe[nr]&&oe[nr].hasStack&&IW($e,oe[nr].stackGroups),dt=Rc($e.type).indexOf("Bar")>=0,Zr=j4(Nt,cr),Mr=[],wn=Ue&&pW({barSize:Ce,stackGroups:oe,totalSize:qQ(yr,ze)});if(dt){var Sr,yn,Gi=Un(zt)?Ge:zt,li=(Sr=(yn=j4(Nt,cr,!0))!==null&&yn!==void 0?yn:Gi)!==null&&Sr!==void 0?Sr:0;Mr=mW({barGap:je,barCategoryGap:Ye,bandSize:li!==Zr?li:Zr,sizeList:wn[fr],maxBarSize:Gi}),li!==Zr&&(Mr=Mr.map(function(mi){return Pt(Pt({},mi),{},{position:Pt(Pt({},mi.position),{},{offset:mi.position.offset-li/2})})}))}var Wn=$e&&$e.type&&$e.type.getComposedData;Wn&&ke.push({props:Pt(Pt({},Wn(Pt(Pt({},yr),{},{displayedData:Pe,props:Q,dataKey:At,item:$e,bandSize:Zr,barPosition:Mr,offset:K,stackedData:Cr,layout:Ee,dataStartIndex:te,dataEndIndex:be}))),{},Fr(Fr(Fr({key:$e.key||"item-".concat(ft)},Se,yr[Se]),ze,yr[ze]),"animationId",ne)),childIndex:yF($e,Q.children),item:$e})}),ke},j=function(Q,re){var ee=Q.props,oe=Q.dataStartIndex,K=Q.dataEndIndex,ne=Q.updateId;if(!jw({props:ee}))return null;var te=ee.children,be=ee.layout,Ce=ee.stackOffset,Ee=ee.data,je=ee.reverseStackOrder,Ye=cM(be),Ge=Ye.numericAxisName,Te=Ye.cateAxisName,Se=Vl(te,i),ze=AW(Ee,Se,"".concat(Ge,"Id"),"".concat(Te,"Id"),Ce,je),Ue=a.reduce(function(We,At){var zt="".concat(At.axisType,"Map");return Pt(Pt({},We),{},Fr({},zt,NQ(ee,Pt(Pt({},At),{},{graphicalItems:Se,stackGroups:At.axisType===Ge&&ze,dataStartIndex:oe,dataEndIndex:K}))))},{}),ke=VQ(Pt(Pt({},Ue),{},{props:ee,graphicalItems:Se}),re?.legendBBox);Object.keys(Ue).forEach(function(We){Ue[We]=M(ee,Ue[We],ke,We.replace("Map",""),n)});var $e=Ue["".concat(Te,"Map")],ft=UQ($e),Pe=L(ee,Pt(Pt({},Ue),{},{dataStartIndex:oe,dataEndIndex:K,updateId:ne,graphicalItems:Se,stackGroups:ze,offset:ke}));return Pt(Pt({formattedGraphicalItems:Pe,graphicalItems:Se,offset:ke,stackGroups:ze},ft),Ue)},W=(function(U){function Q(re){var ee,oe,K;return SQ(this,Q),K=PQ(this,Q,[re]),Fr(K,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fr(K,"accessibilityManager",new uQ),Fr(K,"handleLegendBBoxUpdate",function(ne){if(ne){var te=K.state,be=te.dataStartIndex,Ce=te.dataEndIndex,Ee=te.updateId;K.setState(Pt({legendBBox:ne},j({props:K.props,dataStartIndex:be,dataEndIndex:Ce,updateId:Ee},Pt(Pt({},K.state),{},{legendBBox:ne}))))}}),Fr(K,"handleReceiveSyncEvent",function(ne,te,be){if(K.props.syncId===ne){if(be===K.eventEmitterSymbol&&typeof K.props.syncMethod!="function")return;K.applySyncEvent(te)}}),Fr(K,"handleBrushChange",function(ne){var te=ne.startIndex,be=ne.endIndex;if(te!==K.state.dataStartIndex||be!==K.state.dataEndIndex){var Ce=K.state.updateId;K.setState(function(){return Pt({dataStartIndex:te,dataEndIndex:be},j({props:K.props,dataStartIndex:te,dataEndIndex:be,updateId:Ce},K.state))}),K.triggerSyncEvent({dataStartIndex:te,dataEndIndex:be})}}),Fr(K,"handleMouseEnter",function(ne){var te=K.getMouseInfo(ne);if(te){var be=Pt(Pt({},te),{},{isTooltipActive:!0});K.setState(be),K.triggerSyncEvent(be);var Ce=K.props.onMouseEnter;fn(Ce)&&Ce(be,ne)}}),Fr(K,"triggeredAfterMouseMove",function(ne){var te=K.getMouseInfo(ne),be=te?Pt(Pt({},te),{},{isTooltipActive:!0}):{isTooltipActive:!1};K.setState(be),K.triggerSyncEvent(be);var Ce=K.props.onMouseMove;fn(Ce)&&Ce(be,ne)}),Fr(K,"handleItemMouseEnter",function(ne){K.setState(function(){return{isTooltipActive:!0,activeItem:ne,activePayload:ne.tooltipPayload,activeCoordinate:ne.tooltipPosition||{x:ne.cx,y:ne.cy}}})}),Fr(K,"handleItemMouseLeave",function(){K.setState(function(){return{isTooltipActive:!1}})}),Fr(K,"handleMouseMove",function(ne){ne.persist(),K.throttleTriggeredAfterMouseMove(ne)}),Fr(K,"handleMouseLeave",function(ne){K.throttleTriggeredAfterMouseMove.cancel();var te={isTooltipActive:!1};K.setState(te),K.triggerSyncEvent(te);var be=K.props.onMouseLeave;fn(be)&&be(te,ne)}),Fr(K,"handleOuterEvent",function(ne){var te=gF(ne),be=al(K.props,"".concat(te));if(te&&fn(be)){var Ce,Ee;/.*touch.*/i.test(te)?Ee=K.getMouseInfo(ne.changedTouches[0]):Ee=K.getMouseInfo(ne),be((Ce=Ee)!==null&&Ce!==void 0?Ce:{},ne)}}),Fr(K,"handleClick",function(ne){var te=K.getMouseInfo(ne);if(te){var be=Pt(Pt({},te),{},{isTooltipActive:!0});K.setState(be),K.triggerSyncEvent(be);var Ce=K.props.onClick;fn(Ce)&&Ce(be,ne)}}),Fr(K,"handleMouseDown",function(ne){var te=K.props.onMouseDown;if(fn(te)){var be=K.getMouseInfo(ne);te(be,ne)}}),Fr(K,"handleMouseUp",function(ne){var te=K.props.onMouseUp;if(fn(te)){var be=K.getMouseInfo(ne);te(be,ne)}}),Fr(K,"handleTouchMove",function(ne){ne.changedTouches!=null&&ne.changedTouches.length>0&&K.throttleTriggeredAfterMouseMove(ne.changedTouches[0])}),Fr(K,"handleTouchStart",function(ne){ne.changedTouches!=null&&ne.changedTouches.length>0&&K.handleMouseDown(ne.changedTouches[0])}),Fr(K,"handleTouchEnd",function(ne){ne.changedTouches!=null&&ne.changedTouches.length>0&&K.handleMouseUp(ne.changedTouches[0])}),Fr(K,"handleDoubleClick",function(ne){var te=K.props.onDoubleClick;if(fn(te)){var be=K.getMouseInfo(ne);te(be,ne)}}),Fr(K,"handleContextMenu",function(ne){var te=K.props.onContextMenu;if(fn(te)){var be=K.getMouseInfo(ne);te(be,ne)}}),Fr(K,"triggerSyncEvent",function(ne){K.props.syncId!==void 0&&Z9.emit(X9,K.props.syncId,ne,K.eventEmitterSymbol)}),Fr(K,"applySyncEvent",function(ne){var te=K.props,be=te.layout,Ce=te.syncMethod,Ee=K.state.updateId,je=ne.dataStartIndex,Ye=ne.dataEndIndex;if(ne.dataStartIndex!==void 0||ne.dataEndIndex!==void 0)K.setState(Pt({dataStartIndex:je,dataEndIndex:Ye},j({props:K.props,dataStartIndex:je,dataEndIndex:Ye,updateId:Ee},K.state)));else if(ne.activeTooltipIndex!==void 0){var Ge=ne.chartX,Te=ne.chartY,Se=ne.activeTooltipIndex,ze=K.state,Ue=ze.offset,ke=ze.tooltipTicks;if(!Ue)return;if(typeof Ce=="function")Se=Ce(ke,ne);else if(Ce==="value"){Se=-1;for(var $e=0;$e<ke.length;$e++)if(ke[$e].value===ne.activeLabel){Se=$e;break}}var ft=Pt(Pt({},Ue),{},{x:Ue.left,y:Ue.top}),Pe=Math.min(Ge,ft.x+ft.width),We=Math.min(Te,ft.y+ft.height),At=ke[Se]&&ke[Se].value,zt=Sy(K.state,K.props.data,Se),nr=ke[Se]?{x:be==="horizontal"?ke[Se].coordinate:Pe,y:be==="horizontal"?We:ke[Se].coordinate}:YO;K.setState(Pt(Pt({},ne),{},{activeLabel:At,activeCoordinate:nr,activePayload:zt,activeTooltipIndex:Se}))}else K.setState(ne)}),Fr(K,"renderCursor",function(ne){var te,be=K.state,Ce=be.isTooltipActive,Ee=be.activeCoordinate,je=be.activePayload,Ye=be.offset,Ge=be.activeTooltipIndex,Te=be.tooltipAxisBandSize,Se=K.getTooltipEventType(),ze=(te=ne.props.active)!==null&&te!==void 0?te:Ce,Ue=K.props.layout,ke=ne.key||"_recharts-cursor";return tt.createElement(gQ,{key:ke,activeCoordinate:Ee,activePayload:je,activeTooltipIndex:Ge,chartName:n,element:ne,isActive:ze,layout:Ue,offset:Ye,tooltipAxisBandSize:Te,tooltipEventType:Se})}),Fr(K,"renderPolarAxis",function(ne,te,be){var Ce=al(ne,"type.axisType"),Ee=al(K.state,"".concat(Ce,"Map")),je=ne.type.defaultProps,Ye=je!==void 0?Pt(Pt({},je),ne.props):ne.props,Ge=Ee&&Ee[Ye["".concat(Ce,"Id")]];return Ve.cloneElement(ne,Pt(Pt({},Ge),{},{className:$n(Ce,Ge.className),key:ne.key||"".concat(te,"-").concat(be),ticks:Dc(Ge,!0)}))}),Fr(K,"renderPolarGrid",function(ne){var te=ne.props,be=te.radialLines,Ce=te.polarAngles,Ee=te.polarRadius,je=K.state,Ye=je.radiusAxisMap,Ge=je.angleAxisMap,Te=j1(Ye),Se=j1(Ge),ze=Se.cx,Ue=Se.cy,ke=Se.innerRadius,$e=Se.outerRadius;return Ve.cloneElement(ne,{polarAngles:Array.isArray(Ce)?Ce:Dc(Se,!0).map(function(ft){return ft.coordinate}),polarRadius:Array.isArray(Ee)?Ee:Dc(Te,!0).map(function(ft){return ft.coordinate}),cx:ze,cy:Ue,innerRadius:ke,outerRadius:$e,key:ne.key||"polar-grid",radialLines:be})}),Fr(K,"renderLegend",function(){var ne=K.state.formattedGraphicalItems,te=K.props,be=te.children,Ce=te.width,Ee=te.height,je=K.props.margin||{},Ye=Ce-(je.left||0)-(je.right||0),Ge=ZI({children:be,formattedGraphicalItems:ne,legendWidth:Ye,legendContent:w});if(!Ge)return null;var Te=Ge.item,Se=aM(Ge,yQ);return Ve.cloneElement(Te,Pt(Pt({},Se),{},{chartWidth:Ce,chartHeight:Ee,margin:je,onBBoxUpdate:K.handleLegendBBoxUpdate}))}),Fr(K,"renderTooltip",function(){var ne,te=K.props,be=te.children,Ce=te.accessibilityLayer,Ee=bs(be,Ic);if(!Ee)return null;var je=K.state,Ye=je.isTooltipActive,Ge=je.activeCoordinate,Te=je.activePayload,Se=je.activeLabel,ze=je.offset,Ue=(ne=Ee.props.active)!==null&&ne!==void 0?ne:Ye;return Ve.cloneElement(Ee,{viewBox:Pt(Pt({},ze),{},{x:ze.left,y:ze.top}),active:Ue,label:Se,payload:Ue?Te:[],coordinate:Ge,accessibilityLayer:Ce})}),Fr(K,"renderBrush",function(ne){var te=K.props,be=te.margin,Ce=te.data,Ee=K.state,je=Ee.offset,Ye=Ee.dataStartIndex,Ge=Ee.dataEndIndex,Te=Ee.updateId;return Ve.cloneElement(ne,{key:ne.key||"_recharts-brush",onChange:W5(K.handleBrushChange,ne.props.onChange),data:Ce,x:rr(ne.props.x)?ne.props.x:je.left,y:rr(ne.props.y)?ne.props.y:je.top+je.height+je.brushBottom-(be.bottom||0),width:rr(ne.props.width)?ne.props.width:je.width,startIndex:Ye,endIndex:Ge,updateId:"brush-".concat(Te)})}),Fr(K,"renderReferenceElement",function(ne,te,be){if(!ne)return null;var Ce=K,Ee=Ce.clipPathId,je=K.state,Ye=je.xAxisMap,Ge=je.yAxisMap,Te=je.offset,Se=ne.type.defaultProps||{},ze=ne.props,Ue=ze.xAxisId,ke=Ue===void 0?Se.xAxisId:Ue,$e=ze.yAxisId,ft=$e===void 0?Se.yAxisId:$e;return Ve.cloneElement(ne,{key:ne.key||"".concat(te,"-").concat(be),xAxis:Ye[ke],yAxis:Ge[ft],viewBox:{x:Te.left,y:Te.top,width:Te.width,height:Te.height},clipPathId:Ee})}),Fr(K,"renderActivePoints",function(ne){var te=ne.item,be=ne.activePoint,Ce=ne.basePoint,Ee=ne.childIndex,je=ne.isRange,Ye=[],Ge=te.props.key,Te=te.item.type.defaultProps!==void 0?Pt(Pt({},te.item.type.defaultProps),te.item.props):te.item.props,Se=Te.activeDot,ze=Te.dataKey,Ue=Pt(Pt({index:Ee,dataKey:ze,cx:be.x,cy:be.y,r:4,fill:A_(te.item),strokeWidth:2,stroke:"#fff",payload:be.payload,value:be.value},Ln(Se,!1)),d4(Se));return Ye.push(Q.renderActiveDot(Se,Ue,"".concat(Ge,"-activePoint-").concat(Ee))),Ce?Ye.push(Q.renderActiveDot(Se,Pt(Pt({},Ue),{},{cx:Ce.x,cy:Ce.y}),"".concat(Ge,"-basePoint-").concat(Ee))):je&&Ye.push(null),Ye}),Fr(K,"renderGraphicChild",function(ne,te,be){var Ce=K.filterFormatItem(ne,te,be);if(!Ce)return null;var Ee=K.getTooltipEventType(),je=K.state,Ye=je.isTooltipActive,Ge=je.tooltipAxis,Te=je.activeTooltipIndex,Se=je.activeLabel,ze=K.props.children,Ue=bs(ze,Ic),ke=Ce.props,$e=ke.points,ft=ke.isRange,Pe=ke.baseLine,We=Ce.item.type.defaultProps!==void 0?Pt(Pt({},Ce.item.type.defaultProps),Ce.item.props):Ce.item.props,At=We.activeDot,zt=We.hide,nr=We.activeBar,fr=We.activeShape,wr=!!(!zt&&Ye&&Ue&&(At||nr||fr)),yr={};Ee!=="axis"&&Ue&&Ue.props.trigger==="click"?yr={onClick:W5(K.handleItemMouseEnter,ne.props.onClick)}:Ee!=="axis"&&(yr={onMouseLeave:W5(K.handleItemMouseLeave,ne.props.onMouseLeave),onMouseEnter:W5(K.handleItemMouseEnter,ne.props.onMouseEnter)});var Nt=Ve.cloneElement(ne,Pt(Pt({},Ce.props),yr));function cr(Ii){return typeof Ge.dataKey=="function"?Ge.dataKey(Ii.payload):null}if(wr)if(Te>=0){var Cr,dt;if(Ge.dataKey&&!Ge.allowDuplicatedCategory){var Zr=typeof Ge.dataKey=="function"?cr:"payload.".concat(Ge.dataKey.toString());Cr=ug($e,Zr,Se),dt=ft&&Pe&&ug(Pe,Zr,Se)}else Cr=$e?.[Te],dt=ft&&Pe&&Pe[Te];if(fr||nr){var Mr=ne.props.activeIndex!==void 0?ne.props.activeIndex:Te;return[Ve.cloneElement(ne,Pt(Pt(Pt({},Ce.props),yr),{},{activeIndex:Mr})),null,null]}if(!Un(Cr))return[Nt].concat(vd(K.renderActivePoints({item:Ce,activePoint:Cr,basePoint:dt,childIndex:Te,isRange:ft})))}else{var wn,Sr=(wn=K.getItemByXY(K.state.activeCoordinate))!==null&&wn!==void 0?wn:{graphicalItem:Nt},yn=Sr.graphicalItem,Gi=yn.item,li=Gi===void 0?ne:Gi,Wn=yn.childIndex,mi=Pt(Pt(Pt({},Ce.props),yr),{},{activeIndex:Wn});return[Ve.cloneElement(li,mi),null,null]}return ft?[Nt,null,null]:[Nt,null]}),Fr(K,"renderCustomized",function(ne,te,be){return Ve.cloneElement(ne,Pt(Pt({key:"recharts-customized-".concat(be)},K.props),K.state))}),Fr(K,"renderMap",{CartesianGrid:{handler:Y5,once:!0},ReferenceArea:{handler:K.renderReferenceElement},ReferenceLine:{handler:Y5},ReferenceDot:{handler:K.renderReferenceElement},XAxis:{handler:Y5},YAxis:{handler:Y5},Brush:{handler:K.renderBrush,once:!0},Bar:{handler:K.renderGraphicChild},Line:{handler:K.renderGraphicChild},Area:{handler:K.renderGraphicChild},Radar:{handler:K.renderGraphicChild},RadialBar:{handler:K.renderGraphicChild},Scatter:{handler:K.renderGraphicChild},Pie:{handler:K.renderGraphicChild},Funnel:{handler:K.renderGraphicChild},Tooltip:{handler:K.renderCursor,once:!0},PolarGrid:{handler:K.renderPolarGrid,once:!0},PolarAngleAxis:{handler:K.renderPolarAxis},PolarRadiusAxis:{handler:K.renderPolarAxis},Customized:{handler:K.renderCustomized}}),K.clipPathId="".concat((ee=re.id)!==null&&ee!==void 0?ee:y6("recharts"),"-clip"),K.throttleTriggeredAfterMouseMove=HC(K.triggeredAfterMouseMove,(oe=re.throttleDelay)!==null&&oe!==void 0?oe:1e3/60),K.state={},K}return CQ(Q,U),EQ(Q,[{key:"componentDidMount",value:function(){var ee,oe;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(ee=this.props.margin.left)!==null&&ee!==void 0?ee:0,top:(oe=this.props.margin.top)!==null&&oe!==void 0?oe:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var ee=this.props,oe=ee.children,K=ee.data,ne=ee.height,te=ee.layout,be=bs(oe,Ic);if(be){var Ce=be.props.defaultIndex;if(!(typeof Ce!="number"||Ce<0||Ce>this.state.tooltipTicks.length-1)){var Ee=this.state.tooltipTicks[Ce]&&this.state.tooltipTicks[Ce].value,je=Sy(this.state,K,Ce,Ee),Ye=this.state.tooltipTicks[Ce].coordinate,Ge=(this.state.offset.top+ne)/2,Te=te==="horizontal",Se=Te?{x:Ye,y:Ge}:{y:Ye,x:Ge},ze=this.state.formattedGraphicalItems.find(function(ke){var $e=ke.item;return $e.type.name==="Scatter"});ze&&(Se=Pt(Pt({},Se),ze.props.points[Ce].tooltipPosition),je=ze.props.points[Ce].tooltipPayload);var Ue={activeTooltipIndex:Ce,isTooltipActive:!0,activeLabel:Ee,activePayload:je,activeCoordinate:Se};this.setState(Ue),this.renderCursor(be),this.accessibilityManager.setIndex(Ce)}}}},{key:"getSnapshotBeforeUpdate",value:function(ee,oe){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==oe.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==ee.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==ee.margin){var K,ne;this.accessibilityManager.setDetails({offset:{left:(K=this.props.margin.left)!==null&&K!==void 0?K:0,top:(ne=this.props.margin.top)!==null&&ne!==void 0?ne:0}})}return null}},{key:"componentDidUpdate",value:function(ee){hg([bs(ee.children,Ic)],[bs(this.props.children,Ic)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var ee=bs(this.props.children,Ic);if(ee&&typeof ee.props.shared=="boolean"){var oe=ee.props.shared?"axis":"item";return x.indexOf(oe)>=0?oe:d}return d}},{key:"getMouseInfo",value:function(ee){if(!this.container)return null;var oe=this.container,K=oe.getBoundingClientRect(),ne=n$(K),te={chartX:Math.round(ee.pageX-ne.left),chartY:Math.round(ee.pageY-ne.top)},be=K.width/oe.offsetWidth||1,Ce=this.inRange(te.chartX,te.chartY,be);if(!Ce)return null;var Ee=this.state,je=Ee.xAxisMap,Ye=Ee.yAxisMap,Ge=this.getTooltipEventType(),Te=lM(this.state,this.props.data,this.props.layout,Ce);if(Ge!=="axis"&&je&&Ye){var Se=j1(je).scale,ze=j1(Ye).scale,Ue=Se&&Se.invert?Se.invert(te.chartX):null,ke=ze&&ze.invert?ze.invert(te.chartY):null;return Pt(Pt({},te),{},{xValue:Ue,yValue:ke},Te)}return Te?Pt(Pt({},te),Te):null}},{key:"inRange",value:function(ee,oe){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,ne=this.props.layout,te=ee/K,be=oe/K;if(ne==="horizontal"||ne==="vertical"){var Ce=this.state.offset,Ee=te>=Ce.left&&te<=Ce.left+Ce.width&&be>=Ce.top&&be<=Ce.top+Ce.height;return Ee?{x:te,y:be}:null}var je=this.state,Ye=je.angleAxisMap,Ge=je.radiusAxisMap;if(Ye&&Ge){var Te=j1(Ye);return AP({x:te,y:be},Te)}return null}},{key:"parseEventsOfWrapper",value:function(){var ee=this.props.children,oe=this.getTooltipEventType(),K=bs(ee,Ic),ne={};K&&oe==="axis"&&(K.props.trigger==="click"?ne={onClick:this.handleClick}:ne={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var te=d4(this.props,this.handleOuterEvent);return Pt(Pt({},te),ne)}},{key:"addListener",value:function(){Z9.on(X9,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Z9.removeListener(X9,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(ee,oe,K){for(var ne=this.state.formattedGraphicalItems,te=0,be=ne.length;te<be;te++){var Ce=ne[te];if(Ce.item===ee||Ce.props.key===ee.key||oe===Rc(Ce.item.type)&&K===Ce.childIndex)return Ce}return null}},{key:"renderClipPath",value:function(){var ee=this.clipPathId,oe=this.state.offset,K=oe.left,ne=oe.top,te=oe.height,be=oe.width;return tt.createElement("defs",null,tt.createElement("clipPath",{id:ee},tt.createElement("rect",{x:K,y:ne,height:te,width:be})))}},{key:"getXScales",value:function(){var ee=this.state.xAxisMap;return ee?Object.entries(ee).reduce(function(oe,K){var ne=oM(K,2),te=ne[0],be=ne[1];return Pt(Pt({},oe),{},Fr({},te,be.scale))},{}):null}},{key:"getYScales",value:function(){var ee=this.state.yAxisMap;return ee?Object.entries(ee).reduce(function(oe,K){var ne=oM(K,2),te=ne[0],be=ne[1];return Pt(Pt({},oe),{},Fr({},te,be.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(ee){var oe;return(oe=this.state.xAxisMap)===null||oe===void 0||(oe=oe[ee])===null||oe===void 0?void 0:oe.scale}},{key:"getYScaleByAxisId",value:function(ee){var oe;return(oe=this.state.yAxisMap)===null||oe===void 0||(oe=oe[ee])===null||oe===void 0?void 0:oe.scale}},{key:"getItemByXY",value:function(ee){var oe=this.state,K=oe.formattedGraphicalItems,ne=oe.activeItem;if(K&&K.length)for(var te=0,be=K.length;te<be;te++){var Ce=K[te],Ee=Ce.props,je=Ce.item,Ye=je.type.defaultProps!==void 0?Pt(Pt({},je.type.defaultProps),je.props):je.props,Ge=Rc(je.type);if(Ge==="Bar"){var Te=(Ee.data||[]).find(function(ke){return gX(ee,ke)});if(Te)return{graphicalItem:Ce,payload:Te}}else if(Ge==="RadialBar"){var Se=(Ee.data||[]).find(function(ke){return AP(ee,ke)});if(Se)return{graphicalItem:Ce,payload:Se}}else if(z6(Ce,ne)||B6(Ce,ne)||M3(Ce,ne)){var ze=aK({graphicalItem:Ce,activeTooltipItem:ne,itemData:Ye.data}),Ue=Ye.activeIndex===void 0?ze:Ye.activeIndex;return{graphicalItem:Pt(Pt({},Ce),{},{childIndex:Ue}),payload:M3(Ce,ne)?Ye.data[ze]:Ce.props.data[ze]}}}return null}},{key:"render",value:function(){var ee=this;if(!jw(this))return null;var oe=this.props,K=oe.children,ne=oe.className,te=oe.width,be=oe.height,Ce=oe.style,Ee=oe.compact,je=oe.title,Ye=oe.desc,Ge=aM(oe,_Q),Te=Ln(Ge,!1);if(Ee)return tt.createElement(VA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},tt.createElement(dg,j0({},Te,{width:te,height:be,title:je,desc:Ye}),this.renderClipPath(),Uw(K,this.renderMap)));if(this.props.accessibilityLayer){var Se,ze;Te.tabIndex=(Se=this.props.tabIndex)!==null&&Se!==void 0?Se:0,Te.role=(ze=this.props.role)!==null&&ze!==void 0?ze:"application",Te.onKeyDown=function(ke){ee.accessibilityManager.keyboardEvent(ke)},Te.onFocus=function(){ee.accessibilityManager.focus()}}var Ue=this.parseEventsOfWrapper();return tt.createElement(VA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},tt.createElement("div",j0({className:$n("recharts-wrapper",ne),style:Pt({position:"relative",cursor:"default",width:te,height:be},Ce)},Ue,{ref:function($e){ee.container=$e}}),tt.createElement(dg,j0({},Te,{width:te,height:be,title:je,desc:Ye,style:RQ}),this.renderClipPath(),Uw(K,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(Ve.Component);Fr(W,"displayName",n),Fr(W,"defaultProps",Pt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},C)),Fr(W,"getDerivedStateFromProps",function(U,Q){var re=U.dataKey,ee=U.data,oe=U.children,K=U.width,ne=U.height,te=U.layout,be=U.stackOffset,Ce=U.margin,Ee=Q.dataStartIndex,je=Q.dataEndIndex;if(Q.updateId===void 0){var Ye=uM(U);return Pt(Pt(Pt({},Ye),{},{updateId:0},j(Pt(Pt({props:U},Ye),{},{updateId:0}),Q)),{},{prevDataKey:re,prevData:ee,prevWidth:K,prevHeight:ne,prevLayout:te,prevStackOffset:be,prevMargin:Ce,prevChildren:oe})}if(re!==Q.prevDataKey||ee!==Q.prevData||K!==Q.prevWidth||ne!==Q.prevHeight||te!==Q.prevLayout||be!==Q.prevStackOffset||!q0(Ce,Q.prevMargin)){var Ge=uM(U),Te={chartX:Q.chartX,chartY:Q.chartY,isTooltipActive:Q.isTooltipActive},Se=Pt(Pt({},lM(Q,ee,te)),{},{updateId:Q.updateId+1}),ze=Pt(Pt(Pt({},Ge),Te),Se);return Pt(Pt(Pt({},ze),j(Pt({props:U},ze),Q)),{},{prevDataKey:re,prevData:ee,prevWidth:K,prevHeight:ne,prevLayout:te,prevStackOffset:be,prevMargin:Ce,prevChildren:oe})}if(!hg(oe,Q.prevChildren)){var Ue,ke,$e,ft,Pe=bs(oe,cd),We=Pe&&(Ue=(ke=Pe.props)===null||ke===void 0?void 0:ke.startIndex)!==null&&Ue!==void 0?Ue:Ee,At=Pe&&($e=(ft=Pe.props)===null||ft===void 0?void 0:ft.endIndex)!==null&&$e!==void 0?$e:je,zt=We!==Ee||At!==je,nr=!Un(ee),fr=nr&&!zt?Q.updateId:Q.updateId+1;return Pt(Pt({updateId:fr},j(Pt(Pt({props:U},Q),{},{updateId:fr,dataStartIndex:We,dataEndIndex:At}),Q)),{},{prevChildren:oe,dataStartIndex:We,dataEndIndex:At})}return null}),Fr(W,"renderActiveDot",function(U,Q,re){var ee;return Ve.isValidElement(U)?ee=Ve.cloneElement(U,Q):fn(U)?ee=U(Q):ee=tt.createElement(hO,Q),tt.createElement(Mo,{className:"recharts-active-dot",key:re},ee)});var q=Ve.forwardRef(function(Q,re){return tt.createElement(W,j0({},Q,{ref:re}))});return q.displayName=W.displayName,q},dee=GQ({chartName:"BarChart",GraphicalChild:Md,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:F_},{axisType:"yAxis",AxisComp:j_}],formatAxisMap:rY});const QO="FeatureCollection",ek=JSON.parse('[{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ZW","iso_a3":"ZWE","iso_n3":"716"},"geometry":{"type":"Polygon","coordinates":[[[31.287891,-22.402051],[32.429785,-21.29707],[32.492383,-20.659766],[32.992773,-19.984863],[32.699707,-18.940918],[32.993066,-18.35957],[32.948047,-16.712305],[31.23623,-16.023633],[30.437793,-15.995313],[30.396094,-15.643066],[29.487305,-15.696777],[28.913086,-15.987793],[28.760547,-16.532129],[27.932227,-16.896191],[27.020801,-17.958398],[25.258789,-17.793555],[26.168066,-19.538281],[27.178223,-20.100977],[27.280762,-20.478711],[27.679297,-20.503027],[27.669434,-21.064258],[28.014063,-21.554199],[29.025586,-21.796875],[29.364844,-22.193945],[31.287891,-22.402051]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ZM","iso_a3":"ZMB","iso_n3":"894"},"geometry":{"type":"Polygon","coordinates":[[[30.396094,-15.643066],[30.231836,-14.990332],[33.201758,-14.013379],[32.67041,-13.59043],[33.021582,-12.630469],[33.512305,-12.347754],[33.252344,-12.112598],[33.261328,-10.893359],[33.661523,-10.553125],[32.919922,-9.407422],[31.033398,-8.597656],[30.751172,-8.193652],[28.898145,-8.485449],[28.400684,-9.224805],[28.645508,-10.550195],[28.383398,-11.566699],[29.064355,-12.348828],[29.485547,-12.418457],[29.795117,-12.155469],[29.775195,-13.438086],[29.554199,-13.248926],[29.014258,-13.368848],[28.412891,-12.518066],[27.573828,-12.227051],[27.15918,-11.579199],[26.824023,-11.965234],[26.025977,-11.890137],[25.349414,-11.623047],[25.28877,-11.212402],[24.37793,-11.41709],[24.365723,-11.129883],[23.966504,-10.871777],[23.962988,-12.988477],[21.978906,-13.000977],[22.040234,-16.262793],[23.380664,-17.640625],[24.73291,-17.517773],[25.258789,-17.793555],[27.020801,-17.958398],[27.932227,-16.896191],[28.760547,-16.532129],[28.913086,-15.987793],[29.487305,-15.696777],[30.396094,-15.643066]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"YE","iso_a3":"YEM","iso_n3":"887"},"geometry":{"type":"MultiPolygon","coordinates":[[[[53.085645,16.648389],[51.977637,18.996143],[49.041992,18.581787],[48.172168,18.156934],[47.143555,16.94668],[46.727637,17.265576],[43.916992,17.324707],[43.417969,17.51626],[43.190918,17.359375],[43.165039,16.689404],[42.799316,16.371777],[42.657812,15.232812],[42.936426,14.938574],[43.231934,13.26709],[43.487598,12.698828],[44.005859,12.607666],[45.038672,12.815869],[45.657324,13.338721],[46.788867,13.465576],[47.989941,14.048096],[48.668359,14.050146],[49.349902,14.637793],[52.21748,15.655518],[52.327734,16.293555],[53.085645,16.648389]]],[[[53.763184,12.636816],[53.31582,12.533154],[53.718848,12.318994],[54.511133,12.552783],[53.763184,12.636816]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"VN","iso_a3":"VNM","iso_n3":"704"},"geometry":{"type":"MultiPolygon","coordinates":[[[[104.063965,10.39082],[103.849512,10.371094],[104.018457,10.029199],[104.063965,10.39082]]],[[[107.972656,21.507959],[106.663574,21.978906],[106.550391,22.501367],[106.780273,22.778906],[105.842969,22.922803],[105.275391,23.345215],[103.941504,22.540088],[103.32666,22.769775],[102.981934,22.448242],[102.470898,22.750928],[102.127441,22.379199],[102.662012,21.676025],[102.949609,21.681348],[102.851172,21.265918],[103.104492,20.89165],[103.635059,20.69707],[104.101367,20.945508],[104.583203,20.64668],[104.367773,20.441406],[104.92793,20.018115],[104.587891,19.61875],[104.032031,19.675146],[103.891602,19.30498],[105.146484,18.650977],[105.114551,18.405273],[106.502246,16.954102],[106.656445,16.492627],[107.396387,16.043018],[107.165918,15.80249],[107.653125,15.255225],[107.519434,14.705078],[107.331445,14.126611],[107.605469,13.437793],[107.506445,12.364551],[106.413867,11.948438],[106.399219,11.687012],[105.851465,11.63501],[106.163965,10.794922],[105.755078,10.98999],[105.045703,10.911377],[104.850586,10.534473],[104.426367,10.41123],[105.084473,9.995703],[104.77041,8.597656],[105.114355,8.629199],[106.168359,9.396729],[105.830957,10.000732],[106.484082,9.559424],[106.136426,10.22168],[106.595605,9.859863],[106.785254,10.116455],[106.464063,10.298291],[106.757422,10.295801],[106.605859,10.464941],[106.947461,10.400342],[107.006641,10.660547],[107.261523,10.398389],[108.001367,10.720361],[108.986719,11.336377],[109.198633,11.724854],[109.423926,12.955957],[108.821289,15.37793],[106.370508,17.746875],[106.499023,17.946436],[105.621777,18.966309],[105.984082,19.939062],[106.572852,20.392188],[106.683398,21.000293],[107.164746,20.94873],[107.972656,21.507959]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"VE","iso_a3":"VEN","iso_n3":"862"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-63.849365,11.131006],[-64.402344,10.981592],[-63.917627,10.887549],[-63.849365,11.131006]]],[[[-60.017529,8.549316],[-61.304004,8.4104],[-61.618701,8.597461],[-61.247266,8.600342],[-60.79248,9.360742],[-61.588867,9.894531],[-61.735938,9.631201],[-62.0771,9.975049],[-62.32041,9.783057],[-62.550342,10.200439],[-62.740576,10.056152],[-62.913574,10.531494],[-61.879492,10.741016],[-64.298193,10.635156],[-63.731885,10.503418],[-65.129102,10.070068],[-65.851758,10.257764],[-66.247217,10.632227],[-68.139941,10.492725],[-68.398633,11.160986],[-68.827979,11.431738],[-69.631592,11.479932],[-70.003955,12.177881],[-70.286523,11.886035],[-69.804785,11.474219],[-71.469531,10.96416],[-71.494238,10.533203],[-71.052686,9.705811],[-71.241406,9.160449],[-71.619531,9.047949],[-72.112842,9.815576],[-71.594336,10.657373],[-71.956934,11.569922],[-71.319727,11.861914],[-71.958105,11.666406],[-72.690088,10.83584],[-73.366211,9.194141],[-72.796387,9.108984],[-72.390332,8.287061],[-72.471973,7.524268],[-72.006641,7.032617],[-70.129199,6.953613],[-69.427148,6.123975],[-67.481982,6.180273],[-67.855273,4.506885],[-67.311133,3.415869],[-67.859082,2.793604],[-67.21084,2.390137],[-66.876025,1.223047],[-66.347119,0.767188],[-65.681445,0.983447],[-65.473389,0.69126],[-64.205029,1.529492],[-64.008496,1.931592],[-63.43252,2.155566],[-63.389258,2.411914],[-64.046582,2.502393],[-64.221094,3.587402],[-64.788672,4.276025],[-64.021484,3.929102],[-63.338672,3.943896],[-62.856982,3.593457],[-62.712109,4.01792],[-61.002832,4.535254],[-60.603857,4.949365],[-60.742139,5.202051],[-61.39082,5.93877],[-61.128711,6.214307],[-61.145605,6.694531],[-60.3521,7.002881],[-60.718652,7.535937],[-59.849072,8.248682],[-60.017529,8.549316]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"VA","iso_a3":"VAT","iso_n3":"336"},"geometry":{"type":"Polygon","coordinates":[[[12.43916,41.898389],[12.430566,41.905469],[12.430566,41.897559],[12.43916,41.898389]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"VU","iso_a3":"VUT","iso_n3":"548"},"geometry":{"type":"MultiPolygon","coordinates":[[[[166.745801,-14.826855],[166.567383,-14.641797],[166.631055,-15.406055],[166.758301,-15.631152],[167.093945,-15.580859],[167.075586,-14.935645],[166.810156,-15.157422],[166.745801,-14.826855]]],[[[167.4125,-16.095898],[167.199512,-15.885059],[167.449316,-16.55498],[167.836621,-16.449707],[167.4125,-16.095898]]],[[[168.29668,-16.336523],[168.163867,-16.081641],[167.929004,-16.228711],[168.29668,-16.336523]]],[[[168.445801,-17.542188],[168.158203,-17.710547],[168.524609,-17.798047],[168.445801,-17.542188]]],[[[167.911328,-15.435938],[168.002539,-15.283203],[167.674219,-15.451562],[167.911328,-15.435938]]],[[[169.491309,-19.540137],[169.247461,-19.344727],[169.347266,-19.623535],[169.491309,-19.540137]]],[[[169.334375,-18.940234],[169.01582,-18.64375],[168.986914,-18.871289],[169.334375,-18.940234]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"UZ","iso_a3":"UZB","iso_n3":"860"},"geometry":{"type":"Polygon","coordinates":[[[70.946777,42.248682],[69.153613,41.425244],[68.572656,40.622656],[68.291895,40.656104],[67.935742,41.196582],[66.709668,41.17915],[66.498633,41.994873],[66.00957,42.004883],[66.100293,42.99082],[65.803027,42.876953],[64.905469,43.714697],[61.990234,43.492139],[61.00791,44.393799],[58.555273,45.555371],[55.975684,44.994922],[55.977441,41.322217],[57.017969,41.263477],[56.964063,41.856543],[58.028906,42.487646],[58.474414,42.299365],[58.151563,42.628076],[58.589063,42.778467],[59.985156,42.211719],[60.089648,41.399414],[61.902832,41.093701],[62.483203,39.975635],[63.763672,39.160547],[65.612891,38.238574],[66.60625,37.986719],[66.522266,37.348486],[67.758984,37.172217],[68.350293,38.211035],[68.13252,38.927637],[67.357617,39.216699],[67.426172,39.465576],[68.463281,39.536719],[68.97207,40.089941],[68.630664,40.16709],[69.274902,40.198096],[69.357227,40.767383],[69.712891,40.656982],[70.401953,41.035107],[70.751074,40.721777],[70.371582,40.384131],[70.958008,40.238867],[71.69248,40.152344],[73.136914,40.810645],[72.187305,41.025928],[71.664941,41.541211],[71.393066,41.123389],[70.200879,41.514453],[71.228516,42.162891],[70.946777,42.248682]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"UY","iso_a3":"URY","iso_n3":"858"},"geometry":{"type":"Polygon","coordinates":[[[-53.370605,-33.742188],[-53.531348,-33.170898],[-53.125586,-32.736719],[-53.761719,-32.056836],[-55.603027,-30.850781],[-56.004687,-31.079199],[-56.044824,-30.777637],[-56.832715,-30.107227],[-57.608887,-30.187793],[-58.201172,-32.47168],[-58.092676,-32.967383],[-58.363525,-33.182324],[-58.438135,-33.719141],[-57.829102,-34.477344],[-57.170703,-34.452344],[-56.249951,-34.90127],[-54.902295,-34.932813],[-53.785303,-34.380371],[-53.370605,-33.742188]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"FM","iso_a3":"FSM","iso_n3":"583"},"geometry":{"type":"Polygon","coordinates":[[[158.314844,6.813672],[158.294629,6.951074],[158.134766,6.944824],[158.314844,6.813672]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MH","iso_a3":"MHL","iso_n3":"584"},"geometry":{"type":"Polygon","coordinates":[[[171.101953,7.138232],[171.035742,7.156104],[171.235352,7.06875],[171.39375,7.110938],[171.101953,7.138232]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MP","iso_a3":"MNP","iso_n3":"580"},"geometry":{"type":"Polygon","coordinates":[[[145.751953,15.133154],[145.821875,15.265381],[145.713184,15.215283],[145.751953,15.133154]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"VI","iso_a3":"VIR","iso_n3":"850"},"geometry":{"type":"Polygon","coordinates":[[[-64.765625,17.794336],[-64.889111,17.701709],[-64.580469,17.750195],[-64.765625,17.794336]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GU","iso_a3":"GUM","iso_n3":"316"},"geometry":{"type":"Polygon","coordinates":[[[144.741797,13.259277],[144.875391,13.614648],[144.649316,13.428711],[144.741797,13.259277]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AS","iso_a3":"ASM","iso_n3":"016"},"geometry":{"type":"Polygon","coordinates":[[[-170.72627,-14.351172],[-170.568115,-14.266797],[-170.820508,-14.312109],[-170.72627,-14.351172]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PR","iso_a3":"PRI","iso_n3":"630"},"geometry":{"type":"Polygon","coordinates":[[[-66.129395,18.444922],[-67.158643,18.499219],[-67.196875,17.994189],[-65.970801,17.974365],[-65.62085,18.242334],[-66.129395,18.444922]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"US","iso_a3":"USA","iso_n3":"840"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-171.463037,63.640039],[-171.631836,63.351221],[-170.848389,63.444385],[-169.676367,62.956104],[-168.761328,63.21377],[-170.299365,63.680615],[-171.463037,63.640039]]],[[[-166.135449,60.383545],[-167.436426,60.206641],[-166.14873,59.764111],[-165.591797,59.913135],[-166.135449,60.383545]]],[[[-152.898047,57.823926],[-153.841553,57.862842],[-153.687695,57.305127],[-154.116162,57.651221],[-154.673193,57.446094],[-154.338965,56.920898],[-154.24375,57.143018],[-153.793213,56.989502],[-154.027344,56.777979],[-152.679053,57.345117],[-152.940771,57.498096],[-152.216211,57.577002],[-152.898047,57.823926]]],[[[-130.025098,55.888232],[-130.097852,56.109277],[-131.824268,56.58999],[-133.401123,58.410889],[-135.475928,59.793262],[-137.438574,58.903125],[-139.185156,60.083594],[-139.079248,60.343701],[-141.002148,60.300244],[-141.002148,64.975537],[-141.002148,69.650781],[-143.218311,70.11626],[-145.197363,70.008691],[-149.269434,70.500781],[-151.944678,70.4521],[-152.491211,70.880957],[-154.195215,70.801123],[-155.166846,71.099219],[-155.973535,70.841992],[-155.579443,71.121094],[-156.470215,71.407666],[-157.909375,70.860107],[-159.680908,70.786768],[-159.865674,70.278857],[-160.117139,70.591211],[-162.073877,70.161963],[-161.880957,70.331738],[-163.86792,69.03667],[-166.209082,68.885352],[-166.786279,68.359619],[-164.125195,67.606738],[-163.531836,67.102588],[-161.719922,67.020557],[-161.856689,66.700342],[-160.360889,66.6125],[-160.231689,66.420264],[-161.591016,66.459521],[-162.361621,66.947314],[-161.916895,66.411816],[-161.034277,66.188818],[-163.695361,66.083838],[-163.638232,66.574658],[-164.460498,66.588428],[-168.088379,65.657764],[-166.157031,65.28584],[-166.928418,65.15708],[-166.142773,64.582764],[-163.144336,64.423828],[-163.203906,64.652002],[-162.807031,64.374219],[-161.759375,64.81626],[-160.855908,64.755615],[-161.490723,64.433789],[-160.778564,63.818945],[-161.099707,63.55791],[-162.282812,63.529199],[-163.287842,63.046436],[-164.409033,63.215039],[-164.757861,62.496729],[-166.078809,61.803125],[-165.565869,61.102344],[-165.273633,61.274854],[-164.868994,61.111768],[-165.114844,60.932812],[-163.749023,60.969727],[-163.420947,60.757422],[-164.372363,60.591846],[-164.805176,60.892041],[-165.353809,60.541211],[-163.680371,59.801514],[-162.570752,59.989746],[-162.684961,60.268945],[-161.962012,60.695361],[-162.421338,60.283984],[-161.828711,59.588623],[-161.981055,59.146143],[-161.644385,59.109668],[-162.144922,58.644238],[-160.363135,59.051172],[-158.950684,58.404541],[-158.809473,58.973877],[-158.080518,58.977441],[-158.503174,58.850342],[-158.190918,58.614258],[-156.808887,59.134277],[-157.523633,58.421338],[-157.193701,58.194189],[-157.610889,58.05083],[-157.461914,57.506201],[-158.320947,57.2979],[-158.675146,56.794873],[-160.302051,56.314111],[-160.291699,55.805078],[-161.697314,55.907227],[-163.278809,55.121826],[-163.335303,54.83916],[-163.131104,54.916553],[-163.119629,55.064697],[-162.674365,54.996582],[-162.630371,55.24668],[-162.073975,55.139307],[-161.516943,55.618408],[-161.381934,55.371289],[-159.771387,55.841113],[-159.659668,55.625928],[-158.275635,56.19624],[-158.414404,56.43584],[-156.629004,57.009961],[-156.435889,57.359961],[-154.247021,58.159424],[-153.437598,58.754834],[-154.17832,59.155566],[-152.660107,59.997217],[-153.025,60.295654],[-152.540918,60.26543],[-151.593506,60.979639],[-149.433545,61.500781],[-150.053271,61.171094],[-149.075098,60.876416],[-150.44126,61.023584],[-151.356445,60.722949],[-151.853223,59.78208],[-151.046484,59.771826],[-151.884619,59.386328],[-151.738184,59.188525],[-150.934521,59.249121],[-149.713867,59.91958],[-149.598047,59.770459],[-149.395264,60.105762],[-148.430713,59.989111],[-147.964111,60.484863],[-148.640137,60.489453],[-148.256738,60.675293],[-148.556152,60.827002],[-147.751855,61.218945],[-147.891113,60.889893],[-146.284912,61.112646],[-146.570459,60.72915],[-145.674902,60.651123],[-145.898877,60.478174],[-145.248291,60.380127],[-144.691113,60.669092],[-144.901318,60.335156],[-144.147217,60.016406],[-141.40874,60.117676],[-141.408301,59.902783],[-140.419824,59.710742],[-139.431445,60.012256],[-138.988086,59.83501],[-139.286719,59.610938],[-139.512305,59.953564],[-139.773291,59.527295],[-136.607422,58.243994],[-136.061475,58.452734],[-136.989014,59.034473],[-136.22583,58.765479],[-136.150049,59.048096],[-135.897559,58.400195],[-135.090234,58.24585],[-135.363672,59.419434],[-134.776123,58.453857],[-134.208838,58.232959],[-133.876758,58.518164],[-134.031104,58.072168],[-133.194336,57.877686],[-133.535205,57.832959],[-133.117041,57.566211],[-133.64873,57.642285],[-133.465869,57.172168],[-131.551367,56.206787],[-132.15542,55.599561],[-131.032764,56.088086],[-130.748193,55.318018],[-131.047852,55.157666],[-130.575342,54.769678],[-130.214062,55.025879],[-130.025098,55.888232]]],[[[-163.476025,54.980713],[-164.478613,54.906836],[-164.823438,54.419092],[-163.083252,54.668994],[-163.378955,54.815527],[-163.476025,54.980713]]],[[[-133.305078,55.54375],[-133.737109,55.496924],[-133.650195,55.269287],[-133.305078,55.54375]]],[[[-131.339746,55.079834],[-131.56543,55.264111],[-131.329541,54.887744],[-131.339746,55.079834]]],[[[-132.112354,56.109375],[-132.379834,56.498779],[-132.659912,56.078174],[-132.287305,55.929395],[-132.112354,56.109375]]],[[[-130.97915,55.48916],[-131.269238,55.955371],[-131.7625,55.16582],[-131.447559,55.408789],[-131.187891,55.206299],[-130.97915,55.48916]]],[[[-133.366211,57.003516],[-133.979443,57.00957],[-133.48418,56.451758],[-133.158154,56.495166],[-133.328955,56.830078],[-132.95918,56.677051],[-133.366211,57.003516]]],[[[-132.862256,54.894434],[-133.429053,55.303809],[-132.705811,54.68418],[-132.862256,54.894434]]],[[[-160.684912,55.314795],[-160.795068,55.145215],[-160.487549,55.184863],[-160.684912,55.314795]]],[[[-177.148193,51.716748],[-177.110059,51.92876],[-177.670215,51.701074],[-177.148193,51.716748]]],[[[-134.969775,57.351416],[-135.448682,57.534375],[-135.812305,57.009521],[-135.454932,57.249414],[-134.681885,56.216162],[-134.969775,57.351416]]],[[[-134.680273,58.16167],[-134.923486,58.354639],[-134.516016,57.042578],[-133.911133,57.352539],[-134.292334,58.044727],[-133.822754,57.628662],[-134.240088,58.143994],[-134.680273,58.16167]]],[[[-135.730371,58.244238],[-136.568604,57.972168],[-135.910791,57.446582],[-135.564209,57.666406],[-134.931494,57.481152],[-135.338477,57.768652],[-134.954688,58.015332],[-135.613232,57.991846],[-135.730371,58.244238]]],[[[-133.566113,56.339209],[-133.742529,55.964844],[-133.241504,55.920801],[-133.680176,55.785156],[-133.033398,55.589697],[-133.118555,55.327637],[-132.064746,54.713135],[-131.976416,55.208594],[-132.631299,55.473193],[-132.172705,55.480615],[-133.566113,56.339209]]],[[[-133.9896,56.844971],[-134.373682,56.838672],[-134.1896,56.076953],[-133.738379,56.650439],[-133.9896,56.844971]]],[[[-152.416943,58.360205],[-152.841113,58.416406],[-153.381348,58.087207],[-152.068896,58.17793],[-152.416943,58.360205]]],[[[-167.964355,53.345117],[-167.828076,53.507959],[-168.287695,53.500146],[-169.088916,52.832031],[-167.964355,53.345117]]],[[[-166.615332,53.900928],[-167.038086,53.942188],[-166.808984,53.646143],[-167.780859,53.300244],[-166.354541,53.673535],[-166.230859,53.932617],[-166.615332,53.900928]]],[[[-173.55332,52.136279],[-173.99248,52.12334],[-173.0229,52.07915],[-173.55332,52.136279]]],[[[-174.677393,52.03501],[-174.045605,52.367236],[-175.295557,52.022168],[-174.677393,52.03501]]],[[[-176.593311,51.866699],[-176.961621,51.603662],[-176.452344,51.735693],[-176.593311,51.866699]]],[[[-177.879053,51.649707],[-177.644482,51.82627],[-178.168262,51.903027],[-177.879053,51.649707]]],[[[172.811816,53.012988],[172.494824,52.937891],[172.935156,52.7521],[173.436035,52.852051],[172.811816,53.012988]]],[[[-155.581348,19.012012],[-154.804199,19.524463],[-155.831641,20.27583],[-156.048682,19.749951],[-155.881299,19.070508],[-155.581348,19.012012]]],[[[-156.486816,20.932568],[-156.697754,20.949072],[-156.408789,20.605176],[-155.989844,20.757129],[-156.486816,20.932568]]],[[[-157.799365,21.456641],[-157.9625,21.701367],[-158.273145,21.585254],[-158.110352,21.318604],[-157.6354,21.307617],[-157.799365,21.456641]]],[[[-159.372754,21.932373],[-159.352051,22.21958],[-159.78916,22.041797],[-159.372754,21.932373]]],[[[-74.708887,45.003857],[-76.151172,44.303955],[-76.819971,43.628809],[-78.72041,43.624951],[-79.171875,43.466553],[-79.036719,42.802344],[-82.690039,41.675195],[-83.149658,42.141943],[-82.545312,42.624707],[-82.137842,43.570898],[-82.551074,45.347363],[-83.592676,45.817139],[-83.615967,46.116846],[-83.977783,46.084912],[-84.149463,46.542773],[-84.561768,46.457373],[-84.875977,46.899902],[-88.378174,48.303076],[-89.455664,47.99624],[-90.916064,48.209131],[-91.518311,48.058301],[-92.99624,48.611816],[-94.620898,48.742627],[-95.155273,49.369678],[-95.162061,48.991748],[-97.529834,48.993164],[-106.483838,48.993115],[-114.585107,48.993066],[-122.78877,48.993018],[-122.241992,48.010742],[-122.353809,47.371582],[-122.701953,47.110889],[-123.027588,47.138916],[-122.577881,47.293164],[-122.532812,47.919727],[-123.139062,47.386084],[-122.656641,47.881152],[-122.778613,48.137598],[-124.709961,48.380371],[-124.139258,46.954688],[-123.842871,46.963184],[-124.112549,46.862695],[-124.072754,46.279443],[-123.220605,46.153613],[-123.989307,46.219385],[-124.14873,43.691748],[-124.539648,42.812891],[-124.071924,41.459521],[-124.324023,40.251953],[-122.998779,37.988623],[-122.521338,37.826416],[-122.393359,38.144824],[-121.525342,38.055908],[-122.314258,38.007324],[-122.070508,37.478271],[-122.445605,37.797998],[-122.499219,37.542627],[-121.807422,36.851221],[-121.877393,36.331055],[-120.659082,35.122412],[-120.644678,34.57998],[-118.506201,34.017383],[-118.410449,33.743945],[-117.467432,33.295508],[-117.128271,32.53335],[-114.724756,32.715332],[-114.835938,32.508301],[-111.041992,31.324219],[-108.214453,31.329443],[-108.211816,31.779346],[-106.44541,31.768408],[-104.978809,30.645947],[-104.110596,29.386133],[-103.168311,28.998193],[-102.614941,29.752344],[-101.440381,29.776855],[-99.505322,27.54834],[-99.107764,26.446924],[-97.14624,25.961475],[-97.485107,27.237402],[-97.768457,27.45752],[-97.439111,27.328271],[-97.156494,28.144336],[-96.421094,28.457324],[-96.640039,28.708789],[-96.011035,28.631934],[-96.234521,28.488965],[-95.273486,28.963867],[-94.888281,29.370557],[-95.022852,29.702344],[-94.52627,29.547949],[-94.759619,29.384277],[-93.890479,29.689355],[-93.841455,29.979736],[-93.826465,29.725146],[-92.26084,29.556836],[-91.893164,29.836035],[-91.248828,29.564209],[-91.290137,29.288965],[-90.751025,29.130859],[-90.379199,29.295117],[-90.212793,29.104932],[-90.159082,29.537158],[-89.376123,28.981348],[-89.015723,29.202881],[-89.720898,29.619287],[-89.354443,29.820215],[-89.400732,30.046045],[-90.175342,30.029102],[-90.331982,30.277588],[-88.135449,30.366602],[-88.011328,30.694189],[-87.790283,30.291797],[-88.005957,30.230908],[-87.281055,30.339258],[-86.997559,30.570312],[-87.201172,30.339258],[-86.257373,30.493018],[-86.454443,30.399121],[-85.603516,30.286768],[-85.318945,29.680225],[-84.309668,30.064746],[-83.694385,29.925977],[-82.651465,28.8875],[-82.843506,27.845996],[-82.405762,27.862891],[-82.7146,27.499609],[-82.441357,27.059668],[-82.242871,26.848877],[-82.013281,26.961572],[-81.715479,25.983154],[-80.94043,25.264209],[-81.110498,25.138037],[-80.484668,25.229834],[-80.126367,25.833496],[-80.050049,26.807715],[-80.838184,28.757666],[-80.456885,27.900684],[-80.524121,28.486084],[-81.249512,29.793799],[-81.516211,30.801807],[-81.380957,31.353271],[-80.694238,32.215723],[-80.802539,32.448047],[-80.579346,32.287305],[-80.63418,32.511719],[-79.940723,32.667139],[-78.841455,33.724072],[-78.01333,33.911816],[-77.953271,34.168994],[-77.927832,33.939746],[-77.412256,34.730811],[-76.439795,34.84292],[-76.974951,35.025195],[-77.070264,35.154639],[-76.77915,34.990332],[-76.512939,35.27041],[-77.03999,35.527393],[-76.173828,35.35415],[-75.758838,35.843262],[-76.083594,35.690527],[-76.069775,35.970312],[-76.726221,35.957617],[-76.733643,36.22915],[-76.559375,36.015332],[-76.147852,36.279297],[-75.820068,36.112842],[-75.946484,36.659082],[-75.53418,35.819092],[-75.999414,36.912646],[-76.487842,36.897021],[-77.250879,37.329199],[-76.283301,37.052686],[-76.757715,37.50542],[-76.453906,37.273535],[-76.305566,37.571484],[-76.549463,37.669141],[-77.111084,38.165674],[-76.49248,37.682227],[-76.344141,37.675684],[-76.264258,37.893555],[-77.273242,38.351758],[-77.2604,38.6],[-77.030371,38.889258],[-77.23252,38.407715],[-76.341162,38.087012],[-76.668555,38.5375],[-76.394092,38.368994],[-76.57041,39.269336],[-75.958936,39.585059],[-76.341162,38.709668],[-76.016943,38.625098],[-76.264648,38.436426],[-75.858691,38.362061],[-75.659277,37.953955],[-75.934375,37.151904],[-75.03877,38.426367],[-75.187109,38.591113],[-75.088672,38.777539],[-75.392188,39.092773],[-75.587598,39.640771],[-75.07417,39.983496],[-75.524219,39.490186],[-74.897021,39.145459],[-74.954297,38.949951],[-74.794482,39.001904],[-74.0646,39.993115],[-74.079932,39.788135],[-73.972266,40.400342],[-74.264209,40.528613],[-73.969922,41.249707],[-73.987109,40.751367],[-72.924707,41.285156],[-71.522852,41.378955],[-71.390137,41.795312],[-71.168555,41.489404],[-69.948633,41.677148],[-69.977881,41.961279],[-70.108936,42.07832],[-70.001416,41.826172],[-70.42666,41.757275],[-71.046191,42.331104],[-70.612939,42.623242],[-70.733105,43.07002],[-70.178809,43.766357],[-69.226074,43.986475],[-68.762695,44.570752],[-68.53252,44.258643],[-68.450586,44.507617],[-68.056641,44.384326],[-67.19126,44.675586],[-67.124854,45.169434],[-67.802246,45.727539],[-67.806787,47.082812],[-68.235498,47.345947],[-68.937207,47.21123],[-69.242871,47.462988],[-70.865039,45.270703],[-71.327295,45.290088],[-71.517529,45.007568],[-74.708887,45.003857]],[[-122.572754,48.156641],[-122.628613,48.384229],[-122.383154,47.923193],[-122.572754,48.156641]]],[[[-72.509766,40.986035],[-72.274121,41.153027],[-73.573828,40.919629],[-74.014893,40.581201],[-71.903223,41.060693],[-72.509766,40.986035]]],[[[-80.381836,25.142285],[-80.25708,25.347607],[-80.580566,24.954248],[-80.381836,25.142285]]],[[[-84.90791,29.642627],[-84.737158,29.732422],[-85.116748,29.632812],[-84.90791,29.642627]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GS","iso_a3":"SGS","iso_n3":"239"},"geometry":{"type":"Polygon","coordinates":[[[-37.10332,-54.065625],[-38.017432,-54.008008],[-36.085498,-54.866797],[-35.798584,-54.763477],[-36.326465,-54.251172],[-37.10332,-54.065625]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IO","iso_a3":"IOT","iso_n3":"086"},"geometry":{"type":"Polygon","coordinates":[[[72.491992,-7.377441],[72.445605,-7.22041],[72.447266,-7.395703],[72.349707,-7.263379],[72.429102,-7.435352],[72.491992,-7.377441]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SH","iso_a3":"SHN","iso_n3":"654"},"geometry":{"type":"Polygon","coordinates":[[[-5.692139,-15.997754],[-5.707861,-15.906152],[-5.78252,-16.004004],[-5.692139,-15.997754]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PN","iso_a3":"PCN","iso_n3":"612"},"geometry":{"type":"Polygon","coordinates":[[[-128.290088,-24.397363],[-128.330127,-24.323242],[-128.342188,-24.370703],[-128.290088,-24.397363]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AI","iso_a3":"AIA","iso_n3":"660"},"geometry":{"type":"Polygon","coordinates":[[[-63.001221,18.221777],[-63.026025,18.269727],[-63.16001,18.171387],[-63.001221,18.221777]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"FK","iso_a3":"FLK","iso_n3":"238"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-58.850195,-51.269922],[-59.570801,-51.925391],[-59.395654,-52.308008],[-59.19585,-52.017676],[-58.652783,-52.099219],[-57.791797,-51.636133],[-57.976514,-51.384375],[-58.271582,-51.574707],[-58.850195,-51.269922]]],[[[-60.28623,-51.461914],[-60.568457,-51.357812],[-60.245166,-51.638867],[-60.58252,-51.712695],[-60.238477,-51.771973],[-60.961426,-52.057324],[-60.686377,-52.188379],[-59.268066,-51.427539],[-60.28623,-51.461914]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KY","iso_a3":"CYM","iso_n3":"136"},"geometry":{"type":"Polygon","coordinates":[[[-81.369531,19.348877],[-81.404785,19.278418],[-81.107129,19.305176],[-81.369531,19.348877]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BM","iso_a3":"BMU","iso_n3":"060"},"geometry":{"type":"Polygon","coordinates":[[[-64.730273,32.293457],[-64.668311,32.381934],[-64.862842,32.273877],[-64.730273,32.293457]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"VG","iso_a3":"VGB","iso_n3":"092"},"geometry":{"type":"Polygon","coordinates":[[[-64.395215,18.4646],[-64.324658,18.51748],[-64.426074,18.513086],[-64.395215,18.4646]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TC","iso_a3":"TCA","iso_n3":"796"},"geometry":{"type":"Polygon","coordinates":[[[-71.661426,21.765234],[-71.668359,21.833447],[-71.847656,21.843457],[-71.661426,21.765234]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MS","iso_a3":"MSR","iso_n3":"500"},"geometry":{"type":"Polygon","coordinates":[[[-62.148438,16.740332],[-62.191357,16.804395],[-62.221631,16.699512],[-62.148438,16.740332]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"JE","iso_a3":"JEY","iso_n3":"832"},"geometry":{"type":"Polygon","coordinates":[[[-2.018652,49.23125],[-2.220508,49.266357],[-2.23584,49.176367],[-2.018652,49.23125]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GG","iso_a3":"GGY","iso_n3":"831"},"geometry":{"type":"Polygon","coordinates":[[[-2.512305,49.494531],[-2.639014,49.450928],[-2.547363,49.428711],[-2.512305,49.494531]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IM","iso_a3":"IMN","iso_n3":"833"},"geometry":{"type":"Polygon","coordinates":[[[-4.412061,54.185352],[-4.424707,54.407178],[-4.785352,54.073047],[-4.412061,54.185352]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GB","iso_a3":"GBR","iso_n3":"826"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-2.667676,51.622998],[-2.433057,51.740723],[-3.135986,51.205029],[-4.188184,51.188525],[-5.622119,50.050684],[-4.19458,50.393311],[-3.679785,50.239941],[-2.999414,50.716602],[-2.03584,50.603076],[-1.416455,50.896875],[0.205078,50.763037],[0.960156,50.925879],[1.414941,51.363281],[0.424512,51.465625],[1.274414,51.845361],[1.743359,52.578516],[1.271289,52.924561],[0.045898,52.905615],[0.270996,53.335498],[-0.659912,53.724023],[0.115332,53.609277],[-0.084375,54.118066],[-1.232422,54.703711],[-1.655371,55.570361],[-2.599316,56.027295],[-3.789062,56.095215],[-2.674268,56.253418],[-3.309961,56.363477],[-2.592676,56.561572],[-1.77793,57.49375],[-2.074072,57.702393],[-4.134521,57.577734],[-3.053076,58.634814],[-4.924658,58.588379],[-5.413184,58.069727],[-5.157227,57.881348],[-5.744922,57.668311],[-5.561914,57.232715],[-5.730615,56.853076],[-6.132764,56.718018],[-5.652441,56.531982],[-5.188379,56.758057],[-5.768213,55.362646],[-4.996973,56.23335],[-5.228223,55.886328],[-4.800293,56.15835],[-4.584082,55.938672],[-5.135498,54.85752],[-4.91123,54.689453],[-3.03623,54.953076],[-3.592041,54.564355],[-3.165967,54.12793],[-2.867578,54.177246],[-3.0646,53.512842],[-2.749512,53.310205],[-4.268555,53.144531],[-4.683057,52.806152],[-4.101465,52.915479],[-4.149365,52.32627],[-5.262305,51.880176],[-3.562354,51.413818],[-2.667676,51.622998]]],[[[-4.196777,53.321436],[-4.567871,53.386475],[-4.373047,53.13418],[-4.196777,53.321436]]],[[[-1.308105,60.5375],[-1.66377,60.28252],[-1.299463,59.878662],[-1.308105,60.5375]]],[[[-3.057422,59.029639],[-3.310352,59.130811],[-2.793018,58.906934],[-3.057422,59.029639]]],[[[-5.777881,56.344336],[-6.286328,56.611865],[-6.313428,56.293652],[-5.777881,56.344336]]],[[[-6.198682,58.363281],[-7.085254,58.182178],[-6.983105,57.75],[-6.198682,58.363281]]],[[[-6.144727,57.50498],[-6.305957,57.671973],[-6.761133,57.442383],[-5.949072,57.045166],[-5.672461,57.252686],[-6.135547,57.314258],[-6.144727,57.50498]]],[[[-6.218018,54.088721],[-5.47041,54.500195],[-6.035791,55.144531],[-7.218652,55.091992],[-8.118262,54.414258],[-7.606543,54.143848],[-7.007715,54.406689],[-6.649805,54.058643],[-6.218018,54.088721]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AE","iso_a3":"ARE","iso_n3":"784"},"geometry":{"type":"Polygon","coordinates":[[[56.297852,25.650684],[56.080469,26.062646],[54.147949,24.171191],[52.118555,23.971094],[51.568359,24.286182],[52.555078,22.932812],[55.18584,22.704102],[55.468457,23.941113],[55.985156,24.063379],[55.76084,24.242676],[55.795703,24.868115],[56.000586,24.953223],[56.063867,24.73877],[56.387988,24.979199],[56.297852,25.650684]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"UA","iso_a3":"UKR","iso_n3":"804"},"geometry":{"type":"Polygon","coordinates":[[[38.214355,47.091455],[38.368848,47.609961],[39.778711,47.887549],[39.95791,48.268896],[39.644727,48.591211],[40.003613,48.82207],[39.686523,49.00791],[40.108789,49.251562],[40.080664,49.576855],[38.258594,50.052344],[38.046875,49.92002],[37.422852,50.411475],[36.619434,50.209229],[35.591113,50.36875],[35.311914,51.043896],[34.213867,51.255371],[34.397852,51.78042],[33.735254,52.344775],[31.763379,52.101074],[30.755273,51.895166],[30.544531,51.265039],[30.160742,51.477881],[29.346484,51.382568],[29.102051,51.627539],[28.73125,51.433398],[27.7,51.477979],[27.141992,51.752051],[25.267188,51.937744],[23.605273,51.51792],[24.089941,50.530469],[22.706152,49.606201],[22.852051,49.062744],[22.538672,49.072705],[22.131836,48.405322],[22.87666,47.947266],[23.202637,48.084521],[24.979102,47.724121],[26.618945,48.259863],[27.549219,48.477734],[29.125391,47.964551],[29.134863,47.489697],[30.131055,46.423096],[28.958398,46.458496],[28.947754,46.049951],[28.2125,45.450439],[29.705859,45.259912],[29.628418,45.722461],[30.219043,45.866748],[30.796289,46.552002],[31.563379,46.777295],[31.872852,46.649756],[31.75918,47.212842],[32.044336,46.64248],[32.578027,46.615625],[31.554883,46.554297],[32.008496,46.42998],[31.83125,46.281689],[33.594141,46.09624],[33.806667,46.208288],[35.001674,45.733383],[34.849609,46.189893],[35.230371,46.440625],[35.014551,46.106006],[35.827148,46.624316],[38.214355,47.091455]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"UG","iso_a3":"UGA","iso_n3":"800"},"geometry":{"type":"Polygon","coordinates":[[[33.903223,-1.002051],[33.943164,0.173779],[34.978223,1.773633],[34.437695,3.650586],[33.976074,4.220215],[33.489355,3.755078],[32.997266,3.880176],[32.135938,3.519727],[31.798047,3.802637],[31.152344,3.785596],[30.838574,3.490723],[30.728613,2.455371],[31.252734,2.04458],[29.942871,0.819238],[29.576953,-1.387891],[29.930078,-1.469922],[30.509961,-1.067285],[33.903223,-1.002051]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TM","iso_a3":"TKM","iso_n3":"795"},"geometry":{"type":"Polygon","coordinates":[[[55.977441,41.322217],[55.434375,41.296289],[54.120996,42.335205],[53.055859,42.147754],[52.493848,41.780371],[52.850391,41.200293],[52.97002,41.976221],[53.804688,42.117627],[54.703711,41.071143],[54.377344,40.693262],[53.87002,40.648682],[52.943457,41.038086],[52.733691,40.39873],[53.035547,39.774414],[52.9875,39.987598],[53.487305,39.909375],[53.603125,39.546973],[53.235645,39.608545],[53.156641,39.26499],[53.70459,39.20957],[53.868652,38.949268],[53.91416,37.343555],[54.699414,37.470166],[55.380859,38.051123],[57.193555,38.216406],[58.261621,37.66582],[59.301758,37.510645],[60.341309,36.637646],[61.119629,36.642578],[61.262012,35.61958],[62.307813,35.170801],[62.688086,35.255322],[63.056641,35.445801],[63.12998,35.846191],[64.511035,36.340674],[64.816309,37.13208],[65.55498,37.251172],[65.765039,37.569141],[66.522266,37.348486],[66.60625,37.986719],[65.612891,38.238574],[63.763672,39.160547],[62.483203,39.975635],[61.902832,41.093701],[60.089648,41.399414],[59.985156,42.211719],[58.589063,42.778467],[58.151563,42.628076],[58.474414,42.299365],[58.028906,42.487646],[56.964063,41.856543],[57.017969,41.263477],[55.977441,41.322217]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TR","iso_a3":"TUR","iso_n3":"792"},"geometry":{"type":"MultiPolygon","coordinates":[[[[41.510059,41.51748],[40.265234,40.961328],[39.426367,41.106445],[38.381055,40.924512],[36.405371,41.274609],[36.051758,41.682568],[35.297754,41.728516],[35.006445,42.063281],[33.381348,42.017578],[31.254883,41.107617],[29.148145,41.221045],[29.113867,40.937842],[29.849219,40.760107],[28.958008,40.630566],[29.007129,40.389746],[26.738086,40.400244],[26.181348,39.990088],[26.113086,39.467383],[26.899219,39.549658],[26.681836,39.292236],[27.013672,38.886865],[26.763672,38.709619],[27.144238,38.451953],[26.674219,38.335742],[26.441309,38.641211],[26.290723,38.277197],[27.232422,37.978662],[27.067969,37.65791],[27.535059,37.163867],[27.262988,36.976562],[28.242383,37.029053],[27.453906,36.712158],[28.969629,36.715332],[29.689062,36.156689],[30.446094,36.269873],[30.644043,36.865674],[31.240625,36.821729],[32.794824,36.035889],[33.694727,36.181982],[34.703613,36.816797],[35.393164,36.575195],[36.048926,36.910596],[35.892676,35.916553],[36.153613,35.833887],[36.636719,36.233984],[36.658594,36.802539],[37.436328,36.643311],[38.191699,36.901562],[39.356641,36.681592],[40.705664,37.097705],[42.202734,37.297266],[42.358984,37.108594],[42.774609,37.371875],[44.114453,37.301855],[44.281836,36.978027],[44.765137,37.142432],[44.589941,37.710352],[44.211328,37.908057],[44.449902,38.334229],[44.023242,39.377441],[44.389355,39.422119],[44.587109,39.768555],[44.817188,39.650439],[44.768262,39.703516],[43.666211,40.126367],[43.439453,41.107129],[42.754102,41.578906],[41.510059,41.51748]]],[[[28.014453,41.969043],[27.011719,42.058643],[26.320898,41.716553],[26.624902,41.401758],[26.038965,40.726758],[26.79209,40.626611],[26.202734,40.075391],[27.499414,40.973145],[28.95625,41.008203],[29.057227,41.229736],[28.197852,41.554492],[28.014453,41.969043]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TN","iso_a3":"TUN","iso_n3":"788"},"geometry":{"type":"Polygon","coordinates":[[[11.50459,33.181934],[10.049023,34.056299],[11.120117,35.240283],[10.476562,36.175146],[11.053906,37.07251],[10.412305,36.731836],[10.196387,37.205859],[9.830273,37.135352],[9.687988,37.340381],[8.576563,36.937207],[8.207617,36.518945],[8.245605,34.734082],[7.500195,33.832471],[8.333398,32.543604],[9.044043,32.072363],[9.51875,30.229395],[10.216406,30.783203],[10.274609,31.684961],[11.50498,32.413672],[11.50459,33.181934]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TT","iso_a3":"TTO","iso_n3":"780"},"geometry":{"type":"Polygon","coordinates":[[[-61.012109,10.134326],[-60.917627,10.840234],[-61.651172,10.718066],[-61.499316,10.268555],[-61.906104,10.069141],[-61.012109,10.134326]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TO","iso_a3":"TON","iso_n3":"776"},"geometry":{"type":"Polygon","coordinates":[[[-175.161914,-21.169336],[-175.362354,-21.106836],[-175.156592,-21.263672],[-175.161914,-21.169336]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TG","iso_a3":"TGO","iso_n3":"768"},"geometry":{"type":"Polygon","coordinates":[[[0.900488,10.993262],[-0.068604,11.115625],[-0.086328,10.673047],[0.380859,10.291846],[0.233398,9.463525],[0.525684,9.398486],[0.372559,8.759277],[0.686328,8.354883],[0.525586,6.850928],[1.187207,6.089404],[1.622656,6.216797],[1.77793,6.294629],[1.530957,6.992432],[1.600195,9.050049],[1.330078,9.996973],[0.763379,10.38667],[0.900488,10.993262]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TL","iso_a3":"TLS","iso_n3":"626"},"geometry":{"type":"MultiPolygon","coordinates":[[[[125.068164,-9.511914],[127.296094,-8.424512],[125.381836,-8.575391],[124.922266,-8.94248],[125.149023,-9.042578],[124.960156,-9.21377],[125.068164,-9.511914]]],[[[124.036328,-9.341602],[124.282324,-9.42793],[124.444434,-9.190332],[124.036328,-9.341602]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TH","iso_a3":"THA","iso_n3":"764"},"geometry":{"type":"MultiPolygon","coordinates":[[[[98.409082,7.902051],[98.32207,8.166309],[98.296289,7.776074],[98.409082,7.902051]]],[[[100.122461,20.31665],[99.458887,20.363037],[99.485938,20.149854],[99.074219,20.099365],[98.916699,19.7729],[98.015039,19.749512],[97.745898,18.588184],[97.373926,18.517969],[98.660742,16.33042],[98.888281,16.351904],[98.202148,14.975928],[99.136816,13.716699],[99.123926,13.030762],[99.614746,11.781201],[98.757227,10.660937],[98.702539,10.190381],[98.241797,8.767871],[98.305469,8.226221],[98.703516,8.256738],[100.119141,6.441992],[100.261426,6.682715],[101.053516,6.242578],[101.113965,5.636768],[101.556055,5.907764],[101.873633,5.825293],[102.101074,6.242236],[101.497949,6.865283],[100.423535,7.187842],[100.160742,7.599268],[100.256641,7.774902],[100.545215,7.226904],[100.279395,8.268506],[99.835547,9.288379],[99.253906,9.265234],[99.165039,10.319824],[99.989062,12.170801],[99.990527,13.243457],[100.235645,13.484473],[100.962695,13.431982],[100.897754,12.653809],[101.835742,12.640381],[102.594141,12.203027],[102.933887,11.706689],[102.336328,13.560303],[103.199414,14.332617],[105.183301,14.34624],[105.497363,14.590674],[105.641016,15.656543],[104.819336,16.466064],[104.739648,17.46167],[103.949609,18.318994],[103.366992,18.42334],[102.680078,17.824121],[102.101465,18.210645],[100.955859,17.541113],[101.211914,19.54834],[100.513574,19.553467],[100.519531,20.17793],[100.122461,20.31665]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TZ","iso_a3":"TZA","iso_n3":"834"},"geometry":{"type":"MultiPolygon","coordinates":[[[[39.496484,-6.174609],[39.308984,-5.721973],[39.182324,-6.172559],[39.480957,-6.453711],[39.496484,-6.174609]]],[[[39.865039,-4.906152],[39.673438,-4.927051],[39.749316,-5.443848],[39.865039,-4.906152]]],[[[32.919922,-9.407422],[33.888867,-9.670117],[33.995605,-9.49541],[34.320898,-9.731543],[34.60791,-11.080469],[34.959473,-11.578125],[35.911328,-11.454688],[36.305664,-11.706348],[37.372852,-11.710449],[37.920215,-11.294727],[38.491797,-11.413281],[40.463574,-10.464355],[39.725195,-10.000488],[39.304004,-8.443848],[39.288477,-7.517871],[39.546094,-7.024023],[38.804688,-6.070117],[39.221777,-4.692383],[37.608203,-3.49707],[37.643848,-3.04541],[33.903223,-1.002051],[30.509961,-1.067285],[30.876562,-2.143359],[30.553613,-2.400098],[30.433496,-2.874512],[30.780273,-2.984863],[30.790234,-3.274609],[29.947266,-4.307324],[29.403223,-4.449316],[29.54082,-6.313867],[30.212695,-7.037891],[30.751172,-8.193652],[31.033398,-8.597656],[32.919922,-9.407422]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TJ","iso_a3":"TJK","iso_n3":"762"},"geometry":{"type":"Polygon","coordinates":[[[67.758984,37.172217],[68.067773,36.949805],[68.911816,37.333936],[69.303906,37.116943],[69.49209,37.553076],[70.188672,37.582471],[70.214648,37.924414],[70.878906,38.456396],[71.255859,38.306982],[71.278516,37.918408],[71.582227,37.910107],[71.43291,37.127539],[71.665625,36.696924],[73.38291,37.462256],[73.720605,37.41875],[73.653516,37.239355],[74.349023,37.41875],[74.891309,37.231641],[75.11875,37.385693],[74.812305,38.460303],[73.80166,38.606885],[73.631641,39.448877],[72.22998,39.20752],[71.470312,39.603662],[70.799316,39.394727],[70.501172,39.587354],[69.297656,39.524805],[69.530273,40.097314],[69.966797,40.202246],[70.515137,39.949902],[70.958008,40.238867],[70.371582,40.384131],[70.751074,40.721777],[70.401953,41.035107],[69.712891,40.656982],[69.357227,40.767383],[69.274902,40.198096],[68.630664,40.16709],[68.97207,40.089941],[68.463281,39.536719],[67.426172,39.465576],[67.357617,39.216699],[68.13252,38.927637],[68.350293,38.211035],[67.758984,37.172217]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SY","iso_a3":"SYR","iso_n3":"760"},"geometry":{"type":"Polygon","coordinates":[[[35.892676,35.916553],[35.97627,34.629199],[36.383887,34.65791],[36.584961,34.22124],[35.869141,33.431738],[35.816125,33.361879],[35.787305,32.734912],[36.818359,32.317285],[38.773535,33.372217],[40.987012,34.429053],[41.295996,36.38335],[42.358984,37.108594],[42.202734,37.297266],[40.705664,37.097705],[39.356641,36.681592],[38.191699,36.901562],[37.436328,36.643311],[36.658594,36.802539],[36.636719,36.233984],[36.153613,35.833887],[35.892676,35.916553]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CH","iso_a3":"CHE","iso_n3":"756"},"geometry":{"type":"Polygon","coordinates":[[[9.524023,47.524219],[8.572656,47.775635],[8.454004,47.596191],[7.615625,47.592725],[6.968359,47.453223],[5.97002,46.214697],[6.758105,46.415771],[7.021094,45.925781],[7.787891,45.921826],[8.422559,46.446045],[9.02373,45.845703],[9.260156,46.475195],[10.12832,46.238232],[10.452832,46.864941],[9.580273,47.057373],[9.487695,47.062256],[9.527539,47.270752],[9.524023,47.524219]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SE","iso_a3":"SWE","iso_n3":"752"},"geometry":{"type":"MultiPolygon","coordinates":[[[[19.076465,57.835938],[18.136523,57.556641],[18.146387,56.920508],[19.076465,57.835938]]],[[[11.388281,59.036523],[11.248242,58.369141],[12.883691,56.617725],[12.80166,56.263916],[12.471191,56.290527],[12.88584,55.411377],[14.17373,55.396631],[14.401953,55.976758],[15.82666,56.124951],[16.34873,56.709277],[16.923828,58.492578],[16.214258,58.63667],[18.285352,59.109375],[18.560254,59.394482],[17.964258,59.359375],[18.970508,59.757227],[17.955762,60.589795],[17.250977,60.700781],[17.410254,62.508398],[20.762695,63.867822],[21.519629,64.463086],[21.410352,65.317432],[22.400977,65.862109],[24.155469,65.805273],[23.638867,67.954395],[20.622168,69.036865],[20.116699,69.020898],[19.969824,68.356396],[18.303027,68.55542],[17.916699,67.964893],[17.324609,68.103809],[16.783594,67.89502],[15.483789,66.305957],[14.543262,66.129346],[14.479688,65.301465],[13.650293,64.581543],[14.141211,64.173535],[12.792773,64],[12.175195,63.595947],[12.155371,61.720752],[12.880762,61.352295],[12.294141,61.002686],[12.486133,60.106787],[11.680762,59.592285],[11.642773,58.926074],[11.388281,59.036523]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SZ","iso_a3":"SWZ","iso_n3":"748"},"geometry":{"type":"Polygon","coordinates":[[[31.948242,-25.957617],[31.207324,-25.843359],[30.794336,-26.764258],[31.469531,-27.295508],[31.958398,-27.305859],[32.112891,-26.839453],[31.948242,-25.957617]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SR","iso_a3":"SUR","iso_n3":"740"},"geometry":{"type":"Polygon","coordinates":[[[-54.155957,5.358984],[-54.054199,5.80791],[-54.833691,5.98833],[-55.828174,5.96167],[-55.897607,5.699316],[-56.969824,5.992871],[-57.194775,5.548438],[-57.331006,5.020166],[-57.917041,4.82041],[-58.054297,4.10166],[-57.646729,3.394531],[-57.303662,3.3771],[-57.197363,2.853271],[-56.482812,1.942139],[-55.929639,1.8875],[-56.137695,2.259033],[-55.957471,2.520459],[-54.978662,2.597656],[-54.61626,2.326758],[-54.00957,3.448535],[-54.479688,4.836523],[-54.155957,5.358984]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SS","iso_a3":"SSD","iso_n3":"728"},"geometry":{"type":"Polygon","coordinates":[[[33.976074,4.220215],[35.268359,5.492285],[34.710645,6.660303],[33.902441,7.509521],[32.998926,7.899512],[33.281055,8.437256],[34.072754,8.545264],[34.078125,9.461523],[33.871484,9.506152],[33.907031,10.181445],[33.130078,10.745947],[33.199316,12.217285],[32.721875,12.223096],[32.736719,12.009668],[32.072266,12.006738],[32.420801,11.089111],[31.224902,9.799268],[30.755371,9.731201],[30.003027,10.277393],[28.844531,9.326074],[28.048926,9.328613],[27.880859,9.601611],[26.658691,9.484131],[25.858203,10.406494],[25.211719,10.329932],[24.531934,8.886914],[24.147363,8.665625],[24.291406,8.291406],[24.85332,8.137549],[25.278906,7.42749],[26.361816,6.635303],[26.514258,6.069238],[27.143945,5.722949],[27.40332,5.10918],[28.19209,4.350244],[29.676855,4.586914],[30.838574,3.490723],[31.152344,3.785596],[31.798047,3.802637],[32.135938,3.519727],[32.997266,3.880176],[33.489355,3.755078],[33.976074,4.220215]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SD","iso_a3":"SDN","iso_n3":"729"},"geometry":{"type":"Polygon","coordinates":[[[34.078125,9.461523],[34.343945,10.658643],[34.931445,10.864795],[35.112305,11.816553],[35.670215,12.62373],[36.125195,12.757031],[36.524316,14.256836],[36.426758,15.13208],[37.008984,17.058887],[37.411035,17.061719],[38.609473,18.005078],[37.471289,18.820117],[37.258594,21.108545],[36.871387,21.996729],[31.434473,21.99585],[31.400293,22.202441],[31.092676,21.994873],[24.980273,21.99585],[24.979492,20.002588],[23.980273,19.995947],[23.980273,19.496631],[23.970801,15.721533],[22.933887,15.533105],[22.932324,15.162109],[22.381543,14.550488],[22.538574,14.161865],[22.106445,13.799805],[22.228125,13.32959],[21.825293,12.790527],[22.352344,12.660449],[22.591113,11.579883],[22.922656,11.344873],[22.860059,10.919678],[23.646289,9.8229],[23.537305,8.81582],[24.147363,8.665625],[24.531934,8.886914],[25.211719,10.329932],[25.858203,10.406494],[26.658691,9.484131],[27.880859,9.601611],[28.048926,9.328613],[28.844531,9.326074],[30.003027,10.277393],[30.755371,9.731201],[31.224902,9.799268],[32.420801,11.089111],[32.072266,12.006738],[32.736719,12.009668],[32.721875,12.223096],[33.199316,12.217285],[33.130078,10.745947],[33.907031,10.181445],[33.871484,9.506152],[34.078125,9.461523]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LK","iso_a3":"LKA","iso_n3":"144"},"geometry":{"type":"Polygon","coordinates":[[[79.982324,9.812695],[80.42832,9.480957],[80.086328,9.577832],[79.783496,8.018457],[79.712988,8.182324],[79.859375,6.829297],[80.095313,6.153174],[80.724121,5.979053],[81.637402,6.425146],[81.874121,7.28833],[80.711133,9.366357],[79.982324,9.812695]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ES","iso_a3":"ESP","iso_n3":"724"},"geometry":{"type":"MultiPolygon","coordinates":[[[[3.145313,39.790088],[3.158691,39.970508],[2.37002,39.57207],[3.072852,39.30127],[3.461816,39.697754],[3.145313,39.790088]]],[[[1.445215,38.918701],[1.564453,39.121045],[1.22334,38.903857],[1.445215,38.918701]]],[[[-1.794043,43.407324],[-4.523047,43.415723],[-8.004687,43.694385],[-9.178076,43.174023],[-8.777148,41.941064],[-8.266064,42.137402],[-8.15249,41.811963],[-6.618262,41.942383],[-6.2125,41.532031],[-6.928467,41.009131],[-6.975391,39.798389],[-7.535693,39.661572],[-6.997949,39.056445],[-7.343018,38.457422],[-6.957568,38.187891],[-7.443945,37.728271],[-7.406152,37.179443],[-6.86377,37.278906],[-6.216797,36.913574],[-6.384131,36.637012],[-5.625488,36.025928],[-4.366846,36.718115],[-2.111523,36.77666],[-1.640967,37.386963],[-0.721582,37.631055],[-0.520801,38.317285],[0.201563,38.75918],[-0.327002,39.519873],[0.891113,40.722363],[0.714648,40.822852],[3.004883,41.767432],[3.211426,42.431152],[1.706055,42.50332],[1.448828,42.437451],[1.42832,42.595898],[0.696875,42.845117],[0.631641,42.6896],[-0.586426,42.798975],[-1.46084,43.051758],[-1.794043,43.407324]]],[[[-16.334473,28.379932],[-16.123633,28.575977],[-16.905322,28.3396],[-16.658008,28.007178],[-16.334473,28.379932]]],[[[-14.196777,28.169287],[-13.928027,28.253467],[-13.857227,28.738037],[-14.491797,28.100928],[-14.196777,28.169287]]],[[[-15.400586,28.147363],[-15.682764,28.154053],[-15.710303,27.784082],[-15.436768,27.810693],[-15.400586,28.147363]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KR","iso_a3":"KOR","iso_n3":"410"},"geometry":{"type":"MultiPolygon","coordinates":[[[[126.633887,37.781836],[126.976855,36.939404],[126.487012,37.007471],[126.160547,36.771924],[126.487695,36.693799],[126.753027,35.871973],[126.291113,35.15415],[126.593359,34.824365],[126.264453,34.673242],[126.531445,34.314258],[127.24707,34.755127],[127.324609,34.463281],[127.714844,34.954688],[128.443945,34.870361],[128.510938,35.100977],[129.076758,35.122705],[129.419141,35.497852],[129.418262,37.059033],[128.374609,38.623438],[128.038965,38.308545],[127.090332,38.283887],[126.633887,37.781836]]],[[[128.741016,34.798535],[128.667969,35.008789],[128.489258,34.865283],[128.741016,34.798535]]],[[[126.326953,33.223633],[126.901172,33.515137],[126.337695,33.4604],[126.326953,33.223633]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ZA","iso_a3":"ZAF","iso_n3":"710"},"geometry":{"type":"Polygon","coordinates":[[[29.364844,-22.193945],[28.210156,-22.693652],[27.085547,-23.57793],[26.835059,-24.24082],[25.912109,-24.747461],[25.443652,-25.714453],[24.748145,-25.817383],[23.05752,-25.312305],[22.597656,-26.132715],[21.646289,-26.854199],[20.685059,-26.822461],[20.793164,-25.915625],[19.980469,-24.776758],[19.980469,-28.45127],[19.161719,-28.93877],[18.102734,-28.87168],[17.447949,-28.698145],[17.05625,-28.031055],[16.447559,-28.617578],[18.21084,-31.74248],[18.325293,-32.50498],[17.851074,-32.827441],[18.433008,-33.717285],[18.410352,-34.295605],[18.752148,-34.082617],[18.831348,-34.364062],[20.020605,-34.785742],[20.529883,-34.463086],[21.788965,-34.372656],[22.553809,-34.010059],[25.574219,-34.035352],[25.805859,-33.737109],[26.613672,-33.707422],[27.860645,-33.053906],[29.971191,-31.32207],[31.335156,-29.378125],[32.285742,-28.621484],[32.886133,-26.849316],[32.112891,-26.839453],[31.958398,-27.305859],[31.469531,-27.295508],[30.794336,-26.764258],[31.207324,-25.843359],[31.948242,-25.957617],[31.98584,-24.460645],[31.287891,-22.402051],[29.364844,-22.193945]],[[28.736914,-30.101953],[28.39209,-30.147559],[28.056836,-30.631055],[27.753125,-30.6],[27.056934,-29.625586],[27.735547,-28.940039],[28.625781,-28.581738],[29.390723,-29.269727],[29.098047,-29.919043],[28.736914,-30.101953]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SO","iso_a3":"SOM","iso_n3":"706"},"geometry":{"type":"Polygon","coordinates":[[[41.532715,-1.695312],[43.717578,0.857861],[46.878809,3.285645],[47.975293,4.497021],[49.049316,6.173633],[49.852051,7.962549],[50.825,9.428174],[50.930078,10.335547],[51.390234,10.422607],[51.031836,10.444775],[51.254883,11.830713],[50.792285,11.983691],[50.110059,11.529297],[48.938574,11.258447],[48.938086,9.451758],[47.978223,7.99707],[44.940527,4.912012],[43.583496,4.85498],[41.883984,3.977734],[40.964453,2.814648],[40.978711,-0.870313],[41.532715,-1.695312]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"-99","iso_a3":"-99","iso_n3":"-99"},"geometry":{"type":"Polygon","coordinates":[[[48.938574,11.258447],[47.40498,11.174023],[46.565039,10.745996],[45.816699,10.835889],[44.386523,10.430225],[43.245996,11.499805],[42.922754,10.999316],[42.656445,10.6],[42.841602,10.203076],[43.983789,9.008838],[46.978223,7.99707],[47.978223,7.99707],[48.938086,9.451758],[48.938574,11.258447]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SB","iso_a3":"SLB","iso_n3":"090"},"geometry":{"type":"MultiPolygon","coordinates":[[[[157.763477,-8.242188],[157.490625,-7.965723],[157.217578,-8.262793],[157.558008,-8.269922],[157.819336,-8.612012],[157.763477,-8.242188]]],[[[157.388965,-8.713477],[157.379492,-8.420898],[157.212305,-8.565039],[157.388965,-8.713477]]],[[[156.687891,-7.923047],[156.809082,-7.722852],[156.560938,-7.574023],[156.687891,-7.923047]]],[[[159.750391,-9.272656],[159.612305,-9.470703],[159.802734,-9.763477],[160.818945,-9.862793],[160.35459,-9.421582],[159.750391,-9.272656]]],[[[159.879102,-8.534277],[159.431445,-8.029004],[158.457422,-7.544727],[159.879102,-8.534277]]],[[[157.486719,-7.330371],[156.452539,-6.638281],[157.101562,-7.323633],[157.486719,-7.330371]]],[[[160.749414,-8.313965],[160.59043,-8.372754],[160.77207,-8.963867],[161.367383,-9.61123],[160.749414,-8.313965]]],[[[161.715332,-10.387305],[161.304785,-10.204395],[161.786816,-10.716895],[162.37334,-10.823242],[162.105371,-10.453809],[161.715332,-10.387305]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SK","iso_a3":"SVK","iso_n3":"703"},"geometry":{"type":"Polygon","coordinates":[[[22.538672,49.072705],[21.639648,49.411963],[20.362988,49.385254],[20.057617,49.181299],[19.441602,49.597705],[19.149414,49.4],[18.832227,49.510791],[16.953125,48.598828],[17.147363,48.005957],[17.761914,47.770166],[18.724219,47.787158],[18.791895,48.000293],[19.950391,48.146631],[20.490039,48.526904],[22.131836,48.405322],[22.538672,49.072705]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SI","iso_a3":"SVN","iso_n3":"705"},"geometry":{"type":"Polygon","coordinates":[[[16.516211,46.499902],[16.093066,46.863281],[14.549805,46.399707],[13.7,46.520264],[13.378223,46.261621],[13.719824,45.587598],[13.57793,45.516895],[14.568848,45.657227],[15.339453,45.467041],[15.635938,46.200732],[16.516211,46.499902]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SG","iso_a3":"SGP","iso_n3":"702"},"geometry":{"type":"Polygon","coordinates":[[[103.969727,1.331445],[103.817969,1.44707],[103.650195,1.325537],[103.969727,1.331445]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SL","iso_a3":"SLE","iso_n3":"694"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-10.283203,8.485156],[-10.712109,8.335254],[-10.500537,8.687549],[-10.690527,9.314258],[-11.273633,9.996533],[-12.427979,9.898145],[-13.292676,9.049219],[-13.059473,8.881152],[-13.181836,8.576904],[-12.894092,8.629785],[-13.272754,8.429736],[-12.850879,7.818701],[-12.480273,7.753271],[-12.485645,7.386279],[-11.50752,6.906543],[-10.647461,7.759375],[-10.283203,8.485156]]],[[[-12.526074,7.436328],[-12.615234,7.637207],[-12.951611,7.57085],[-12.526074,7.436328]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SC","iso_a3":"SYC","iso_n3":"690"},"geometry":{"type":"Polygon","coordinates":[[[55.540332,-4.693066],[55.383398,-4.609277],[55.542969,-4.785547],[55.540332,-4.693066]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"RS","iso_a3":"SRB","iso_n3":"688"},"geometry":{"type":"Polygon","coordinates":[[[22.705078,44.237793],[22.64209,44.650977],[22.093066,44.541943],[21.360059,44.82666],[21.490234,45.1479],[20.241797,46.108594],[18.905371,45.931738],[19.004688,45.399512],[19.4,45.2125],[19.007129,44.869189],[19.348633,44.880908],[19.118457,44.359961],[19.583789,44.043457],[19.24502,43.965039],[19.495117,43.642871],[19.194336,43.533301],[20.344336,42.82793],[20.063965,42.547266],[20.566211,41.873682],[21.5625,42.24751],[22.344043,42.313965],[22.466797,42.84248],[22.967969,43.142041],[22.369629,43.781299],[22.705078,44.237793]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SN","iso_a3":"SEN","iso_n3":"686"},"geometry":{"type":"Polygon","coordinates":[[[-12.280615,14.809033],[-13.409668,16.05918],[-14.53374,16.655957],[-16.239014,16.531299],[-16.535254,15.838379],[-17.147168,14.922021],[-17.535645,14.755127],[-16.618115,14.040527],[-16.766943,13.904932],[-16.562305,13.587305],[-15.509668,13.58623],[-15.10835,13.812109],[-13.826709,13.407812],[-14.246777,13.23584],[-15.151123,13.556494],[-15.834277,13.156445],[-16.76333,13.06416],[-16.743896,12.585449],[-16.442871,12.609473],[-16.760303,12.525781],[-16.711816,12.354834],[-15.196094,12.679932],[-13.729248,12.673926],[-12.399072,12.340088],[-11.389404,12.404395],[-11.390381,12.941992],[-12.054199,13.633057],[-12.280615,14.809033]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SA","iso_a3":"SAU","iso_n3":"682"},"geometry":{"type":"MultiPolygon","coordinates":[[[[41.987695,16.715625],[41.860449,17.002539],[41.801563,16.77876],[42.157812,16.570703],[41.987695,16.715625]]],[[[51.977637,18.996143],[54.977344,19.995947],[55.641016,22.001855],[55.18584,22.704102],[52.555078,22.932812],[51.568359,24.286182],[51.267969,24.607227],[50.804395,24.789258],[50.081055,25.961377],[50.149805,26.662646],[48.797168,27.724316],[48.44248,28.54292],[47.671289,28.533154],[47.433203,28.989551],[46.531445,29.09624],[44.69082,29.202344],[42.074414,31.080371],[40.369336,31.938965],[39.14541,32.124512],[36.958594,31.491504],[37.980078,30.5],[37.469238,29.995068],[36.755273,29.866016],[36.068457,29.200537],[34.950781,29.353516],[34.625,28.064502],[35.180469,28.034863],[37.148828,25.291113],[37.543066,24.29165],[38.46416,23.711865],[39.062012,22.592188],[38.987891,21.881738],[39.276074,20.973975],[39.72832,20.390332],[40.75918,19.755469],[41.229492,18.678418],[42.293945,17.434961],[42.799316,16.371777],[43.165039,16.689404],[43.190918,17.359375],[43.417969,17.51626],[43.916992,17.324707],[46.727637,17.265576],[47.143555,16.94668],[48.172168,18.156934],[49.041992,18.581787],[51.977637,18.996143]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ST","iso_a3":"STP","iso_n3":"678"},"geometry":{"type":"Polygon","coordinates":[[[6.659961,0.120654],[6.686914,0.404395],[6.468164,0.227344],[6.659961,0.120654]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SM","iso_a3":"SMR","iso_n3":"674"},"geometry":{"type":"Polygon","coordinates":[[[12.485254,43.901416],[12.503711,43.989746],[12.396875,43.93457],[12.485254,43.901416]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"WS","iso_a3":"WSM","iso_n3":"882"},"geometry":{"type":"Polygon","coordinates":[[[-172.333496,-13.465234],[-172.778516,-13.516797],[-172.224951,-13.804297],[-172.333496,-13.465234]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"VC","iso_a3":"VCT","iso_n3":"670"},"geometry":{"type":"Polygon","coordinates":[[[-61.174512,13.158105],[-61.138965,13.35874],[-61.268457,13.287695],[-61.174512,13.158105]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LC","iso_a3":"LCA","iso_n3":"662"},"geometry":{"type":"Polygon","coordinates":[[[-60.895215,13.821973],[-60.908105,14.093359],[-61.073145,13.865576],[-60.895215,13.821973]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KN","iso_a3":"KNA","iso_n3":"659"},"geometry":{"type":"Polygon","coordinates":[[[-62.630664,17.23999],[-62.827051,17.386426],[-62.838916,17.339258],[-62.630664,17.23999]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"RW","iso_a3":"RWA","iso_n3":"646"},"geometry":{"type":"Polygon","coordinates":[[[29.576953,-1.387891],[28.876367,-2.400293],[29.014355,-2.720215],[29.698047,-2.794727],[29.930176,-2.339551],[30.553613,-2.400098],[30.876562,-2.143359],[30.509961,-1.067285],[29.930078,-1.469922],[29.576953,-1.387891]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"RU","iso_a3":"RUS","iso_n3":"643"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-179.798535,68.94043],[-180,68.738672],[-180,68.493896],[-180,68.249121],[-180,68.004395],[-180,67.759619],[-180,67.514844],[-180,67.270117],[-180,67.025342],[-180,66.780566],[-180,66.53584],[-180,66.291064],[-180,66.046289],[-180,65.801562],[-180,65.556787],[-180,65.311963],[-180,65.067236],[-179.3521,65.516748],[-179.683301,66.184131],[-178.526562,66.401562],[-178.939062,66.032764],[-178.4125,65.495557],[-176.093262,65.471045],[-175.395117,64.802393],[-173.729736,64.364502],[-173.32749,64.539551],[-173.275488,64.289648],[-172.903174,64.526074],[-172.401465,64.413916],[-173.085791,64.817334],[-172.213184,65.048145],[-172.783301,65.681055],[-171.105859,65.511035],[-171.421533,65.810352],[-170.666309,65.621533],[-169.777881,66.143115],[-170.604443,66.248926],[-171.795557,66.931738],[-173.00752,67.064893],[-172.520117,66.95249],[-173.258936,66.840088],[-173.679688,67.144775],[-174.550098,67.090625],[-173.773975,66.434668],[-174.065039,66.22959],[-174.084766,66.473096],[-174.394092,66.344238],[-174.924902,66.623145],[-175.345215,67.678076],[-178.373047,68.565674],[-178.055811,68.264893],[-179.798535,68.94043]]],[[[130.687305,42.302539],[130.709375,42.656396],[131.158301,42.626025],[131.938965,43.301953],[131.866602,43.095166],[132.30957,43.313525],[132.303809,42.883301],[133.159961,42.696973],[135.131055,43.525732],[137.685449,45.818359],[140.170605,48.523682],[140.520898,50.800195],[141.485254,52.178516],[140.839648,53.087891],[141.18125,53.015283],[141.37373,53.292773],[139.707422,54.277148],[138.657227,54.29834],[138.450684,53.537012],[138.52793,53.959863],[137.950488,53.603564],[137.253711,53.546143],[137.834766,53.946729],[137.339258,54.100537],[137.666016,54.283301],[137.141602,54.182227],[137.155371,53.82168],[136.718848,53.804102],[136.797266,54.620996],[135.851562,54.583936],[135.2625,54.943311],[137.691504,56.139355],[142.580273,59.240137],[145.55459,59.413525],[146.049512,59.170557],[146.537207,59.456982],[148.72666,59.25791],[148.79707,59.532324],[149.642578,59.77041],[152.260645,59.223584],[151.121094,59.08252],[151.326758,58.875098],[152.817871,58.92627],[153.361133,59.214795],[155.160449,59.190137],[154.971289,59.449609],[154.149805,59.528516],[154.293066,59.83335],[157.08418,61.675684],[160.309375,61.894385],[159.79043,60.956641],[160.378906,61.025488],[160.173633,60.638428],[162.392578,61.662109],[163.085254,61.570557],[163.331738,62.550928],[164.418359,62.704639],[165.417383,62.44707],[164.207227,62.292236],[163.709961,60.916797],[162.068164,60.466406],[158.275195,58.008984],[156.829883,57.779639],[156.848828,57.290186],[155.98252,56.695215],[155.620312,54.864551],[156.847461,51.006592],[158.103516,51.809619],[158.47207,53.032373],[160.025098,53.12959],[160.074414,54.18916],[162.105566,54.752148],[161.723926,55.496143],[162.084961,56.089648],[162.671484,56.490088],[163.038379,56.521875],[162.628125,56.232275],[162.840332,56.065625],[163.335547,56.23252],[163.256543,56.688037],[162.791113,56.875391],[163.225781,57.790381],[162.654297,57.948242],[162.391406,57.717236],[161.960059,58.076904],[163.743848,60.028027],[164.953711,59.843604],[166.352148,60.484814],[166.273047,59.85625],[167.226758,60.406299],[169.226758,60.595947],[170.350977,59.965527],[170.608203,60.434912],[172.856543,61.469189],[177.159473,62.560986],[177.023535,62.777246],[179.120703,62.320361],[179.570508,62.6875],[178.44043,63.605566],[178.381445,64.260889],[177.6875,64.304736],[177.427441,64.763379],[176.140918,64.58584],[176.056543,64.904736],[174.548828,64.683887],[176.061133,64.960889],[177.06875,64.78667],[177.037305,64.999658],[176.341016,65.047314],[176.880859,65.081934],[178.519531,64.602979],[180,65.067236],[180,68.983447],[179.272656,69.259668],[175.921484,69.895312],[173.277441,69.823828],[170.486816,70.107568],[170.160938,69.626562],[170.99541,69.045312],[169.609863,68.786035],[167.856836,69.728223],[166.820312,69.499561],[163.201367,69.714746],[161.536914,69.379541],[161.565625,68.905176],[160.856055,68.53833],[161.309863,68.982275],[160.910742,69.606348],[159.729395,69.870215],[160.006445,70.309668],[159.350684,70.790723],[156.68457,71.09375],[152.508789,70.834473],[151.582422,71.286963],[150.097656,71.226562],[150.599805,71.520117],[148.968164,71.690479],[150.016895,71.895654],[149.501563,72.164307],[147.261816,72.327881],[146.073242,71.80835],[145.188574,71.695801],[145.758594,72.225879],[146.113281,71.944971],[146.831836,72.29541],[144.294922,72.192627],[146.25293,72.442236],[140.808203,72.890967],[141.079297,72.586914],[139.14082,72.329736],[140.187695,72.191309],[139.359277,71.951367],[139.98418,71.491504],[138.23418,71.596338],[137.939648,71.133398],[136.090332,71.61958],[133.688867,71.434229],[132.653906,71.925977],[131.021582,70.746094],[129.761914,71.119531],[128.843262,71.663477],[129.210254,71.916943],[128.911426,71.755322],[127.841406,72.308252],[129.410645,72.166309],[128.418262,72.535156],[129.250391,72.705176],[128.599023,72.895166],[129.100586,73.112354],[127.740332,73.481543],[126.552539,73.334912],[124.541211,73.75127],[123.491113,73.666357],[123.622266,73.193262],[122.260156,72.880566],[119.750391,72.979102],[118.430273,73.246533],[118.870898,73.537891],[115.337695,73.702588],[113.510352,73.50498],[113.664551,72.634521],[113.032813,73.913867],[112.147266,73.708936],[111.550586,74.028516],[110.261426,74.017432],[109.706738,73.74375],[110.868164,73.730713],[109.855273,73.472461],[105.143945,72.777051],[112.924902,75.015039],[113.726172,75.450635],[112.453027,75.830176],[113.567578,75.568408],[113.272656,76.25166],[112.65625,76.053564],[111.39248,76.68667],[106.413574,76.512256],[107.429785,76.926562],[104.202441,77.101807],[106.05957,77.390527],[104.014551,77.73042],[100.989941,76.990479],[101.597754,76.439209],[98.805664,76.480664],[99.540723,75.798584],[98.662012,76.242676],[96.49707,75.891211],[95.65332,75.892188],[95.578711,76.137305],[93.259277,76.098779],[92.89043,75.909961],[94.075195,75.912891],[87.005957,75.169824],[87.041797,74.778857],[85.791016,74.645117],[87.229688,74.363867],[86.001367,74.316016],[87.571191,73.810742],[85.938965,73.456494],[86.677051,73.106787],[85.792578,73.43833],[86.892969,73.887109],[80.583203,73.568457],[80.827051,72.488281],[83.534375,71.683936],[83.15127,71.103613],[83.735938,70.546484],[83.080762,70.093018],[82.869141,70.954834],[82.221191,70.395703],[82.163184,70.598145],[83.233594,71.668164],[81.661621,71.715967],[79.42207,72.380762],[77.471582,72.192139],[78.232422,71.952295],[77.777539,71.836426],[76.871387,72.033008],[76.032422,71.9104],[76.433398,71.55249],[78.942187,70.933789],[75.332031,71.341748],[75.741406,72.29624],[75.152441,72.852734],[74.992188,72.144824],[73.08623,71.444922],[74.343359,70.578711],[73.578125,69.802979],[73.836035,69.143213],[76.000977,69.235059],[77.650684,68.903027],[77.588281,67.751904],[78.922461,67.589111],[77.174414,67.778516],[77.238477,68.46958],[76.10752,68.975732],[74.57959,68.751221],[74.769531,67.766357],[72.321582,66.332129],[70.339453,66.342383],[69.194336,66.578662],[69.217773,66.828613],[70.690723,66.745312],[70.724902,66.519434],[71.539551,66.683105],[71.365234,66.961523],[73.066797,67.766943],[73.591699,68.481885],[72.576758,68.968701],[72.704492,70.963232],[71.867285,71.457373],[72.812109,72.691406],[69.611816,72.981934],[68.269238,71.682812],[66.639648,71.081396],[67.284766,70.738721],[66.89668,69.553809],[67.624121,69.584424],[68.542773,68.96709],[69.140527,68.950635],[68.371191,68.314258],[64.19043,69.534668],[60.909082,69.847119],[60.170605,69.590918],[60.933594,68.986768],[59.725684,68.351611],[59.099023,68.444336],[59.057324,69.006055],[57.126855,68.554004],[55.418066,68.567822],[54.861328,68.201855],[53.260547,68.26748],[53.930859,68.435547],[53.797656,68.907471],[54.491211,68.992334],[53.801953,68.995898],[52.344043,68.608154],[52.39668,68.351709],[51.994727,68.53877],[48.754297,67.895947],[48.833203,67.681494],[47.874707,67.58418],[47.655859,66.975928],[46.492383,66.800195],[44.902148,67.413135],[45.528711,67.757568],[46.69043,67.848828],[45.891992,68.479688],[43.333203,68.673389],[44.204688,68.25376],[44.104395,66.008594],[42.210547,66.519678],[39.816504,65.597949],[40.444922,64.778711],[39.758008,64.577051],[36.882812,65.172363],[36.624219,64.750537],[38.062207,64.091016],[37.442188,63.813379],[35.035352,64.440234],[34.406445,65.395752],[34.691797,65.951855],[31.895313,67.161426],[34.482617,66.550342],[38.653906,66.069043],[40.10332,66.299951],[41.188965,66.826172],[40.966406,67.713477],[35.85791,69.191748],[33.684375,69.310254],[33.141211,69.068701],[33.454297,69.428174],[32.377734,69.479102],[32.176758,69.674023],[33.007812,69.722119],[31.98457,69.953662],[31.546973,69.696924],[30.869727,69.783447],[30.860742,69.538428],[30.180176,69.63584],[28.96582,69.021973],[28.414062,68.90415],[28.685156,68.189795],[29.988086,67.668262],[29.066211,66.891748],[30.102734,65.72627],[29.604199,64.968408],[30.51377,64.2],[29.991504,63.735156],[31.533984,62.8854],[27.797656,60.536133],[28.512793,60.677295],[29.069141,60.191455],[30.172656,59.957129],[28.058008,59.781543],[28.0125,59.484277],[27.43418,58.787256],[27.778516,57.870703],[27.351953,57.528125],[27.828613,57.293311],[27.639453,56.845654],[28.147949,56.14292],[29.375,55.938721],[29.482227,55.68457],[30.233594,55.845215],[30.906836,55.57002],[30.798828,54.783252],[31.754199,53.810449],[32.706445,53.419434],[32.141992,53.091162],[31.417871,53.196045],[31.258789,53.016699],[31.763379,52.101074],[33.735254,52.344775],[34.397852,51.78042],[34.213867,51.255371],[35.311914,51.043896],[35.591113,50.36875],[36.619434,50.209229],[37.422852,50.411475],[38.046875,49.92002],[38.258594,50.052344],[40.080664,49.576855],[40.108789,49.251562],[39.686523,49.00791],[40.003613,48.82207],[39.644727,48.591211],[39.95791,48.268896],[39.778711,47.887549],[38.368848,47.609961],[38.214355,47.091455],[39.02373,47.272217],[39.293457,47.105762],[38.500977,46.663672],[37.766504,46.636133],[38.492285,46.090527],[37.933105,46.001709],[37.647168,45.377197],[36.865918,45.427051],[36.627637,45.151318],[38.717285,44.288086],[39.97832,43.419824],[40.648047,43.533887],[41.580566,43.219238],[42.760645,43.16958],[43.825977,42.571533],[44.870996,42.756396],[45.705273,42.498096],[45.638574,42.205078],[46.429883,41.890967],[47.791016,41.199268],[48.572852,41.844482],[47.463184,43.035059],[47.646484,43.884619],[47.462793,43.555029],[47.307031,44.103125],[46.707227,44.50332],[47.463281,45.679688],[48.72959,45.896826],[49.232227,46.337158],[48.541211,46.605615],[48.959375,46.774609],[48.166992,47.708789],[47.292383,47.740918],[46.660938,48.412256],[47.031348,49.150293],[46.889551,49.696973],[47.429199,50.357959],[48.334961,49.858252],[48.758984,49.92832],[48.625098,50.612695],[50.793945,51.729199],[51.344531,51.475342],[52.219141,51.709375],[53.338086,51.482373],[54.555273,50.535791],[54.641602,51.011572],[55.68623,50.582861],[56.491406,51.019531],[57.442188,50.888867],[57.838867,51.09165],[59.523047,50.492871],[60.058594,50.850293],[60.942285,50.695508],[61.389453,50.861035],[61.554688,51.324609],[60.030273,51.933252],[60.994531,52.336865],[60.774414,52.675781],[61.047461,52.972461],[62.082715,53.00542],[61.199219,53.287158],[61.534961,53.523291],[60.979492,53.621729],[61.231055,54.019482],[65.088379,54.340186],[65.476953,54.623291],[68.155859,54.976709],[68.977246,55.3896],[70.182422,55.162451],[70.738086,55.305176],[71.093164,54.212207],[72.186035,54.325635],[72.446777,53.941846],[72.622266,54.134326],[73.712402,54.042383],[73.406934,53.447559],[73.858984,53.619727],[74.351562,53.487646],[76.837305,54.442383],[76.484766,54.022559],[77.859961,53.269189],[79.98623,50.774561],[80.735254,51.293408],[81.465918,50.739844],[82.493945,50.727588],[83.357324,50.99458],[84.323242,50.23916],[84.989453,50.061426],[85.232617,49.61582],[86.180859,49.499316],[86.675488,49.777295],[87.322852,49.085791],[87.814258,49.162305],[88.192578,49.451709],[89.395605,49.611523],[90.053711,50.09375],[92.354785,50.86416],[94.251074,50.556396],[94.614746,50.02373],[97.359766,49.741455],[98.250293,50.302441],[97.835742,51.05166],[98.893164,52.117285],[102.111523,51.353467],[102.288379,50.585107],[103.304395,50.200293],[105.383594,50.47373],[106.711133,50.312598],[107.233301,49.989404],[107.916602,49.947803],[108.613672,49.322803],[110.709766,49.142969],[112.806445,49.523584],[114.29707,50.274414],[115.429199,49.896484],[116.216797,50.009277],[116.683301,49.823779],[117.873438,49.513477],[119.259863,50.066406],[119.163672,50.406006],[120.749805,52.096533],[120.656152,52.56665],[120.094531,52.787207],[120.985449,53.28457],[123.607813,53.546533],[125.649023,53.042285],[127.590234,50.208984],[127.550781,49.801807],[129.498145,49.388818],[130.553125,48.861182],[130.961914,47.709326],[132.47627,47.71499],[133.144043,48.105664],[134.293359,48.373438],[135.083406,48.436324],[134.665234,48.253906],[134.752344,47.71543],[134.167676,47.302197],[133.113477,45.130713],[131.851855,45.326855],[130.981641,44.844336],[131.257324,43.378076],[131.068555,42.902246],[130.424805,42.727051],[130.526953,42.5354],[130.687305,42.302539]]],[[[47.441992,80.853662],[44.90498,80.611279],[46.141406,80.446729],[47.705273,80.765186],[48.683594,80.633252],[47.441992,80.853662]]],[[[50.278125,80.927246],[49.087793,80.515771],[46.644434,80.300342],[47.737305,80.081689],[51.703613,80.687646],[50.278125,80.927246]]],[[[67.765332,76.237598],[68.941699,76.707666],[67.651855,77.011572],[64.463477,76.378174],[61.20166,76.282031],[58.88125,75.854785],[57.606836,75.34126],[55.810059,75.124902],[56.49873,74.95708],[55.582227,74.627686],[56.137109,74.496094],[53.762891,73.766162],[54.299902,73.350977],[56.963867,73.366553],[58.534668,74.498926],[59.674023,74.610156],[61.355957,75.314844],[67.765332,76.237598]]],[[[55.319824,73.308301],[53.251172,73.182959],[51.511328,71.648096],[53.411621,71.530127],[54.155664,71.125488],[53.383594,70.873535],[57.145898,70.589111],[57.625391,70.728809],[55.297852,71.935352],[56.42959,73.201172],[55.319824,73.308301]]],[[[96.526563,81.075586],[95.15957,81.270996],[92.710352,80.872168],[91.523828,80.358545],[93.654688,80.009619],[97.298438,80.272754],[97.869922,80.763281],[96.526563,81.075586]]],[[[97.674512,80.158252],[94.987305,80.096826],[93.070801,79.495312],[95.02041,79.052686],[98.411133,78.787793],[99.929297,78.961426],[99.041797,79.293018],[100.06123,79.7771],[98.596484,80.052197],[97.65166,79.760645],[97.674512,80.158252]]],[[[102.884766,79.253955],[101.590625,79.350439],[99.500293,77.976074],[105.312598,78.499902],[103.800781,79.149268],[102.412305,78.835449],[102.884766,79.253955]]],[[[140.04873,75.828955],[138.919531,76.196729],[138.207617,76.114941],[136.947656,75.325537],[139.099121,74.656543],[139.68125,74.964062],[142.472754,74.82041],[143.12793,74.970312],[142.30791,75.691699],[144.019727,75.044678],[145.359961,75.530469],[141.485449,76.137158],[140.815918,75.630713],[140.04873,75.828955]]],[[[146.795215,75.370752],[146.5375,75.581787],[146.148535,75.198291],[148.296875,74.800439],[150.646289,74.94458],[150.822363,75.156543],[146.795215,75.370752]]],[[[178.861523,70.826416],[180,70.993018],[180,71.537744],[178.683887,71.105664],[178.861523,70.826416]]],[[[142.761035,54.393945],[142.334961,54.280713],[142.705957,53.895703],[142.526172,53.447461],[141.823535,53.339502],[141.66084,52.272949],[142.206738,51.222559],[141.866309,48.750098],[142.181738,48.013379],[141.830371,46.451074],[142.077148,45.917041],[142.578027,46.700781],[143.282324,46.558984],[143.431641,46.028662],[143.580664,46.360693],[142.556934,47.737891],[143.10498,49.198828],[144.04873,49.24917],[144.71377,48.640283],[143.299512,51.632373],[143.324707,52.963086],[142.761035,54.393945]]],[[[-178.876465,71.577051],[-179.999951,71.537744],[-179.999951,70.993018],[-177.523584,71.166895],[-178.876465,71.577051]]],[[[52.90332,71.36499],[52.249609,71.284912],[53.022656,70.968701],[52.90332,71.36499]]],[[[96.285449,77.02666],[96.528418,77.205518],[95.270312,77.018848],[96.285449,77.02666]]],[[[74.660547,72.873438],[74.961523,73.0625],[74.198535,73.109082],[74.660547,72.873438]]],[[[58.622363,81.04165],[57.210938,81.01709],[58.285645,80.764893],[58.622363,81.04165]]],[[[50.265234,69.185596],[48.844922,69.494727],[48.439062,68.804883],[49.62627,68.859717],[50.265234,69.185596]]],[[[63.373828,80.700098],[65.437402,80.930713],[64.802051,81.197266],[62.592578,80.853027],[63.373828,80.700098]]],[[[57.95625,80.123242],[59.255469,80.343213],[57.075,80.493945],[57.95625,80.123242]]],[[[62.167773,80.834766],[59.592285,80.816504],[59.649805,80.43125],[61.05127,80.418604],[62.167773,80.834766]]],[[[61.14082,80.950342],[61.457422,81.103955],[60.07832,80.99917],[61.14082,80.950342]]],[[[53.521387,80.185205],[52.853906,80.402393],[52.343555,80.213232],[53.521387,80.185205]]],[[[57.078711,80.350928],[55.811621,80.087158],[56.986914,80.071484],[57.078711,80.350928]]],[[[57.810254,81.546045],[55.716699,81.188477],[57.769727,81.169727],[57.810254,81.546045]]],[[[54.718945,81.115967],[54.668164,80.738672],[57.580371,80.755469],[54.718945,81.115967]]],[[[92.683496,79.685205],[93.803125,79.904541],[91.229297,80.030713],[92.683496,79.685205]]],[[[141.010254,73.999463],[141.038574,74.242725],[140.193555,74.236719],[140.409473,73.92168],[141.010254,73.999463]]],[[[142.184863,73.895898],[141.084766,73.865869],[139.785547,73.355225],[143.451465,73.231299],[142.184863,73.895898]]],[[[137.940527,55.092627],[137.577344,55.197021],[137.23291,54.790576],[137.721484,54.663232],[138.206152,55.033545],[137.940527,55.092627]]],[[[169.200781,69.580469],[169.374805,69.882617],[167.864746,69.901074],[169.200781,69.580469]]],[[[163.635156,58.603369],[164.615723,58.885596],[164.572656,59.221143],[163.760938,59.015039],[163.635156,58.603369]]],[[[166.650293,54.839062],[166.275781,55.311963],[165.751074,55.294531],[166.650293,54.839062]]],[[[155.921094,50.302197],[156.096875,50.771875],[155.243066,50.094629],[155.921094,50.302197]]],[[[152.002051,46.897168],[152.288867,47.142188],[151.723438,46.828809],[152.002051,46.897168]]],[[[149.687695,45.642041],[150.553125,46.208545],[149.44707,45.593359],[149.687695,45.642041]]],[[[148.599512,45.317627],[148.812207,45.51001],[148.324219,45.282422],[147.924023,45.383301],[146.897461,44.404297],[148.599512,45.317627]]],[[[146.207617,44.497656],[145.461719,43.870898],[145.555859,43.6646],[146.567773,44.44043],[146.207617,44.497656]]],[[[113.387207,74.400439],[112.084473,74.548975],[111.503418,74.353076],[112.782422,74.095068],[113.387207,74.400439]]],[[[70.673926,73.09502],[71.626172,73.173975],[70.940234,73.514404],[69.995898,73.359375],[70.040723,73.037158],[70.673926,73.09502]]],[[[77.63252,72.29126],[78.365137,72.482422],[77.748535,72.631201],[76.871094,72.317041],[77.63252,72.29126]]],[[[79.501465,72.721924],[79.164258,73.094336],[78.633203,72.850732],[79.501465,72.721924]]],[[[60.450488,69.934863],[59.048047,70.460498],[58.519922,70.318311],[59.637012,69.721045],[60.440234,69.725928],[60.450488,69.934863]]],[[[20.957813,55.278906],[20.899805,55.28667],[19.604395,54.45918],[22.766211,54.356787],[22.567285,55.059131],[21.235742,55.264111],[20.995898,54.902686],[20.594824,54.982373],[20.957813,55.278906]]],[[[33.594141,46.09624],[32.508008,45.403809],[33.555176,45.097656],[33.450684,44.553662],[33.755664,44.398926],[35.472559,45.098486],[36.393359,45.065381],[36.575,45.393555],[35.45752,45.316309],[35.001674,45.733383],[33.806667,46.208288],[33.594141,46.09624]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"RO","iso_a3":"ROU","iso_n3":"642"},"geometry":{"type":"Polygon","coordinates":[[[28.2125,45.450439],[28.071777,46.978418],[26.618945,48.259863],[24.979102,47.724121],[23.202637,48.084521],[22.87666,47.947266],[21.999707,47.505029],[21.12168,46.282422],[20.241797,46.108594],[21.490234,45.1479],[21.360059,44.82666],[22.093066,44.541943],[22.64209,44.650977],[22.705078,44.237793],[23.028516,44.077979],[22.919043,43.834473],[25.49707,43.670801],[27.086914,44.167383],[28.585352,43.742236],[28.891504,44.918652],[29.55752,44.843408],[29.705859,45.259912],[28.2125,45.450439]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"QA","iso_a3":"QAT","iso_n3":"634"},"geometry":{"type":"Polygon","coordinates":[[[51.267969,24.607227],[51.608887,25.052881],[51.543066,25.902393],[51.262305,26.153271],[50.762891,25.444727],[50.804395,24.789258],[51.267969,24.607227]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PT","iso_a3":"PRT","iso_n3":"620"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-17.190869,32.868604],[-17.018262,32.662793],[-16.693262,32.758008],[-17.190869,32.868604]]],[[[-8.777148,41.941064],[-8.684619,40.752539],[-9.479736,38.798779],[-9.356738,38.6979],[-9.135791,38.742773],[-8.791602,39.078174],[-9.021484,38.746875],[-9.250391,38.656738],[-9.213281,38.448096],[-8.798877,38.518164],[-8.668311,38.424316],[-8.881104,38.44668],[-8.81416,37.430811],[-8.997803,37.032275],[-7.406152,37.179443],[-7.443945,37.728271],[-6.957568,38.187891],[-7.343018,38.457422],[-6.997949,39.056445],[-7.535693,39.661572],[-6.975391,39.798389],[-6.928467,41.009131],[-6.2125,41.532031],[-6.618262,41.942383],[-8.15249,41.811963],[-8.266064,42.137402],[-8.777148,41.941064]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PL","iso_a3":"POL","iso_n3":"616"},"geometry":{"type":"Polygon","coordinates":[[[23.605273,51.51792],[23.652441,52.040381],[23.175098,52.286621],[23.91543,52.770264],[23.484668,53.939795],[22.766211,54.356787],[19.604395,54.45918],[18.836426,54.36958],[18.43623,54.744727],[18.759277,54.68457],[18.323438,54.838184],[17.842969,54.816699],[14.211426,53.950342],[14.213672,53.870752],[14.583496,53.639355],[14.258887,53.729639],[14.128613,52.878223],[14.619434,52.528516],[15.016602,51.252734],[14.809375,50.858984],[14.99375,51.014355],[16.282227,50.655615],[16.63916,50.102148],[16.880078,50.427051],[17.702246,50.307178],[17.627051,50.116406],[18.562402,49.879346],[18.832227,49.510791],[19.149414,49.4],[19.441602,49.597705],[20.057617,49.181299],[20.362988,49.385254],[21.639648,49.411963],[22.538672,49.072705],[22.852051,49.062744],[22.706152,49.606201],[24.089941,50.530469],[23.605273,51.51792]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PH","iso_a3":"PHL","iso_n3":"608"},"geometry":{"type":"MultiPolygon","coordinates":[[[[121.101562,18.615283],[120.599707,18.507861],[120.36875,16.10957],[119.772559,16.255127],[120.082129,14.851074],[120.43877,14.453369],[120.583691,14.88125],[120.941309,14.645068],[120.637109,13.804492],[121.344141,13.649121],[121.77793,13.937646],[122.599902,13.194141],[122.595215,13.907617],[123.310938,13.044092],[123.948535,12.916406],[124.059766,12.56709],[124.142773,13.035791],[123.785156,13.110547],[123.549609,13.645752],[123.815723,13.837109],[123.320312,14.06167],[123.101953,13.750244],[122.627148,14.317529],[122.199707,14.148047],[122.211719,13.930176],[121.766602,14.168066],[121.392285,15.324414],[121.595313,15.933252],[122.135156,16.184814],[122.519141,17.124854],[122.152344,17.664404],[122.265527,18.458838],[121.845605,18.29541],[121.101562,18.615283]]],[[[117.311133,8.4396],[119.686914,10.500342],[119.55332,11.313525],[119.223828,10.477295],[117.349902,8.713574],[117.311133,8.4396]]],[[[122.496191,11.615088],[121.916016,11.854346],[122.103516,11.64292],[121.954004,10.444385],[122.769922,10.823828],[123.119531,11.286816],[123.158301,11.535547],[122.496191,11.615088]]],[[[123.130859,9.064111],[123.320508,9.272949],[123.162012,9.864258],[123.567578,10.780762],[123.256641,10.993945],[122.983301,10.886621],[122.855566,10.086914],[122.399512,9.823047],[123.130859,9.064111]]],[[[124.574609,11.343066],[124.330664,11.535205],[124.445508,10.923584],[124.786719,10.781396],[124.780762,10.168066],[125.026563,10.033105],[124.9875,10.367578],[125.268457,10.307715],[125.026563,11.211719],[124.574609,11.343066]]],[[[125.239551,12.527881],[124.294727,12.569336],[124.445703,12.152783],[124.99502,11.764941],[125.034277,11.34126],[125.735645,11.049609],[125.535645,12.191406],[125.239551,12.527881]]],[[[120.704395,13.479492],[120.338477,13.412354],[121.236719,12.218799],[121.540625,12.638184],[121.522754,13.131201],[121.202734,13.432324],[120.704395,13.479492]]],[[[126.005957,9.320947],[125.471289,9.756787],[125.49873,9.014746],[124.868945,8.972266],[124.731152,8.562988],[124.404883,8.599854],[123.799414,8.049121],[123.849219,8.432715],[123.43457,8.70332],[122.911133,8.156445],[122.243359,7.945117],[121.964258,6.968213],[122.616211,7.763135],[123.390918,7.40752],[123.66582,7.817773],[124.206641,7.396436],[123.985254,6.993701],[124.078125,6.404443],[124.927344,5.875342],[125.231543,6.069531],[125.346484,5.598975],[125.667969,5.978662],[125.380664,6.689941],[125.689258,7.263037],[125.824414,7.333301],[126.189355,6.309668],[126.19209,6.852539],[126.581543,7.247754],[126.458691,8.202832],[126.139551,8.595654],[126.30459,8.952051],[126.005957,9.320947]]],[[[123.370313,9.449609],[124.00498,10.400098],[124.038867,11.273535],[123.38623,9.96709],[123.370313,9.449609]]],[[[121.159375,6.075635],[120.876367,5.952637],[121.411035,5.939844],[121.159375,6.075635]]],[[[120.1,12.167676],[119.885742,12.299854],[120.010547,12.008252],[120.314551,12.012402],[120.1,12.167676]]],[[[124.593848,9.787207],[124.335742,10.159912],[123.817187,9.817383],[124.122461,9.599316],[124.593848,9.787207]]],[[[122.092871,6.42832],[122.323535,6.602246],[121.832031,6.664062],[122.092871,6.42832]]],[[[125.690234,9.914453],[125.666797,10.440137],[125.494824,10.118701],[125.690234,9.914453]]],[[[121.914844,13.540332],[122.004883,13.20498],[122.114551,13.463184],[121.914844,13.540332]]],[[[122.094043,12.354883],[122.14502,12.652637],[122.013965,12.105615],[122.094043,12.354883]]],[[[123.281836,12.853418],[122.95752,13.107178],[123.367188,12.70083],[123.281836,12.853418]]],[[[123.716602,12.287354],[123.236426,12.583496],[123.157813,11.925635],[123.47373,12.21665],[124.045508,11.752441],[123.716602,12.287354]]],[[[124.353613,13.632227],[124.224902,14.077588],[124.038867,13.663135],[124.353613,13.632227]]],[[[122.033496,15.005029],[121.839844,15.038135],[121.933008,14.656055],[122.033496,15.005029]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PE","iso_a3":"PER","iso_n3":"604"},"geometry":{"type":"Polygon","coordinates":[[[-69.965918,-4.235938],[-70.339502,-3.814355],[-70.735107,-3.781543],[-70.09585,-2.658203],[-70.968555,-2.206836],[-72.941113,-2.394043],[-73.664307,-1.248828],[-74.246387,-0.970605],[-74.801758,-0.200098],[-75.284473,-0.106543],[-75.62627,-0.122852],[-75.259375,-0.590137],[-75.570557,-1.53125],[-76.679102,-2.562598],[-77.860596,-2.981641],[-78.158496,-3.465137],[-78.345361,-3.397363],[-78.686035,-4.562402],[-79.033301,-4.969141],[-79.330957,-4.927832],[-79.638525,-4.454883],[-80.478564,-4.430078],[-80.490137,-4.010059],[-80.179248,-3.877734],[-80.324658,-3.387891],[-81.283203,-4.322266],[-81.336621,-4.669531],[-80.881934,-5.635059],[-81.142041,-6.056738],[-79.994971,-6.768945],[-78.762256,-8.616992],[-77.633203,-11.287793],[-76.223633,-13.371191],[-76.289014,-14.133105],[-75.104248,-15.411914],[-72.467676,-16.708105],[-70.418262,-18.345605],[-69.926367,-18.206055],[-69.8521,-17.703809],[-69.510938,-17.506055],[-69.624854,-17.200195],[-68.842773,-16.337891],[-69.217578,-16.149121],[-69.420898,-15.640625],[-69.172461,-15.236621],[-69.359473,-14.795312],[-68.870898,-14.169727],[-69.074121,-13.682813],[-68.978613,-12.880078],[-68.685254,-12.501953],[-69.578613,-10.951758],[-70.642334,-11.010254],[-70.541113,-9.4375],[-71.237939,-9.966016],[-72.142969,-10.005176],[-72.379053,-9.510156],[-73.209424,-9.411426],[-72.974023,-8.993164],[-74.002051,-7.556055],[-73.72041,-7.309277],[-73.758105,-6.905762],[-73.137354,-6.46582],[-73.235547,-6.098438],[-72.887061,-5.122754],[-70.799512,-4.17334],[-69.965918,-4.235938]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PY","iso_a3":"PRY","iso_n3":"600"},"geometry":{"type":"Polygon","coordinates":[[[-58.159766,-20.164648],[-58.180176,-19.817871],[-59.090527,-19.28623],[-61.756836,-19.645312],[-62.276318,-20.5625],[-62.650977,-22.233691],[-61.03291,-23.755664],[-59.89248,-24.093555],[-57.643896,-25.328418],[-58.604834,-27.314355],[-56.437158,-27.553809],[-56.164062,-27.321484],[-55.714648,-27.414844],[-54.825488,-26.652246],[-54.615869,-25.576074],[-54.241797,-24.047266],[-54.625488,-23.8125],[-55.415918,-23.951367],[-55.84917,-22.307617],[-56.447803,-22.076172],[-56.937256,-22.271289],[-57.955908,-22.10918],[-57.830225,-20.997949],[-58.159766,-20.164648]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PG","iso_a3":"PNG","iso_n3":"598"},"geometry":{"type":"MultiPolygon","coordinates":[[[[152.96582,-4.756348],[153.016797,-4.105664],[152.03291,-3.251367],[150.825391,-2.572949],[150.746094,-2.738867],[152.279395,-3.582422],[152.96582,-4.756348]]],[[[151.915625,-4.296777],[151.593066,-4.200781],[151.671191,-4.883301],[150.900293,-5.447168],[150.183105,-5.523633],[150.090039,-5.011816],[149.831445,-5.524121],[148.432031,-5.471777],[148.337207,-5.669434],[149.652539,-6.29043],[150.473535,-6.263379],[151.515137,-5.552344],[152.077051,-5.458301],[151.983691,-5.074414],[152.351172,-4.822168],[152.405664,-4.340723],[151.915625,-4.296777]]],[[[140.976172,-9.11875],[142.647168,-9.327832],[143.366211,-8.961035],[143.111816,-8.474512],[142.206836,-8.195801],[143.61377,-8.200391],[143.518164,-8.000684],[143.942285,-7.944238],[143.654883,-7.460352],[144.142871,-7.757227],[144.509863,-7.567383],[146.033203,-8.076367],[147.768652,-10.070117],[149.754102,-10.353027],[150.319922,-10.654883],[150.647168,-10.517969],[150.446094,-10.307324],[150.849512,-10.236035],[149.874414,-10.012988],[149.76123,-9.805859],[150.011035,-9.688184],[149.263184,-9.497852],[149.19834,-9.03125],[148.583105,-9.051758],[148.126758,-8.103613],[147.190039,-7.378125],[146.953613,-6.834082],[147.845508,-6.662402],[147.566699,-6.056934],[145.745215,-5.402441],[145.766992,-4.823047],[144.477734,-3.825293],[140.973438,-2.609766],[140.976172,-9.11875]]],[[[151.080957,-10.020117],[150.776074,-9.709082],[151.230859,-10.194727],[151.296484,-9.956738],[151.080957,-10.020117]]],[[[150.34541,-9.493848],[150.208301,-9.206348],[150.109766,-9.361914],[150.34541,-9.493848]]],[[[147.067578,-1.960156],[146.65625,-1.974023],[146.546484,-2.208594],[147.438086,-2.058984],[147.067578,-1.960156]]],[[[150.436621,-2.661816],[150.227148,-2.38418],[149.961621,-2.473828],[150.436621,-2.661816]]],[[[150.528418,-9.346582],[150.43623,-9.624609],[150.894043,-9.66748],[150.528418,-9.346582]]],[[[153.536133,-11.476172],[153.203613,-11.324121],[153.759863,-11.586328],[153.536133,-11.476172]]],[[[155.957617,-6.686816],[154.729297,-5.444434],[154.759277,-5.931348],[155.344043,-6.72168],[155.719336,-6.862793],[155.957617,-6.686816]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PA","iso_a3":"PAN","iso_n3":"591"},"geometry":{"type":"Polygon","coordinates":[[[-77.374219,8.658301],[-78.082764,9.236279],[-79.577295,9.597852],[-81.354785,8.780566],[-81.894482,9.14043],[-81.780225,8.957227],[-82.244189,9.031494],[-82.563574,9.57666],[-82.939844,9.44917],[-82.727832,8.916064],[-83.027344,8.337744],[-82.879346,8.070654],[-82.781152,8.303516],[-82.235449,8.311035],[-81.727637,8.137549],[-81.268408,7.625488],[-81.063867,7.899756],[-80.845557,7.220068],[-80.438867,7.274951],[-80.01123,7.500049],[-80.458984,8.213867],[-79.50708,8.970068],[-79.086377,8.997168],[-78.409863,8.355322],[-78.099463,8.496973],[-77.760547,8.133252],[-78.141895,8.386084],[-78.421582,8.060986],[-77.901172,7.229346],[-77.761914,7.698828],[-77.538281,7.56626],[-77.195996,7.972461],[-77.374219,8.658301]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PW","iso_a3":"PLW","iso_n3":"585"},"geometry":{"type":"Polygon","coordinates":[[[134.59541,7.382031],[134.651172,7.712109],[134.515723,7.525781],[134.59541,7.382031]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PK","iso_a3":"PAK","iso_n3":"586"},"geometry":{"type":"Polygon","coordinates":[[[76.766895,35.661719],[75.912305,36.048975],[75.772168,36.694922],[74.541406,37.022168],[72.249805,36.734717],[71.23291,36.121777],[71.620508,35.183008],[70.965625,34.530371],[71.051563,34.049707],[69.889648,34.007275],[70.261133,33.289014],[69.501562,33.020068],[69.279297,31.936816],[68.868945,31.634229],[68.161035,31.802979],[67.452832,31.234619],[66.829297,31.263672],[66.346875,30.802783],[66.23125,29.865723],[64.09873,29.391943],[62.476562,29.40835],[60.843359,29.858691],[61.889844,28.546533],[62.758008,28.243555],[62.762988,27.250195],[63.301563,27.151465],[63.157812,26.649756],[61.842383,26.225928],[61.587891,25.202344],[64.059375,25.40293],[64.658984,25.184082],[66.467676,25.445312],[66.131152,25.493262],[66.324219,25.601807],[66.698633,25.226318],[66.703027,24.860938],[67.171484,24.756104],[67.563086,23.881836],[68.165039,23.857324],[68.724121,23.964697],[68.781152,24.313721],[69.805176,24.165234],[71.044043,24.400098],[70.648438,25.666943],[70.100195,25.910059],[70.147656,26.506445],[69.506934,26.742676],[69.537012,27.122949],[70.403711,28.025049],[70.797949,27.709619],[71.870313,27.9625],[72.341895,28.751904],[72.90332,29.02876],[73.381641,29.934375],[73.80918,30.093359],[74.632812,31.034668],[74.555566,31.818555],[75.333496,32.279199],[74.685742,32.493799],[74.663281,32.757666],[74.35459,32.768701],[74.003809,33.189453],[73.976465,33.721289],[74.250879,33.946094],[73.904102,34.075684],[73.96123,34.653467],[75.70918,34.503076],[77.048633,35.109912],[76.766895,35.661719]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"OM","iso_a3":"OMN","iso_n3":"512"},"geometry":{"type":"MultiPolygon","coordinates":[[[[53.085645,16.648389],[54.068164,17.005518],[55.06416,17.038916],[55.479102,17.843262],[56.383496,17.987988],[56.825977,18.753516],[57.811621,19.01709],[57.861816,20.244141],[58.169434,20.589502],[58.474219,20.406885],[59.8,22.219922],[59.823242,22.508984],[59.429395,22.66084],[58.773047,23.517188],[57.123047,23.980713],[56.387988,24.979199],[56.063867,24.73877],[56.000586,24.953223],[55.795703,24.868115],[55.76084,24.242676],[55.985156,24.063379],[55.468457,23.941113],[55.18584,22.704102],[55.641016,22.001855],[54.977344,19.995947],[51.977637,18.996143],[53.085645,16.648389]]],[[[56.297852,25.650684],[56.413086,26.351172],[56.080469,26.062646],[56.297852,25.650684]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NO","iso_a3":"NOR","iso_n3":"578"},"geometry":{"type":"MultiPolygon","coordinates":[[[[20.622168,69.036865],[21.59375,69.273584],[22.410938,68.719873],[23.854004,68.805908],[24.941406,68.593262],[26.072461,69.691553],[27.747852,70.064844],[29.141602,69.671436],[28.96582,69.021973],[30.180176,69.63584],[30.860742,69.538428],[30.869727,69.783447],[29.79209,69.727881],[28.804297,70.092529],[30.944141,70.274414],[30.065137,70.702979],[28.831543,70.863965],[28.192969,70.248584],[28.392285,70.975293],[27.59707,71.091309],[26.989355,70.511377],[26.585059,70.41001],[26.661328,70.939746],[25.043848,70.109033],[25.768164,70.853174],[24.658008,71.001025],[23.353906,69.983398],[22.68457,70.374756],[21.355762,70.233398],[21.974707,69.83457],[20.62207,69.913916],[20.739453,69.520508],[20.054492,69.332666],[20.324219,69.945312],[19.641504,69.424023],[19.722461,69.781641],[19.197266,69.747852],[18.915918,69.335596],[18.259766,69.470605],[18.101465,69.156299],[16.514355,68.532568],[17.552832,68.42627],[16.203809,68.316748],[16.312305,67.881445],[16.00791,68.228711],[14.798926,67.809326],[15.594434,67.348535],[14.961914,67.574268],[14.441699,67.271387],[15.415723,67.202441],[14.108789,67.119238],[13.211426,66.64082],[13.118848,66.230664],[14.03418,66.297559],[12.783789,66.100439],[12.133887,65.27915],[12.915527,65.339258],[11.489355,64.97583],[9.567285,63.706152],[10.055078,63.512695],[11.306641,64.048877],[11.370703,63.804834],[10.020996,63.39082],[9.696875,63.624561],[9.156055,63.459326],[8.576172,63.601172],[8.158008,63.161523],[8.623145,62.84624],[7.571875,63.099512],[6.734961,62.720703],[8.045508,62.77124],[7.653125,62.564014],[6.35293,62.611133],[6.136133,62.407471],[6.580078,62.407275],[5.143164,62.159912],[5.266895,61.935596],[6.730762,61.869775],[4.930078,61.87832],[5.106738,61.187549],[7.173535,61.165967],[7.442578,61.434619],[7.604492,61.210547],[7.038672,60.95293],[6.777832,61.142432],[5.008594,61.038184],[5.11582,60.635986],[5.64834,60.687988],[5.137109,60.445605],[5.688574,60.123193],[5.205664,60.087939],[5.145801,59.638818],[6.15332,60.34624],[6.995703,60.511963],[5.730469,59.863086],[6.216602,59.818359],[5.242188,59.564307],[5.173242,59.162549],[6.415332,59.547119],[5.88916,59.097949],[6.363281,59.000928],[5.555566,58.975195],[5.706836,58.523633],[7.004883,58.024219],[8.166113,58.145312],[9.557227,59.112695],[10.179395,59.009277],[10.595312,59.764551],[10.834473,59.183936],[11.388281,59.036523],[11.642773,58.926074],[11.680762,59.592285],[12.486133,60.106787],[12.294141,61.002686],[12.880762,61.352295],[12.155371,61.720752],[12.175195,63.595947],[12.792773,64],[14.141211,64.173535],[13.650293,64.581543],[14.479688,65.301465],[14.543262,66.129346],[15.483789,66.305957],[16.783594,67.89502],[17.324609,68.103809],[17.916699,67.964893],[18.303027,68.55542],[19.969824,68.356396],[20.116699,69.020898],[20.622168,69.036865]]],[[[23.440527,70.815771],[21.994531,70.657129],[22.829102,70.541553],[23.440527,70.815771]]],[[[15.207129,68.943115],[14.404688,68.663232],[15.22207,68.616309],[15.207129,68.943115]]],[[[19.255078,70.066406],[19.132715,70.244141],[18.129883,69.557861],[19.334766,69.820264],[19.255078,70.066406]]],[[[17.503027,69.59624],[17.08252,69.013672],[17.950684,69.198145],[17.503027,69.59624]]],[[[15.760352,68.56123],[16.048047,69.302051],[15.412598,68.61582],[14.25752,68.190771],[15.975293,68.40249],[16.328906,68.876318],[15.760352,68.56123]]],[[[32.525977,80.119141],[33.629297,80.217432],[31.481934,80.10791],[32.525977,80.119141]]],[[[21.608105,78.595703],[20.22793,78.477832],[21.653125,77.923535],[20.928125,77.459668],[22.685352,77.553516],[22.553711,77.26665],[24.901855,77.756592],[23.116699,77.991504],[21.608105,78.595703]]],[[[20.897852,80.249951],[19.733301,80.477832],[19.343359,80.116406],[17.916895,80.143115],[18.725,79.760742],[20.784082,79.748584],[20.128223,79.4896],[23.947754,79.194287],[25.641211,79.403027],[26.86084,80.16001],[24.297559,80.3604],[23.114551,80.186963],[23.008008,80.473975],[22.289746,80.049219],[20.897852,80.249951]]],[[[16.786719,79.906738],[16.245703,80.049463],[16.34375,78.976123],[14.593652,79.79873],[14.02959,79.344141],[12.555371,79.569482],[13.692871,79.860986],[10.804004,79.798779],[10.737598,79.520166],[13.150195,78.2375],[14.638281,78.4146],[14.689258,78.720947],[15.417383,78.473242],[16.782617,78.663623],[17.00293,78.369385],[13.680566,78.028125],[14.089941,77.771387],[16.914062,77.897998],[13.995703,77.508203],[16.700488,76.579297],[19.676758,78.60957],[21.38877,78.74043],[18.677832,79.261719],[18.397363,79.605176],[17.66875,79.385938],[16.786719,79.906738]]],[[[11.250293,78.610693],[10.558203,78.90293],[12.116406,78.232568],[11.250293,78.610693]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KP","iso_a3":"PRK","iso_n3":"408"},"geometry":{"type":"Polygon","coordinates":[[[128.374609,38.623438],[127.394531,39.20791],[127.568164,39.781982],[129.708691,40.857324],[129.756348,41.712256],[130.687305,42.302539],[130.526953,42.5354],[129.898242,42.998145],[129.697852,42.448145],[128.923438,42.038232],[128.045215,41.9875],[128.149414,41.387744],[126.743066,41.724854],[125.989062,40.904639],[124.362109,40.004053],[124.638281,39.615088],[124.775293,39.758057],[125.36084,39.526611],[125.168848,38.805518],[125.554492,38.68623],[124.690918,38.129199],[125.206738,38.081543],[124.98877,37.931445],[125.357813,37.724805],[125.769141,37.985352],[126.116699,37.74292],[126.633887,37.781836],[127.090332,38.283887],[128.038965,38.308545],[128.374609,38.623438]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NG","iso_a3":"NGA","iso_n3":"566"},"geometry":{"type":"Polygon","coordinates":[[[13.606348,13.70459],[12.463184,13.09375],[10.475879,13.330225],[9.615918,12.810645],[8.750586,12.908154],[7.830469,13.340918],[7.005078,12.995557],[6.299805,13.658789],[5.491992,13.872852],[4.664844,13.733203],[4.147559,13.457715],[4.03877,12.934668],[3.64668,12.52998],[3.59541,11.696289],[3.487793,11.39541],[3.834473,10.607422],[3.044922,9.083838],[2.774805,9.048535],[2.706445,6.369238],[3.716992,6.597949],[3.450781,6.427051],[4.431348,6.348584],[5.112402,5.641553],[5.456641,5.611719],[5.199219,5.533545],[5.549707,5.474219],[5.367969,5.337744],[5.493262,4.83877],[6.076563,4.290625],[6.860352,4.37334],[6.767676,4.724707],[6.923242,4.390674],[7.154688,4.514404],[7.076563,4.716162],[7.800781,4.522266],[8.293066,4.557617],[8.252734,4.923975],[8.555859,4.755225],[8.997168,5.917725],[9.779883,6.760156],[10.60625,7.063086],[11.237305,6.450537],[11.861426,7.116406],[12.233398,8.282324],[12.782227,8.817871],[13.699902,10.873145],[14.575391,11.532422],[14.619727,12.150977],[14.197461,12.383789],[14.063965,13.078516],[13.606348,13.70459]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NE","iso_a3":"NER","iso_n3":"562"},"geometry":{"type":"Polygon","coordinates":[[[13.606348,13.70459],[13.448242,14.380664],[15.474316,16.908398],[15.735059,19.904053],[15.963184,20.346191],[15.181836,21.523389],[14.979004,22.996191],[14.215527,22.619678],[13.48125,23.180176],[11.967871,23.517871],[7.481738,20.873096],[5.836621,19.47915],[4.227637,19.142773],[4.234668,16.996387],[3.842969,15.701709],[3.504297,15.356348],[1.300195,15.272266],[0.947461,14.982129],[0.21748,14.911475],[0.429199,13.972119],[1.201172,13.35752],[0.988477,13.364844],[0.987305,13.041895],[1.564941,12.6354],[2.10459,12.70127],[2.072949,12.309375],[2.38916,11.89707],[2.366016,12.221924],[2.805273,12.383838],[3.59541,11.696289],[3.64668,12.52998],[4.03877,12.934668],[4.147559,13.457715],[4.664844,13.733203],[5.491992,13.872852],[6.299805,13.658789],[7.005078,12.995557],[7.830469,13.340918],[8.750586,12.908154],[9.615918,12.810645],[10.475879,13.330225],[12.463184,13.09375],[13.606348,13.70459]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NI","iso_a3":"NIC","iso_n3":"558"},"geometry":{"type":"Polygon","coordinates":[[[-83.15752,14.993066],[-84.453564,14.643701],[-84.985156,14.752441],[-85.733936,13.858691],[-86.040381,14.050146],[-86.733643,13.763477],[-86.729297,13.284375],[-87.337256,12.979248],[-87.667529,12.903564],[-85.744336,11.062109],[-84.63418,11.045605],[-83.919287,10.735352],[-83.641992,10.917236],[-83.867871,11.300049],[-83.651758,11.642041],[-83.754248,12.501953],[-83.593359,12.713086],[-83.510938,12.411816],[-83.567334,13.320312],[-83.187744,14.340088],[-83.413721,14.825342],[-83.15752,14.993066]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NZ","iso_a3":"NZL","iso_n3":"554"},"geometry":{"type":"MultiPolygon","coordinates":[[[[173.115332,-41.279297],[172.704395,-40.667773],[172.943652,-40.51875],[172.640625,-40.518262],[171.48623,-41.794727],[171.011719,-42.885059],[170.969922,-42.718359],[169.178906,-43.913086],[168.457422,-44.030566],[167.908984,-44.664746],[167.194531,-44.963477],[167.155664,-45.410938],[166.743066,-45.468457],[167.00332,-45.712109],[166.488281,-45.831836],[166.916699,-45.957227],[166.731543,-46.197852],[167.539453,-46.148535],[168.382129,-46.605371],[169.342285,-46.620508],[170.77627,-45.870898],[171.240723,-44.26416],[172.179785,-43.895996],[172.035547,-43.701758],[173.065625,-43.874609],[172.52666,-43.464746],[172.624023,-43.272461],[173.221191,-42.976562],[174.283105,-41.740625],[174.069336,-41.429492],[174.370117,-41.103711],[174.038574,-41.241895],[174.302539,-41.019531],[173.797852,-41.271973],[173.947168,-40.924121],[173.115332,-41.279297]]],[[[168.144922,-46.862207],[167.783984,-46.699805],[167.521973,-47.258691],[168.240918,-47.07002],[168.144922,-46.862207]]],[[[173.269434,-34.934766],[173.043945,-34.429102],[172.705957,-34.455176],[173.313965,-35.443359],[173.626172,-35.319141],[173.412207,-35.542578],[174.054688,-36.359766],[173.914453,-35.908691],[174.392773,-36.240039],[174.401562,-36.601953],[174.188867,-36.492285],[174.475586,-36.941895],[174.928906,-37.084766],[174.58584,-37.097754],[174.928027,-37.804492],[174.597363,-38.785059],[173.763672,-39.31875],[175.155957,-40.114941],[175.1625,-40.621582],[174.635352,-41.289453],[175.309766,-41.610645],[176.842188,-40.157812],[177.076758,-39.221777],[177.522949,-39.073828],[177.908789,-39.239551],[178.53623,-37.69209],[178.00918,-37.554883],[177.274023,-37.993457],[176.108398,-37.645117],[175.46084,-36.475684],[175.54248,-37.201367],[174.722461,-36.841211],[174.802148,-36.309473],[174.320312,-35.24668],[173.269434,-34.934766]]],[[[166.221094,-50.761523],[166.101367,-50.538965],[165.88916,-50.807715],[166.221094,-50.761523]]],[[[-176.177637,-43.740332],[-176.847656,-43.823926],[-176.515527,-44.116602],[-176.516553,-43.784766],[-176.177637,-43.740332]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NU","iso_a3":"NIU","iso_n3":"570"},"geometry":{"type":"Polygon","coordinates":[[[-169.803418,-19.083008],[-169.834033,-18.966016],[-169.94834,-19.072852],[-169.803418,-19.083008]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CK","iso_a3":"COK","iso_n3":"184"},"geometry":{"type":"Polygon","coordinates":[[[-159.740527,-21.249219],[-159.768359,-21.188477],[-159.832031,-21.200488],[-159.740527,-21.249219]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NL","iso_a3":"NLD","iso_n3":"528"},"geometry":{"type":"MultiPolygon","coordinates":[[[[5.993945,50.750439],[5.94873,51.802686],[6.800391,51.967383],[7.035156,52.380225],[6.710742,52.617871],[7.033008,52.651367],[7.197266,53.282275],[6.062207,53.40708],[4.76875,52.941309],[3.946875,51.810547],[4.274121,51.471631],[3.448926,51.540771],[4.226172,51.386475],[5.030957,51.469092],[5.796484,51.153076],[5.639453,50.843604],[5.993945,50.750439]]],[[[4.226172,51.386475],[3.350098,51.377686],[3.902051,51.207666],[4.226172,51.386475]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AW","iso_a3":"ABW","iso_n3":"533"},"geometry":{"type":"Polygon","coordinates":[[[-69.899121,12.452002],[-70.035107,12.614111],[-70.066113,12.546973],[-69.899121,12.452002]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CW","iso_a3":"CUW","iso_n3":"531"},"geometry":{"type":"Polygon","coordinates":[[[-68.751074,12.059766],[-69.158887,12.380273],[-68.995117,12.141846],[-68.751074,12.059766]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NP","iso_a3":"NPL","iso_n3":"524"},"geometry":{"type":"Polygon","coordinates":[[[88.109766,27.870605],[87.141406,27.83833],[86.137012,28.114355],[85.994531,27.9104],[85.67832,28.277441],[85.122461,28.315967],[85.159082,28.592236],[84.228711,28.911768],[84.101367,29.219971],[83.583496,29.183594],[82.043359,30.326758],[81.010254,30.164502],[80.401855,29.730273],[80.070703,28.830176],[82.733398,27.518994],[84.091016,27.491357],[85.794531,26.60415],[87.995117,26.382373],[88.109766,27.870605]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NR","iso_a3":"NRU","iso_n3":"520"},"geometry":{"type":"Polygon","coordinates":[[[166.958398,-0.516602],[166.907031,-0.52373],[166.938965,-0.550781],[166.958398,-0.516602]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NA","iso_a3":"NAM","iso_n3":"516"},"geometry":{"type":"Polygon","coordinates":[[[23.380664,-17.640625],[20.745508,-18.019727],[18.955273,-17.803516],[18.396387,-17.399414],[14.01748,-17.408887],[13.101172,-16.967676],[11.743066,-17.249219],[11.775879,-18.001758],[14.462793,-22.449121],[14.501562,-24.201953],[14.967773,-26.318066],[15.341504,-27.386523],[16.447559,-28.617578],[17.05625,-28.031055],[17.447949,-28.698145],[18.102734,-28.87168],[19.161719,-28.93877],[19.980469,-28.45127],[19.980469,-24.776758],[19.977344,-22.000195],[20.979492,-21.961914],[20.974121,-18.318848],[23.219336,-17.999707],[23.599707,-18.459961],[24.243945,-18.023438],[25.258789,-17.793555],[24.73291,-17.517773],[23.380664,-17.640625]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MZ","iso_a3":"MOZ","iso_n3":"508"},"geometry":{"type":"Polygon","coordinates":[[[31.287891,-22.402051],[31.98584,-24.460645],[31.948242,-25.957617],[32.112891,-26.839453],[32.886133,-26.849316],[32.954883,-26.083594],[32.848828,-26.268066],[32.59043,-26.004102],[32.792188,-25.644336],[34.99209,-24.650586],[35.489648,-24.065527],[35.530078,-22.248145],[35.315723,-22.396875],[34.649414,-19.701367],[34.947852,-19.812695],[36.403711,-18.769727],[37.244531,-17.739941],[39.844629,-16.435645],[40.558984,-15.473438],[40.844531,-14.718652],[40.436816,-12.983105],[40.463574,-10.464355],[38.491797,-11.413281],[37.920215,-11.294727],[37.372852,-11.710449],[36.305664,-11.706348],[35.911328,-11.454688],[34.959473,-11.578125],[34.618555,-11.620215],[34.357813,-12.164746],[34.563672,-13.360156],[35.247461,-13.896875],[35.892773,-14.891797],[35.755273,-16.058301],[35.358496,-16.160547],[35.167188,-16.560254],[35.272559,-17.118457],[34.248242,-15.8875],[34.54082,-15.297266],[34.505273,-14.598145],[34.33252,-14.408594],[33.636426,-14.568164],[33.201758,-14.013379],[30.231836,-14.990332],[30.396094,-15.643066],[30.437793,-15.995313],[31.23623,-16.023633],[32.948047,-16.712305],[32.993066,-18.35957],[32.699707,-18.940918],[32.992773,-19.984863],[32.492383,-20.659766],[32.429785,-21.29707],[31.287891,-22.402051]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MA","iso_a3":"MAR","iso_n3":"504"},"geometry":{"type":"Polygon","coordinates":[[[-2.219629,35.104199],[-2.839941,35.127832],[-2.972217,35.407275],[-4.62832,35.206396],[-5.252686,35.614746],[-5.277832,35.902734],[-5.924805,35.785791],[-6.900977,33.969043],[-8.512842,33.252441],[-9.24585,32.572461],[-9.808691,31.424609],[-9.66709,30.109277],[-10.200586,29.380371],[-11.552686,28.310107],[-12.948926,27.91416],[-13.575781,26.735107],[-14.413867,26.253711],[-14.904297,24.719775],[-15.899316,23.844434],[-17.003076,21.420703],[-14.750977,21.500586],[-14.221191,22.310156],[-13.891113,23.691016],[-12.431152,24.830664],[-12.060986,25.99082],[-11.718213,26.104102],[-11.392578,26.883398],[-9.817871,26.850195],[-8.794873,27.120703],[-8.68335,27.656445],[-8.678418,28.689404],[-7.685156,29.349512],[-5.448779,29.956934],[-4.968262,30.465381],[-3.666797,30.964014],[-3.826758,31.661914],[-3.017383,31.834277],[-2.887207,32.068848],[-1.225928,32.107227],[-1.065527,32.468311],[-1.679199,33.318652],[-1.795605,34.751904],[-2.219629,35.104199]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"EH","iso_a3":"ESH","iso_n3":"732"},"geometry":{"type":"Polygon","coordinates":[[[-8.68335,27.656445],[-8.794873,27.120703],[-9.817871,26.850195],[-11.392578,26.883398],[-11.718213,26.104102],[-12.060986,25.99082],[-12.431152,24.830664],[-13.891113,23.691016],[-14.221191,22.310156],[-14.750977,21.500586],[-17.003076,21.420703],[-17.048047,20.806152],[-16.964551,21.329248],[-13.016211,21.333936],[-13.153271,22.820508],[-12.023438,23.467578],[-12.016309,25.99541],[-8.682227,25.995508],[-8.68335,27.285938],[-8.68335,27.656445]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ME","iso_a3":"MNE","iso_n3":"499"},"geometry":{"type":"Polygon","coordinates":[[[19.194336,43.533301],[18.460156,42.9979],[18.436328,42.559717],[18.51748,42.43291],[19.342383,41.869092],[19.654492,42.628564],[20.063965,42.547266],[20.344336,42.82793],[19.194336,43.533301]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MN","iso_a3":"MNG","iso_n3":"496"},"geometry":{"type":"Polygon","coordinates":[[[87.814258,49.162305],[87.979688,48.555127],[89.047656,48.002539],[90.02793,47.877686],[90.869922,46.954492],[90.877246,45.196094],[93.516211,44.944482],[95.350293,44.278076],[96.385449,42.720361],[101.495313,42.53877],[102.156641,42.158105],[103.711133,41.751318],[104.498242,41.877002],[104.498242,41.658691],[104.982031,41.595508],[106.77002,42.288721],[109.339844,42.438379],[110.400391,42.773682],[111.933203,43.711426],[111.402246,44.367285],[111.898047,45.064062],[113.587012,44.745703],[114.560156,45.38999],[115.681055,45.458252],[116.562598,46.289795],[117.333398,46.362012],[117.438086,46.58623],[119.867188,46.672168],[119.711133,47.15],[118.498438,47.983984],[117.768359,47.987891],[117.350781,47.652197],[116.760547,47.869775],[115.898242,47.686914],[115.616406,47.874805],[116.683301,49.823779],[116.216797,50.009277],[115.429199,49.896484],[114.29707,50.274414],[112.806445,49.523584],[110.709766,49.142969],[108.613672,49.322803],[107.916602,49.947803],[107.233301,49.989404],[106.711133,50.312598],[105.383594,50.47373],[103.304395,50.200293],[102.288379,50.585107],[102.111523,51.353467],[98.893164,52.117285],[97.835742,51.05166],[98.250293,50.302441],[97.359766,49.741455],[94.614746,50.02373],[94.251074,50.556396],[92.354785,50.86416],[90.053711,50.09375],[89.395605,49.611523],[88.192578,49.451709],[87.814258,49.162305]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MD","iso_a3":"MDA","iso_n3":"498"},"geometry":{"type":"Polygon","coordinates":[[[26.618945,48.259863],[28.071777,46.978418],[28.2125,45.450439],[28.947754,46.049951],[28.958398,46.458496],[30.131055,46.423096],[29.134863,47.489697],[29.125391,47.964551],[27.549219,48.477734],[26.618945,48.259863]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MC","iso_a3":"MCO","iso_n3":"492"},"geometry":{"type":"Polygon","coordinates":[[[7.438672,43.750439],[7.39502,43.765332],[7.377734,43.731738],[7.438672,43.750439]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MX","iso_a3":"MEX","iso_n3":"484"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-117.128271,32.53335],[-115.673828,29.756396],[-114.048486,28.426172],[-114.265869,27.934473],[-114.069336,27.675684],[-114.300586,27.872998],[-114.993506,27.736035],[-113.598535,26.721289],[-113.155811,26.94624],[-113.020752,26.583252],[-112.377246,26.213916],[-112.069873,25.572852],[-112.072559,24.840039],[-110.362695,23.604932],[-110.00625,22.894043],[-109.495703,23.159814],[-109.42085,23.480127],[-110.262891,24.344531],[-110.367432,24.100488],[-110.659326,24.341455],[-111.569678,26.707617],[-111.795264,26.879688],[-111.699414,26.580957],[-111.862646,26.678516],[-112.734033,27.825977],[-112.87085,28.424219],[-114.550488,30.022266],[-114.933594,31.900732],[-113.046729,31.179248],[-113.057666,30.651025],[-112.161768,29.018896],[-111.121387,27.966992],[-110.529883,27.864209],[-110.377295,27.233301],[-109.27627,26.533887],[-109.116699,26.252734],[-109.425635,26.032568],[-109.384961,25.727148],[-108.886572,25.733447],[-109.028809,25.480469],[-108.051465,25.067041],[-108.280762,25.081543],[-107.951172,24.614893],[-107.511914,24.48916],[-107.764941,24.471924],[-105.791797,22.62749],[-105.649121,21.988086],[-105.208691,21.49082],[-105.51084,20.80874],[-105.260156,20.579053],[-105.669434,20.385596],[-104.938477,19.309375],[-103.912451,18.828467],[-103.441602,18.325391],[-101.918701,17.959766],[-100.847803,17.200488],[-97.754785,15.966846],[-96.213574,15.693066],[-94.799414,16.209668],[-95.02085,16.277637],[-94.858691,16.419727],[-94.587109,16.31582],[-94.661523,16.201904],[-94.00127,16.018945],[-94.37417,16.284766],[-93.166895,15.448047],[-92.235156,14.54541],[-92.204248,15.275],[-91.736572,16.070166],[-90.447168,16.072705],[-90.416992,16.391016],[-91.409619,17.255859],[-90.992969,17.252441],[-90.98916,17.816406],[-89.161475,17.814844],[-88.295654,18.472412],[-88.031738,18.838916],[-87.881982,18.273877],[-87.761816,18.446143],[-87.424756,19.58335],[-87.687695,19.637109],[-86.771777,21.150537],[-87.034766,21.592236],[-88.466699,21.569385],[-90.353125,21.009424],[-90.739258,19.352246],[-91.43667,18.889795],[-91.275244,18.624463],[-91.533984,18.456543],[-92.441016,18.675293],[-94.459766,18.16665],[-95.181836,18.700732],[-95.920361,18.81958],[-97.186328,20.717041],[-97.753809,22.02666],[-97.40918,21.272559],[-97.314502,21.564209],[-97.84248,22.510303],[-97.667676,24.38999],[-97.14624,25.961475],[-99.107764,26.446924],[-99.505322,27.54834],[-101.440381,29.776855],[-102.614941,29.752344],[-103.168311,28.998193],[-104.110596,29.386133],[-104.978809,30.645947],[-106.44541,31.768408],[-108.211816,31.779346],[-108.214453,31.329443],[-111.041992,31.324219],[-114.835938,32.508301],[-114.724756,32.715332],[-117.128271,32.53335]]],[[[-115.170605,28.069385],[-115.233545,28.368359],[-115.35293,28.103955],[-115.170605,28.069385]]],[[[-112.203076,29.005322],[-112.423535,29.203662],[-112.514062,28.847607],[-112.278418,28.769336],[-112.203076,29.005322]]],[[[-112.057275,24.545703],[-112.159424,25.285645],[-112.296777,24.789648],[-112.057275,24.545703]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MU","iso_a3":"MUS","iso_n3":"480"},"geometry":{"type":"Polygon","coordinates":[[[57.65127,-20.484863],[57.656543,-19.989941],[57.317676,-20.427637],[57.65127,-20.484863]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MR","iso_a3":"MRT","iso_n3":"478"},"geometry":{"type":"Polygon","coordinates":[[[-12.280615,14.809033],[-11.940918,14.886914],[-11.502686,15.636816],[-10.895605,15.150488],[-10.696582,15.422656],[-9.446924,15.458203],[-9.350586,15.677393],[-9.176807,15.496094],[-5.5125,15.496289],[-5.359912,16.282861],[-5.628662,16.568652],[-5.941016,19.296191],[-6.594092,24.994629],[-4.822607,24.995605],[-8.68335,27.285938],[-8.682227,25.995508],[-12.016309,25.99541],[-12.023438,23.467578],[-13.153271,22.820508],[-13.016211,21.333936],[-16.964551,21.329248],[-17.048047,20.806152],[-16.92793,21.114795],[-16.210449,20.22793],[-16.514453,19.361963],[-16.213086,19.00332],[-16.030322,17.887939],[-16.535254,15.838379],[-16.239014,16.531299],[-14.53374,16.655957],[-13.409668,16.05918],[-12.280615,14.809033]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MT","iso_a3":"MLT","iso_n3":"470"},"geometry":{"type":"Polygon","coordinates":[[[14.566211,35.852734],[14.35127,35.978418],[14.436426,35.82168],[14.566211,35.852734]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ML","iso_a3":"MLI","iso_n3":"466"},"geometry":{"type":"Polygon","coordinates":[[[-11.389404,12.404395],[-11.502197,12.198633],[-11.305176,12.01543],[-10.933203,12.205176],[-10.709229,11.89873],[-10.274854,12.212646],[-9.754004,12.029932],[-9.358105,12.25542],[-9.395361,12.464648],[-9.043066,12.402344],[-8.822021,11.673242],[-8.398535,11.366553],[-8.666699,11.009473],[-8.337402,10.990625],[-7.990625,10.1625],[-7.497949,10.439795],[-7.01709,10.143262],[-6.65415,10.656445],[-6.261133,10.724072],[-6.196875,10.232129],[-5.523535,10.426025],[-5.288135,11.82793],[-4.428711,12.337598],[-4.151025,13.306201],[-3.301758,13.280762],[-3.248633,13.65835],[-2.95083,13.648438],[-2.586719,14.227588],[-2.113232,14.168457],[-1.973047,14.456543],[-0.760449,15.047754],[0.21748,14.911475],[0.947461,14.982129],[1.300195,15.272266],[3.504297,15.356348],[3.842969,15.701709],[4.234668,16.996387],[4.227637,19.142773],[3.119727,19.103174],[3.130273,19.850195],[1.685449,20.378369],[1.145508,21.102246],[-4.822607,24.995605],[-6.594092,24.994629],[-5.941016,19.296191],[-5.628662,16.568652],[-5.359912,16.282861],[-5.5125,15.496289],[-9.176807,15.496094],[-9.350586,15.677393],[-9.446924,15.458203],[-10.696582,15.422656],[-10.895605,15.150488],[-11.502686,15.636816],[-11.940918,14.886914],[-12.280615,14.809033],[-12.054199,13.633057],[-11.390381,12.941992],[-11.389404,12.404395]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MV","iso_a3":"MDV","iso_n3":"462"},"geometry":{"type":"Polygon","coordinates":[[[73.512207,4.164551],[73.517773,4.247656],[73.473047,4.170703],[73.512207,4.164551]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MY","iso_a3":"MYS","iso_n3":"458"},"geometry":{"type":"MultiPolygon","coordinates":[[[[100.119141,6.441992],[100.71543,3.966211],[101.299902,3.253271],[101.295508,2.885205],[103.480273,1.329492],[103.694531,1.449658],[103.991504,1.454785],[103.981445,1.623633],[104.250098,1.388574],[103.812207,2.580469],[103.439453,2.933105],[103.41582,4.850293],[103.09707,5.408447],[102.101074,6.242236],[101.873633,5.825293],[101.556055,5.907764],[101.113965,5.636768],[101.053516,6.242578],[100.261426,6.682715],[100.119141,6.441992]]],[[[117.574414,4.170605],[118.54834,4.379248],[118.260547,4.988867],[118.9125,5.0229],[119.266309,5.308105],[118.353125,5.806055],[117.973633,5.70625],[118.003809,6.05332],[117.501172,5.884668],[117.69375,6.35],[117.229883,6.93999],[116.788086,6.606104],[116.749805,6.9771],[115.877148,5.613525],[115.419043,5.413184],[115.554492,5.093555],[115.140039,4.899756],[115.290625,4.352588],[115.026758,4.899707],[114.74668,4.718066],[114.654102,4.037646],[114.063867,4.592676],[112.987891,3.161914],[111.5125,2.743018],[111.028711,1.557812],[111.223242,1.39585],[109.864844,1.764453],[109.628906,2.027539],[109.654004,1.614893],[110.505762,0.861963],[111.808984,1.01167],[112.476172,1.559082],[113.622266,1.235938],[114.5125,1.452002],[114.786426,2.250488],[115.179102,2.523193],[115.117578,2.894873],[115.454395,3.034326],[115.678809,4.193018],[116.514746,4.370801],[117.574414,4.170605]]],[[[99.848047,6.465723],[99.646289,6.418359],[99.74375,6.263281],[99.848047,6.465723]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MW","iso_a3":"MWI","iso_n3":"454"},"geometry":{"type":"Polygon","coordinates":[[[33.201758,-14.013379],[33.636426,-14.568164],[34.33252,-14.408594],[34.505273,-14.598145],[34.54082,-15.297266],[34.248242,-15.8875],[35.272559,-17.118457],[35.167188,-16.560254],[35.358496,-16.160547],[35.755273,-16.058301],[35.892773,-14.891797],[35.247461,-13.896875],[34.563672,-13.360156],[34.357813,-12.164746],[34.618555,-11.620215],[34.959473,-11.578125],[34.60791,-11.080469],[34.320898,-9.731543],[33.995605,-9.49541],[33.888867,-9.670117],[32.919922,-9.407422],[33.661523,-10.553125],[33.261328,-10.893359],[33.252344,-12.112598],[33.512305,-12.347754],[33.021582,-12.630469],[32.67041,-13.59043],[33.201758,-14.013379]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MG","iso_a3":"MDG","iso_n3":"450"},"geometry":{"type":"MultiPolygon","coordinates":[[[[49.538281,-12.432129],[49.207031,-12.07959],[48.786328,-12.470898],[48.796484,-13.26748],[48.255273,-13.719336],[47.941016,-13.662402],[47.77334,-14.369922],[47.96416,-14.672559],[47.47832,-15.009375],[47.351953,-14.766113],[47.099219,-15.43418],[46.942285,-15.219043],[46.475098,-15.513477],[46.399609,-15.924609],[46.15752,-15.738281],[44.476172,-16.217285],[43.979395,-17.391602],[44.404688,-19.92207],[43.501855,-21.356445],[43.264844,-22.383594],[44.035352,-24.995703],[45.205762,-25.570508],[46.728516,-25.149902],[47.177344,-24.787207],[49.362891,-18.336328],[49.449316,-17.240625],[49.839063,-16.486523],[49.664355,-15.521582],[49.892578,-15.457715],[50.208984,-15.960449],[50.482715,-15.385645],[49.9375,-13.072266],[49.538281,-12.432129]]],[[[49.936426,-16.90293],[50.023047,-16.695312],[49.824023,-17.086523],[49.936426,-16.90293]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MK","iso_a3":"MKD","iso_n3":"807"},"geometry":{"type":"Polygon","coordinates":[[[21.5625,42.24751],[20.566211,41.873682],[20.488965,41.272607],[20.964258,40.849902],[22.916016,41.336279],[23.003613,41.739844],[22.344043,42.313965],[21.5625,42.24751]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LU","iso_a3":"LUX","iso_n3":"442"},"geometry":{"type":"Polygon","coordinates":[[[6.116504,50.120996],[5.744043,49.919629],[5.789746,49.538281],[6.344336,49.452734],[6.487305,49.798486],[6.116504,50.120996]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LT","iso_a3":"LTU","iso_n3":"440"},"geometry":{"type":"MultiPolygon","coordinates":[[[[20.957813,55.278906],[21.114844,55.616504],[20.899805,55.28667],[20.957813,55.278906]]],[[[22.766211,54.356787],[23.484668,53.939795],[24.317969,53.892969],[25.461133,54.292773],[25.749219,54.156982],[25.780859,54.833252],[26.775684,55.273096],[26.457617,55.34248],[26.593555,55.667529],[24.841016,56.411182],[24.120703,56.264258],[22.08457,56.406738],[21.046094,56.070068],[21.235742,55.264111],[22.567285,55.059131],[22.766211,54.356787]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LI","iso_a3":"LIE","iso_n3":"438"},"geometry":{"type":"Polygon","coordinates":[[[9.580273,47.057373],[9.527539,47.270752],[9.487695,47.062256],[9.580273,47.057373]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LY","iso_a3":"LBY","iso_n3":"434"},"geometry":{"type":"Polygon","coordinates":[[[9.51875,30.229395],[9.310254,30.115234],[9.805273,29.176953],[9.916016,27.785693],[9.883203,26.630811],[9.448242,26.067139],[10.255859,24.591016],[11.507617,24.314355],[11.967871,23.517871],[13.48125,23.180176],[14.215527,22.619678],[14.979004,22.996191],[15.984082,23.445215],[20.147656,21.389258],[23.980273,19.496631],[23.980273,19.995947],[24.979492,20.002588],[24.980273,21.99585],[24.980273,29.181885],[24.703223,30.201074],[24.961426,30.678516],[24.852734,31.334814],[25.150488,31.65498],[24.878516,31.984277],[23.286328,32.213818],[23.090625,32.61875],[21.635938,32.937305],[20.121484,32.21875],[19.926367,31.817529],[20.111523,30.963721],[19.713281,30.488379],[19.12373,30.266113],[17.830469,30.927588],[15.705957,31.426416],[15.176563,32.391162],[13.283496,32.914648],[12.279883,32.858545],[11.50459,33.181934],[11.50498,32.413672],[10.274609,31.684961],[10.216406,30.783203],[9.51875,30.229395]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LR","iso_a3":"LBR","iso_n3":"430"},"geometry":{"type":"Polygon","coordinates":[[[-11.50752,6.906543],[-9.132178,5.054639],[-7.544971,4.351318],[-7.454395,5.841309],[-8.603564,6.507812],[-8.302344,6.980957],[-8.486426,7.558496],[-8.659766,7.688379],[-9.117578,7.215918],[-9.463818,7.415869],[-9.518262,8.346094],[-10.283203,8.485156],[-10.647461,7.759375],[-11.50752,6.906543]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LS","iso_a3":"LSO","iso_n3":"426"},"geometry":{"type":"Polygon","coordinates":[[[28.736914,-30.101953],[29.098047,-29.919043],[29.390723,-29.269727],[28.625781,-28.581738],[27.735547,-28.940039],[27.056934,-29.625586],[27.753125,-30.6],[28.056836,-30.631055],[28.39209,-30.147559],[28.736914,-30.101953]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LB","iso_a3":"LBN","iso_n3":"422"},"geometry":{"type":"Polygon","coordinates":[[[35.97627,34.629199],[35.108594,33.083691],[35.840723,33.415674],[35.869141,33.431738],[36.584961,34.22124],[36.383887,34.65791],[35.97627,34.629199]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LV","iso_a3":"LVA","iso_n3":"428"},"geometry":{"type":"Polygon","coordinates":[[[26.593555,55.667529],[27.576758,55.798779],[28.147949,56.14292],[27.639453,56.845654],[27.828613,57.293311],[27.351953,57.528125],[26.462109,57.544482],[25.282617,58.048486],[24.322559,57.870605],[24.382617,57.250049],[23.647754,56.971045],[22.55459,57.724268],[21.728711,57.570996],[21.071289,56.82373],[21.046094,56.070068],[22.08457,56.406738],[24.120703,56.264258],[24.841016,56.411182],[26.593555,55.667529]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"LA","iso_a3":"LAO","iso_n3":"418"},"geometry":{"type":"Polygon","coordinates":[[[102.127441,22.379199],[101.73877,22.495264],[101.524512,22.253662],[101.800586,21.212598],[101.247852,21.197314],[101.138867,21.56748],[100.703125,21.251367],[100.622949,20.85957],[100.249316,20.730273],[100.122461,20.31665],[100.519531,20.17793],[100.513574,19.553467],[101.211914,19.54834],[100.955859,17.541113],[102.101465,18.210645],[102.680078,17.824121],[103.366992,18.42334],[103.949609,18.318994],[104.739648,17.46167],[104.819336,16.466064],[105.641016,15.656543],[105.497363,14.590674],[105.183301,14.34624],[106.066797,13.921191],[105.978906,14.343018],[106.501465,14.578223],[106.938086,14.327344],[107.519434,14.705078],[107.653125,15.255225],[107.165918,15.80249],[107.396387,16.043018],[106.656445,16.492627],[106.502246,16.954102],[105.114551,18.405273],[105.146484,18.650977],[103.891602,19.30498],[104.032031,19.675146],[104.587891,19.61875],[104.92793,20.018115],[104.367773,20.441406],[104.583203,20.64668],[104.101367,20.945508],[103.635059,20.69707],[103.104492,20.89165],[102.851172,21.265918],[102.949609,21.681348],[102.662012,21.676025],[102.127441,22.379199]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KG","iso_a3":"KGZ","iso_n3":"417"},"geometry":{"type":"Polygon","coordinates":[[[70.958008,40.238867],[70.515137,39.949902],[69.966797,40.202246],[69.530273,40.097314],[69.297656,39.524805],[70.501172,39.587354],[70.799316,39.394727],[71.470312,39.603662],[72.22998,39.20752],[73.631641,39.448877],[73.991602,40.043115],[74.835156,40.482617],[75.555566,40.625195],[75.677148,40.305811],[76.318555,40.352246],[76.907715,41.02417],[78.123438,41.075635],[80.209375,42.190039],[79.12666,42.775732],[75.366211,42.836963],[74.209082,43.240381],[73.55625,43.002783],[73.492969,42.409033],[71.760547,42.821484],[71.256641,42.733545],[70.946777,42.248682],[71.228516,42.162891],[70.200879,41.514453],[71.393066,41.123389],[71.664941,41.541211],[72.187305,41.025928],[73.136914,40.810645],[71.69248,40.152344],[70.958008,40.238867]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KW","iso_a3":"KWT","iso_n3":"414"},"geometry":{"type":"Polygon","coordinates":[[[48.44248,28.54292],[48.051465,29.355371],[47.722656,29.393018],[48.143457,29.572461],[47.978711,29.982812],[47.148242,30.000977],[46.531445,29.09624],[47.433203,28.989551],[47.671289,28.533154],[48.44248,28.54292]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KI","iso_a3":"KIR","iso_n3":"296"},"geometry":{"type":"Polygon","coordinates":[[[-157.342139,1.855566],[-157.578955,1.902051],[-157.175781,1.739844],[-157.342139,1.855566]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KE","iso_a3":"KEN","iso_n3":"404"},"geometry":{"type":"Polygon","coordinates":[[[33.903223,-1.002051],[37.643848,-3.04541],[37.608203,-3.49707],[39.221777,-4.692383],[40.11543,-3.250586],[40.222461,-2.688379],[41.532715,-1.695312],[40.978711,-0.870313],[40.964453,2.814648],[41.883984,3.977734],[41.14043,3.962988],[40.765234,4.273047],[39.494434,3.456104],[38.086133,3.648828],[36.905566,4.411475],[36.021973,4.468115],[35.74502,5.343994],[35.268359,5.492285],[33.976074,4.220215],[34.437695,3.650586],[34.978223,1.773633],[33.943164,0.173779],[33.903223,-1.002051]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KZ","iso_a3":"KAZ","iso_n3":"398"},"geometry":{"type":"Polygon","coordinates":[[[70.946777,42.248682],[71.256641,42.733545],[71.760547,42.821484],[73.492969,42.409033],[73.55625,43.002783],[74.209082,43.240381],[75.366211,42.836963],[79.12666,42.775732],[80.209375,42.190039],[80.202246,42.734473],[80.785742,43.161572],[80.355273,44.097266],[80.481543,44.714648],[79.871875,44.883789],[81.691992,45.349365],[82.521484,45.125488],[82.315234,45.594922],[83.029492,47.185938],[84.786133,46.830713],[85.484766,47.063525],[85.749414,48.385059],[86.549414,48.528613],[86.808301,49.049707],[87.322852,49.085791],[86.675488,49.777295],[86.180859,49.499316],[85.232617,49.61582],[84.989453,50.061426],[84.323242,50.23916],[83.357324,50.99458],[82.493945,50.727588],[81.465918,50.739844],[80.735254,51.293408],[79.98623,50.774561],[77.859961,53.269189],[76.484766,54.022559],[76.837305,54.442383],[74.351562,53.487646],[73.858984,53.619727],[73.406934,53.447559],[73.712402,54.042383],[72.622266,54.134326],[72.446777,53.941846],[72.186035,54.325635],[71.093164,54.212207],[70.738086,55.305176],[70.182422,55.162451],[68.977246,55.3896],[68.155859,54.976709],[65.476953,54.623291],[65.088379,54.340186],[61.231055,54.019482],[60.979492,53.621729],[61.534961,53.523291],[61.199219,53.287158],[62.082715,53.00542],[61.047461,52.972461],[60.774414,52.675781],[60.994531,52.336865],[60.030273,51.933252],[61.554688,51.324609],[61.389453,50.861035],[60.942285,50.695508],[60.058594,50.850293],[59.523047,50.492871],[57.838867,51.09165],[57.442188,50.888867],[56.491406,51.019531],[55.68623,50.582861],[54.641602,51.011572],[54.555273,50.535791],[53.338086,51.482373],[52.219141,51.709375],[51.344531,51.475342],[50.793945,51.729199],[48.625098,50.612695],[48.758984,49.92832],[48.334961,49.858252],[47.429199,50.357959],[46.889551,49.696973],[47.031348,49.150293],[46.660938,48.412256],[47.292383,47.740918],[48.166992,47.708789],[48.959375,46.774609],[48.541211,46.605615],[49.232227,46.337158],[51.178027,47.110156],[52.138281,46.828613],[52.483203,46.990674],[53.069434,46.856055],[53.135254,46.19165],[52.773828,45.572754],[53.200391,45.331982],[51.415723,45.357861],[51.009375,44.921826],[51.543555,44.531006],[50.409473,44.624023],[50.25293,44.461523],[50.830762,44.192773],[51.29541,43.174121],[52.596582,42.760156],[52.493848,41.780371],[53.055859,42.147754],[54.120996,42.335205],[55.434375,41.296289],[55.977441,41.322217],[55.975684,44.994922],[58.555273,45.555371],[61.00791,44.393799],[61.990234,43.492139],[64.905469,43.714697],[65.803027,42.876953],[66.100293,42.99082],[66.00957,42.004883],[66.498633,41.994873],[66.709668,41.17915],[67.935742,41.196582],[68.291895,40.656104],[68.572656,40.622656],[69.153613,41.425244],[70.946777,42.248682]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"JO","iso_a3":"JOR","iso_n3":"400"},"geometry":{"type":"Polygon","coordinates":[[[35.787305,32.734912],[35.551465,32.395508],[35.450586,31.479297],[34.973438,29.555029],[34.950781,29.353516],[36.068457,29.200537],[36.755273,29.866016],[37.469238,29.995068],[37.980078,30.5],[36.958594,31.491504],[39.14541,32.124512],[38.773535,33.372217],[36.818359,32.317285],[35.787305,32.734912]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"JP","iso_a3":"JPN","iso_n3":"392"},"geometry":{"type":"MultiPolygon","coordinates":[[[[134.932812,34.288135],[135.004688,34.544043],[134.667871,34.294141],[134.932812,34.288135]]],[[[143.824316,44.116992],[141.937695,45.509521],[141.667969,45.40127],[141.760938,44.48252],[141.374121,43.279639],[140.392383,43.303125],[140.432227,42.954102],[139.860156,42.581738],[140.085156,41.434082],[140.659863,41.815576],[141.150977,41.805078],[140.32666,42.293359],[140.480469,42.559375],[140.986133,42.342139],[141.851367,42.579053],[143.236523,42.000195],[143.969336,42.881396],[145.833008,43.385938],[145.34082,43.302539],[145.139648,43.6625],[145.369531,44.327393],[144.715234,43.927979],[143.824316,44.116992]]],[[[131.174609,33.602588],[130.715625,33.927783],[129.580078,33.236279],[129.991699,32.851562],[129.679102,33.059961],[129.768555,32.570996],[130.34043,32.701855],[130.2375,33.177637],[130.547266,32.831592],[130.147266,31.408496],[130.58877,31.178516],[130.77627,31.706299],[130.685742,31.015137],[131.070801,31.436865],[131.337207,31.404688],[132.002148,32.882373],[131.896582,33.25459],[131.537402,33.274072],[131.696289,33.602832],[131.174609,33.602588]]],[[[134.357422,34.256348],[133.94834,34.348047],[133.193066,33.933203],[132.935156,34.095312],[132.032617,33.33999],[132.412793,33.430469],[132.495117,32.916602],[132.804297,32.752002],[133.632031,33.510986],[134.181641,33.247217],[134.738867,33.820508],[134.6375,34.226611],[134.357422,34.256348]]],[[[141.229297,41.372656],[140.936914,41.505566],[140.801855,41.253662],[141.244238,41.205615],[141.118555,40.882275],[140.748633,40.830322],[140.627637,41.19541],[140.344434,41.20332],[139.741504,39.92085],[140.064746,39.624414],[139.801953,38.881592],[139.363867,38.099023],[138.319922,37.218408],[137.246289,36.753174],[136.899902,37.117676],[137.322656,37.52207],[136.843457,37.382129],[135.903125,35.606885],[135.326953,35.525537],[135.174316,35.74707],[132.922949,35.511279],[131.354395,34.413184],[131.004199,34.392578],[130.918848,33.975732],[131.740527,34.052051],[132.146484,33.83877],[132.312598,34.324951],[133.142383,34.302441],[134.740039,34.765234],[135.415918,34.61748],[135.12793,34.006982],[135.695312,33.486963],[136.329883,34.176855],[136.853711,34.324072],[136.533008,34.678369],[136.804199,35.050293],[136.871289,34.733105],[137.275195,34.77251],[137.061719,34.582812],[138.189063,34.596338],[138.719629,35.124072],[138.8375,34.619238],[139.249414,35.278027],[139.675,35.149268],[139.834766,35.658057],[140.096875,35.585156],[139.843945,34.914893],[140.354688,35.181445],[140.874023,35.724951],[140.573535,36.231348],[141.00166,37.114648],[140.962109,38.148877],[141.46748,38.40415],[141.976953,39.428809],[141.430469,40.72334],[141.455469,41.404736],[141.229297,41.372656]]],[[[128.258789,26.652783],[128.254883,26.881885],[127.907227,26.693604],[127.653125,26.094727],[128.258789,26.652783]]],[[[129.452539,28.208984],[129.689551,28.51748],[129.164648,28.249756],[129.452539,28.208984]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"JM","iso_a3":"JAM","iso_n3":"388"},"geometry":{"type":"Polygon","coordinates":[[[-77.261475,18.457422],[-77.873438,18.522217],[-78.339502,18.287207],[-77.20498,17.714941],[-76.853223,17.97373],[-76.210791,17.913525],[-77.261475,18.457422]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IT","iso_a3":"ITA","iso_n3":"380"},"geometry":{"type":"MultiPolygon","coordinates":[[[[7.021094,45.925781],[6.790918,45.740869],[7.146387,45.381738],[6.634766,45.068164],[6.992676,44.827295],[6.900195,44.335742],[7.637207,44.164844],[7.493164,43.767139],[8.76582,44.422314],[10.188086,43.94751],[10.514844,42.967529],[11.141211,42.389893],[15.692773,39.990186],[16.209961,38.941113],[15.645801,38.034229],[16.056836,37.941846],[16.616699,38.800146],[17.174609,38.998096],[17.114551,39.380615],[16.521875,39.747559],[16.928223,40.458057],[17.865039,40.280176],[18.34375,39.821387],[18.460645,40.221045],[15.900488,41.512061],[16.164648,41.896191],[15.16875,41.934033],[14.540723,42.244287],[13.56416,43.571289],[12.396289,44.223877],[12.274316,45.446045],[13.206348,45.771387],[13.719824,45.587598],[13.378223,46.261621],[13.7,46.520264],[12.388281,46.702637],[12.169434,47.082129],[10.993262,46.777002],[10.452832,46.864941],[10.12832,46.238232],[9.260156,46.475195],[9.02373,45.845703],[8.422559,46.446045],[7.787891,45.921826],[7.021094,45.925781]],[[12.43916,41.898389],[12.430566,41.897559],[12.430566,41.905469],[12.43916,41.898389]],[[12.485254,43.901416],[12.396875,43.93457],[12.503711,43.989746],[12.485254,43.901416]]],[[[15.576563,38.220312],[13.788867,37.981201],[12.734375,38.183057],[12.435547,37.819775],[15.112598,36.687842],[15.295703,37.055176],[15.099512,37.458594],[15.576563,38.220312]]],[[[9.632031,40.882031],[9.228418,41.25708],[8.571875,40.850195],[8.224219,40.91333],[8.648535,38.926562],[9.056348,39.23916],[9.5625,39.166016],[9.632031,40.882031]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IL","iso_a3":"ISR","iso_n3":"376"},"geometry":{"type":"Polygon","coordinates":[[[35.840723,33.415674],[35.108594,33.083691],[34.477344,31.584863],[34.245313,31.208301],[34.904297,29.477344],[34.973438,29.555029],[35.450586,31.479297],[34.872754,31.396875],[35.203711,31.75],[34.953809,31.84126],[35.065039,32.460449],[35.551465,32.395508],[35.787305,32.734912],[35.816125,33.361879],[35.840723,33.415674]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PS","iso_a3":"PSE","iso_n3":"275"},"geometry":{"type":"MultiPolygon","coordinates":[[[[34.477344,31.584863],[34.198145,31.322607],[34.245313,31.208301],[34.477344,31.584863]]],[[[35.551465,32.395508],[35.065039,32.460449],[34.953809,31.84126],[35.203711,31.75],[34.872754,31.396875],[35.450586,31.479297],[35.551465,32.395508]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IE","iso_a3":"IRL","iso_n3":"372"},"geometry":{"type":"Polygon","coordinates":[[[-7.218652,55.091992],[-6.96167,55.237891],[-7.308789,55.36582],[-7.65874,54.970947],[-7.66709,55.256494],[-8.274609,55.146289],[-8.763916,54.681201],[-8.133447,54.64082],[-8.545557,54.241211],[-10.056396,54.257812],[-9.578223,53.80542],[-10.09126,53.412842],[-8.930127,53.20708],[-9.916602,52.569727],[-8.783447,52.679639],[-10.356689,52.206934],[-9.909668,52.122949],[-10.341064,51.798926],[-9.598828,51.874414],[-10.120752,51.600684],[-8.813428,51.584912],[-8.40918,51.88877],[-6.325,52.24668],[-6.027393,52.9271],[-6.218018,54.088721],[-6.649805,54.058643],[-7.007715,54.406689],[-7.606543,54.143848],[-8.118262,54.414258],[-7.218652,55.091992]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IQ","iso_a3":"IRQ","iso_n3":"368"},"geometry":{"type":"Polygon","coordinates":[[[42.358984,37.108594],[41.295996,36.38335],[40.987012,34.429053],[38.773535,33.372217],[39.14541,32.124512],[40.369336,31.938965],[42.074414,31.080371],[44.69082,29.202344],[46.531445,29.09624],[47.148242,30.000977],[47.978711,29.982812],[48.546484,29.962354],[48.014941,30.465625],[48.010645,30.989795],[47.679492,31.002393],[47.82998,31.794434],[47.371289,32.42373],[46.112793,32.957666],[46.019922,33.415723],[45.39707,33.97085],[46.273438,35.773242],[45.361621,36.015332],[44.765137,37.142432],[44.281836,36.978027],[44.114453,37.301855],[42.774609,37.371875],[42.358984,37.108594]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IR","iso_a3":"IRN","iso_n3":"364"},"geometry":{"type":"MultiPolygon","coordinates":[[[[56.187988,26.921143],[55.757617,26.947656],[55.762598,26.811963],[55.311523,26.592627],[56.187988,26.921143]]],[[[53.91416,37.343555],[53.970117,36.818311],[52.190137,36.621729],[51.118555,36.742578],[50.130469,37.407129],[49.171191,37.600586],[48.86875,38.435498],[47.996484,38.85376],[48.322168,39.399072],[47.995898,39.683936],[46.490625,38.906689],[46.114453,38.877783],[45.479688,39.00625],[44.817188,39.650439],[44.587109,39.768555],[44.389355,39.422119],[44.023242,39.377441],[44.449902,38.334229],[44.211328,37.908057],[44.589941,37.710352],[44.765137,37.142432],[45.361621,36.015332],[46.273438,35.773242],[45.39707,33.97085],[46.019922,33.415723],[46.112793,32.957666],[47.371289,32.42373],[47.82998,31.794434],[47.679492,31.002393],[48.010645,30.989795],[48.014941,30.465625],[48.546484,29.962354],[48.919141,30.120898],[49.001953,30.506543],[49.554883,30.028955],[50.071582,30.198535],[51.278906,28.131348],[53.705762,26.725586],[54.759277,26.505078],[55.424023,26.770557],[55.650293,26.977539],[56.356152,27.200244],[56.982227,26.905469],[57.33457,25.791553],[59.046094,25.417285],[61.587891,25.202344],[61.842383,26.225928],[63.157812,26.649756],[63.301563,27.151465],[62.762988,27.250195],[62.758008,28.243555],[61.889844,28.546533],[60.843359,29.858691],[61.81084,30.913281],[61.660156,31.382422],[60.820703,31.495166],[60.561914,33.058789],[60.916992,33.505225],[60.51084,33.638916],[60.485742,34.094775],[60.889453,34.319434],[60.72627,34.518262],[61.262012,35.61958],[61.119629,36.642578],[60.341309,36.637646],[59.301758,37.510645],[58.261621,37.66582],[57.193555,38.216406],[55.380859,38.051123],[54.699414,37.470166],[53.91416,37.343555]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ID","iso_a3":"IDN","iso_n3":"360"},"geometry":{"type":"MultiPolygon","coordinates":[[[[97.481543,1.465088],[97.079199,1.425488],[97.82041,0.564453],[97.931934,0.973926],[97.481543,1.465088]]],[[[99.163867,-1.77793],[98.932617,-0.954004],[98.676074,-0.970508],[98.827734,-1.609961],[99.163867,-1.77793]]],[[[116.64082,-8.613867],[116.718945,-8.336035],[116.401563,-8.204199],[115.857324,-8.787891],[116.586523,-8.886133],[116.64082,-8.613867]]],[[[115.447852,-8.155176],[114.467578,-8.166309],[115.055078,-8.573047],[115.144922,-8.849023],[115.704297,-8.407129],[115.447852,-8.155176]]],[[[106.045703,-1.669434],[105.45957,-1.574707],[105.133398,-2.042578],[105.78584,-2.181348],[105.99873,-2.824902],[106.667188,-3.071777],[106.818457,-2.57334],[106.365918,-2.464844],[106.045703,-1.669434]]],[[[123.179785,-4.551172],[123.074609,-4.386914],[122.85332,-4.618359],[122.64502,-5.663379],[123.187305,-5.333008],[122.97168,-5.138477],[123.179785,-4.551172]]],[[[122.645117,-5.269434],[122.701953,-4.618652],[122.368945,-4.767188],[122.283105,-5.319531],[122.645117,-5.269434]]],[[[108.316016,3.689648],[108.24834,4.217139],[108.002344,3.982861],[108.316016,3.689648]]],[[[108.207227,-2.997656],[108.215137,-2.696973],[107.666309,-2.566309],[107.614453,-3.209375],[108.055273,-3.226855],[108.207227,-2.997656]]],[[[135.383008,-0.651367],[135.915039,-1.178418],[136.375293,-1.094043],[135.383008,-0.651367]]],[[[135.474219,-1.591797],[136.228125,-1.893652],[136.892578,-1.799707],[135.474219,-1.591797]]],[[[130.813281,-0.004102],[130.236621,-0.209668],[130.750195,-0.443848],[130.899219,-0.344434],[130.622168,-0.085938],[131.005371,-0.360742],[131.339746,-0.290332],[130.813281,-0.004102]]],[[[128.453906,2.051758],[128.602148,2.597607],[128.217969,2.297461],[128.453906,2.051758]]],[[[128.153027,-1.660547],[127.64668,-1.332422],[127.39502,-1.589844],[128.153027,-1.660547]]],[[[126.024219,-1.789746],[125.387207,-1.843066],[126.331738,-1.822852],[126.024219,-1.789746]]],[[[124.969531,-1.705469],[124.417578,-1.659277],[124.329688,-1.858887],[125.314063,-1.877148],[124.969531,-1.705469]]],[[[131.325586,-7.999512],[131.624414,-7.626172],[131.643457,-7.112793],[131.137793,-7.684863],[131.11377,-7.997363],[131.325586,-7.999512]]],[[[126.800977,-7.667871],[125.975293,-7.663379],[125.798242,-7.98457],[126.47207,-7.950391],[126.800977,-7.667871]]],[[[124.575586,-8.14082],[124.380664,-8.415137],[125.131738,-8.326465],[124.575586,-8.14082]]],[[[131.001855,-1.315527],[131.033008,-0.917578],[130.672949,-0.959766],[131.001855,-1.315527]]],[[[96.492578,5.229346],[95.227832,5.564795],[95.578613,4.661963],[96.968945,3.575146],[97.59082,2.846582],[97.700781,2.358545],[98.595313,1.8646],[99.15918,0.351758],[99.669824,0.045068],[100.308203,-0.82666],[100.889551,-2.248535],[101.578613,-3.166992],[104.601562,-5.90459],[104.639551,-5.52041],[105.081348,-5.745508],[105.349414,-5.549512],[105.74834,-5.818262],[106.044336,-3.10625],[105.396973,-2.380176],[104.650781,-2.595215],[104.845215,-2.092969],[104.515918,-1.819434],[104.360547,-1.038379],[103.721094,-0.886719],[103.438574,-0.575586],[103.428516,-0.191797],[103.786719,0.046973],[103.672656,0.288916],[103.338965,0.513721],[102.55,0.216455],[103.031836,0.578906],[102.389941,0.841992],[102.019922,1.442139],[101.47666,1.693066],[101.046191,2.257471],[100.828223,2.242578],[100.887891,1.948242],[100.523828,2.18916],[99.732324,3.183057],[98.307324,4.092871],[97.547168,5.205859],[96.492578,5.229346]]],[[[122.78291,-8.611719],[122.916992,-8.105566],[122.323242,-8.62832],[120.610254,-8.24043],[119.874805,-8.419824],[119.80791,-8.697656],[121.035254,-8.935449],[122.78291,-8.611719]]],[[[120.0125,-9.374707],[118.958789,-9.519336],[120.144824,-10.200098],[120.698047,-10.206641],[120.784473,-9.957031],[120.0125,-9.374707]]],[[[118.242383,-8.317773],[117.755273,-8.149512],[118.234863,-8.591895],[117.969531,-8.728027],[117.164844,-8.367188],[116.835059,-8.532422],[116.788477,-9.006348],[119.129687,-8.668164],[118.926172,-8.297656],[118.242383,-8.317773]]],[[[124.888867,0.995312],[125.233789,1.502295],[125.110938,1.685693],[123.930762,0.850439],[122.838281,0.845703],[121.081738,1.327637],[120.602539,0.854395],[120.269531,0.970801],[119.721875,-0.088477],[119.844336,-0.861914],[119.711328,-0.680762],[119.508203,-0.906738],[119.321875,-1.929688],[118.783301,-2.720801],[118.867676,-3.398047],[119.46748,-3.512988],[119.623633,-4.034375],[119.360352,-5.31416],[119.557422,-5.611035],[120.430371,-5.591016],[120.261035,-2.949316],[120.653613,-2.667578],[121.052148,-2.75166],[120.891797,-3.520605],[121.618066,-4.092676],[121.588672,-4.75957],[122.038086,-4.832422],[122.114258,-4.540234],[122.872266,-4.391992],[122.847949,-4.064551],[122.25293,-3.62041],[122.291699,-2.907617],[121.355469,-1.878223],[122.250684,-1.555273],[122.902832,-0.900977],[123.37793,-1.004102],[123.43418,-0.778223],[123.171484,-0.570703],[121.969629,-0.933301],[121.575586,-0.828516],[121.148535,-1.339453],[120.667383,-1.370117],[120.062891,-0.555566],[120.192285,0.268506],[120.579004,0.52832],[123.753809,0.305518],[124.427539,0.470605],[124.888867,0.995312]]],[[[107.373926,-6.007617],[106.075,-5.91416],[105.255469,-6.835254],[106.198242,-6.927832],[106.519727,-7.053711],[106.455273,-7.368652],[107.91748,-7.724121],[109.281641,-7.704883],[111.509961,-8.305078],[113.25332,-8.286719],[114.583789,-8.769629],[114.386914,-8.405176],[114.409277,-7.79248],[113.013574,-7.657715],[112.539258,-6.926465],[111.181543,-6.686719],[110.834766,-6.424219],[110.42627,-6.947266],[108.677832,-6.790527],[108.330176,-6.286035],[107.373926,-6.007617]]],[[[109.628906,2.027539],[109.075879,1.495898],[108.944531,0.355664],[109.25752,0.031152],[109.258789,-0.807422],[109.983301,-1.274805],[110.256055,-2.966113],[111.694727,-2.889453],[111.858105,-3.551855],[112.758008,-3.322168],[113.033984,-2.933496],[113.705078,-3.455273],[114.344336,-3.235156],[114.693555,-4.169727],[115.956152,-3.59502],[116.257227,-3.126367],[116.166309,-2.93457],[116.56543,-2.299707],[116.275488,-1.784863],[116.753418,-1.327344],[116.739844,-1.044238],[116.913965,-1.223633],[117.5625,-0.770898],[117.522168,0.235889],[117.911621,1.098682],[118.534766,0.813525],[118.984961,0.982129],[117.789258,2.026855],[118.066602,2.317822],[117.055957,3.622656],[117.777246,3.689258],[117.574414,4.170605],[116.514746,4.370801],[115.678809,4.193018],[115.454395,3.034326],[115.117578,2.894873],[115.179102,2.523193],[114.786426,2.250488],[114.5125,1.452002],[113.622266,1.235938],[112.476172,1.559082],[111.808984,1.01167],[110.505762,0.861963],[109.654004,1.614893],[109.628906,2.027539]]],[[[127.732715,0.848145],[127.652832,1.013867],[128.011719,1.331738],[128.036426,2.199023],[127.631738,1.843701],[127.428516,1.13999],[127.691602,-0.241895],[128.425488,-0.892676],[127.887402,0.29834],[127.983105,0.471875],[128.899609,0.21626],[128.260645,0.733789],[128.702637,1.106396],[128.688379,1.572559],[127.732715,0.848145]]],[[[129.754688,-2.86582],[128.198535,-2.865918],[127.902344,-3.496289],[128.132031,-3.157422],[128.516602,-3.449121],[128.8625,-3.234961],[129.467676,-3.453223],[129.844141,-3.327148],[130.805078,-3.857715],[130.569922,-3.130859],[129.754688,-2.86582]]],[[[126.861133,-3.087891],[126.088281,-3.105469],[126.056543,-3.420996],[126.686328,-3.823633],[127.22959,-3.633008],[126.861133,-3.087891]]],[[[124.922266,-8.94248],[124.444434,-9.190332],[124.282324,-9.42793],[124.036328,-9.341602],[123.589258,-9.966797],[123.747266,-10.347168],[124.427539,-10.148633],[125.068164,-9.511914],[124.960156,-9.21377],[125.149023,-9.042578],[124.922266,-8.94248]]],[[[134.746973,-5.707031],[134.570801,-5.427344],[134.205371,-5.707227],[134.343066,-5.833008],[134.154883,-6.062891],[134.441113,-6.334863],[134.71416,-6.295117],[134.746973,-5.707031]]],[[[134.536816,-6.442285],[134.114648,-6.19082],[134.09082,-6.833789],[134.322754,-6.84873],[134.536816,-6.442285]]],[[[138.535352,-8.273633],[138.989063,-7.696094],[138.769824,-7.39043],[138.081836,-7.566211],[137.650391,-8.386133],[138.535352,-8.273633]]],[[[140.973438,-2.609766],[139.789551,-2.348242],[137.80625,-1.483203],[137.123438,-1.840918],[137.07207,-2.105078],[136.389941,-2.27334],[135.85918,-2.995313],[135.251563,-3.368555],[134.886816,-3.209863],[134.627441,-2.536719],[134.459961,-2.832324],[134.194824,-2.309082],[134.25957,-1.362988],[133.974512,-0.744336],[132.39375,-0.355469],[131.257227,-0.855469],[130.995898,-1.424707],[131.930371,-1.559668],[132.307617,-2.242285],[133.921582,-2.102051],[133.700098,-2.624609],[133.191016,-2.437793],[132.725,-2.789062],[131.971191,-2.788574],[132.751367,-3.294629],[132.914453,-4.056934],[133.400879,-3.899023],[133.841504,-3.054785],[133.67832,-3.479492],[133.973828,-3.817969],[134.886523,-3.938477],[134.679688,-4.079102],[135.195605,-4.450684],[137.279785,-4.94541],[138.06084,-5.465234],[138.087109,-5.70918],[138.339648,-5.675684],[138.199609,-5.807031],[138.864551,-6.858398],[138.601367,-6.936523],[139.176855,-7.19043],[138.747949,-7.251465],[139.087988,-7.587207],[138.890625,-8.237793],[139.248828,-7.982422],[139.385645,-8.189062],[140.116992,-7.92373],[140.00293,-8.195508],[140.976172,-9.11875],[140.973438,-2.609766]]],[[[138.895117,-8.388672],[138.796191,-8.173633],[138.563379,-8.309082],[138.895117,-8.388672]]],[[[101.708105,2.078418],[101.409668,2.02168],[101.500781,1.733203],[101.719434,1.78916],[101.708105,2.078418]]],[[[103.027539,0.746631],[102.506641,1.08877],[102.49043,0.856641],[103.027539,0.746631]]],[[[104.585352,1.216113],[104.251953,1.014893],[104.575195,0.831934],[104.585352,1.216113]]],[[[104.778613,-0.175977],[104.542676,0.017725],[104.44707,-0.18916],[105.005371,-0.282812],[104.778613,-0.175977]]],[[[104.474219,-0.334668],[104.257129,-0.463281],[104.363184,-0.658594],[104.590137,-0.466602],[104.474219,-0.334668]]],[[[109.710254,-1.180664],[109.475977,-0.985352],[109.463672,-1.277539],[109.710254,-1.180664]]],[[[113.844531,-7.105371],[114.073633,-6.960156],[113.067383,-6.87998],[112.725879,-7.072754],[113.844531,-7.105371]]],[[[127.566992,-0.318945],[127.3,-0.500293],[127.761133,-0.883691],[127.566992,-0.318945]]],[[[128.275586,-3.674609],[128.329102,-3.515918],[127.925,-3.699316],[128.275586,-3.674609]]],[[[130.35332,-1.690527],[129.737695,-1.866895],[130.248047,-2.047754],[130.35332,-1.690527]]],[[[100.425098,-3.18291],[100.198535,-2.785547],[100.465137,-3.328516],[100.425098,-3.18291]]],[[[100.204102,-2.741016],[99.987891,-2.525391],[100.014941,-2.819727],[100.204102,-2.741016]]],[[[98.459277,-0.530469],[98.544141,-0.257617],[98.322949,-0.000781],[98.459277,-0.530469]]],[[[122.042969,-5.437988],[121.913672,-5.072266],[121.808496,-5.256152],[122.042969,-5.437988]]],[[[123.212305,-1.171289],[122.908008,-1.182227],[122.89043,-1.587207],[123.150391,-1.304492],[123.172949,-1.616016],[123.511914,-1.447363],[123.212305,-1.171289]]],[[[120.52832,-6.298438],[120.477344,-5.775293],[120.487305,-6.464844],[120.52832,-6.298438]]],[[[115.377051,-6.970801],[115.546094,-6.938672],[115.240527,-6.86123],[115.377051,-6.970801]]],[[[116.30332,-3.868164],[116.269727,-3.251074],[116.058789,-4.006934],[116.30332,-3.868164]]],[[[122.948926,-10.909277],[123.418164,-10.65127],[123.371094,-10.474902],[122.845703,-10.761816],[122.948926,-10.909277]]],[[[123.924805,-8.272461],[123.391211,-8.280469],[123.230078,-8.530664],[123.924805,-8.272461]]],[[[123.242383,-4.112988],[122.969043,-4.02998],[123.076172,-4.227148],[123.242383,-4.112988]]],[[[117.649023,4.168994],[117.736816,4.004004],[117.884766,4.186133],[117.649023,4.168994]]],[[[121.883008,-10.590332],[121.99834,-10.446973],[121.704688,-10.555664],[121.883008,-10.590332]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IN","iso_a3":"IND","iso_n3":"356"},"geometry":{"type":"MultiPolygon","coordinates":[[[[68.165039,23.857324],[68.234961,23.596973],[68.776758,23.8521],[68.41748,23.571484],[69.235937,22.848535],[69.664648,22.759082],[70.489258,23.089502],[70.177246,22.572754],[68.969922,22.290283],[70.485059,20.840186],[71.024609,20.738867],[72.015234,21.155713],[72.254004,21.531006],[72.037207,21.823047],[72.182813,22.269727],[72.80918,22.233301],[72.553027,22.159961],[72.543066,21.696582],[73.1125,21.750439],[72.613281,21.461816],[72.89375,20.672754],[72.667773,19.830957],[72.987207,19.277441],[72.803027,19.079297],[72.97207,19.15332],[72.875488,18.642822],[73.476074,16.054248],[74.382227,14.494727],[74.945508,12.564551],[75.723828,11.361768],[76.553418,8.902783],[77.517578,8.07832],[78.060156,8.38457],[78.421484,9.105029],[79.411426,9.192383],[78.939941,9.565771],[79.314551,10.256689],[79.838184,10.322559],[79.693164,11.312549],[80.342383,13.361328],[80.062109,13.60625],[80.306543,13.485059],[80.053418,15.074023],[80.293457,15.710742],[80.646582,15.89502],[80.978711,15.75835],[81.286133,16.337061],[82.258789,16.559863],[82.35957,17.096191],[84.104102,18.292676],[85.441602,19.626562],[85.180762,19.594873],[85.248633,19.757666],[86.279492,19.919434],[86.975488,20.700146],[86.954102,21.365332],[87.82373,21.727344],[88.159277,22.121729],[87.941406,22.374316],[88.196289,22.139551],[88.12207,21.635791],[88.584668,21.659717],[88.641602,22.121973],[88.74502,21.584375],[89.05166,21.654102],[89.051465,22.093164],[88.928125,23.186621],[88.567383,23.674414],[88.723535,24.274902],[88.023438,24.627832],[88.45625,25.188428],[88.95166,25.259277],[88.08457,25.888232],[88.418164,26.571533],[88.828027,26.252197],[89.018652,26.410254],[89.369727,26.006104],[89.670898,26.213818],[89.833301,25.292773],[92.049707,25.169482],[92.468359,24.944141],[91.876953,24.195312],[91.36709,24.093506],[91.160449,23.660645],[91.315234,23.104395],[91.619531,22.979688],[91.92959,23.685986],[92.246094,23.683594],[92.574902,21.978076],[93.151172,22.230615],[93.32627,24.064209],[94.127637,23.876465],[94.707617,25.04873],[94.579883,25.319824],[95.132422,26.04126],[95.128711,26.597266],[96.19082,27.261279],[96.731641,27.331494],[97.102051,27.11543],[96.876855,27.586719],[97.086778,27.7475],[96.275479,28.228241],[95.832003,28.295186],[95.39715,28.142259],[95.28628,27.939955],[94.88592,27.743098],[94.277372,27.58143],[93.817265,27.025183],[93.111399,26.880082],[92.64698,26.952656],[91.99834,26.85498],[89.609961,26.719434],[88.857617,26.961475],[88.891406,27.316064],[88.803711,28.006934],[88.109766,27.870605],[87.995117,26.382373],[85.794531,26.60415],[84.091016,27.491357],[82.733398,27.518994],[80.070703,28.830176],[80.401855,29.730273],[81.010254,30.164502],[79.707774,31.013593],[78.807678,31.099982],[78.389648,32.519873],[78.700879,32.597021],[78.918945,32.358203],[79.219336,32.501074],[78.72666,34.013379],[78.970117,34.302637],[78.326953,34.606396],[78.042676,35.479785],[77.799414,35.495898],[77.048633,35.109912],[75.70918,34.503076],[73.96123,34.653467],[73.904102,34.075684],[74.250879,33.946094],[73.976465,33.721289],[74.003809,33.189453],[74.35459,32.768701],[74.663281,32.757666],[74.685742,32.493799],[75.333496,32.279199],[74.555566,31.818555],[74.632812,31.034668],[73.80918,30.093359],[73.381641,29.934375],[72.90332,29.02876],[72.341895,28.751904],[71.870313,27.9625],[70.797949,27.709619],[70.403711,28.025049],[69.537012,27.122949],[69.506934,26.742676],[70.147656,26.506445],[70.100195,25.910059],[70.648438,25.666943],[71.044043,24.400098],[69.805176,24.165234],[68.781152,24.313721],[68.724121,23.964697],[68.165039,23.857324]]],[[[93.890039,6.831055],[93.822461,7.236621],[93.658008,7.016064],[93.890039,6.831055]]],[[[92.502832,10.554883],[92.510352,10.897461],[92.352832,10.751123],[92.502832,10.554883]]],[[[92.722754,11.536084],[93.062305,13.545459],[92.533887,11.873389],[92.722754,11.536084]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"IS","iso_a3":"ISL","iso_n3":"352"},"geometry":{"type":"Polygon","coordinates":[[[-15.543115,66.228516],[-16.249316,66.5229],[-16.48501,66.195947],[-17.550439,65.964404],[-18.297168,66.157422],[-18.141943,65.734082],[-18.845898,66.183936],[-19.489697,65.768066],[-20.20752,66.100098],[-21.129687,65.266602],[-21.406885,66.025586],[-22.944336,66.429443],[-22.441699,65.908301],[-23.452539,66.181006],[-23.832617,65.849219],[-23.285352,65.75],[-24.092627,65.776465],[-23.856738,65.538379],[-24.475684,65.525195],[-21.844385,65.447363],[-22.509082,65.196777],[-21.892139,65.048779],[-24.026172,64.863428],[-21.590625,64.626367],[-22.053369,64.313916],[-21.46333,64.37915],[-22.701172,64.083203],[-22.652197,63.827734],[-21.152393,63.944531],[-20.198145,63.555811],[-18.653613,63.406689],[-14.927393,64.319678],[-13.599316,65.035938],[-13.617871,65.519336],[-14.8271,65.764258],[-15.117383,66.125635],[-14.59585,66.381543],[-15.543115,66.228516]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"HU","iso_a3":"HUN","iso_n3":"348"},"geometry":{"type":"Polygon","coordinates":[[[22.131836,48.405322],[20.490039,48.526904],[19.950391,48.146631],[18.791895,48.000293],[18.724219,47.787158],[17.761914,47.770166],[17.147363,48.005957],[17.066602,47.707568],[16.421289,47.674463],[16.676563,47.536035],[16.093066,46.863281],[16.516211,46.499902],[17.807129,45.79043],[18.905371,45.931738],[20.241797,46.108594],[21.12168,46.282422],[21.999707,47.505029],[22.87666,47.947266],[22.131836,48.405322]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"HN","iso_a3":"HND","iso_n3":"340"},"geometry":{"type":"Polygon","coordinates":[[[-83.15752,14.993066],[-84.095068,15.400928],[-83.765283,15.405469],[-84.261426,15.822607],[-84.97373,15.989893],[-88.22832,15.729004],[-89.142578,15.072314],[-89.362598,14.416016],[-88.482666,13.854248],[-87.802246,13.88999],[-87.814209,13.39917],[-87.489111,13.35293],[-87.337256,12.979248],[-86.729297,13.284375],[-86.733643,13.763477],[-86.040381,14.050146],[-85.733936,13.858691],[-84.985156,14.752441],[-84.453564,14.643701],[-83.15752,14.993066]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"HT","iso_a3":"HTI","iso_n3":"332"},"geometry":{"type":"Polygon","coordinates":[[[-71.779248,19.718164],[-73.400537,19.807422],[-72.703223,19.441064],[-72.811084,19.071582],[-72.376074,18.574463],[-72.789355,18.434814],[-74.227734,18.662695],[-74.478125,18.45],[-73.884961,18.041895],[-73.385156,18.251172],[-71.768311,18.03916],[-72.000391,18.5979],[-71.645312,19.163525],[-71.779248,19.718164]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GY","iso_a3":"GUY","iso_n3":"328"},"geometry":{"type":"Polygon","coordinates":[[[-60.742139,5.202051],[-60.142041,5.238818],[-59.990674,5.082861],[-60.148633,4.533252],[-59.703271,4.381104],[-59.551123,3.933545],[-59.854395,3.5875],[-59.994336,2.68999],[-59.666602,1.746289],[-59.231201,1.376025],[-58.821777,1.201221],[-57.31748,1.963477],[-56.482812,1.942139],[-57.197363,2.853271],[-57.303662,3.3771],[-57.646729,3.394531],[-58.054297,4.10166],[-57.917041,4.82041],[-57.331006,5.020166],[-57.194775,5.548438],[-57.227539,6.178418],[-57.982568,6.785889],[-58.41499,6.851172],[-58.672949,6.390771],[-58.511084,7.398047],[-60.017529,8.549316],[-59.849072,8.248682],[-60.718652,7.535937],[-60.3521,7.002881],[-61.145605,6.694531],[-61.128711,6.214307],[-61.39082,5.93877],[-60.742139,5.202051]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GW","iso_a3":"GNB","iso_n3":"624"},"geometry":{"type":"Polygon","coordinates":[[[-16.711816,12.354834],[-16.24458,12.237109],[-16.328076,12.051611],[-15.941748,11.786621],[-15.078271,11.968994],[-15.501904,11.723779],[-15.072656,11.597803],[-15.479492,11.410303],[-15.043018,10.940137],[-14.682959,11.508496],[-13.732764,11.736035],[-13.948877,12.178174],[-13.70791,12.312695],[-13.729248,12.673926],[-15.196094,12.679932],[-16.711816,12.354834]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GN","iso_a3":"GIN","iso_n3":"324"},"geometry":{"type":"Polygon","coordinates":[[[-10.283203,8.485156],[-9.518262,8.346094],[-9.463818,7.415869],[-9.117578,7.215918],[-8.659766,7.688379],[-8.486426,7.558496],[-8.231885,7.556738],[-8.009863,8.078516],[-8.236963,8.455664],[-7.681201,8.410352],[-7.950977,8.786816],[-7.896191,9.415869],[-8.136963,9.495703],[-7.990625,10.1625],[-8.337402,10.990625],[-8.666699,11.009473],[-8.398535,11.366553],[-8.822021,11.673242],[-9.043066,12.402344],[-9.395361,12.464648],[-9.358105,12.25542],[-9.754004,12.029932],[-10.274854,12.212646],[-10.709229,11.89873],[-10.933203,12.205176],[-11.305176,12.01543],[-11.502197,12.198633],[-11.389404,12.404395],[-12.399072,12.340088],[-13.729248,12.673926],[-13.70791,12.312695],[-13.948877,12.178174],[-13.732764,11.736035],[-14.682959,11.508496],[-15.043018,10.940137],[-14.593506,10.766699],[-14.426904,10.24834],[-13.689795,9.927783],[-13.691357,9.535791],[-13.292676,9.049219],[-12.427979,9.898145],[-11.273633,9.996533],[-10.690527,9.314258],[-10.500537,8.687549],[-10.712109,8.335254],[-10.283203,8.485156]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GT","iso_a3":"GTM","iso_n3":"320"},"geometry":{"type":"Polygon","coordinates":[[[-92.235156,14.54541],[-91.377344,13.990186],[-90.095215,13.736523],[-89.362598,14.416016],[-89.142578,15.072314],[-88.22832,15.729004],[-88.894043,15.890625],[-89.2375,15.894434],[-89.161475,17.814844],[-90.98916,17.816406],[-90.992969,17.252441],[-91.409619,17.255859],[-90.416992,16.391016],[-90.447168,16.072705],[-91.736572,16.070166],[-92.204248,15.275],[-92.235156,14.54541]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GD","iso_a3":"GRD","iso_n3":"308"},"geometry":{"type":"Polygon","coordinates":[[[-61.715527,12.012646],[-61.607031,12.223291],[-61.71499,12.185156],[-61.715527,12.012646]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GR","iso_a3":"GRC","iso_n3":"300"},"geometry":{"type":"MultiPolygon","coordinates":[[[[20.612305,38.38335],[20.352539,38.179883],[20.761328,38.070557],[20.612305,38.38335]]],[[[20.07793,39.432715],[19.926074,39.77373],[19.646484,39.76709],[20.07793,39.432715]]],[[[23.41543,38.958643],[22.870313,38.870508],[24.536523,37.979736],[24.127539,38.648486],[23.41543,38.958643]]],[[[26.824414,37.811426],[26.581055,37.72373],[27.055078,37.709277],[26.824414,37.811426]]],[[[26.094043,38.218066],[26.160352,38.540723],[25.846094,38.574023],[26.094043,38.218066]]],[[[26.410156,39.329443],[25.844141,39.200049],[26.46875,38.972803],[26.410156,39.329443]]],[[[27.842773,35.929297],[28.231836,36.433643],[27.716309,36.171582],[27.842773,35.929297]]],[[[23.852246,35.535449],[23.569824,35.534766],[23.592773,35.257227],[24.799805,34.934473],[26.165625,35.018604],[26.320215,35.315137],[25.791309,35.122852],[25.730176,35.348584],[23.852246,35.535449]]],[[[26.320898,41.716553],[25.92334,41.311914],[25.251172,41.243555],[24.487891,41.555225],[22.916016,41.336279],[20.964258,40.849902],[20.657422,40.117383],[20.00127,39.709424],[20.713379,39.035156],[21.118359,39.02998],[20.768555,38.874414],[21.182617,38.345557],[22.42168,38.438525],[23.148926,38.176074],[22.920313,37.958301],[21.824707,38.328125],[21.124707,37.891602],[21.678906,37.387207],[21.58291,37.080957],[21.892383,36.737305],[22.080469,37.028955],[22.427734,36.475781],[22.717188,36.793945],[23.160156,36.448096],[22.725391,37.542139],[23.489258,37.440186],[23.036328,37.878369],[23.501758,38.034863],[24.019727,37.677734],[24.024512,38.139795],[22.569141,38.86748],[23.066699,39.037939],[22.921387,39.306348],[23.327734,39.174902],[22.592188,40.036914],[22.629492,40.495557],[22.922266,40.590869],[23.627344,39.924072],[23.42627,40.263965],[23.94707,39.965576],[23.72793,40.329736],[24.343359,40.147705],[23.762793,40.747803],[25.104492,40.994727],[26.038965,40.726758],[26.624902,41.401758],[26.320898,41.716553]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GH","iso_a3":"GHA","iso_n3":"288"},"geometry":{"type":"Polygon","coordinates":[[[-0.068604,11.115625],[-0.627148,10.927393],[-2.829932,10.998389],[-2.69585,9.481348],[-2.505859,8.20874],[-3.235791,6.807227],[-2.75498,5.43252],[-3.019141,5.130811],[-3.086719,5.12832],[-3.114014,5.088672],[-2.001855,4.762451],[0.259668,5.757324],[0.949707,5.810254],[1.187207,6.089404],[0.525586,6.850928],[0.686328,8.354883],[0.372559,8.759277],[0.525684,9.398486],[0.233398,9.463525],[0.380859,10.291846],[-0.086328,10.673047],[-0.068604,11.115625]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"DE","iso_a3":"DEU","iso_n3":"276"},"geometry":{"type":"MultiPolygon","coordinates":[[[[9.524023,47.524219],[10.183008,47.278809],[10.439453,47.551562],[11.041992,47.393115],[12.209277,47.718262],[13.014355,47.478076],[12.760352,48.106982],[13.814746,48.766943],[12.681152,49.414502],[12.089844,50.301758],[12.942676,50.406445],[14.319727,51.037793],[14.809375,50.858984],[15.016602,51.252734],[14.619434,52.528516],[14.128613,52.878223],[14.258887,53.729639],[12.575391,54.467383],[11.399609,53.944629],[10.85459,54.009814],[11.013379,54.37915],[9.868652,54.472461],[9.739746,54.825537],[8.670313,54.903418],[8.92041,53.965332],[9.783984,53.554639],[8.618945,53.875],[8.495215,53.394238],[8.009277,53.690723],[7.285254,53.681348],[7.197266,53.282275],[7.033008,52.651367],[6.710742,52.617871],[7.035156,52.380225],[6.800391,51.967383],[5.94873,51.802686],[5.993945,50.750439],[6.340918,50.451758],[6.116504,50.120996],[6.487305,49.798486],[6.344336,49.452734],[6.735449,49.160596],[8.134863,48.973584],[7.615625,47.592725],[8.454004,47.596191],[8.572656,47.775635],[9.524023,47.524219]]],[[[13.70918,54.382715],[13.336816,54.697119],[13.190039,54.325635],[13.70918,54.382715]]],[[[14.211426,53.950342],[13.827734,54.127246],[14.213672,53.870752],[14.211426,53.950342]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GE","iso_a3":"GEO","iso_n3":"268"},"geometry":{"type":"Polygon","coordinates":[[[43.439453,41.107129],[45.001367,41.290967],[45.280957,41.449561],[46.534375,41.088574],[46.672559,41.286816],[46.182129,41.65708],[46.429883,41.890967],[45.638574,42.205078],[45.705273,42.498096],[44.870996,42.756396],[43.825977,42.571533],[42.760645,43.16958],[41.580566,43.219238],[40.648047,43.533887],[39.97832,43.419824],[41.48877,42.659326],[41.762988,41.97002],[41.510059,41.51748],[42.754102,41.578906],[43.439453,41.107129]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GM","iso_a3":"GMB","iso_n3":"270"},"geometry":{"type":"Polygon","coordinates":[[[-16.562305,13.587305],[-16.351807,13.343359],[-15.42749,13.468359],[-16.413379,13.269727],[-16.669336,13.475],[-16.76333,13.06416],[-15.834277,13.156445],[-15.151123,13.556494],[-14.246777,13.23584],[-13.826709,13.407812],[-15.10835,13.812109],[-15.509668,13.58623],[-16.562305,13.587305]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GA","iso_a3":"GAB","iso_n3":"266"},"geometry":{"type":"Polygon","coordinates":[[[13.293555,2.161572],[11.328711,2.167432],[11.335352,0.999707],[9.59082,1.031982],[9.617969,0.576514],[9.324805,0.5521],[10.001465,0.194971],[9.796777,0.044238],[9.354883,0.343604],[9.29668,-0.35127],[8.946387,-0.68877],[8.703125,-0.591016],[9.064648,-1.29834],[9.501074,-1.555176],[9.318848,-1.632031],[9.036328,-1.308887],[9.624609,-2.36709],[10.062012,-2.549902],[9.72207,-2.467578],[11.130176,-3.916309],[11.504297,-3.520312],[11.879883,-3.665918],[11.93418,-3.318555],[11.537793,-2.836719],[11.605469,-2.342578],[12.446387,-2.32998],[12.59043,-1.826855],[12.991992,-2.313379],[13.464941,-2.39541],[13.733789,-2.138477],[13.993848,-2.490625],[14.383984,-1.890039],[14.474121,-0.573438],[13.860059,-0.20332],[13.949609,0.353809],[14.429883,0.901465],[14.180859,1.370215],[13.216309,1.248438],[13.293555,2.161572]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"FR","iso_a3":"FRA","iso_n3":"250"},"geometry":{"type":"MultiPolygon","coordinates":[[[[9.480371,42.80542],[9.363184,43.017383],[9.313379,42.713184],[8.565625,42.357715],[8.80752,41.588379],[9.186133,41.384912],[9.550684,42.129736],[9.480371,42.80542]]],[[[7.615625,47.592725],[8.134863,48.973584],[6.735449,49.160596],[6.344336,49.452734],[5.789746,49.538281],[4.867578,49.788135],[4.818652,50.153174],[4.149316,49.971582],[4.174609,50.246484],[2.759375,50.750635],[2.524902,51.097119],[1.672266,50.88501],[1.592773,50.252197],[0.186719,49.703027],[0.416895,49.448389],[-1.138525,49.387891],[-1.258643,49.680176],[-1.856445,49.683789],[-1.376465,48.652588],[-2.692334,48.536816],[-3.231445,48.84082],[-4.7625,48.450244],[-4.241406,48.303662],[-4.678809,48.039502],[-4.312109,47.8229],[-1.742529,47.215967],[-2.19707,47.162939],[-2.059375,46.810303],[-1.146289,46.311377],[-1.195996,45.714453],[-0.548486,45.000586],[-1.081006,45.532422],[-1.076953,44.689844],[-1.484863,43.56377],[-1.794043,43.407324],[-1.46084,43.051758],[-0.586426,42.798975],[0.631641,42.6896],[0.696875,42.845117],[1.42832,42.595898],[1.706055,42.50332],[3.211426,42.431152],[3.051758,42.915137],[3.91084,43.563086],[6.115918,43.072363],[7.377734,43.731738],[7.39502,43.765332],[7.438672,43.750439],[7.493164,43.767139],[7.637207,44.164844],[6.900195,44.335742],[6.992676,44.827295],[6.634766,45.068164],[7.146387,45.381738],[6.790918,45.740869],[7.021094,45.925781],[6.758105,46.415771],[5.97002,46.214697],[6.968359,47.453223],[7.615625,47.592725]]],[[[55.797363,-21.339355],[55.661914,-20.90625],[55.311328,-20.904102],[55.362695,-21.273633],[55.797363,-21.339355]]],[[[-60.82627,14.494482],[-61.21333,14.848584],[-61.063721,14.46709],[-60.82627,14.494482]]],[[[-61.327148,16.23042],[-61.172607,16.256104],[-61.471191,16.506641],[-61.522168,16.228027],[-61.327148,16.23042]]],[[[-54.61626,2.326758],[-54.130078,2.121045],[-53.767773,2.354834],[-52.903467,2.211523],[-51.652539,4.061279],[-51.827539,4.635693],[-52.00293,4.352295],[-52.058105,4.717383],[-52.899316,5.425049],[-53.847168,5.782227],[-54.155957,5.358984],[-54.479688,4.836523],[-54.00957,3.448535],[-54.61626,2.326758]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PM","iso_a3":"SPM","iso_n3":"666"},"geometry":{"type":"Polygon","coordinates":[[[-56.26709,46.838477],[-56.364648,47.098975],[-56.384766,46.819434],[-56.26709,46.838477]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"WF","iso_a3":"WLF","iso_n3":"876"},"geometry":{"type":"Polygon","coordinates":[[[-178.04668,-14.318359],[-178.194385,-14.255469],[-178.158594,-14.311914],[-178.04668,-14.318359]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MF","iso_a3":"MAF","iso_n3":"663"},"geometry":{"type":"Polygon","coordinates":[[[-63.011182,18.068945],[-63.063086,18.115332],[-63.123047,18.068945],[-63.011182,18.068945]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BL","iso_a3":"BLM","iso_n3":"652"},"geometry":{"type":"Polygon","coordinates":[[[-62.831934,17.876465],[-62.799707,17.908691],[-62.874219,17.922266],[-62.831934,17.876465]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"PF","iso_a3":"PYF","iso_n3":"258"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-149.321533,-17.690039],[-149.63501,-17.564258],[-149.181787,-17.862305],[-149.321533,-17.690039]]],[[[-139.024316,-9.695215],[-139.134082,-9.829492],[-138.827344,-9.741602],[-139.024316,-9.695215]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NC","iso_a3":"NCL","iso_n3":"540"},"geometry":{"type":"MultiPolygon","coordinates":[[[[164.202344,-20.246094],[164.059668,-20.141504],[164.927441,-21.289844],[166.467969,-22.256055],[166.970313,-22.322852],[166.942383,-22.090137],[165.191797,-20.768848],[164.202344,-20.246094]]],[[[168.010938,-21.42998],[167.81543,-21.392676],[167.966797,-21.641602],[168.010938,-21.42998]]],[[[167.400879,-21.160645],[167.297949,-20.73252],[167.055762,-20.720215],[167.072656,-20.997266],[167.400879,-21.160645]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TF","iso_a3":"ATF","iso_n3":"260"},"geometry":{"type":"Polygon","coordinates":[[[69.184863,-49.10957],[69.002441,-48.66123],[68.814746,-49.699609],[69.153125,-49.529688],[70.124316,-49.704395],[70.247754,-49.530664],[69.759961,-49.430176],[70.386133,-49.433984],[70.555469,-49.201465],[70.320215,-49.058594],[69.542383,-49.255664],[69.592773,-48.970996],[69.184863,-49.10957]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AX","iso_a3":"ALA","iso_n3":"248"},"geometry":{"type":"Polygon","coordinates":[[[19.989551,60.351172],[19.799805,60.081738],[20.258887,60.261279],[19.989551,60.351172]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"FI","iso_a3":"FIN","iso_n3":"246"},"geometry":{"type":"Polygon","coordinates":[[[24.155469,65.805273],[24.628027,65.85918],[25.347852,65.479248],[25.288184,64.860352],[24.55791,64.801025],[21.143848,62.73999],[21.436035,60.596387],[22.584961,60.380566],[22.462695,60.029199],[22.911719,60.209717],[23.021289,59.816016],[25.758008,60.267529],[26.569336,60.624561],[26.534668,60.412891],[27.797656,60.536133],[31.533984,62.8854],[29.991504,63.735156],[30.51377,64.2],[29.604199,64.968408],[30.102734,65.72627],[29.066211,66.891748],[29.988086,67.668262],[28.685156,68.189795],[28.414062,68.90415],[28.96582,69.021973],[29.141602,69.671436],[27.747852,70.064844],[26.072461,69.691553],[24.941406,68.593262],[23.854004,68.805908],[22.410938,68.719873],[21.59375,69.273584],[20.622168,69.036865],[23.638867,67.954395],[24.155469,65.805273]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"FJ","iso_a3":"FJI","iso_n3":"242"},"geometry":{"type":"MultiPolygon","coordinates":[[[[179.999219,-16.168555],[180,-16.15293],[178.497461,-16.787891],[178.706641,-16.976172],[179.202344,-16.712695],[179.92793,-16.744434],[179.930371,-16.519434],[179.56416,-16.636914],[179.999219,-16.168555]]],[[[178.280176,-17.371973],[177.504492,-17.539551],[177.321387,-18.077539],[177.955469,-18.264062],[178.667676,-18.080859],[178.280176,-17.371973]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ET","iso_a3":"ETH","iso_n3":"231"},"geometry":{"type":"Polygon","coordinates":[[[35.268359,5.492285],[35.74502,5.343994],[36.021973,4.468115],[36.905566,4.411475],[38.086133,3.648828],[39.494434,3.456104],[40.765234,4.273047],[41.14043,3.962988],[41.883984,3.977734],[43.583496,4.85498],[44.940527,4.912012],[47.978223,7.99707],[46.978223,7.99707],[43.983789,9.008838],[42.841602,10.203076],[42.656445,10.6],[42.922754,10.999316],[41.798242,10.980469],[41.792676,11.686035],[42.378516,12.466406],[40.820117,14.11167],[40.140625,14.456055],[39.023828,14.628223],[38.431445,14.428613],[37.88418,14.852295],[37.571191,14.149072],[37.257227,14.45376],[36.524316,14.256836],[36.125195,12.757031],[35.670215,12.62373],[35.112305,11.816553],[34.931445,10.864795],[34.343945,10.658643],[34.078125,9.461523],[34.072754,8.545264],[33.281055,8.437256],[32.998926,7.899512],[33.902441,7.509521],[34.710645,6.660303],[35.268359,5.492285]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"EE","iso_a3":"EST","iso_n3":"233"},"geometry":{"type":"MultiPolygon","coordinates":[[[[27.351953,57.528125],[27.778516,57.870703],[27.43418,58.787256],[28.0125,59.484277],[25.509277,59.639014],[23.494434,59.195654],[23.767578,58.36084],[24.529102,58.354248],[24.322559,57.870605],[25.282617,58.048486],[26.462109,57.544482],[27.351953,57.528125]]],[[[22.617383,58.62124],[21.862305,58.497168],[21.996875,57.931348],[23.323242,58.45083],[22.617383,58.62124]]],[[[22.92373,58.826904],[22.649414,59.087109],[22.05625,58.943604],[22.542188,58.68999],[22.92373,58.826904]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"ER","iso_a3":"ERI","iso_n3":"232"},"geometry":{"type":"MultiPolygon","coordinates":[[[[36.524316,14.256836],[37.257227,14.45376],[37.571191,14.149072],[37.88418,14.852295],[38.431445,14.428613],[39.023828,14.628223],[40.140625,14.456055],[40.820117,14.11167],[42.378516,12.466406],[42.703711,12.380322],[43.116699,12.708594],[41.176465,14.620312],[40.204102,15.014111],[39.86377,15.470312],[39.785547,15.124854],[38.609473,18.005078],[37.411035,17.061719],[37.008984,17.058887],[36.426758,15.13208],[36.524316,14.256836]]],[[[40.141211,15.696143],[39.956738,15.889404],[39.975195,15.612451],[40.399023,15.579883],[40.141211,15.696143]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GQ","iso_a3":"GNQ","iso_n3":"226"},"geometry":{"type":"MultiPolygon","coordinates":[[[[8.735742,3.758301],[8.474902,3.264648],[8.704004,3.223633],[8.946094,3.627539],[8.735742,3.758301]]],[[[11.328711,2.167432],[9.800781,2.304443],[9.385938,1.139258],[9.59082,1.031982],[11.335352,0.999707],[11.328711,2.167432]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SV","iso_a3":"SLV","iso_n3":"222"},"geometry":{"type":"Polygon","coordinates":[[[-89.362598,14.416016],[-90.095215,13.736523],[-88.512012,13.183936],[-88.685645,13.281494],[-87.930859,13.180664],[-87.814209,13.39917],[-87.802246,13.88999],[-88.482666,13.854248],[-89.362598,14.416016]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"EG","iso_a3":"EGY","iso_n3":"818"},"geometry":{"type":"Polygon","coordinates":[[[36.871387,21.996729],[35.697852,22.946191],[35.504395,23.779297],[35.783887,23.937793],[35.194141,24.475146],[33.959082,26.649023],[33.54707,27.898145],[32.359766,29.630664],[32.565723,29.973975],[33.247754,28.567725],[34.220117,27.764307],[34.904297,29.477344],[34.245313,31.208301],[34.198145,31.322607],[32.60332,31.06875],[32.216211,31.29375],[32.101758,31.092822],[31.771094,31.292578],[31.892188,31.482471],[32.136035,31.341064],[31.888965,31.541406],[31.08291,31.60332],[29.07207,30.830273],[25.150488,31.65498],[24.852734,31.334814],[24.961426,30.678516],[24.703223,30.201074],[24.980273,29.181885],[24.980273,21.99585],[31.092676,21.994873],[31.400293,22.202441],[31.434473,21.99585],[36.871387,21.996729]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"EC","iso_a3":"ECU","iso_n3":"218"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-75.284473,-0.106543],[-76.270605,0.439404],[-76.494629,0.235449],[-77.396338,0.393896],[-77.702881,0.837842],[-78.859668,1.455371],[-78.899658,1.20625],[-80.088281,0.784766],[-80.046143,0.155371],[-80.482275,-0.368262],[-80.282373,-0.620508],[-80.902393,-1.078906],[-80.760596,-1.93457],[-80.932178,-2.269141],[-80.284717,-2.706738],[-80.006641,-2.353809],[-79.925586,-2.548535],[-79.842139,-2.067383],[-79.729883,-2.579102],[-79.96333,-3.157715],[-80.324658,-3.387891],[-80.179248,-3.877734],[-80.490137,-4.010059],[-80.478564,-4.430078],[-79.638525,-4.454883],[-79.330957,-4.927832],[-79.033301,-4.969141],[-78.686035,-4.562402],[-78.345361,-3.397363],[-78.158496,-3.465137],[-77.860596,-2.981641],[-76.679102,-2.562598],[-75.570557,-1.53125],[-75.259375,-0.590137],[-75.62627,-0.122852],[-75.284473,-0.106543]]],[[[-80.131592,-2.973145],[-79.909033,-2.725586],[-80.223682,-2.753125],[-80.131592,-2.973145]]],[[[-90.334863,-0.771582],[-90.269385,-0.484668],[-90.531689,-0.581445],[-90.334863,-0.771582]]],[[[-89.418896,-0.911035],[-89.287842,-0.689844],[-89.608594,-0.888574],[-89.418896,-0.911035]]],[[[-91.272168,0.025146],[-91.596826,0.0021],[-91.120947,-0.559082],[-91.49541,-0.860938],[-91.131055,-1.019629],[-90.799658,-0.752051],[-91.272168,0.025146]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"DO","iso_a3":"DOM","iso_n3":"214"},"geometry":{"type":"Polygon","coordinates":[[[-71.768311,18.03916],[-71.438965,17.635596],[-71.027832,18.273193],[-69.274512,18.439844],[-68.687402,18.214941],[-68.33916,18.611523],[-69.623633,19.117822],[-69.232471,19.271826],[-69.739404,19.299219],[-69.956836,19.671875],[-70.95415,19.913965],[-71.779248,19.718164],[-71.645312,19.163525],[-72.000391,18.5979],[-71.768311,18.03916]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"DM","iso_a3":"DMA","iso_n3":"212"},"geometry":{"type":"Polygon","coordinates":[[[-61.281689,15.249023],[-61.277246,15.526709],[-61.458105,15.633105],[-61.281689,15.249023]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"UM","iso_a3":"UMI","iso_n3":"581"},"geometry":{"type":"Polygon","coordinates":[[[166.61939537900003,19.281642971000053],[166.64421634200005,19.27558014500005],[166.63819420700008,19.286444403000075],[166.61939537900003,19.281642971000053]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"DJ","iso_a3":"DJI","iso_n3":"262"},"geometry":{"type":"Polygon","coordinates":[[[43.245996,11.499805],[42.521777,11.572168],[43.380273,12.09126],[43.116699,12.708594],[42.703711,12.380322],[42.378516,12.466406],[41.792676,11.686035],[41.798242,10.980469],[42.922754,10.999316],[43.245996,11.499805]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"GL","iso_a3":"GRL","iso_n3":"304"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-29.952881,83.564844],[-37.72334,83.497754],[-38.15625,82.998633],[-40.356836,83.332178],[-41.300146,83.100781],[-43.009277,83.2646],[-46.169043,83.063867],[-46.136816,82.858838],[-41.369629,82.75],[-45.556543,82.747021],[-44.238867,82.368164],[-44.729492,81.779834],[-50.037109,82.472412],[-49.541064,81.918066],[-53.022559,82.321729],[-53.555664,81.653271],[-54.548877,82.350635],[-59.261816,82.006641],[-56.615137,81.362891],[-59.281934,81.884033],[-60.842871,81.855371],[-61.435986,81.133594],[-62.903369,81.218359],[-63.028662,80.889551],[-64.515527,81],[-67.050635,80.384521],[-66.843652,80.076221],[-64.17915,80.099268],[-65.825537,79.17373],[-71.651318,78.623145],[-72.818066,78.194336],[-69.351367,77.467139],[-66.691211,77.681201],[-66.389453,77.280273],[-68.135547,77.37959],[-71.141455,77.028662],[-68.114258,76.650635],[-69.484082,76.39917],[-68.14873,76.067041],[-66.674805,75.977393],[-66.992578,76.212939],[-63.291309,76.352051],[-58.516211,75.689062],[-58.565527,75.352734],[-56.255469,74.526807],[-57.230566,74.125293],[-56.225391,74.129102],[-55.288281,73.3271],[-55.668555,73.00791],[-54.737939,72.87251],[-55.601709,72.453467],[-55.581445,72.178857],[-54.840137,72.356104],[-55.594043,71.553516],[-53.962988,71.458984],[-53.652148,72.362646],[-53.440088,71.579004],[-51.769922,71.671729],[-53.007568,71.17998],[-51.018945,71.001318],[-51.774316,71.010449],[-50.872363,70.364893],[-52.801953,70.750586],[-54.530762,70.699268],[-52.254639,70.058936],[-50.291699,70.014453],[-50.945703,68.682666],[-51.623145,68.534814],[-52.60459,68.70874],[-53.383154,68.297363],[-51.210156,68.419922],[-51.456494,68.116064],[-53.151562,68.207764],[-53.735205,67.549023],[-52.344824,67.836914],[-50.968848,67.806641],[-50.613477,67.52793],[-52.666455,67.749707],[-53.884424,67.135547],[-52.386865,66.881152],[-53.41875,66.648535],[-53.53877,66.139355],[-51.225,66.881543],[-53.392041,66.04834],[-53.198975,65.594043],[-52.55127,65.461377],[-51.091895,65.775781],[-52.537695,65.328809],[-51.922607,64.21875],[-50.721582,64.797607],[-50.960645,65.201123],[-50.121631,64.70376],[-50.008984,64.447266],[-50.49209,64.693164],[-51.40376,64.463184],[-51.584912,64.103174],[-50.260693,64.214258],[-51.54751,64.006104],[-51.468848,63.642285],[-50.390088,62.822021],[-49.793115,63.044629],[-50.319238,62.473193],[-49.553467,62.232715],[-49.623779,61.998584],[-48.828711,62.079688],[-49.380273,61.890186],[-49.289062,61.589941],[-48.386426,61.004736],[-47.770312,60.997754],[-48.180811,60.769238],[-46.874463,60.816406],[-45.870215,61.218311],[-46.046631,60.615723],[-45.380518,60.444922],[-44.756738,60.6646],[-45.379248,60.20293],[-44.613281,60.01665],[-44.224365,60.273535],[-44.412939,59.922607],[-43.906543,59.815479],[-43.955029,60.025488],[-43.1229,60.06123],[-43.212988,60.390674],[-43.922705,60.595361],[-43.044092,60.523682],[-42.585303,61.71748],[-42.110205,61.857227],[-42.152979,62.568457],[-42.94165,62.720215],[-41.908984,62.737109],[-41.634473,62.972461],[-42.174512,63.208789],[-41.387891,63.061865],[-40.550391,63.725244],[-40.617773,64.131738],[-41.581006,64.29834],[-40.781738,64.221777],[-40.182227,64.479932],[-41.084424,65.10083],[-39.937256,65.141602],[-39.57793,65.340771],[-40.173535,65.556152],[-38.203369,65.711719],[-38.520361,66.009668],[-38.139941,65.903516],[-37.752344,66.261523],[-38.156641,66.385596],[-37.278711,66.304395],[-37.954785,65.633594],[-36.665186,65.790088],[-36.527246,66.007715],[-36.379199,65.830811],[-35.630078,66.139941],[-35.867236,66.441406],[-35.188574,66.250293],[-34.198242,66.655078],[-32.164551,67.991113],[-32.327441,68.437305],[-30.978564,68.061328],[-26.48291,68.675928],[-22.287061,70.033398],[-25.529883,70.353174],[-27.38418,69.991602],[-27.56084,70.124463],[-26.621777,70.463379],[-29.07207,70.444971],[-28.069873,70.699023],[-28.398438,70.99292],[-26.71792,70.950488],[-25.742236,71.183594],[-25.842725,71.480176],[-27.087207,71.626562],[-25.885156,71.571924],[-24.562207,71.223535],[-23.327832,70.450977],[-22.690674,70.437305],[-22.437012,70.86001],[-22.384131,70.462402],[-21.522656,70.526221],[-21.752246,71.47832],[-22.479639,71.383447],[-21.959668,71.744678],[-25.117871,72.346973],[-24.81333,72.901514],[-26.657617,72.71582],[-24.62998,73.037646],[-24.069043,72.49873],[-22.293213,72.119531],[-22.036328,72.918457],[-24.132666,73.409375],[-27.348047,73.067822],[-27.561621,73.138477],[-26.541846,73.248975],[-27.27041,73.436279],[-26.062305,73.253027],[-24.79126,73.511279],[-25.521289,73.851611],[-22.346875,73.269238],[-20.509668,73.492871],[-20.367285,73.848242],[-22.134814,73.990479],[-22.321582,74.302539],[-21.94292,74.565723],[-21.954932,74.244287],[-20.653125,74.137354],[-19.369141,74.284033],[-19.287012,74.546387],[-19.984912,74.975195],[-20.861572,74.635938],[-20.985791,75.074365],[-22.232861,75.119727],[-20.484961,75.314258],[-19.526367,75.180225],[-19.508984,75.75752],[-20.103613,76.219092],[-21.488232,76.271875],[-22.609326,76.704297],[-20.486719,76.920801],[-18.510303,76.778174],[-18.442627,77.259375],[-20.680811,77.618994],[-19.49043,77.718896],[-20.862598,77.911865],[-21.72959,77.708545],[-21.13374,78.658643],[-18.991992,79.178369],[-20.150146,80.01123],[-19.429199,80.257715],[-16.48877,80.251953],[-16.760596,80.573389],[-11.430664,81.456836],[-14.241992,81.813867],[-17.456055,81.397705],[-19.629932,81.639893],[-23.117725,80.778174],[-21.337988,82.068701],[-24.293066,81.700977],[-25.148828,82.001123],[-29.887402,82.054834],[-23.118066,82.324707],[-21.58252,82.63418],[-25.123389,83.159619],[-32.032715,82.983447],[-25.795068,83.260986],[-29.952881,83.564844]]],[[[-52.731152,69.944727],[-54.371631,70.317285],[-54.919141,69.713623],[-53.578418,69.256641],[-51.900195,69.604785],[-52.731152,69.944727]]],[[[-55.016895,72.791113],[-56.214795,72.719189],[-55.566602,72.564355],[-55.016895,72.791113]]],[[[-44.864551,82.083643],[-44.91748,82.480518],[-47.272266,82.656934],[-44.864551,82.083643]]],[[[-25.432324,70.921338],[-27.617236,70.91377],[-28.035254,70.486816],[-26.604687,70.553369],[-26.217871,70.454053],[-25.432324,70.921338]]],[[[-17.6125,79.825879],[-17.98291,80.055176],[-19.138281,79.852344],[-17.6125,79.825879]]],[[[-18.000537,75.407324],[-18.856055,75.319141],[-18.670801,75.00166],[-17.391992,75.036914],[-18.000537,75.407324]]],[[[-46.266699,60.781396],[-46.205225,60.943506],[-46.788086,60.758398],[-46.266699,60.781396]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"FO","iso_a3":"FRO","iso_n3":"234"},"geometry":{"type":"Polygon","coordinates":[[[-6.631055,62.227881],[-7.172168,62.285596],[-6.725195,61.951465],[-6.631055,62.227881]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"DK","iso_a3":"DNK","iso_n3":"208"},"geometry":{"type":"MultiPolygon","coordinates":[[[[12.56875,55.785059],[12.218945,56.118652],[11.819727,55.697656],[11.627734,55.956885],[10.978906,55.721533],[11.862305,54.772607],[12.56875,55.785059]]],[[[9.739746,54.825537],[9.591113,55.493213],[10.926172,56.443262],[10.282715,56.620508],[10.609961,57.736914],[8.284082,56.852344],[8.468359,56.664551],[9.254883,57.011719],[8.67168,56.495654],[8.163965,56.606885],[8.132129,55.599805],[8.615918,55.418213],[8.670313,54.903418],[9.739746,54.825537]]],[[[10.645117,55.609814],[9.860645,55.515479],[9.98877,55.163184],[10.785254,55.133398],[10.645117,55.609814]]],[[[11.361426,54.89165],[11.035547,54.773096],[11.765918,54.679443],[11.361426,54.89165]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CZ","iso_a3":"CZE","iso_n3":"203"},"geometry":{"type":"Polygon","coordinates":[[[18.832227,49.510791],[18.562402,49.879346],[17.627051,50.116406],[17.702246,50.307178],[16.880078,50.427051],[16.63916,50.102148],[16.282227,50.655615],[14.99375,51.014355],[14.809375,50.858984],[14.319727,51.037793],[12.942676,50.406445],[12.089844,50.301758],[12.681152,49.414502],[13.814746,48.766943],[14.691309,48.599219],[15.066797,48.997852],[16.953125,48.598828],[18.832227,49.510791]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"-99","iso_a3":"-99","iso_n3":"-99"},"geometry":{"type":"Polygon","coordinates":[[[34.004492,35.065234],[33.941992,35.292041],[34.556055,35.662061],[32.712695,35.171045],[34.004492,35.065234]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CY","iso_a3":"CYP","iso_n3":"196"},"geometry":{"type":"Polygon","coordinates":[[[32.712695,35.171045],[32.317188,34.95332],[33.00791,34.56958],[34.004492,35.065234],[32.712695,35.171045]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CU","iso_a3":"CUB","iso_n3":"192"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-81.837451,23.163037],[-84.044922,22.666016],[-84.361279,22.378906],[-84.326367,22.074316],[-84.887207,21.856982],[-84.030957,21.943115],[-82.738037,22.689258],[-81.838818,22.672461],[-81.710352,22.49668],[-82.077734,22.387695],[-81.849414,22.213672],[-81.185498,22.267969],[-79.357422,21.585156],[-78.727686,21.592725],[-78.116357,20.761865],[-77.22959,20.64375],[-77.103809,20.40752],[-77.715088,19.855469],[-75.116406,19.901416],[-74.153711,20.168555],[-74.882568,20.650635],[-75.724561,20.714551],[-75.722949,21.111035],[-77.252881,21.483496],[-77.366162,21.612646],[-77.144141,21.643604],[-77.497266,21.871631],[-79.275684,22.407617],[-79.820264,22.887012],[-81.837451,23.163037]]],[[[-82.561768,21.57168],[-82.991211,21.942725],[-82.973584,21.592285],[-83.183789,21.593457],[-82.561768,21.57168]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"HR","iso_a3":"HRV","iso_n3":"191"},"geometry":{"type":"MultiPolygon","coordinates":[[[[13.57793,45.516895],[13.860742,44.837402],[14.550488,45.297705],[15.470996,44.271973],[15.18584,44.172119],[15.985547,43.519775],[16.903125,43.392432],[17.585156,42.938379],[15.736621,44.76582],[15.788086,45.178955],[16.293359,45.008838],[16.918652,45.276562],[19.007129,44.869189],[19.4,45.2125],[19.004688,45.399512],[18.905371,45.931738],[17.807129,45.79043],[16.516211,46.499902],[15.635938,46.200732],[15.339453,45.467041],[14.568848,45.657227],[13.57793,45.516895]]],[[[14.810254,44.977051],[14.571094,45.224756],[14.450391,45.079199],[14.810254,44.977051]]],[[[18.436328,42.559717],[17.667578,42.897119],[17.04541,43.014893],[18.51748,42.43291],[18.436328,42.559717]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CI","iso_a3":"CIV","iso_n3":"384"},"geometry":{"type":"Polygon","coordinates":[[[-7.990625,10.1625],[-8.136963,9.495703],[-7.896191,9.415869],[-7.950977,8.786816],[-7.681201,8.410352],[-8.236963,8.455664],[-8.009863,8.078516],[-8.231885,7.556738],[-8.486426,7.558496],[-8.302344,6.980957],[-8.603564,6.507812],[-7.454395,5.841309],[-7.544971,4.351318],[-5.061816,5.130664],[-5.282373,5.210254],[-3.347559,5.130664],[-3.199951,5.354492],[-3.019141,5.130811],[-2.75498,5.43252],[-3.235791,6.807227],[-2.505859,8.20874],[-2.69585,9.481348],[-3.223535,9.895459],[-4.62583,9.713574],[-5.523535,10.426025],[-6.196875,10.232129],[-6.261133,10.724072],[-6.65415,10.656445],[-7.01709,10.143262],[-7.497949,10.439795],[-7.990625,10.1625]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CR","iso_a3":"CRI","iso_n3":"188"},"geometry":{"type":"Polygon","coordinates":[[[-82.563574,9.57666],[-83.641992,10.917236],[-83.919287,10.735352],[-84.63418,11.045605],[-85.744336,11.062109],[-85.908008,10.897559],[-85.667236,10.74502],[-85.849658,10.292041],[-85.681006,9.958594],[-85.114502,9.581787],[-84.886426,9.820947],[-85.263184,10.256641],[-85.025049,10.115723],[-84.581592,9.568359],[-83.637256,9.035352],[-83.604736,8.480322],[-83.291504,8.406006],[-83.469727,8.706836],[-83.285791,8.664355],[-82.879346,8.070654],[-83.027344,8.337744],[-82.727832,8.916064],[-82.939844,9.44917],[-82.563574,9.57666]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CD","iso_a3":"COD","iso_n3":"180"},"geometry":{"type":"Polygon","coordinates":[[[30.751172,-8.193652],[30.212695,-7.037891],[29.54082,-6.313867],[29.403223,-4.449316],[29.014355,-2.720215],[28.876367,-2.400293],[29.576953,-1.387891],[29.942871,0.819238],[31.252734,2.04458],[30.728613,2.455371],[30.838574,3.490723],[29.676855,4.586914],[28.19209,4.350244],[27.40332,5.10918],[25.525098,5.312109],[25.065234,4.967432],[22.864551,4.723877],[22.422168,4.134961],[20.558105,4.462695],[19.500977,5.12749],[18.594141,4.34624],[18.610352,3.478418],[18.072168,2.013281],[17.752832,-0.549023],[16.879883,-1.225879],[16.215332,-2.177832],[15.990039,-3.766211],[14.70791,-4.881738],[14.410742,-4.83125],[14.358301,-4.299414],[13.71709,-4.454492],[13.414941,-4.837402],[13.072754,-4.634766],[12.451465,-5.071484],[12.503711,-5.695801],[12.213672,-5.758691],[12.45293,-6.000488],[13.068164,-5.864844],[16.431445,-5.900195],[17.57959,-8.099023],[19.34082,-7.966602],[19.527637,-7.144434],[19.875195,-6.986328],[20.590039,-6.919922],[20.607813,-7.277734],[21.781641,-7.314648],[21.813184,-9.46875],[22.274512,-10.259082],[22.226172,-11.121973],[23.966504,-10.871777],[24.365723,-11.129883],[24.37793,-11.41709],[25.28877,-11.212402],[25.349414,-11.623047],[26.025977,-11.890137],[26.824023,-11.965234],[27.15918,-11.579199],[27.573828,-12.227051],[28.412891,-12.518066],[29.014258,-13.368848],[29.554199,-13.248926],[29.775195,-13.438086],[29.795117,-12.155469],[29.485547,-12.418457],[29.064355,-12.348828],[28.383398,-11.566699],[28.645508,-10.550195],[28.400684,-9.224805],[28.898145,-8.485449],[30.751172,-8.193652]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CG","iso_a3":"COG","iso_n3":"178"},"geometry":{"type":"Polygon","coordinates":[[[11.130176,-3.916309],[12.018359,-5.004297],[12.798242,-4.430566],[13.072754,-4.634766],[13.414941,-4.837402],[13.71709,-4.454492],[14.358301,-4.299414],[14.410742,-4.83125],[14.70791,-4.881738],[15.990039,-3.766211],[16.215332,-2.177832],[16.879883,-1.225879],[17.752832,-0.549023],[18.072168,2.013281],[18.610352,3.478418],[17.491602,3.687305],[16.610742,3.505371],[16.183398,2.270068],[16.059375,1.676221],[14.578906,2.199121],[13.293555,2.161572],[13.216309,1.248438],[14.180859,1.370215],[14.429883,0.901465],[13.949609,0.353809],[13.860059,-0.20332],[14.474121,-0.573438],[14.383984,-1.890039],[13.993848,-2.490625],[13.733789,-2.138477],[13.464941,-2.39541],[12.991992,-2.313379],[12.59043,-1.826855],[12.446387,-2.32998],[11.605469,-2.342578],[11.537793,-2.836719],[11.93418,-3.318555],[11.879883,-3.665918],[11.504297,-3.520312],[11.130176,-3.916309]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KM","iso_a3":"COM","iso_n3":"174"},"geometry":{"type":"MultiPolygon","coordinates":[[[[44.476367,-12.081543],[44.220117,-12.171387],[44.50498,-12.356543],[44.476367,-12.081543]]],[[[43.46582,-11.90127],[43.299023,-11.374512],[43.22666,-11.751855],[43.46582,-11.90127]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CO","iso_a3":"COL","iso_n3":"170"},"geometry":{"type":"Polygon","coordinates":[[[-71.319727,11.861914],[-71.137305,12.046338],[-71.262109,12.335303],[-71.714551,12.419971],[-73.313379,11.295752],[-74.14292,11.32085],[-74.400879,10.765234],[-74.330225,10.99668],[-74.84458,11.109717],[-75.70835,10.143408],[-75.538574,10.205176],[-75.639355,9.450439],[-76.920459,8.57373],[-76.786572,7.931592],[-77.374219,8.658301],[-77.195996,7.972461],[-77.538281,7.56626],[-77.761914,7.698828],[-77.901172,7.229346],[-77.368799,6.575586],[-77.469434,6.176758],[-77.249268,5.780176],[-77.534424,5.537109],[-77.286328,4.721729],[-77.520703,4.212793],[-77.076807,3.913281],[-77.813574,2.716357],[-78.591699,2.356641],[-78.576904,1.773779],[-79.025439,1.623682],[-78.859668,1.455371],[-77.702881,0.837842],[-77.396338,0.393896],[-76.494629,0.235449],[-76.270605,0.439404],[-75.284473,-0.106543],[-74.801758,-0.200098],[-74.246387,-0.970605],[-73.664307,-1.248828],[-72.941113,-2.394043],[-70.968555,-2.206836],[-70.09585,-2.658203],[-70.735107,-3.781543],[-70.339502,-3.814355],[-69.965918,-4.235938],[-69.400244,-1.194922],[-69.633984,-0.509277],[-70.070508,-0.138867],[-70.053906,0.578613],[-69.15332,0.658789],[-69.311816,1.050488],[-69.852148,1.059521],[-69.848584,1.70874],[-68.176562,1.719824],[-68.193799,1.987012],[-67.93623,1.748486],[-67.400439,2.116699],[-67.082275,1.1854],[-66.876025,1.223047],[-67.21084,2.390137],[-67.859082,2.793604],[-67.311133,3.415869],[-67.855273,4.506885],[-67.481982,6.180273],[-69.427148,6.123975],[-70.129199,6.953613],[-72.006641,7.032617],[-72.471973,7.524268],[-72.390332,8.287061],[-72.796387,9.108984],[-73.366211,9.194141],[-72.690088,10.83584],[-71.958105,11.666406],[-71.319727,11.861914]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CN","iso_a3":"CHN","iso_n3":"156"},"geometry":{"type":"MultiPolygon","coordinates":[[[[107.972656,21.507959],[108.502148,21.633447],[108.479883,21.904639],[109.081543,21.440283],[109.521484,21.693408],[109.930762,21.480566],[109.662598,20.916895],[110.123145,20.263721],[110.517578,20.46001],[110.154004,20.944629],[110.410937,21.338135],[110.567187,21.214062],[111.602734,21.559082],[111.943945,21.849658],[112.30498,21.741699],[112.359668,21.978027],[112.586328,21.776855],[113.08877,22.207959],[113.548145,22.222607],[113.331055,22.912012],[113.519727,23.1021],[114.01543,22.511914],[113.937305,22.36499],[114.267969,22.295557],[114.266016,22.540967],[116.470703,22.945898],[116.910645,23.64668],[117.367676,23.588623],[118.056055,24.246094],[117.842676,24.474316],[118.657031,24.621436],[118.977539,25.209277],[119.285547,25.232227],[119.180078,25.449805],[119.622461,25.391162],[119.61875,26.003564],[119.139453,26.121777],[119.463086,26.054688],[119.881055,26.33418],[119.588184,26.784961],[120.086719,26.671582],[120.747656,28.009961],[121.145703,28.32666],[121.609961,28.292139],[121.487109,29.193164],[121.917773,29.13501],[121.941211,29.605908],[121.50625,29.48457],[122.08291,29.870361],[121.258008,30.304102],[120.194629,30.241309],[121.87793,30.916992],[120.715527,31.98374],[120.035937,31.936279],[120.520117,32.105859],[121.856348,31.816455],[120.853223,32.661377],[120.266699,34.274023],[119.165332,34.848828],[120.284766,35.984424],[120.183301,36.202441],[120.637891,36.129932],[120.81084,36.632812],[121.932715,36.959473],[122.340918,36.832227],[122.666992,37.402832],[121.640234,37.460352],[120.75,37.833936],[119.760547,37.155078],[119.287402,37.138281],[118.952637,37.331152],[118.940039,38.042773],[117.766699,38.31167],[117.616699,38.852881],[117.865723,39.19126],[118.976953,39.182568],[119.391113,39.75249],[120.479102,40.230957],[121.174512,40.90127],[121.834863,40.974268],[122.275,40.541846],[121.26748,39.544678],[121.818457,39.386523],[121.106738,38.920801],[121.163574,38.731641],[122.840039,39.60083],[124.362109,40.004053],[125.989062,40.904639],[126.743066,41.724854],[128.149414,41.387744],[128.045215,41.9875],[128.923438,42.038232],[129.697852,42.448145],[129.898242,42.998145],[130.526953,42.5354],[130.424805,42.727051],[131.068555,42.902246],[131.257324,43.378076],[130.981641,44.844336],[131.851855,45.326855],[133.113477,45.130713],[134.167676,47.302197],[134.752344,47.71543],[134.665234,48.253906],[135.083406,48.436324],[134.293359,48.373438],[133.144043,48.105664],[132.47627,47.71499],[130.961914,47.709326],[130.553125,48.861182],[129.498145,49.388818],[127.550781,49.801807],[127.590234,50.208984],[125.649023,53.042285],[123.607813,53.546533],[120.985449,53.28457],[120.094531,52.787207],[120.656152,52.56665],[120.749805,52.096533],[119.163672,50.406006],[119.259863,50.066406],[117.873438,49.513477],[116.683301,49.823779],[115.616406,47.874805],[115.898242,47.686914],[116.760547,47.869775],[117.350781,47.652197],[117.768359,47.987891],[118.498438,47.983984],[119.711133,47.15],[119.867188,46.672168],[117.438086,46.58623],[117.333398,46.362012],[116.562598,46.289795],[115.681055,45.458252],[114.560156,45.38999],[113.587012,44.745703],[111.898047,45.064062],[111.402246,44.367285],[111.933203,43.711426],[110.400391,42.773682],[109.339844,42.438379],[106.77002,42.288721],[104.982031,41.595508],[104.498242,41.658691],[104.498242,41.877002],[103.711133,41.751318],[102.156641,42.158105],[101.495313,42.53877],[96.385449,42.720361],[95.350293,44.278076],[93.516211,44.944482],[90.877246,45.196094],[90.869922,46.954492],[90.02793,47.877686],[89.047656,48.002539],[87.979688,48.555127],[87.814258,49.162305],[87.322852,49.085791],[86.808301,49.049707],[86.549414,48.528613],[85.749414,48.385059],[85.484766,47.063525],[84.786133,46.830713],[83.029492,47.185938],[82.315234,45.594922],[82.521484,45.125488],[81.691992,45.349365],[79.871875,44.883789],[80.481543,44.714648],[80.355273,44.097266],[80.785742,43.161572],[80.202246,42.734473],[80.209375,42.190039],[78.123438,41.075635],[76.907715,41.02417],[76.318555,40.352246],[75.677148,40.305811],[75.555566,40.625195],[74.835156,40.482617],[73.991602,40.043115],[73.631641,39.448877],[73.80166,38.606885],[74.812305,38.460303],[75.11875,37.385693],[74.891309,37.231641],[74.372168,37.157715],[74.541406,37.022168],[75.772168,36.694922],[75.912305,36.048975],[76.766895,35.661719],[77.799414,35.495898],[78.042676,35.479785],[78.326953,34.606396],[78.970117,34.302637],[78.72666,34.013379],[79.219336,32.501074],[78.918945,32.358203],[78.700879,32.597021],[78.389648,32.519873],[78.807678,31.099982],[79.707774,31.013593],[81.010254,30.164502],[82.043359,30.326758],[83.583496,29.183594],[84.101367,29.219971],[84.228711,28.911768],[85.159082,28.592236],[85.122461,28.315967],[85.67832,28.277441],[85.994531,27.9104],[86.137012,28.114355],[87.141406,27.83833],[88.109766,27.870605],[88.803711,28.006934],[88.891406,27.316064],[89.981055,28.311182],[90.352734,28.080225],[91.273047,28.078369],[91.631934,27.759961],[91.594727,27.557666],[92.083398,27.290625],[91.99834,26.85498],[92.64698,26.952656],[93.111399,26.880082],[93.817265,27.025183],[94.277372,27.58143],[94.88592,27.743098],[95.28628,27.939955],[95.39715,28.142259],[95.832003,28.295186],[96.275479,28.228241],[97.086778,27.7475],[97.335156,27.937744],[97.322461,28.217969],[97.599219,28.517041],[98.061621,28.185889],[98.298828,27.550098],[98.651172,27.572461],[98.738477,26.785742],[98.65625,25.863574],[97.819531,25.251855],[97.583301,24.774805],[97.564551,23.911035],[98.835059,24.121191],[98.676758,23.905078],[98.86377,23.19126],[99.507129,22.959131],[99.192969,22.125977],[99.917676,22.028027],[100.147656,21.480518],[101.079785,21.755859],[101.138867,21.56748],[101.247852,21.197314],[101.800586,21.212598],[101.524512,22.253662],[101.73877,22.495264],[102.127441,22.379199],[102.470898,22.750928],[102.981934,22.448242],[103.32666,22.769775],[103.941504,22.540088],[105.275391,23.345215],[105.842969,22.922803],[106.780273,22.778906],[106.550391,22.501367],[106.663574,21.978906],[107.972656,21.507959]]],[[[110.88877,19.991943],[110.651758,20.137744],[109.263477,19.882666],[108.665527,19.304102],[108.701563,18.535254],[109.519336,18.218262],[110.067383,18.447559],[111.013672,19.655469],[110.88877,19.991943]]],[[[121.008789,22.620361],[121.397461,23.17251],[121.929004,24.97373],[121.593652,25.275342],[121.040625,25.032812],[120.132129,23.65293],[120.232813,22.71792],[120.839844,21.925],[121.008789,22.620361]]],[[[124.4751,25.9358],[124.4641,25.8592],[124.6536,25.9111],[124.5822,25.9655],[124.4751,25.9358]]],[[[123.7143,26.0025],[123.5962,25.921],[123.7198,25.8716],[123.7967,25.921],[123.7143,26.0025]]],[[[123.4946,25.7554],[123.327,25.7306],[123.2639,25.6712],[123.3325,25.6192],[123.5797,25.6861],[123.4946,25.7554]]],[[[116.769628,20.771721],[116.889736,20.683284],[116.749302,20.600958],[116.862635,20.588633],[116.925461,20.726949],[116.769628,20.771721]]],[[[111.7447,16.552],[111.7392,16.4598],[111.7886,16.5125],[111.7447,16.552]]],[[[111.8134,16.2621],[111.662292,16.260163],[111.5689,16.1619],[111.8161,16.2252],[111.8134,16.2621]]],[[[112.6126,16.059],[112.4615,16.0432],[112.4753,16.0009],[112.6126,16.059]]],[[[113.896887,7.607204],[114.058879,7.537794],[114.368696,7.638642],[114.540543,7.945783],[113.896887,7.607204]]],[[[109.463972,7.344339],[109.948716,7.522962],[109.653065,7.559745],[109.463972,7.344339]]],[[[116.48876,10.395686],[116.467202,10.309144],[116.644592,10.335051],[116.48876,10.395686]]],[[[122.518653,23.460785],[122.798614,24.573674],[122.779218,24.578553],[122.499257,23.465664],[122.518653,23.460785]]],[[[121.172026,20.805459],[121.909388,21.687433],[121.894044,21.700262],[121.156682,20.818287],[121.172026,20.805459]]],[[[119.473662,18.007073],[120.025697,19.024038],[120.00812,19.033579],[119.456084,18.016614],[119.473662,18.007073]]],[[[119.072182,15.007514],[119.072676,16.043885],[119.052676,16.043885],[119.052184,15.00781],[119.072182,15.007514]]],[[[118.686467,11.189592],[118.524042,10.912566],[118.540436,10.90292],[118.704762,11.181475],[118.874599,11.607472],[118.98895,11.985731],[118.969805,11.991519],[118.855579,11.613671],[118.686467,11.189592]]],[[[115.544669,7.146723],[116.250486,7.979279],[116.23523,7.992212],[115.529413,7.159656],[115.544669,7.146723]]],[[[112.307052,3.534873],[111.786901,3.416873],[111.791326,3.397368],[112.312489,3.515623],[112.521474,3.578591],[112.852064,3.732569],[112.843614,3.750696],[112.515016,3.597533],[112.307052,3.534873]]],[[[108.290133,6.012663],[108.308786,6.019877],[108.279563,6.095434],[108.256117,6.227526],[108.2168,6.538165],[108.218763,6.949641],[108.244195,7.073907],[108.224601,7.077917],[108.198768,6.950725],[108.196797,6.537606],[108.236307,6.224768],[108.26004,6.090984],[108.290133,6.012663]]],[[[110.128228,11.368945],[110.055537,11.253354],[110.072467,11.242707],[110.145887,11.359542],[110.207005,11.481288],[110.259018,11.604996],[110.304569,11.783642],[110.328228,11.945713],[110.334243,12.141598],[110.332274,12.240384],[110.312278,12.239982],[110.314245,12.141953],[110.308355,11.948035],[110.284855,11.787051],[110.239823,11.610665],[110.188981,11.489964],[110.128228,11.368945]]],[[[109.845225,15.153166],[109.864809,15.157224],[109.848892,15.233933],[109.789745,15.450683],[109.690053,15.675484],[109.591475,15.836774],[109.532015,15.922592],[109.30888,16.207258],[109.29314,16.194919],[109.515744,15.910958],[109.57456,15.826099],[109.672646,15.665615],[109.77065,15.444688],[109.829516,15.228968],[109.845225,15.153166]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CL","iso_a3":"CHL","iso_n3":"152"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-70.418262,-18.345605],[-70.080029,-21.356836],[-70.593359,-23.255469],[-70.392334,-23.565918],[-70.445361,-25.172656],[-70.925781,-27.588672],[-71.519238,-28.926465],[-71.315723,-29.649707],[-71.708936,-30.628027],[-71.452246,-32.65957],[-72.223779,-35.096191],[-73.215967,-37.166895],[-73.662402,-37.341016],[-73.226465,-39.224414],[-73.965869,-41.118262],[-73.624023,-41.773633],[-72.318262,-41.499023],[-72.824072,-41.908789],[-72.499414,-41.980859],[-72.412354,-42.388184],[-72.773242,-42.257715],[-72.758008,-43.039453],[-73.224463,-43.897949],[-73.265088,-44.168652],[-72.663867,-44.436426],[-72.680078,-44.593945],[-73.444971,-45.238184],[-72.933838,-45.452344],[-73.730762,-45.47998],[-73.591846,-45.899121],[-73.845361,-46.566016],[-73.735254,-45.811719],[-73.967578,-46.154102],[-74.392969,-46.217383],[-74.019922,-46.055859],[-73.957178,-45.404395],[-74.157861,-45.767188],[-75.066699,-45.874902],[-74.924463,-46.159668],[-75.706396,-46.705273],[-75.430371,-46.93457],[-75.540332,-46.69873],[-74.98418,-46.512109],[-75.005957,-46.741113],[-74.313574,-46.788184],[-74.158398,-47.18252],[-74.482666,-47.430469],[-74.134082,-47.59082],[-74.654932,-47.702246],[-74.227051,-47.968945],[-73.715869,-47.655469],[-73.391064,-48.145898],[-74.584668,-47.999023],[-74.474414,-48.463965],[-74.009082,-48.475],[-74.341016,-48.595703],[-74.366553,-49.400488],[-73.934961,-49.020898],[-73.836377,-49.609375],[-74.29082,-49.604102],[-73.958594,-49.994727],[-74.62959,-50.194043],[-73.950342,-50.510547],[-74.185596,-50.485352],[-73.978027,-50.827051],[-73.654443,-50.492676],[-73.806543,-50.938379],[-74.139404,-50.817773],[-74.365576,-50.487891],[-74.644482,-50.360938],[-74.685742,-50.662012],[-75.094678,-50.68125],[-74.814746,-51.062891],[-73.939502,-51.266309],[-74.19668,-51.680566],[-73.518164,-52.041016],[-72.600049,-51.799121],[-73.16875,-51.453906],[-72.76123,-51.573242],[-72.489648,-51.763672],[-72.52334,-52.255469],[-72.677051,-52.384668],[-72.79502,-51.949512],[-73.834473,-52.233984],[-74.264941,-52.104883],[-74.014453,-52.639355],[-73.123926,-52.487988],[-73.645215,-52.837012],[-73.122461,-53.073926],[-72.712109,-52.535547],[-71.511279,-52.605371],[-72.727686,-52.762305],[-73.052734,-53.243457],[-72.548926,-53.460742],[-72.278027,-53.132324],[-71.227148,-52.810645],[-71.791455,-53.48457],[-71.941699,-53.234082],[-72.412891,-53.350195],[-71.297754,-53.883398],[-70.795117,-52.76875],[-69.241016,-52.205469],[-68.443359,-52.356641],[-69.960254,-52.008203],[-71.918652,-51.989551],[-72.407666,-51.54082],[-72.340234,-50.681836],[-73.15293,-50.738281],[-73.50127,-50.125293],[-73.554199,-49.463867],[-72.354736,-48.36582],[-72.51792,-47.876367],[-71.699658,-46.651367],[-71.746191,-45.578906],[-71.349316,-45.331934],[-72.063721,-44.771875],[-71.261133,-44.763086],[-71.159717,-44.560254],[-71.82002,-44.383105],[-71.750635,-43.237305],[-72.146436,-42.990039],[-72.108203,-42.251855],[-71.75,-42.046777],[-71.932129,-40.691699],[-71.401562,-38.935059],[-70.858643,-38.604492],[-71.192187,-36.843652],[-70.404785,-36.061719],[-70.555176,-35.246875],[-69.852441,-34.224316],[-69.819629,-33.283789],[-70.084863,-33.201758],[-70.51958,-31.148438],[-69.844287,-30.175],[-70.026807,-29.324023],[-69.656934,-28.413574],[-68.846338,-27.153711],[-68.318652,-26.973242],[-68.591602,-26.47041],[-68.384229,-25.091895],[-68.562012,-24.747363],[-67.356201,-24.033789],[-67.008789,-23.001367],[-67.194873,-22.82168],[-67.879443,-22.822949],[-68.197021,-21.300293],[-68.760547,-20.416211],[-68.462891,-19.432813],[-68.968311,-18.967969],[-69.093945,-18.050488],[-69.510938,-17.506055],[-69.8521,-17.703809],[-69.926367,-18.206055],[-70.418262,-18.345605]],[[-74.385742,-52.922363],[-74.712012,-52.74873],[-73.135205,-53.353906],[-74.385742,-52.922363]]],[[[-68.629932,-52.652637],[-69.414062,-52.48623],[-69.935449,-52.821094],[-70.380127,-52.751953],[-70.329297,-53.377637],[-69.355957,-53.416309],[-70.151123,-53.888086],[-69.044336,-54.406738],[-69.253174,-54.557422],[-70.535303,-54.136133],[-70.531299,-53.627344],[-70.863086,-54.110449],[-70.310986,-54.528516],[-70.797266,-54.327246],[-71.927734,-54.528711],[-68.653223,-54.853613],[-68.629932,-52.652637]]],[[[-67.079932,-55.153809],[-68.301367,-54.980664],[-68.07002,-55.221094],[-67.079932,-55.153809]]],[[[-73.773389,-43.345898],[-73.436328,-42.936523],[-73.789258,-42.585742],[-73.4229,-42.192871],[-73.527832,-41.896289],[-74.03667,-41.795508],[-74.387354,-43.231641],[-73.773389,-43.345898]]],[[[-74.476172,-49.147852],[-74.546094,-48.766895],[-74.89624,-48.733203],[-75.549805,-49.791309],[-75.066016,-49.852344],[-74.723828,-49.423828],[-74.594727,-50.006641],[-74.476172,-49.147852]]],[[[-75.510254,-48.763477],[-75.158496,-48.622656],[-75.391406,-48.019727],[-75.510254,-48.763477]]],[[[-74.567285,-48.591992],[-74.895654,-47.839355],[-75.212891,-48.141699],[-74.923047,-48.626465],[-74.567285,-48.591992]]],[[[-72.923242,-53.481641],[-73.845459,-53.545801],[-73.210645,-53.98584],[-72.76377,-53.864844],[-72.870996,-54.126562],[-72.20542,-53.807422],[-72.923242,-53.481641]]],[[[-74.822949,-51.630176],[-75.105371,-51.788867],[-74.694482,-52.279199],[-74.822949,-51.630176]]],[[[-69.702979,-54.919043],[-69.979785,-55.147461],[-69.411816,-55.444238],[-69.192627,-55.171875],[-68.04834,-55.643164],[-68.458008,-54.959668],[-69.702979,-54.919043]]],[[[-71.390479,-54.032812],[-71.996484,-53.884863],[-72.210449,-54.047754],[-71.948535,-54.300879],[-71.143262,-54.374023],[-71.021924,-54.111816],[-71.390479,-54.032812]]],[[[-73.735352,-44.394531],[-73.994922,-44.140234],[-74.617773,-44.647949],[-74.01626,-45.344922],[-73.728174,-45.195898],[-74.002051,-44.590918],[-73.735352,-44.394531]]],[[[-72.986133,-44.780078],[-72.776367,-44.508594],[-73.207715,-44.334961],[-73.39707,-44.774316],[-72.986133,-44.780078]]],[[[-75.302002,-50.67998],[-75.115332,-50.510449],[-75.427637,-50.480566],[-75.302002,-50.67998]]],[[[-75.106689,-48.836523],[-75.583105,-48.858887],[-75.641162,-49.19541],[-75.106689,-48.836523]]],[[[-74.558643,-51.277051],[-75.153662,-51.278809],[-75.289111,-51.625391],[-74.558643,-51.277051]]],[[[-75.054785,-50.296094],[-74.875977,-50.109961],[-75.32666,-50.011816],[-75.449121,-50.343359],[-75.054785,-50.296094]]],[[[-74.312891,-45.691504],[-74.310547,-45.172656],[-74.689844,-45.662598],[-74.312891,-45.691504]]],[[[-70.991602,-54.867969],[-71.437207,-54.889258],[-70.297852,-55.11377],[-70.991602,-54.867969]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TD","iso_a3":"TCD","iso_n3":"148"},"geometry":{"type":"Polygon","coordinates":[[[23.980273,19.496631],[20.147656,21.389258],[15.984082,23.445215],[14.979004,22.996191],[15.181836,21.523389],[15.963184,20.346191],[15.735059,19.904053],[15.474316,16.908398],[13.448242,14.380664],[13.606348,13.70459],[14.063965,13.078516],[14.461719,13.021777],[14.84707,12.5021],[15.132227,10.648486],[15.654883,10.007812],[14.243262,9.979736],[13.977246,9.691553],[15.116211,8.557324],[15.549805,7.787891],[15.480078,7.523779],[15.957617,7.507568],[16.545313,7.865479],[16.784766,7.550977],[17.649414,7.983594],[18.56416,8.045898],[19.108691,8.656152],[18.95625,8.938867],[20.34209,9.1271],[21.682715,10.289844],[21.771484,10.642822],[22.493848,10.99624],[22.860059,10.919678],[22.922656,11.344873],[22.591113,11.579883],[22.352344,12.660449],[21.825293,12.790527],[22.228125,13.32959],[22.106445,13.799805],[22.538574,14.161865],[22.381543,14.550488],[22.932324,15.162109],[22.933887,15.533105],[23.970801,15.721533],[23.980273,19.496631]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CF","iso_a3":"CAF","iso_n3":"140"},"geometry":{"type":"Polygon","coordinates":[[[24.147363,8.665625],[23.537305,8.81582],[23.646289,9.8229],[22.860059,10.919678],[22.493848,10.99624],[21.771484,10.642822],[21.682715,10.289844],[20.34209,9.1271],[18.95625,8.938867],[19.108691,8.656152],[18.56416,8.045898],[17.649414,7.983594],[16.784766,7.550977],[16.545313,7.865479],[15.957617,7.507568],[15.480078,7.523779],[14.431152,6.038721],[14.73125,4.602393],[15.063574,4.284863],[15.128711,3.826904],[16.063477,2.908594],[16.183398,2.270068],[16.610742,3.505371],[17.491602,3.687305],[18.610352,3.478418],[18.594141,4.34624],[19.500977,5.12749],[20.558105,4.462695],[22.422168,4.134961],[22.864551,4.723877],[25.065234,4.967432],[25.525098,5.312109],[27.40332,5.10918],[27.143945,5.722949],[26.514258,6.069238],[26.361816,6.635303],[25.278906,7.42749],[24.85332,8.137549],[24.291406,8.291406],[24.147363,8.665625]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CV","iso_a3":"CPV","iso_n3":"132"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-25.169824,16.946484],[-25.034668,17.176465],[-25.337109,17.091016],[-25.169824,16.946484]]],[[[-23.444238,15.007959],[-23.748096,15.328516],[-23.705371,14.961328],[-23.444238,15.007959]]],[[[-22.917725,16.237256],[-22.959277,16.045117],[-22.710107,16.043359],[-22.917725,16.237256]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CA","iso_a3":"CAN","iso_n3":"124"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-132.655518,54.12749],[-133.048389,54.158936],[-133.079492,53.837012],[-132.347266,53.189209],[-131.957422,53.308691],[-131.667627,54.141357],[-132.534668,53.651709],[-132.166113,53.955225],[-132.655518,54.12749]]],[[[-131.753711,53.195557],[-132.546777,53.1375],[-131.221533,52.153613],[-131.455225,52.701709],[-131.971777,52.879834],[-131.634668,52.922168],[-131.753711,53.195557]]],[[[-127.197314,50.640381],[-127.918066,50.860547],[-128.346045,50.744238],[-128.05835,50.498486],[-127.465918,50.583105],[-127.486523,50.404639],[-127.905859,50.445215],[-127.863916,50.127734],[-127.249805,50.137988],[-127.114307,49.879736],[-126.134082,49.672314],[-126.519141,49.396777],[-125.9354,49.401465],[-125.489453,48.933789],[-124.812646,49.212646],[-125.120703,48.760791],[-123.310645,48.411035],[-125.48208,50.316797],[-127.197314,50.640381]]],[[[-130.025098,55.888232],[-130.048486,55.057275],[-129.795166,55.55957],[-129.560645,55.462549],[-130.430273,54.420996],[-129.626025,54.230273],[-130.335254,53.723926],[-129.563721,53.251465],[-128.959375,53.841455],[-128.532129,53.858105],[-128.675537,53.55459],[-127.927832,53.274707],[-128.905615,53.559326],[-128.85459,53.704541],[-129.171582,53.533594],[-128.365039,52.825781],[-128.053271,52.910693],[-128.271533,52.362988],[-127.940234,52.545166],[-128.357617,52.158887],[-128.102246,51.788428],[-127.791895,52.289355],[-126.951367,52.751025],[-127.193994,52.457666],[-126.713965,52.060693],[-127.437939,52.356152],[-127.795361,52.191016],[-127.850537,51.673193],[-127.668701,51.477588],[-127.338721,51.707373],[-126.691455,51.703418],[-127.419678,51.608057],[-127.708105,51.151172],[-127.057568,50.867529],[-126.517334,51.056836],[-126.514355,50.679395],[-125.904102,50.704932],[-126.447461,50.587744],[-126.094336,50.497607],[-125.058789,50.513867],[-124.859863,50.872412],[-125.056689,50.418652],[-124.782373,50.020117],[-124.141602,49.792676],[-123.880127,50.173633],[-123.874414,49.736816],[-123.582471,49.68125],[-124.028613,49.602881],[-123.530566,49.397314],[-123.1875,49.680322],[-123.276758,49.343945],[-122.879102,49.398926],[-123.196338,49.147705],[-122.78877,48.993018],[-114.585107,48.993066],[-106.483838,48.993115],[-97.529834,48.993164],[-95.162061,48.991748],[-95.155273,49.369678],[-94.620898,48.742627],[-92.99624,48.611816],[-91.518311,48.058301],[-90.916064,48.209131],[-89.455664,47.99624],[-88.378174,48.303076],[-84.875977,46.899902],[-84.561768,46.457373],[-84.149463,46.542773],[-83.977783,46.084912],[-83.615967,46.116846],[-83.592676,45.817139],[-82.551074,45.347363],[-82.137842,43.570898],[-82.545312,42.624707],[-83.149658,42.141943],[-82.690039,41.675195],[-79.036719,42.802344],[-79.171875,43.466553],[-78.72041,43.624951],[-76.819971,43.628809],[-76.151172,44.303955],[-74.708887,45.003857],[-73.973828,45.345117],[-74.315088,45.531055],[-73.476611,45.738232],[-72.981006,46.209717],[-71.87959,46.686816],[-71.267773,46.795947],[-70.705859,47.139795],[-69.994434,47.739893],[-69.865527,48.172266],[-71.018262,48.455615],[-69.673877,48.19917],[-68.281934,49.197168],[-67.372021,49.348438],[-66.495508,50.211865],[-62.71543,50.30166],[-61.724854,50.104053],[-59.886328,50.316406],[-58.510352,51.295068],[-56.975977,51.457666],[-55.695215,52.137793],[-56.011719,52.394482],[-55.746484,52.474561],[-56.324902,52.544531],[-55.802832,52.643164],[-55.797949,53.211963],[-56.46499,53.765039],[-57.331738,53.469092],[-57.416064,54.162744],[-58.19209,54.228174],[-57.935986,54.091162],[-60.329492,53.266113],[-60.100293,53.486963],[-60.39541,53.65332],[-58.633203,54.049561],[-57.404492,54.590869],[-57.962451,54.875732],[-58.780176,54.838379],[-59.25957,55.199951],[-59.837793,54.813965],[-59.437891,55.175928],[-59.758789,55.30957],[-60.617139,55.060205],[-60.341016,55.784668],[-61.449512,55.995703],[-61.364697,56.216016],[-61.713086,56.230957],[-61.425293,56.360645],[-62.497266,56.801709],[-61.371631,56.680811],[-61.33374,57.010596],[-62.495557,57.489209],[-61.967969,57.611914],[-61.958643,57.911768],[-62.48623,58.154053],[-63.261523,58.014697],[-62.593848,58.474023],[-63.537061,58.329932],[-62.873877,58.672461],[-63.248437,59.068311],[-63.971143,59.053809],[-63.415137,59.194385],[-63.945459,59.380176],[-64.283496,60.064062],[-64.768457,60.012109],[-64.499414,60.268262],[-64.817334,60.331055],[-65.028174,59.770703],[-65.433398,59.776514],[-65.038232,59.387891],[-65.475098,59.470312],[-65.383545,59.060205],[-66.043066,58.820654],[-66.002393,58.431201],[-66.362402,58.791162],[-67.678271,57.991113],[-68.021045,58.485303],[-68.413574,58.051758],[-69.04082,57.90249],[-68.356543,58.163232],[-68.381152,58.743506],[-68.698193,58.904541],[-70.154346,58.760596],[-69.531641,58.869238],[-69.344043,59.303076],[-69.681885,59.341748],[-69.733936,59.918018],[-70.654834,60.026221],[-69.67373,60.075879],[-69.50332,61.04043],[-69.992432,60.856494],[-71.422705,61.158936],[-71.638281,61.617188],[-72.215869,61.587256],[-72.686963,62.124561],[-73.705078,62.473145],[-74.632568,62.115674],[-77.372412,62.57251],[-78.133398,62.282275],[-77.514355,61.556299],[-78.181348,60.819141],[-77.589551,60.808594],[-77.349072,59.578955],[-77.726172,59.675879],[-78.515088,58.682373],[-76.809814,57.657959],[-76.604053,56.199561],[-77.775293,55.29126],[-79.712354,54.671826],[-78.996045,54.00249],[-78.448096,52.261377],[-78.981641,51.774561],[-78.903174,51.200293],[-79.338672,51.628174],[-79.737451,51.186279],[-79.3479,50.762646],[-80.103564,51.282861],[-80.851221,51.125],[-80.443311,51.388574],[-80.588037,51.667236],[-81.827881,52.224219],[-81.599414,52.432617],[-82.291553,53.030713],[-82.393262,55.067822],[-83.910596,55.314648],[-85.365283,55.079297],[-85.559326,55.540186],[-87.482422,56.021289],[-88.948486,56.851318],[-90.897461,57.256934],[-92.798145,56.921973],[-92.432812,57.320312],[-93.17876,58.725635],[-94.123193,58.736719],[-94.332227,58.297363],[-94.287061,58.716016],[-94.957324,59.068848],[-94.761719,60.498242],[-93.312012,61.767285],[-93.581787,61.942041],[-92.905518,62.215137],[-93.205371,62.364941],[-92.527979,62.168408],[-92.551416,62.546729],[-91.93584,62.592383],[-92.361279,62.819385],[-90.698584,63.063867],[-90.970068,63.442773],[-91.841846,63.697559],[-92.465088,63.555078],[-92.156885,63.691699],[-93.559814,63.865283],[-93.696338,64.147168],[-90.811914,63.580908],[-90.154736,63.689648],[-90.04165,64.140869],[-89.131543,63.968506],[-88.105615,64.183301],[-87.027539,65.198096],[-88.974023,65.348291],[-89.924072,65.780273],[-91.427246,65.9479],[-89.749414,65.936035],[-87.452881,65.338965],[-85.95874,66.119043],[-86.708154,66.523047],[-85.603857,66.568262],[-83.869043,66.213574],[-84.223047,66.682471],[-85.113721,66.906934],[-84.538477,66.972803],[-83.406445,66.37124],[-81.467578,67.069873],[-81.294336,67.497412],[-82.552686,68.446484],[-81.281543,68.657227],[-81.95791,68.883643],[-81.377832,69.185645],[-82.227539,69.248877],[-82.618359,69.691064],[-85.507373,69.845264],[-84.867578,68.77334],[-85.643164,68.699707],[-86.560791,67.482129],[-87.359375,67.177246],[-88.313818,67.950342],[-88.346973,68.288281],[-87.813574,68.345703],[-88.223535,68.915039],[-89.279541,69.255469],[-90.204785,68.257471],[-91.237207,69.285547],[-90.415576,69.456982],[-92.887793,69.668213],[-91.976709,70.038672],[-92.320508,70.235352],[-91.564062,70.178271],[-94.734863,71.982959],[-95.872314,71.573145],[-95.564258,71.336768],[-96.446582,71.239893],[-95.878613,70.548975],[-96.551367,70.210303],[-95.964941,69.802783],[-93.532275,69.480908],[-94.600439,68.803223],[-93.852441,69.000342],[-93.448926,68.618896],[-95.460693,68.021387],[-95.25874,67.262549],[-95.399658,66.949463],[-96.036865,66.9375],[-95.787549,66.616797],[-96.422559,67.051758],[-95.418896,67.013232],[-96.369141,67.509766],[-95.970312,68.249121],[-96.72207,68.03877],[-96.430664,68.310596],[-97.410352,68.496533],[-98.650488,68.363525],[-98.192529,67.922998],[-97.206543,67.855078],[-97.454932,67.616992],[-98.631543,68.072559],[-98.412109,67.807178],[-98.920459,67.725781],[-102.320361,67.735645],[-103.474121,68.115039],[-104.486816,68.063184],[-106.164453,68.919873],[-108.313477,68.610791],[-108.718115,68.297461],[-107.73418,68.17373],[-105.750195,68.592285],[-107.958398,67.818604],[-107.259473,66.398535],[-108.496045,67.092285],[-107.988721,67.256396],[-110.073926,67.99292],[-112.503027,67.681934],[-115.133203,67.819189],[-115.127051,68.132031],[-113.964404,68.399072],[-115.442285,68.940918],[-117.226953,68.913428],[-122.070068,69.816162],[-123.025781,69.81001],[-123.528418,69.389355],[-124.338086,69.364844],[-124.555029,70.151221],[-125.524951,69.351563],[-127.991016,70.573828],[-127.683789,70.260352],[-128.853027,69.751025],[-128.898926,69.966162],[-130.117627,69.720068],[-130.970654,69.209082],[-131.063428,69.450684],[-131.788379,69.431982],[-133.196826,68.739844],[-132.81748,69.205762],[-129.648291,69.997754],[-129.675635,70.192969],[-134.174316,69.252832],[-134.408936,69.681787],[-135.691455,69.311182],[-135.939014,68.97417],[-135.258838,68.684326],[-141.002148,69.650781],[-141.002148,64.975537],[-141.002148,60.300244],[-139.079248,60.343701],[-139.185156,60.083594],[-137.438574,58.903125],[-135.475928,59.793262],[-133.401123,58.410889],[-131.824268,56.58999],[-130.097852,56.109277],[-130.025098,55.888232]]],[[[-109.815967,78.650391],[-110.877588,78.735059],[-113.223047,78.2979],[-109.484473,78.316406],[-109.815967,78.650391]]],[[[-110.458057,78.103223],[-113.215186,77.903516],[-112.372656,77.364111],[-110.198486,77.524512],[-110.865625,77.834131],[-109.622266,78.074756],[-110.458057,78.103223]]],[[[-115.55127,77.363281],[-116.511328,77.547607],[-116.843555,77.339551],[-119.090186,77.305078],[-122.519385,76.353174],[-122.533057,75.950928],[-120.848389,76.182666],[-119.912891,75.858838],[-117.880811,76.805078],[-117.233594,76.281543],[-115.55127,77.363281]]],[[[-108.292383,76.057129],[-109.098242,76.811865],[-110.314453,76.369385],[-108.947168,75.541797],[-111.052686,75.548535],[-112.697607,76.201709],[-114.998486,76.497461],[-115.822168,76.27002],[-114.778613,76.172607],[-116.209863,76.194434],[-116.664551,75.957568],[-114.991504,75.896338],[-117.163623,75.644873],[-115.141846,75.678516],[-117.565234,75.23335],[-115.728857,74.968115],[-114.451758,75.087891],[-114.016504,75.434277],[-113.711768,75.068604],[-111.093457,75.256299],[-114.312695,74.715088],[-112.519336,74.416846],[-108.831299,75.064893],[-107.153418,74.927148],[-106.092627,75.089453],[-105.632666,75.945361],[-106.677002,76.02373],[-106.913525,75.679639],[-108.292383,76.057129]]],[[[-114.521533,72.59292],[-114.051709,73.070996],[-114.638232,73.372656],[-118.133105,72.632812],[-118.987695,71.764258],[-117.742334,71.659326],[-117.935645,71.39209],[-115.303418,71.493701],[-118.269092,71.034717],[-117.587061,70.629541],[-113.757275,70.690723],[-111.632568,70.308838],[-117.19541,70.054053],[-116.513477,69.424609],[-113.694141,69.19502],[-113.127734,68.494141],[-109.472119,68.676709],[-107.439893,69.002148],[-106.659082,69.4396],[-104.571436,68.872119],[-101.857129,69.023975],[-102.045947,69.464844],[-103.120215,69.20459],[-103.464893,69.644482],[-102.621094,69.551514],[-102.182129,69.845947],[-100.982373,69.679883],[-101.042676,70.110791],[-103.58457,70.630859],[-104.514795,71.064258],[-105.415137,72.78833],[-106.482129,73.196191],[-108.029053,73.34873],[-108.237402,73.149902],[-107.306006,71.894678],[-107.812842,71.626172],[-110.008447,72.983643],[-110.66084,73.008203],[-110.205127,72.661279],[-111.675098,72.300146],[-111.269727,72.713721],[-112.753613,72.986035],[-114.521533,72.59292]]],[[[-119.736328,74.112646],[-121.50415,74.545117],[-124.69624,74.348193],[-123.797266,73.768164],[-125.845312,71.978662],[-124.007764,71.677441],[-123.095654,71.093799],[-120.619336,71.505762],[-120.179883,72.212646],[-115.446875,73.438867],[-117.514844,74.231738],[-119.736328,74.112646]]],[[[-69.488867,83.016797],[-72.81167,83.081201],[-72.658691,82.721631],[-74.41416,83.013135],[-77.124902,83.008545],[-76.009375,82.535156],[-77.618066,82.89585],[-80.154932,82.911133],[-78.748779,82.679395],[-81.010156,82.779053],[-82.447559,82.39502],[-79.465625,81.851123],[-84.896826,82.449414],[-86.615625,82.218555],[-85.044824,81.982812],[-88.063184,82.096484],[-91.647559,81.683838],[-89.82168,81.634863],[-90.416309,81.405371],[-87.597021,81.52583],[-89.673682,81.328613],[-89.623047,81.032471],[-84.941211,81.28623],[-89.166895,80.941309],[-88.003662,80.675391],[-83.288818,81.147949],[-86.250342,80.565771],[-81.007031,80.654883],[-76.885107,81.430273],[-78.716211,80.95166],[-76.862988,80.864795],[-82.987012,80.322607],[-80.475928,79.60625],[-83.723633,80.228955],[-86.498535,80.258252],[-86.420752,79.845215],[-83.575879,79.053662],[-84.412012,78.996582],[-81.750098,78.975781],[-83.271436,78.770312],[-86.80791,78.774365],[-87.551758,78.176611],[-85.920068,78.342871],[-85.585938,78.10957],[-84.783203,78.527588],[-84.222705,78.176025],[-85.547559,77.927686],[-85.289355,77.559033],[-83.779395,77.532617],[-82.710352,77.849512],[-83.721289,77.414209],[-84.738672,77.361035],[-86.755078,77.863721],[-88.016992,77.784717],[-86.812256,77.184912],[-89.499756,76.826807],[-89.369629,76.474463],[-88.545801,76.420898],[-88.49585,76.772852],[-88.395996,76.405273],[-87.497559,76.386279],[-87.489795,76.58584],[-86.680225,76.376611],[-86.453711,76.584863],[-85.14126,76.30459],[-84.275342,76.356543],[-84.223779,76.675342],[-83.885693,76.453125],[-82.233154,76.46582],[-82.529834,76.723291],[-80.799707,76.173584],[-78.284326,76.57124],[-78.288867,76.977979],[-82.056787,77.296533],[-81.659082,77.525439],[-78.708496,77.342139],[-78.012598,77.946045],[-75.865967,78.009814],[-75.193457,78.327734],[-76.416113,78.511523],[-74.486328,78.750098],[-78.581641,79.075],[-74.640918,79.035547],[-76.898828,79.512305],[-73.361523,79.504004],[-74.394482,79.874072],[-71.387842,79.761768],[-70.568408,80.093701],[-72.055957,80.123242],[-70.264893,80.233594],[-70.712598,80.5396],[-69.550684,80.383252],[-64.780078,81.492871],[-68.688525,81.293311],[-61.615381,82.184424],[-63.641016,82.812598],[-68.469336,82.653369],[-66.422559,82.926855],[-69.488867,83.016797]]],[[[-95.484375,77.791992],[-95.987061,77.484131],[-93.543945,77.46665],[-93.300977,77.739795],[-95.484375,77.791992]]],[[[-93.542578,75.02793],[-94.878174,75.630029],[-96.599609,75.031787],[-94.534521,74.636719],[-93.573096,74.668848],[-93.542578,75.02793]]],[[[-100.001904,73.945898],[-100.962988,73.791406],[-100.52168,73.449316],[-101.523193,73.486377],[-99.825146,73.213867],[-100.536377,73.197852],[-100.128125,72.906689],[-101.273193,72.72168],[-102.204004,73.077295],[-102.70874,72.764502],[-98.662891,71.3021],[-98.322705,71.852344],[-97.582275,71.629688],[-96.613428,71.833838],[-96.445605,72.552441],[-97.636328,73.027637],[-98.421777,72.941016],[-97.170508,73.824854],[-99.157959,73.731592],[-100.001904,73.945898]]],[[[-84.919629,65.261084],[-85.554688,65.918652],[-86.2521,64.136865],[-87.151904,63.585645],[-85.768945,63.700342],[-85.392627,63.119678],[-83.303955,64.143799],[-81.046387,63.461572],[-80.302051,63.762207],[-80.828955,64.089941],[-81.887109,64.016406],[-82.05,64.644287],[-84.501123,65.458447],[-84.919629,65.261084]]],[[[-97.700928,76.466504],[-98.71084,76.693848],[-98.890332,76.465576],[-100.829736,76.523877],[-99.541064,76.146289],[-99.865479,75.924219],[-101.415186,76.424902],[-102.104688,76.331201],[-100.972803,75.798438],[-102.144727,75.875049],[-102.587402,75.513672],[-99.19458,75.698389],[-100.711914,75.406348],[-100.234375,75.007715],[-97.674316,75.127295],[-97.700928,76.466504]]],[[[-103.426025,79.315625],[-105.514551,79.24248],[-104.895508,78.808154],[-104.151953,78.989893],[-103.371582,78.736328],[-104.763574,78.35166],[-102.731348,78.371045],[-100.274658,77.832715],[-99.166406,77.856934],[-99.609424,78.583057],[-101.703662,79.078906],[-102.576172,78.879395],[-103.426025,79.315625]]],[[[-91.885547,81.132861],[-94.220117,81.330762],[-93.286719,81.100293],[-95.514746,80.838135],[-93.92793,80.55918],[-95.926953,80.720654],[-96.394092,80.315039],[-94.262598,80.194873],[-96.773242,80.135791],[-96.589062,79.91665],[-95.739355,79.660156],[-94.401855,79.736328],[-95.662891,79.527344],[-95.103174,79.289893],[-91.299902,79.372705],[-94.1146,78.928906],[-91.866895,78.542676],[-92.35127,78.312891],[-89.525684,78.159619],[-90.037109,78.606836],[-88.822412,78.185889],[-88.040186,78.995312],[-87.617383,78.676318],[-85.042139,79.28457],[-85.647852,79.611426],[-87.295166,79.580176],[-87.675,80.372119],[-88.857324,80.166211],[-91.885547,81.132861]]],[[[-94.294971,76.912451],[-95.849512,77.066211],[-96.880713,76.73833],[-95.273877,76.264404],[-93.091748,76.354004],[-91.549121,74.655566],[-90.880225,74.817773],[-89.558691,74.554736],[-88.534961,74.831738],[-88.423047,74.494141],[-84.425537,74.508105],[-83.531885,74.585693],[-83.52207,74.901465],[-82.735791,74.530273],[-80.262744,74.584473],[-80.347754,74.902979],[-79.401416,74.917627],[-80.381982,75.03418],[-79.509082,75.259814],[-80.321973,75.629102],[-83.931982,75.818945],[-85.951465,75.39502],[-88.644971,75.658447],[-88.916699,75.453955],[-91.407324,76.220068],[-89.284521,76.301611],[-91.415088,76.455859],[-90.542627,76.495752],[-91.305029,76.680762],[-93.53457,76.447705],[-93.230029,76.770264],[-94.294971,76.912451]]],[[[-96.204492,78.531299],[-98.332617,78.773535],[-96.989648,77.806006],[-94.934277,78.075635],[-94.915381,78.390527],[-96.204492,78.531299]]],[[[-93.17085,74.160986],[-94.973535,74.041406],[-94.697607,73.663574],[-95.63291,73.695459],[-95.007861,72.012793],[-94.037549,72.02876],[-93.555176,72.421143],[-94.211328,72.756934],[-92.11792,72.753809],[-90.381396,73.824756],[-93.17085,74.160986]]],[[[-97.439453,69.642676],[-98.200488,69.796973],[-98.041357,69.456641],[-98.545996,69.5729],[-99.494678,68.95957],[-96.401562,68.470703],[-95.267773,68.826074],[-97.439453,69.642676]]],[[[-61.105176,45.944727],[-60.494531,46.270264],[-60.408203,47.003516],[-61.408643,46.170361],[-61.449805,45.716211],[-60.672949,45.59082],[-59.842188,45.941553],[-60.297949,46.31123],[-60.737891,45.751416],[-61.059033,45.703369],[-60.865234,45.983496],[-61.105176,45.944727]]],[[[-67.124854,45.169434],[-66.439844,45.095898],[-66.026562,45.417578],[-65.884473,45.2229],[-64.778516,45.638428],[-64.632715,45.946631],[-64.314648,45.835693],[-64.873145,45.35459],[-63.368018,45.364795],[-64.135498,45.023047],[-64.448145,45.337451],[-66.090625,44.504932],[-65.868018,44.568799],[-66.125732,43.813818],[-65.481689,43.518066],[-64.286084,44.550342],[-63.609766,44.47998],[-63.604004,44.683203],[-61.031543,45.291748],[-61.955518,45.868164],[-62.750098,45.648242],[-64.541504,46.240332],[-64.831396,47.060791],[-65.318896,47.101221],[-64.703223,47.724854],[-65.607227,47.67002],[-66.704395,48.022461],[-65.926709,48.188867],[-65.259424,48.02124],[-64.348828,48.423193],[-64.513721,48.841113],[-64.216211,48.873633],[-64.836328,49.191748],[-66.178174,49.213135],[-68.238184,48.626416],[-70.519482,47.03252],[-71.261182,46.75625],[-72.109277,46.551221],[-73.15957,46.010059],[-73.558105,45.425098],[-74.708887,45.003857],[-71.517529,45.007568],[-71.327295,45.290088],[-70.865039,45.270703],[-69.242871,47.462988],[-68.937207,47.21123],[-68.235498,47.345947],[-67.806787,47.082812],[-67.802246,45.727539],[-67.124854,45.169434]]],[[[-55.45874,51.536523],[-56.025586,51.568359],[-57.035937,51.01084],[-57.791309,49.48999],[-58.213379,49.38667],[-57.990527,48.987939],[-58.403662,49.084326],[-58.716455,48.598047],[-58.841797,48.746436],[-59.167676,48.558496],[-58.330225,48.522119],[-59.320654,47.736914],[-59.116943,47.570703],[-58.336865,47.730859],[-56.774121,47.56499],[-55.85791,47.819189],[-56.127246,47.502832],[-55.576123,47.465234],[-54.784619,47.664746],[-55.919238,47.016895],[-55.788525,46.867236],[-54.488135,47.403857],[-54.191846,47.859814],[-53.849512,47.440332],[-54.17373,46.880371],[-53.597363,47.145996],[-53.589795,46.638867],[-53.114844,46.655811],[-52.653662,47.549414],[-52.782422,47.769434],[-53.169824,47.512109],[-52.866016,48.112988],[-53.672363,47.648242],[-53.86958,48.019678],[-53.027588,48.634717],[-54.114453,48.393604],[-53.706348,48.655518],[-54.161279,48.787695],[-53.619434,49.321631],[-54.448242,49.329443],[-54.502197,49.527344],[-55.353174,49.079443],[-55.229541,49.508154],[-56.087305,49.451953],[-55.869824,49.670166],[-56.140186,49.619141],[-55.50293,49.983154],[-56.161279,49.940137],[-56.179395,50.11499],[-56.822168,49.613477],[-55.8,51.033301],[-56.031104,51.328369],[-55.45874,51.536523]]],[[[-86.589355,71.010791],[-85.023389,71.353223],[-86.218457,71.899121],[-86.656299,72.724023],[-84.946777,73.721631],[-85.950781,73.850146],[-88.705176,73.403271],[-89.861523,72.411914],[-89.805371,71.462305],[-87.140088,71.011621],[-89.455908,71.061719],[-88.782715,70.494482],[-87.838135,70.246582],[-86.396875,70.465332],[-85.780029,70.03667],[-81.564697,69.942725],[-80.921729,69.730908],[-81.651953,70.094629],[-78.889648,69.97749],[-79.066406,70.603564],[-75.647754,69.212549],[-76.557227,69.009473],[-76.585059,68.69873],[-74.716699,69.045508],[-74.892969,68.808154],[-74.270117,68.541211],[-73.822119,68.685986],[-72.22002,67.254297],[-74.416406,66.16709],[-73.550781,65.485254],[-75.798682,65.29751],[-75.4521,64.841602],[-75.82832,65.227051],[-77.326709,65.453125],[-78.095605,64.939258],[-78.045215,64.499268],[-76.856152,64.237646],[-74.694727,64.496582],[-74.681396,64.830664],[-74.064795,64.424658],[-73.271289,64.58252],[-72.498438,63.823486],[-71.380859,63.580322],[-71.992236,63.416162],[-71.347266,63.066113],[-69.604736,62.767725],[-68.535889,62.255615],[-66.123877,61.893066],[-65.980176,62.208887],[-68.911084,63.703223],[-67.722559,63.422754],[-67.893262,63.73374],[-66.697461,63.069531],[-66.65498,63.264746],[-65.108496,62.626465],[-65.162793,62.932617],[-64.672363,62.921973],[-65.191846,63.764258],[-64.664648,63.245361],[-64.410937,63.706348],[-65.580322,64.293848],[-65.074609,64.43667],[-65.529346,64.504785],[-65.274805,64.631543],[-66.635498,65.000342],[-66.697412,64.815186],[-67.117969,65.440381],[-67.936768,65.564893],[-68.748926,66.200049],[-67.350439,65.929736],[-67.883398,66.467432],[-67.225391,66.310254],[-66.986328,66.62749],[-66.063721,66.132715],[-65.656348,66.204736],[-65.825732,65.996924],[-64.445361,66.317139],[-65.401611,65.764014],[-64.555078,65.116602],[-64.269678,65.400781],[-63.606592,64.928076],[-63.45874,65.853027],[-62.658887,65.639941],[-62.624121,66.01626],[-61.991602,66.035303],[-62.553125,66.406836],[-61.570801,66.3729],[-62.12334,66.643066],[-61.353418,66.689209],[-62.123584,67.046729],[-63.701562,66.822363],[-63.040137,67.23501],[-64.699951,67.350537],[-63.850195,67.566064],[-65.021094,67.787549],[-64.922314,68.031641],[-65.40127,67.674854],[-65.942383,68.070947],[-66.443945,67.833838],[-66.212402,68.28042],[-66.923096,68.065723],[-66.742725,68.457764],[-69.319092,68.856982],[-67.883203,68.783984],[-67.832617,69.065967],[-69.040625,69.097998],[-68.406299,69.232227],[-66.707422,69.168213],[-67.236963,69.460107],[-69.250781,69.511914],[-67.221631,69.730713],[-67.363672,70.034424],[-68.059082,70.317236],[-68.744043,69.941406],[-68.778223,70.203564],[-70.057715,70.042627],[-68.363525,70.48125],[-69.949805,70.84502],[-71.429443,70.127783],[-71.275879,70.500293],[-71.890186,70.431543],[-70.672656,71.052197],[-72.632715,70.830762],[-71.229395,71.33877],[-72.901953,71.677783],[-73.180615,71.282861],[-73.712842,71.587598],[-74.197266,71.40415],[-73.814062,71.771436],[-74.996191,71.218115],[-74.700781,71.675586],[-75.204785,71.709131],[-74.209326,71.978662],[-74.903174,72.100488],[-75.922803,71.717236],[-75.052686,72.226367],[-75.704297,72.571533],[-77.753223,72.724756],[-78.484277,72.470605],[-77.516504,72.177783],[-78.699268,72.351416],[-78.585107,71.880615],[-79.831299,72.446289],[-80.925146,71.907666],[-80.611475,72.45083],[-81.229346,72.311719],[-80.277246,72.770166],[-81.946143,73.729834],[-85.454736,73.105469],[-84.256641,72.796729],[-85.262109,72.954004],[-85.649902,72.722168],[-84.28374,72.044482],[-85.321875,72.233154],[-85.911621,71.986523],[-84.699414,71.631445],[-84.82373,71.028613],[-86.589355,71.010791]]],[[[-61.801123,49.093896],[-62.858545,49.705469],[-64.485205,49.886963],[-63.041504,49.224951],[-61.801123,49.093896]]],[[[-63.811279,46.468701],[-63.993555,47.061572],[-64.388037,46.640869],[-63.641016,46.230469],[-62.978467,46.316357],[-63.02207,46.066602],[-62.531348,45.977295],[-62.02373,46.421582],[-63.811279,46.468701]]],[[[-82.000488,62.954199],[-83.376416,62.904932],[-83.910498,62.45415],[-83.698877,62.160254],[-82.568262,62.403223],[-82.000488,62.954199]]],[[[-79.545312,62.411719],[-80.260059,62.109033],[-79.816113,61.594629],[-79.323926,62.026074],[-79.545312,62.411719]]],[[[-75.675879,68.32251],[-76.595801,68.278955],[-77.125879,67.94707],[-76.944189,67.250293],[-75.201953,67.45918],[-75.078125,68.173145],[-75.675879,68.32251]]],[[[-79.537305,73.654492],[-80.848877,73.72124],[-79.820703,72.826318],[-76.183398,72.843066],[-77.206543,73.499561],[-79.537305,73.654492]]],[[[-80.731689,52.747266],[-81.135596,53.205811],[-82.039258,53.049902],[-80.731689,52.747266]]],[[[-78.935596,56.266064],[-79.272412,56.600439],[-79.536328,56.180078],[-79.458887,56.539746],[-79.9875,55.892139],[-79.544727,56.128369],[-79.764746,55.806787],[-79.495117,55.874756],[-79.182129,56.212158],[-79.175488,55.885059],[-78.935596,56.266064]]],[[[-89.833252,77.267627],[-91.019043,77.643896],[-90.993213,77.329492],[-89.833252,77.267627]]],[[[-98.791602,79.981104],[-100.053271,80.093359],[-98.945215,79.724072],[-98.791602,79.981104]]],[[[-105.288916,72.919922],[-104.5875,73.578076],[-106.613965,73.695605],[-106.921533,73.479834],[-105.288916,72.919922]]],[[[-102.227344,76.014893],[-102.728027,76.307031],[-104.350635,76.182324],[-103.314746,75.764209],[-102.227344,76.014893]]],[[[-104.022852,76.583105],[-104.35752,76.334619],[-103.311377,76.347559],[-104.022852,76.583105]]],[[[-118.328125,75.579688],[-117.633691,76.115088],[-119.39458,75.617334],[-118.328125,75.579688]]],[[[-113.832471,77.754639],[-114.330371,78.077539],[-114.98042,77.91543],[-113.832471,77.754639]]],[[[-130.236279,53.958545],[-130.447998,54.089014],[-130.703174,53.892236],[-130.236279,53.958545]]],[[[-128.552441,52.939746],[-129.033252,53.279932],[-129.175928,52.964941],[-128.746338,52.763379],[-128.678955,52.289648],[-128.552441,52.939746]]],[[[-73.566504,45.469092],[-73.476074,45.704736],[-73.960547,45.441406],[-73.566504,45.469092]]],[[[-68.233789,60.240918],[-67.818848,60.449512],[-68.087598,60.587842],[-68.233789,60.240918]]],[[[-64.832617,61.366064],[-64.789648,61.662207],[-65.432129,61.649512],[-64.832617,61.366064]]],[[[-79.063086,75.925879],[-79.009326,76.145898],[-79.63877,75.84292],[-79.063086,75.925879]]],[[[-79.384277,51.951953],[-79.271289,52.086816],[-79.64375,52.010059],[-79.384277,51.951953]]],[[[-73.621729,67.783838],[-73.49375,68.000635],[-74.706543,68.06709],[-74.573389,67.828662],[-73.621729,67.783838]]],[[[-77.876709,63.470557],[-78.536768,63.42373],[-77.942432,63.114404],[-77.532715,63.233643],[-77.876709,63.470557]]],[[[-98.270361,73.868506],[-97.698242,74.108691],[-99.416992,73.89541],[-98.270361,73.868506]]],[[[-79.430664,69.787793],[-80.794775,69.689258],[-79.977832,69.509668],[-79.430664,69.787793]]],[[[-76.995361,69.14375],[-76.668848,69.366162],[-77.187549,69.440088],[-76.995361,69.14375]]],[[[-83.725977,65.796729],[-84.407178,66.131006],[-84.118262,65.771777],[-83.332422,65.631055],[-83.725977,65.796729]]],[[[-101.693555,77.696582],[-101.193213,77.829785],[-102.447705,77.880615],[-101.693555,77.696582]]],[[[-96.078564,75.510107],[-96.367822,75.654639],[-96.915137,75.379688],[-96.078564,75.510107]]],[[[-104.119922,75.036328],[-104.346191,75.429932],[-104.887402,75.147754],[-104.119922,75.036328]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CM","iso_a3":"CMR","iso_n3":"120"},"geometry":{"type":"Polygon","coordinates":[[[8.555859,4.755225],[8.574414,4.526221],[8.918262,4.55376],[9.000098,4.091602],[9.688867,4.056396],[9.556152,3.798047],[9.948438,3.079053],[9.800781,2.304443],[11.328711,2.167432],[13.293555,2.161572],[14.578906,2.199121],[16.059375,1.676221],[16.183398,2.270068],[16.063477,2.908594],[15.128711,3.826904],[15.063574,4.284863],[14.73125,4.602393],[14.431152,6.038721],[15.480078,7.523779],[15.549805,7.787891],[15.116211,8.557324],[13.977246,9.691553],[14.243262,9.979736],[15.654883,10.007812],[15.132227,10.648486],[14.84707,12.5021],[14.461719,13.021777],[14.063965,13.078516],[14.197461,12.383789],[14.619727,12.150977],[14.575391,11.532422],[13.699902,10.873145],[12.782227,8.817871],[12.233398,8.282324],[11.861426,7.116406],[11.237305,6.450537],[10.60625,7.063086],[9.779883,6.760156],[8.997168,5.917725],[8.555859,4.755225]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"KH","iso_a3":"KHM","iso_n3":"116"},"geometry":{"type":"Polygon","coordinates":[[[107.519434,14.705078],[106.938086,14.327344],[106.501465,14.578223],[105.978906,14.343018],[106.066797,13.921191],[105.183301,14.34624],[103.199414,14.332617],[102.336328,13.560303],[102.933887,11.706689],[103.152832,10.913721],[103.532422,11.14668],[103.721875,10.890137],[103.587109,10.552197],[104.426367,10.41123],[104.850586,10.534473],[105.045703,10.911377],[105.755078,10.98999],[106.163965,10.794922],[105.851465,11.63501],[106.399219,11.687012],[106.413867,11.948438],[107.506445,12.364551],[107.605469,13.437793],[107.331445,14.126611],[107.519434,14.705078]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"MM","iso_a3":"MMR","iso_n3":"104"},"geometry":{"type":"MultiPolygon","coordinates":[[[[100.122461,20.31665],[100.249316,20.730273],[100.622949,20.85957],[100.703125,21.251367],[101.138867,21.56748],[101.079785,21.755859],[100.147656,21.480518],[99.917676,22.028027],[99.192969,22.125977],[99.507129,22.959131],[98.86377,23.19126],[98.676758,23.905078],[98.835059,24.121191],[97.564551,23.911035],[97.583301,24.774805],[97.819531,25.251855],[98.65625,25.863574],[98.738477,26.785742],[98.651172,27.572461],[98.298828,27.550098],[98.061621,28.185889],[97.599219,28.517041],[97.322461,28.217969],[97.335156,27.937744],[96.876855,27.586719],[97.102051,27.11543],[96.731641,27.331494],[96.19082,27.261279],[95.128711,26.597266],[95.132422,26.04126],[94.579883,25.319824],[94.707617,25.04873],[94.127637,23.876465],[93.32627,24.064209],[93.151172,22.230615],[92.574902,21.978076],[92.631641,21.306201],[92.17959,21.293115],[92.324121,20.791846],[92.722852,20.295605],[92.735645,20.562695],[92.82832,20.177588],[93.066797,20.377637],[93.129492,19.858008],[93.25,20.070117],[93.707031,19.912158],[93.998145,19.440869],[93.824902,19.238477],[93.493066,19.369482],[93.929199,18.899658],[94.044922,19.287402],[94.588965,17.569336],[94.223828,16.016455],[94.70332,16.511914],[94.661523,15.904395],[94.893164,16.182812],[94.942578,15.818262],[95.176953,15.825684],[95.346777,16.097607],[95.389551,15.722754],[96.324316,16.444434],[96.189063,16.768311],[96.431152,16.504932],[96.76543,16.710352],[96.851465,17.401025],[97.375879,16.522949],[97.725977,16.568555],[97.584277,16.01958],[97.812305,14.858936],[98.110645,13.712891],[98.200391,13.980176],[98.575977,13.161914],[98.636328,11.738379],[98.875977,11.719727],[98.464941,10.67583],[98.562598,10.034961],[98.702539,10.190381],[98.757227,10.660937],[99.614746,11.781201],[99.123926,13.030762],[99.136816,13.716699],[98.202148,14.975928],[98.888281,16.351904],[98.660742,16.33042],[97.373926,18.517969],[97.745898,18.588184],[98.015039,19.749512],[98.916699,19.7729],[99.074219,20.099365],[99.485938,20.149854],[99.458887,20.363037],[100.122461,20.31665]]],[[[98.553809,11.744873],[98.376465,11.791504],[98.434766,11.56709],[98.553809,11.744873]]],[[[93.69082,18.684277],[93.744727,18.865527],[93.4875,18.867529],[93.69082,18.684277]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BI","iso_a3":"BDI","iso_n3":"108"},"geometry":{"type":"Polygon","coordinates":[[[30.553613,-2.400098],[29.930176,-2.339551],[29.698047,-2.794727],[29.014355,-2.720215],[29.403223,-4.449316],[29.947266,-4.307324],[30.790234,-3.274609],[30.780273,-2.984863],[30.433496,-2.874512],[30.553613,-2.400098]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BF","iso_a3":"BFA","iso_n3":"854"},"geometry":{"type":"Polygon","coordinates":[[[0.900488,10.993262],[1.426758,11.447119],[1.980371,11.418408],[2.38916,11.89707],[2.072949,12.309375],[2.10459,12.70127],[1.564941,12.6354],[0.987305,13.041895],[0.988477,13.364844],[1.201172,13.35752],[0.429199,13.972119],[0.21748,14.911475],[-0.760449,15.047754],[-1.973047,14.456543],[-2.113232,14.168457],[-2.586719,14.227588],[-2.95083,13.648438],[-3.248633,13.65835],[-3.301758,13.280762],[-4.151025,13.306201],[-4.428711,12.337598],[-5.288135,11.82793],[-5.523535,10.426025],[-4.62583,9.713574],[-3.223535,9.895459],[-2.69585,9.481348],[-2.829932,10.998389],[-0.627148,10.927393],[-0.068604,11.115625],[0.900488,10.993262]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BG","iso_a3":"BGR","iso_n3":"100"},"geometry":{"type":"Polygon","coordinates":[[[28.014453,41.969043],[27.484766,42.468066],[28.585352,43.742236],[27.086914,44.167383],[25.49707,43.670801],[22.919043,43.834473],[23.028516,44.077979],[22.705078,44.237793],[22.369629,43.781299],[22.967969,43.142041],[22.466797,42.84248],[22.344043,42.313965],[23.003613,41.739844],[22.916016,41.336279],[24.487891,41.555225],[25.251172,41.243555],[25.92334,41.311914],[26.320898,41.716553],[27.011719,42.058643],[28.014453,41.969043]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BN","iso_a3":"BRN","iso_n3":"096"},"geometry":{"type":"MultiPolygon","coordinates":[[[[115.140039,4.899756],[115.026758,4.899707],[115.290625,4.352588],[115.140039,4.899756]]],[[[115.026758,4.899707],[114.063867,4.592676],[114.654102,4.037646],[114.74668,4.718066],[115.026758,4.899707]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BR","iso_a3":"BRA","iso_n3":"076"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-66.876025,1.223047],[-67.082275,1.1854],[-67.400439,2.116699],[-67.93623,1.748486],[-68.193799,1.987012],[-68.176562,1.719824],[-69.848584,1.70874],[-69.852148,1.059521],[-69.311816,1.050488],[-69.15332,0.658789],[-70.053906,0.578613],[-70.070508,-0.138867],[-69.633984,-0.509277],[-69.400244,-1.194922],[-69.965918,-4.235938],[-70.799512,-4.17334],[-72.887061,-5.122754],[-73.235547,-6.098438],[-73.137354,-6.46582],[-73.758105,-6.905762],[-73.72041,-7.309277],[-74.002051,-7.556055],[-72.974023,-8.993164],[-73.209424,-9.411426],[-72.379053,-9.510156],[-72.142969,-10.005176],[-71.237939,-9.966016],[-70.541113,-9.4375],[-70.642334,-11.010254],[-69.578613,-10.951758],[-68.622656,-11.10918],[-66.575342,-9.899902],[-65.396143,-9.712402],[-65.389893,-11.246289],[-64.992529,-11.975195],[-64.420508,-12.439746],[-63.06748,-12.669141],[-61.789941,-13.525586],[-61.077002,-13.489746],[-60.506592,-13.789844],[-60.27334,-15.08877],[-60.583203,-15.09834],[-60.242334,-15.47959],[-60.175586,-16.269336],[-58.345605,-16.284375],[-58.395996,-17.234277],[-57.832471,-17.512109],[-57.495654,-18.214648],[-58.131494,-19.744531],[-57.860742,-19.97959],[-58.159766,-20.164648],[-57.830225,-20.997949],[-57.955908,-22.10918],[-56.937256,-22.271289],[-56.447803,-22.076172],[-55.84917,-22.307617],[-55.415918,-23.951367],[-54.625488,-23.8125],[-54.241797,-24.047266],[-54.615869,-25.576074],[-53.891162,-25.668848],[-53.668555,-26.288184],[-53.838184,-27.121094],[-55.725488,-28.204102],[-57.608887,-30.187793],[-56.832715,-30.107227],[-56.044824,-30.777637],[-56.004687,-31.079199],[-55.603027,-30.850781],[-53.761719,-32.056836],[-53.125586,-32.736719],[-53.531348,-33.170898],[-53.370605,-33.742188],[-52.652246,-33.137793],[-51.972461,-31.383789],[-51.283057,-30.751562],[-51.298047,-30.034863],[-51.024951,-30.368652],[-50.563525,-30.253613],[-50.581934,-30.438867],[-51.272168,-31.476953],[-52.063232,-31.830371],[-52.039209,-32.114844],[-50.921387,-31.258398],[-49.745996,-29.363184],[-48.799658,-28.575293],[-48.55415,-27.195996],[-48.748291,-26.268652],[-48.401172,-25.597363],[-48.731738,-25.36875],[-48.202734,-25.416504],[-46.867285,-24.236328],[-45.97207,-23.795508],[-45.464307,-23.802539],[-44.569678,-23.274023],[-44.637256,-23.055469],[-43.22417,-22.991211],[-43.154297,-22.725195],[-42.958301,-22.96709],[-42.042383,-22.94707],[-41.705518,-22.309668],[-41.000293,-21.999023],[-40.954541,-21.237891],[-39.783301,-19.571777],[-39.650781,-18.252344],[-39.154004,-17.703906],[-38.880615,-15.864258],[-39.089355,-13.588184],[-38.851758,-12.790137],[-38.690967,-12.623926],[-38.498926,-12.956641],[-38.239746,-12.844238],[-37.359229,-11.252539],[-37.356006,-11.403906],[-35.340869,-9.230664],[-34.834668,-7.971484],[-34.805469,-7.288379],[-35.481689,-5.166016],[-37.174658,-4.912402],[-38.475781,-3.71748],[-39.964697,-2.861523],[-41.479932,-2.916504],[-43.380078,-2.376074],[-44.192676,-2.80957],[-44.228613,-2.471289],[-44.723047,-3.204785],[-44.381836,-2.365527],[-44.435449,-2.168066],[-44.756348,-2.265527],[-44.537793,-2.052734],[-44.65127,-1.745801],[-45.076367,-1.466406],[-45.32915,-1.717285],[-45.458594,-1.35625],[-47.398096,-0.62666],[-48.115088,-0.7375],[-48.449805,-1.145508],[-48.349805,-1.482129],[-48.71001,-1.487695],[-49.211035,-1.916504],[-49.636523,-2.656934],[-49.313672,-1.731738],[-50.403223,-2.015527],[-50.690039,-1.761719],[-50.894922,-0.937598],[-51.947559,-1.586719],[-52.66416,-1.551758],[-51.980811,-1.367969],[-51.28291,-0.085205],[-49.898877,1.162988],[-49.957129,1.659863],[-50.714404,2.134033],[-51.219922,4.093604],[-51.54707,4.310889],[-51.652539,4.061279],[-52.903467,2.211523],[-53.767773,2.354834],[-54.130078,2.121045],[-54.61626,2.326758],[-54.978662,2.597656],[-55.957471,2.520459],[-56.137695,2.259033],[-55.929639,1.8875],[-56.482812,1.942139],[-57.31748,1.963477],[-58.821777,1.201221],[-59.231201,1.376025],[-59.666602,1.746289],[-59.994336,2.68999],[-59.854395,3.5875],[-59.551123,3.933545],[-59.703271,4.381104],[-60.148633,4.533252],[-59.990674,5.082861],[-60.142041,5.238818],[-60.742139,5.202051],[-60.603857,4.949365],[-61.002832,4.535254],[-62.712109,4.01792],[-62.856982,3.593457],[-63.338672,3.943896],[-64.021484,3.929102],[-64.788672,4.276025],[-64.221094,3.587402],[-64.046582,2.502393],[-63.389258,2.411914],[-63.43252,2.155566],[-64.008496,1.931592],[-64.205029,1.529492],[-65.473389,0.69126],[-65.681445,0.983447],[-66.347119,0.767188],[-66.876025,1.223047]]],[[[-49.628662,-0.229199],[-50.645508,-0.272852],[-50.796094,-0.90625],[-50.507617,-1.787988],[-49.805127,-1.790234],[-48.833594,-1.390039],[-48.392676,-0.297363],[-49.628662,-0.229199]]],[[[-45.260254,-23.88916],[-45.302344,-23.727539],[-45.451416,-23.895605],[-45.260254,-23.88916]]],[[[-49.738232,0.268164],[-50.272656,0.231738],[-50.339453,0.043359],[-49.91709,-0.023193],[-49.738232,0.268164]]],[[[-49.443896,-0.112402],[-49.503467,0.083691],[-49.830078,-0.093896],[-49.443896,-0.112402]]],[[[-50.426123,0.139258],[-50.372754,0.590869],[-50.623926,0.054395],[-50.426123,0.139258]]],[[[-50.15293,0.393018],[-50.058838,0.638037],[-50.281689,0.516504],[-50.15293,0.393018]]],[[[-51.83252,-1.433789],[-51.276318,-1.021777],[-51.254004,-0.541406],[-51.546045,-0.649609],[-51.83252,-1.433789]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BW","iso_a3":"BWA","iso_n3":"072"},"geometry":{"type":"Polygon","coordinates":[[[25.258789,-17.793555],[24.243945,-18.023438],[23.599707,-18.459961],[23.219336,-17.999707],[20.974121,-18.318848],[20.979492,-21.961914],[19.977344,-22.000195],[19.980469,-24.776758],[20.793164,-25.915625],[20.685059,-26.822461],[21.646289,-26.854199],[22.597656,-26.132715],[23.05752,-25.312305],[24.748145,-25.817383],[25.443652,-25.714453],[25.912109,-24.747461],[26.835059,-24.24082],[27.085547,-23.57793],[28.210156,-22.693652],[29.364844,-22.193945],[29.025586,-21.796875],[28.014063,-21.554199],[27.669434,-21.064258],[27.679297,-20.503027],[27.280762,-20.478711],[27.178223,-20.100977],[26.168066,-19.538281],[25.258789,-17.793555]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BA","iso_a3":"BIH","iso_n3":"070"},"geometry":{"type":"Polygon","coordinates":[[[19.194336,43.533301],[19.495117,43.642871],[19.24502,43.965039],[19.583789,44.043457],[19.118457,44.359961],[19.348633,44.880908],[19.007129,44.869189],[16.918652,45.276562],[16.293359,45.008838],[15.788086,45.178955],[15.736621,44.76582],[17.585156,42.938379],[17.667578,42.897119],[18.436328,42.559717],[18.460156,42.9979],[19.194336,43.533301]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BO","iso_a3":"BOL","iso_n3":"068"},"geometry":{"type":"Polygon","coordinates":[[[-69.510938,-17.506055],[-69.093945,-18.050488],[-68.968311,-18.967969],[-68.462891,-19.432813],[-68.760547,-20.416211],[-68.197021,-21.300293],[-67.879443,-22.822949],[-67.194873,-22.82168],[-66.220166,-21.802539],[-65.771045,-22.099609],[-64.605518,-22.228809],[-64.325293,-22.827637],[-63.92168,-22.028613],[-62.843359,-21.997266],[-62.650977,-22.233691],[-62.276318,-20.5625],[-61.756836,-19.645312],[-59.090527,-19.28623],[-58.180176,-19.817871],[-58.159766,-20.164648],[-57.860742,-19.97959],[-58.131494,-19.744531],[-57.495654,-18.214648],[-57.832471,-17.512109],[-58.395996,-17.234277],[-58.345605,-16.284375],[-60.175586,-16.269336],[-60.242334,-15.47959],[-60.583203,-15.09834],[-60.27334,-15.08877],[-60.506592,-13.789844],[-61.077002,-13.489746],[-61.789941,-13.525586],[-63.06748,-12.669141],[-64.420508,-12.439746],[-64.992529,-11.975195],[-65.389893,-11.246289],[-65.396143,-9.712402],[-66.575342,-9.899902],[-68.622656,-11.10918],[-69.578613,-10.951758],[-68.685254,-12.501953],[-68.978613,-12.880078],[-69.074121,-13.682813],[-68.870898,-14.169727],[-69.359473,-14.795312],[-69.172461,-15.236621],[-69.420898,-15.640625],[-69.217578,-16.149121],[-68.842773,-16.337891],[-69.624854,-17.200195],[-69.510938,-17.506055]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BT","iso_a3":"BTN","iso_n3":"064"},"geometry":{"type":"Polygon","coordinates":[[[91.631934,27.759961],[91.273047,28.078369],[90.352734,28.080225],[89.981055,28.311182],[88.891406,27.316064],[88.857617,26.961475],[89.609961,26.719434],[91.99834,26.85498],[92.083398,27.290625],[91.594727,27.557666],[91.631934,27.759961]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BJ","iso_a3":"BEN","iso_n3":"204"},"geometry":{"type":"Polygon","coordinates":[[[1.622656,6.216797],[2.706445,6.369238],[2.774805,9.048535],[3.044922,9.083838],[3.834473,10.607422],[3.487793,11.39541],[3.59541,11.696289],[2.805273,12.383838],[2.366016,12.221924],[2.38916,11.89707],[1.980371,11.418408],[1.426758,11.447119],[0.900488,10.993262],[0.763379,10.38667],[1.330078,9.996973],[1.600195,9.050049],[1.530957,6.992432],[1.77793,6.294629],[1.622656,6.216797]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BZ","iso_a3":"BLZ","iso_n3":"084"},"geometry":{"type":"Polygon","coordinates":[[[-89.161475,17.814844],[-89.2375,15.894434],[-88.894043,15.890625],[-88.313428,16.632764],[-88.085254,18.226123],[-88.295654,18.472412],[-89.161475,17.814844]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BE","iso_a3":"BEL","iso_n3":"056"},"geometry":{"type":"Polygon","coordinates":[[[4.226172,51.386475],[3.902051,51.207666],[3.350098,51.377686],[2.524902,51.097119],[2.759375,50.750635],[4.174609,50.246484],[4.149316,49.971582],[4.818652,50.153174],[4.867578,49.788135],[5.789746,49.538281],[5.744043,49.919629],[6.116504,50.120996],[6.340918,50.451758],[5.993945,50.750439],[5.639453,50.843604],[5.796484,51.153076],[5.030957,51.469092],[4.226172,51.386475]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BY","iso_a3":"BLR","iso_n3":"112"},"geometry":{"type":"Polygon","coordinates":[[[31.763379,52.101074],[31.258789,53.016699],[31.417871,53.196045],[32.141992,53.091162],[32.706445,53.419434],[31.754199,53.810449],[30.798828,54.783252],[30.906836,55.57002],[30.233594,55.845215],[29.482227,55.68457],[29.375,55.938721],[28.147949,56.14292],[27.576758,55.798779],[26.593555,55.667529],[26.457617,55.34248],[26.775684,55.273096],[25.780859,54.833252],[25.749219,54.156982],[25.461133,54.292773],[24.317969,53.892969],[23.484668,53.939795],[23.91543,52.770264],[23.175098,52.286621],[23.652441,52.040381],[23.605273,51.51792],[25.267188,51.937744],[27.141992,51.752051],[27.7,51.477979],[28.73125,51.433398],[29.102051,51.627539],[29.346484,51.382568],[30.160742,51.477881],[30.544531,51.265039],[30.755273,51.895166],[31.763379,52.101074]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BB","iso_a3":"BRB","iso_n3":"052"},"geometry":{"type":"Polygon","coordinates":[[[-59.493311,13.081982],[-59.427637,13.152783],[-59.64668,13.303125],[-59.493311,13.081982]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BD","iso_a3":"BGD","iso_n3":"050"},"geometry":{"type":"MultiPolygon","coordinates":[[[[89.051465,22.093164],[89.353711,21.721094],[89.483203,22.275537],[89.568555,21.767432],[89.985156,22.466406],[89.918066,22.116162],[90.20957,22.156592],[90.230566,21.829785],[90.616113,22.362158],[90.435059,22.751904],[90.590918,23.266406],[90.269141,23.455859],[90.604004,23.591357],[90.945605,22.597021],[91.480078,22.884814],[91.863379,22.350488],[92.324121,20.791846],[92.17959,21.293115],[92.631641,21.306201],[92.574902,21.978076],[92.246094,23.683594],[91.92959,23.685986],[91.619531,22.979688],[91.315234,23.104395],[91.160449,23.660645],[91.36709,24.093506],[91.876953,24.195312],[92.468359,24.944141],[92.049707,25.169482],[89.833301,25.292773],[89.670898,26.213818],[89.369727,26.006104],[89.018652,26.410254],[88.828027,26.252197],[88.418164,26.571533],[88.08457,25.888232],[88.95166,25.259277],[88.45625,25.188428],[88.023438,24.627832],[88.723535,24.274902],[88.567383,23.674414],[88.928125,23.186621],[89.051465,22.093164]]],[[[90.777637,22.089307],[90.868164,22.484863],[90.596484,22.863525],[90.680469,22.32749],[90.515039,22.065137],[90.777637,22.089307]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BH","iso_a3":"BHR","iso_n3":"048"},"geometry":{"type":"Polygon","coordinates":[[[50.607227,25.883105],[50.585938,26.240723],[50.469922,26.228955],[50.607227,25.883105]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"BS","iso_a3":"BHS","iso_n3":"044"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-77.657715,24.249463],[-77.999902,24.219824],[-77.57373,23.73916],[-77.657715,24.249463]]],[[[-77.225635,25.904199],[-77.066357,26.530176],[-77.533887,26.903418],[-77.94375,26.903564],[-77.238623,26.561133],[-77.403174,26.024707],[-77.225635,25.904199]]],[[[-73.026855,21.192383],[-73.523096,21.19082],[-73.681152,20.975586],[-73.164551,20.97915],[-73.026855,21.192383]]],[[[-77.743848,24.707422],[-78.211377,25.19126],[-78.366504,24.544189],[-78.044922,24.287451],[-77.743848,24.707422]]],[[[-78.492871,26.729053],[-78.985645,26.689502],[-78.743652,26.500684],[-77.922461,26.691113],[-78.492871,26.729053]]],[[[-76.648828,25.487402],[-76.1604,25.119336],[-76.169531,24.649414],[-76.126611,25.140527],[-76.648828,25.487402]]],[[[-74.840479,22.894336],[-75.315967,23.668359],[-75.22334,23.165332],[-74.840479,22.894336]]],[[[-75.308398,24.2],[-75.72666,24.689355],[-75.503223,24.139062],[-75.308398,24.2]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AZ","iso_a3":"AZE","iso_n3":"031"},"geometry":{"type":"MultiPolygon","coordinates":[[[[44.817188,39.650439],[45.479688,39.00625],[46.114453,38.877783],[45.784473,39.545605],[44.768262,39.703516],[44.817188,39.650439]]],[[[48.86875,38.435498],[49.551172,40.194141],[50.365918,40.279492],[49.456738,40.799854],[48.572852,41.844482],[47.791016,41.199268],[46.429883,41.890967],[46.182129,41.65708],[46.672559,41.286816],[46.534375,41.088574],[45.280957,41.449561],[45.001367,41.290967],[45.5875,40.846924],[45.454395,40.532373],[45.964648,40.233789],[45.579785,39.977539],[46.481445,39.555176],[46.490625,38.906689],[47.995898,39.683936],[48.322168,39.399072],[47.996484,38.85376],[48.86875,38.435498]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AT","iso_a3":"AUT","iso_n3":"040"},"geometry":{"type":"Polygon","coordinates":[[[9.527539,47.270752],[9.580273,47.057373],[10.452832,46.864941],[10.993262,46.777002],[12.169434,47.082129],[12.388281,46.702637],[13.7,46.520264],[14.549805,46.399707],[16.093066,46.863281],[16.676563,47.536035],[16.421289,47.674463],[17.066602,47.707568],[17.147363,48.005957],[16.953125,48.598828],[15.066797,48.997852],[14.691309,48.599219],[13.814746,48.766943],[12.760352,48.106982],[13.014355,47.478076],[12.209277,47.718262],[11.041992,47.393115],[10.439453,47.551562],[10.183008,47.278809],[9.524023,47.524219],[9.527539,47.270752]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AU","iso_a3":"AUS","iso_n3":"036"},"geometry":{"type":"MultiPolygon","coordinates":[[[[143.178906,-11.954492],[142.872559,-11.821387],[142.779688,-11.115332],[142.456445,-10.707324],[142.168359,-10.946582],[141.961133,-12.054297],[141.688574,-12.351074],[141.929785,-12.739844],[141.613574,-12.943457],[141.625488,-15.056641],[141.291406,-16.463477],[140.830469,-17.414453],[140.03584,-17.702637],[139.248438,-17.328613],[139.009863,-16.899316],[138.24502,-16.718359],[135.45332,-14.923145],[135.954492,-13.934863],[135.927344,-13.304297],[136.461035,-13.225195],[136.897461,-12.243555],[136.443359,-11.951465],[136.081836,-12.422461],[136.008496,-12.191406],[135.704395,-12.209863],[135.922461,-11.825781],[135.029688,-12.19375],[131.961523,-11.180859],[131.822461,-11.302441],[132.072852,-11.474707],[132.674219,-11.649023],[132.712793,-12.123438],[131.438281,-12.276953],[131.291602,-12.067871],[130.867383,-12.557813],[130.622656,-12.431055],[130.168164,-12.957422],[130.259766,-13.302246],[129.838867,-13.572949],[129.378711,-14.39248],[129.84873,-14.828906],[129.637109,-14.850977],[129.634766,-15.139746],[129.267578,-14.871484],[129.21582,-15.160254],[129.058203,-14.884375],[128.575781,-14.774512],[128.069434,-15.329297],[128.180469,-14.711621],[127.457617,-14.031445],[126.903223,-13.744141],[126.569727,-14.160938],[126.053906,-13.977246],[126.020703,-14.494531],[125.661621,-14.529492],[125.627734,-14.256641],[125.178711,-14.714746],[125.355664,-15.119824],[124.839063,-15.160742],[125.062988,-15.442285],[124.692578,-15.273633],[124.439551,-15.493555],[124.381641,-15.758203],[124.648535,-15.870215],[124.404883,-16.298926],[124.771973,-16.402637],[123.607031,-16.224023],[123.49043,-16.490723],[123.874414,-16.918652],[123.831055,-17.120801],[123.593555,-17.030371],[123.563086,-17.520898],[122.970703,-16.436816],[122.260938,-17.135742],[122.34541,-18.111914],[120.997949,-19.604395],[119.104492,-19.995313],[117.40625,-20.721191],[116.706738,-20.653809],[114.709277,-21.823438],[114.141602,-22.483105],[114.022852,-21.881445],[113.417676,-24.435645],[114.214258,-25.851562],[114.215723,-26.289453],[113.72373,-26.129785],[113.451367,-25.599121],[113.836426,-26.500586],[113.581641,-26.558105],[113.356055,-26.080469],[113.184766,-26.182227],[114.028125,-27.347266],[114.165137,-28.080664],[114.856836,-29.142969],[115.07793,-30.560449],[115.698438,-31.694531],[115.683008,-33.192871],[115.358789,-33.639941],[114.993848,-33.515332],[115.008789,-34.255859],[116.517188,-34.987891],[117.581934,-35.097754],[119.450586,-34.368262],[119.854102,-33.974707],[123.506836,-33.916211],[124.24375,-33.015234],[125.917188,-32.296973],[127.319824,-32.264062],[129.187695,-31.659961],[131.143652,-31.495703],[134.23418,-32.548535],[134.173535,-32.979102],[134.791016,-33.32832],[135.45,-34.581055],[135.123047,-34.585742],[135.647559,-34.939648],[135.969727,-34.981836],[135.891016,-34.660938],[136.430664,-34.02998],[137.237305,-33.629492],[137.783203,-32.578125],[137.931836,-33.579102],[137.493848,-34.161133],[137.391016,-34.913281],[137.014258,-34.91582],[136.883594,-35.239746],[137.691699,-35.142969],[138.089258,-34.169824],[138.511133,-35.024414],[138.184375,-35.612695],[139.28252,-35.375391],[139.289453,-35.611328],[138.968945,-35.580762],[139.729004,-36.371387],[139.784277,-37.245801],[140.39043,-37.89668],[141.424219,-38.363477],[142.455859,-38.386328],[143.538965,-38.820898],[144.891309,-37.899805],[145.119922,-38.091309],[144.717773,-38.340332],[144.95957,-38.500781],[145.475781,-38.24375],[145.397266,-38.535352],[146.4,-39.145508],[146.21748,-38.727441],[146.856836,-38.663477],[147.876758,-37.93418],[149.932715,-37.528516],[150.195312,-35.833594],[150.80459,-35.012891],[151.29209,-33.580957],[152.47041,-32.439062],[152.943945,-31.434863],[153.616895,-28.673047],[153.116797,-27.194434],[153.164941,-25.96416],[151.831641,-24.122949],[150.843164,-23.458008],[150.672461,-22.418164],[150.541309,-22.559082],[150.076172,-22.164453],[149.974414,-22.550684],[149.703906,-22.440527],[149.454102,-21.578711],[148.683691,-20.580176],[148.884766,-20.480859],[148.759375,-20.289551],[147.418555,-19.378125],[146.383398,-18.977051],[146.032227,-18.272852],[145.912109,-16.9125],[145.426074,-16.406152],[145.287695,-14.943164],[144.473047,-14.231836],[143.756348,-14.348828],[143.178906,-11.954492]]],[[[139.507812,-16.573047],[139.587891,-16.395215],[139.15957,-16.741699],[139.507812,-16.573047]]],[[[136.714648,-13.803906],[136.424707,-13.864844],[136.335449,-14.211816],[136.894336,-14.293066],[136.89082,-13.786621],[136.714648,-13.803906]]],[[[130.459277,-11.679297],[130.294922,-11.336816],[130.043262,-11.787305],[130.60625,-11.816602],[130.459277,-11.679297]]],[[[130.618848,-11.376074],[130.38457,-11.192188],[130.511914,-11.617871],[130.950977,-11.926465],[131.538574,-11.436914],[131.268262,-11.189844],[130.618848,-11.376074]]],[[[137.596484,-35.738672],[137.334082,-35.59248],[136.540625,-35.890137],[137.448438,-36.074805],[138.123438,-35.852344],[137.596484,-35.738672]]],[[[146.27832,-18.23125],[146.098828,-18.251758],[146.298828,-18.484766],[146.27832,-18.23125]]],[[[136.338672,-11.602344],[136.479297,-11.465918],[136.180273,-11.676758],[136.338672,-11.602344]]],[[[145.042969,-40.786719],[144.718555,-40.672266],[144.766113,-41.390039],[145.516602,-42.354492],[145.198828,-42.230859],[145.487598,-42.92666],[146.208008,-43.316211],[146.043164,-43.547168],[146.873926,-43.6125],[147.297949,-42.790918],[147.94541,-43.181836],[148.213672,-41.97002],[148.342578,-42.215332],[148.215234,-40.854883],[146.31748,-41.163477],[145.042969,-40.786719]]],[[[148.000391,-39.757617],[147.767188,-39.870313],[148.105664,-40.262109],[148.297363,-39.985742],[148.000391,-39.757617]]],[[[148.32627,-40.306934],[148.020117,-40.404199],[148.404004,-40.486523],[148.32627,-40.306934]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"CX","iso_a3":"CXR","iso_n3":"162"},"geometry":{"type":"Polygon","coordinates":[[[105.725391,-10.492969],[105.584082,-10.5125],[105.696875,-10.56416],[105.725391,-10.492969]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"HM","iso_a3":"HMD","iso_n3":"334"},"geometry":{"type":"Polygon","coordinates":[[[73.707422,-53.137109],[73.251172,-52.975781],[73.465137,-53.18418],[73.707422,-53.137109]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"NF","iso_a3":"NFK","iso_n3":"574"},"geometry":{"type":"Polygon","coordinates":[[[167.939453,-29.017676],[167.960742,-29.096289],[167.99043,-29.04209],[167.939453,-29.017676]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AU","iso_a3":"AUS","iso_n3":"036"},"geometry":{"type":"Polygon","coordinates":[[[123.594531,-12.425684],[123.572461,-12.423926],[123.573145,-12.43418],[123.594531,-12.425684]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AM","iso_a3":"ARM","iso_n3":"051"},"geometry":{"type":"Polygon","coordinates":[[[44.768262,39.703516],[45.784473,39.545605],[46.114453,38.877783],[46.490625,38.906689],[46.481445,39.555176],[45.579785,39.977539],[45.964648,40.233789],[45.454395,40.532373],[45.5875,40.846924],[45.001367,41.290967],[43.439453,41.107129],[43.666211,40.126367],[44.768262,39.703516]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AR","iso_a3":"ARG","iso_n3":"032"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-57.608887,-30.187793],[-55.725488,-28.204102],[-53.838184,-27.121094],[-53.668555,-26.288184],[-53.891162,-25.668848],[-54.615869,-25.576074],[-54.825488,-26.652246],[-55.714648,-27.414844],[-56.164062,-27.321484],[-56.437158,-27.553809],[-58.604834,-27.314355],[-57.643896,-25.328418],[-59.89248,-24.093555],[-61.03291,-23.755664],[-62.650977,-22.233691],[-62.843359,-21.997266],[-63.92168,-22.028613],[-64.325293,-22.827637],[-64.605518,-22.228809],[-65.771045,-22.099609],[-66.220166,-21.802539],[-67.194873,-22.82168],[-67.008789,-23.001367],[-67.356201,-24.033789],[-68.562012,-24.747363],[-68.384229,-25.091895],[-68.591602,-26.47041],[-68.318652,-26.973242],[-68.846338,-27.153711],[-69.656934,-28.413574],[-70.026807,-29.324023],[-69.844287,-30.175],[-70.51958,-31.148438],[-70.084863,-33.201758],[-69.819629,-33.283789],[-69.852441,-34.224316],[-70.555176,-35.246875],[-70.404785,-36.061719],[-71.192187,-36.843652],[-70.858643,-38.604492],[-71.401562,-38.935059],[-71.932129,-40.691699],[-71.75,-42.046777],[-72.108203,-42.251855],[-72.146436,-42.990039],[-71.750635,-43.237305],[-71.82002,-44.383105],[-71.159717,-44.560254],[-71.261133,-44.763086],[-72.063721,-44.771875],[-71.349316,-45.331934],[-71.746191,-45.578906],[-71.699658,-46.651367],[-72.51792,-47.876367],[-72.354736,-48.36582],[-73.554199,-49.463867],[-73.50127,-50.125293],[-73.15293,-50.738281],[-72.340234,-50.681836],[-72.407666,-51.54082],[-71.918652,-51.989551],[-69.960254,-52.008203],[-68.443359,-52.356641],[-68.965332,-51.677148],[-69.46543,-51.584473],[-69.035303,-51.488965],[-69.358594,-51.028125],[-69.044775,-50.499121],[-68.421875,-50.15791],[-68.97959,-50.003027],[-68.667578,-49.752539],[-68.257227,-50.10459],[-67.825977,-49.919629],[-67.466309,-48.951758],[-65.810059,-47.941113],[-66.225244,-47.826758],[-65.738086,-47.344922],[-65.998535,-47.09375],[-66.776855,-47.005859],[-67.599561,-46.052539],[-66.941406,-45.257324],[-65.63877,-45.007812],[-65.252344,-43.571875],[-64.319141,-42.968945],[-64.970703,-42.666309],[-64.487842,-42.513477],[-64.034766,-42.88125],[-63.617334,-42.695801],[-63.795557,-42.113867],[-64.42041,-42.433789],[-64.986377,-42.102051],[-65.133398,-40.880664],[-64.869482,-40.73584],[-63.621777,-41.159766],[-62.39502,-40.89082],[-62.053662,-39.373828],[-62.334766,-38.800098],[-61.602539,-38.998828],[-59.82832,-38.838184],[-57.546973,-38.085645],[-56.672021,-36.85127],[-56.698096,-36.426465],[-57.335449,-36.026758],[-57.303662,-35.188477],[-58.28335,-34.683496],[-58.525488,-34.296191],[-58.39248,-34.192969],[-58.547217,-33.663477],[-58.424463,-33.111523],[-58.170996,-32.959277],[-58.201172,-32.47168],[-57.608887,-30.187793]]],[[[-68.653223,-54.853613],[-66.511133,-55.032129],[-65.179004,-54.678125],[-67.294238,-54.049805],[-68.488525,-53.260938],[-68.240137,-53.081836],[-68.629932,-52.652637],[-68.653223,-54.853613]]],[[[-64.54917,-54.716211],[-64.637354,-54.902539],[-63.81543,-54.725098],[-64.54917,-54.716211]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AG","iso_a3":"ATG","iso_n3":"028"},"geometry":{"type":"Polygon","coordinates":[[[-61.716064,17.037012],[-61.817285,17.168945],[-61.887109,17.098145],[-61.716064,17.037012]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AO","iso_a3":"AGO","iso_n3":"024"},"geometry":{"type":"MultiPolygon","coordinates":[[[[13.072754,-4.634766],[12.798242,-4.430566],[12.018359,-5.004297],[12.213672,-5.758691],[12.503711,-5.695801],[12.451465,-5.071484],[13.072754,-4.634766]]],[[[23.966504,-10.871777],[22.226172,-11.121973],[22.274512,-10.259082],[21.813184,-9.46875],[21.781641,-7.314648],[20.607813,-7.277734],[20.590039,-6.919922],[19.875195,-6.986328],[19.527637,-7.144434],[19.34082,-7.966602],[17.57959,-8.099023],[16.431445,-5.900195],[13.068164,-5.864844],[12.283301,-6.124316],[13.378516,-8.369727],[12.998535,-9.048047],[13.833594,-10.929688],[13.785352,-11.812793],[12.550488,-13.437793],[11.750879,-15.831934],[11.743066,-17.249219],[13.101172,-16.967676],[14.01748,-17.408887],[18.396387,-17.399414],[18.955273,-17.803516],[20.745508,-18.019727],[23.380664,-17.640625],[22.040234,-16.262793],[21.978906,-13.000977],[23.962988,-12.988477],[23.966504,-10.871777]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AD","iso_a3":"AND","iso_n3":"020"},"geometry":{"type":"Polygon","coordinates":[[[1.706055,42.50332],[1.42832,42.595898],[1.448828,42.437451],[1.706055,42.50332]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"DZ","iso_a3":"DZA","iso_n3":"012"},"geometry":{"type":"Polygon","coordinates":[[[8.576563,36.937207],[6.486523,37.085742],[5.29541,36.648242],[4.758105,36.896338],[3.779004,36.896191],[1.257227,36.51958],[-0.048242,35.832812],[-2.219629,35.104199],[-1.795605,34.751904],[-1.679199,33.318652],[-1.065527,32.468311],[-1.225928,32.107227],[-2.887207,32.068848],[-3.017383,31.834277],[-3.826758,31.661914],[-3.666797,30.964014],[-4.968262,30.465381],[-5.448779,29.956934],[-7.685156,29.349512],[-8.678418,28.689404],[-8.68335,27.656445],[-8.68335,27.285938],[-4.822607,24.995605],[1.145508,21.102246],[1.685449,20.378369],[3.130273,19.850195],[3.119727,19.103174],[4.227637,19.142773],[5.836621,19.47915],[7.481738,20.873096],[11.967871,23.517871],[11.507617,24.314355],[10.255859,24.591016],[9.448242,26.067139],[9.883203,26.630811],[9.916016,27.785693],[9.805273,29.176953],[9.310254,30.115234],[9.51875,30.229395],[9.044043,32.072363],[8.333398,32.543604],[7.500195,33.832471],[8.245605,34.734082],[8.207617,36.518945],[8.576563,36.937207]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AL","iso_a3":"ALB","iso_n3":"008"},"geometry":{"type":"Polygon","coordinates":[[[19.342383,41.869092],[19.575684,41.64043],[19.322266,40.40708],[20.00127,39.709424],[20.657422,40.117383],[20.964258,40.849902],[20.488965,41.272607],[20.566211,41.873682],[20.063965,42.547266],[19.654492,42.628564],[19.342383,41.869092]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AF","iso_a3":"AFG","iso_n3":"004"},"geometry":{"type":"Polygon","coordinates":[[[66.522266,37.348486],[65.765039,37.569141],[65.55498,37.251172],[64.816309,37.13208],[64.511035,36.340674],[63.12998,35.846191],[63.056641,35.445801],[62.688086,35.255322],[62.307813,35.170801],[61.262012,35.61958],[60.72627,34.518262],[60.889453,34.319434],[60.485742,34.094775],[60.51084,33.638916],[60.916992,33.505225],[60.561914,33.058789],[60.820703,31.495166],[61.660156,31.382422],[61.81084,30.913281],[60.843359,29.858691],[62.476562,29.40835],[64.09873,29.391943],[66.23125,29.865723],[66.346875,30.802783],[66.829297,31.263672],[67.452832,31.234619],[68.161035,31.802979],[68.868945,31.634229],[69.279297,31.936816],[69.501562,33.020068],[70.261133,33.289014],[69.889648,34.007275],[71.051563,34.049707],[70.965625,34.530371],[71.620508,35.183008],[71.23291,36.121777],[72.249805,36.734717],[74.541406,37.022168],[74.372168,37.157715],[74.891309,37.231641],[74.349023,37.41875],[73.653516,37.239355],[73.720605,37.41875],[73.38291,37.462256],[71.665625,36.696924],[71.43291,37.127539],[71.582227,37.910107],[71.278516,37.918408],[71.255859,38.306982],[70.878906,38.456396],[70.214648,37.924414],[70.188672,37.582471],[69.49209,37.553076],[69.303906,37.116943],[68.911816,37.333936],[68.067773,36.949805],[67.758984,37.172217],[66.522266,37.348486]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"-99","iso_a3":"-99","iso_n3":"-99"},"geometry":{"type":"Polygon","coordinates":[[[77.048633,35.109912],[77.799414,35.495898],[76.766895,35.661719],[77.048633,35.109912]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"AQ","iso_a3":"ATA","iso_n3":"010"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-57.020654,-63.372852],[-57.389648,-63.22627],[-58.87207,-63.551855],[-60.86416,-64.073438],[-61.631787,-64.604688],[-62.503467,-64.656445],[-63.059082,-65.139355],[-63.760254,-65.033496],[-63.818115,-65.531543],[-64.646582,-65.747852],[-64.613525,-66.019043],[-65.617285,-66.135254],[-65.766406,-66.624902],[-66.503613,-66.689844],[-66.498682,-67.289062],[-67.034473,-66.945117],[-67.493359,-67.112793],[-67.544531,-67.534668],[-66.677246,-67.560254],[-67.390527,-68.86123],[-66.974902,-69.161035],[-67.371777,-69.412305],[-68.707959,-69.432227],[-66.827734,-72.09043],[-68.000342,-72.935547],[-72.929199,-73.447949],[-73.996045,-73.699805],[-75.293066,-73.63877],[-77.048926,-73.844141],[-76.850488,-73.460449],[-78.78623,-73.506738],[-80.442236,-72.944531],[-80.336377,-73.41416],[-81.176416,-73.248828],[-81.30874,-73.738281],[-82.183496,-73.856836],[-85.801416,-73.19209],[-86.791016,-73.363672],[-88.419385,-73.229004],[-88.194092,-72.7875],[-88.77998,-72.683008],[-90.920947,-73.319141],[-92.828369,-73.164648],[-96.394238,-73.301172],[-98.208594,-73.022266],[-102.409277,-72.987402],[-102.855859,-72.716211],[-103.375,-72.818848],[-102.908789,-73.285156],[-98.896143,-73.611133],[-102.862744,-73.783594],[-101.251709,-74.485742],[-100.118604,-74.515039],[-100.47334,-74.872363],[-98.752344,-75.31709],[-101.039355,-75.421875],[-101.708105,-75.127344],[-103.121045,-75.095215],[-106.618848,-75.343945],[-111.358789,-75.219922],[-110.229785,-74.536328],[-111.180176,-74.188086],[-111.69624,-74.792188],[-114.110449,-74.981836],[-113.508496,-74.088867],[-114.62373,-73.90293],[-115.222607,-74.487402],[-118.655762,-74.392773],[-121.543945,-74.75],[-135.362061,-74.69043],[-136.649854,-75.161719],[-139.691162,-75.212793],[-141.22334,-75.545898],[-140.874316,-75.745898],[-142.329834,-75.490918],[-145.987744,-75.88877],[-145.44209,-76.40918],[-148.458984,-76.117969],[-149.654248,-76.365332],[-147.34043,-76.438379],[-145.750488,-76.749023],[-145.677148,-77.488086],[-148.572412,-77.105078],[-148.155713,-77.462305],[-149.717725,-77.797461],[-154.814941,-77.126953],[-158.213574,-77.157129],[-158.285889,-77.950781],[-157.266797,-78.199805],[-154.293018,-78.259082],[-156.114551,-78.744629],[-152.137695,-79.115918],[-148.176514,-79.775879],[-150.575391,-80.353711],[-148.023438,-80.835742],[-156.528223,-81.162305],[-157.03252,-81.319141],[-153.956641,-81.700195],[-153.009863,-82.449609],[-159.444385,-83.543164],[-174.235938,-82.793457],[-167.801221,-83.79082],[-164.950879,-83.805859],[-165.135352,-84.409863],[-156.986328,-84.811133],[-156.459131,-85.186035],[-171.703662,-84.542383],[-180,-84.351562],[-180,-85.05752],[-180,-85.763379],[-180,-86.469336],[-180,-87.175195],[-180,-87.881055],[-180,-88.587012],[-180,-89.292969],[-180,-89.58291],[-180,-89.998926],[-1.40625,-89.998926],[180,-89.998926],[180,-84.351562],[171.035742,-83.448438],[168.110059,-83.362012],[168.607324,-83.065332],[164.980078,-82.384961],[161.283203,-82.489941],[163.602344,-82.120605],[160.469824,-81.340625],[160.637305,-80.449902],[158.573633,-80.423438],[160.558789,-80.010547],[159.975879,-79.585645],[160.873535,-79.049707],[161.951465,-79.02998],[161.669238,-78.536133],[162.639453,-78.897754],[164.634766,-78.603223],[167.130273,-78.606152],[165.662988,-78.305664],[165.417578,-78.042188],[163.977637,-78.223828],[164.420898,-77.883496],[162.450293,-76.955664],[162.815723,-75.846191],[160.910742,-75.334668],[162.410059,-75.237598],[163.397852,-74.382129],[165.408594,-74.558594],[164.812988,-73.396777],[165.733691,-73.866699],[165.860156,-73.592676],[167.709082,-73.394238],[166.452832,-72.936035],[167.155664,-73.147266],[169.54502,-73.050391],[169.828613,-72.728809],[168.428418,-72.383398],[170.206445,-72.565332],[170.030078,-72.115527],[170.859082,-71.868555],[170.435742,-71.41875],[170.162305,-71.630469],[166.626953,-70.664258],[163.566504,-70.642285],[162.674805,-70.30459],[162.021973,-70.439844],[162.189453,-71.039551],[159.783984,-69.521875],[155.520313,-69.024414],[153.908008,-68.323145],[153.081836,-68.856836],[151.28877,-68.81709],[150.935938,-68.358496],[147.093652,-68.368652],[145.975195,-67.624219],[143.977344,-67.864551],[144.621191,-67.141406],[143.730371,-66.876758],[142.6875,-67.012793],[135.351953,-66.127148],[134.289453,-66.476758],[133.148242,-66.094824],[130.120508,-66.291504],[129.236914,-67.041602],[128.430566,-67.119141],[125.865625,-66.364453],[119.133008,-67.370703],[120.374805,-66.983789],[116.713477,-67.047168],[114.026563,-67.441211],[113.991211,-67.211914],[115.635352,-66.771191],[113.099414,-65.799902],[110.906738,-66.07666],[110.622266,-66.524023],[109.462793,-66.908691],[102.674219,-65.865137],[101.381348,-65.973047],[100.889063,-66.358008],[99.370117,-66.648242],[98.257617,-66.46748],[94.839844,-66.501367],[93.964258,-66.689648],[92.073438,-66.50791],[84.485156,-67.114453],[83.304297,-67.603027],[79.035156,-68.175391],[77.81748,-69.068945],[75.423828,-69.893066],[73.324805,-69.848926],[71.771387,-70.80127],[71.276758,-71.623926],[68.419824,-72.515039],[67.32207,-73.300293],[66.497656,-73.125488],[69.250195,-70.431055],[67.267969,-70.273145],[68.178125,-69.837305],[69.082617,-69.866602],[68.90625,-69.372754],[69.629492,-69.231641],[69.982227,-68.464258],[69.55918,-67.763184],[68.32793,-67.889551],[63.699023,-67.508301],[59.250781,-67.484961],[57.627441,-67.014063],[56.154883,-67.264551],[56.145898,-66.626074],[57.185449,-66.613281],[55.504492,-66.002637],[53.671777,-65.858691],[51.88457,-66.02002],[50.332422,-66.444629],[50.553027,-67.194336],[49.24707,-66.941602],[48.465234,-67.043457],[49.219336,-67.226855],[48.374512,-67.988086],[48.209961,-67.699316],[47.489844,-67.72793],[47.351562,-67.361914],[46.559668,-67.268164],[46.399023,-67.617578],[42.960938,-68.095312],[40.215625,-68.804883],[38.885547,-70.171875],[37.787109,-69.725684],[35.357031,-69.681348],[34.595898,-69.094531],[33.813672,-69.099316],[34.192871,-68.702441],[33.465625,-68.670703],[32.641602,-68.868945],[32.621289,-70.000586],[30.00332,-70.3],[26.498828,-71.019531],[24.756738,-70.89209],[24.024121,-70.413379],[23.149902,-70.796289],[22.44541,-70.739746],[21.70498,-70.258496],[21.070801,-70.843457],[19.651855,-70.920605],[19.009375,-70.212109],[18.124609,-70.540332],[16.381055,-70.145117],[13.822656,-70.343164],[13.065625,-70.053613],[11.70127,-70.766602],[9.141602,-70.183691],[8.523047,-70.473828],[7.676758,-70.356348],[2.609473,-70.900098],[-0.543164,-71.712695],[-1.067773,-71.265625],[-6.11748,-71.325977],[-5.936328,-70.712695],[-7.752734,-70.842773],[-7.713721,-71.546484],[-8.497705,-71.674805],[-10.270605,-70.935742],[-10.825439,-71.55332],[-12.351318,-71.389746],[-11.009229,-71.75791],[-11.496973,-72.412891],[-13.208594,-72.785059],[-14.297754,-72.733008],[-14.164697,-73.102441],[-15.595996,-73.096777],[-16.435205,-73.425684],[-16.220117,-73.915723],[-14.573828,-73.9375],[-15.67251,-74.407324],[-17.43584,-74.379102],[-18.749219,-75.24209],[-18.30459,-75.431348],[-26.059326,-75.957227],[-34.075781,-77.425391],[-36.23916,-78.774219],[-32.994238,-79.228809],[-30.645264,-79.124121],[-29.949316,-79.599023],[-23.406836,-79.858984],[-31.01543,-80.308105],[-35.327002,-80.650684],[-37.209277,-81.063867],[-38.771729,-80.882324],[-41.125879,-81.214844],[-45.04375,-82.437988],[-46.516748,-82.45459],[-46.258057,-81.946973],[-48.360791,-81.892285],[-53.986084,-82.200586],[-59.516016,-83.458398],[-61.425293,-83.395605],[-62.735645,-82.527344],[-60.527734,-82.199902],[-64.91958,-82.370508],[-66.133838,-81.953418],[-62.490234,-81.556738],[-65.573682,-81.460547],[-70.687891,-80.62627],[-73.029492,-80.917285],[-75.075586,-80.860059],[-76.407324,-80.094922],[-79.6604,-79.996875],[-76.557861,-79.903516],[-76.217676,-79.387207],[-80.151172,-79.268066],[-80.891992,-79.501855],[-83.696631,-78.537305],[-83.779004,-77.983594],[-80.292285,-78.822754],[-77.54502,-78.65957],[-77.858105,-78.350977],[-81.580957,-77.846094],[-80.601562,-77.751953],[-74.812061,-78.177832],[-73.251562,-77.894238],[-72.851953,-77.590234],[-75.748145,-77.398438],[-77.190039,-76.629785],[-70.550781,-76.718066],[-63.363379,-75.451465],[-64.279541,-75.292871],[-63.231055,-75.153809],[-63.924707,-75.004492],[-63.178125,-74.68418],[-62.137793,-74.926367],[-62.235303,-74.441309],[-60.704297,-74.307129],[-61.842773,-74.289648],[-60.790283,-73.711816],[-62.008301,-73.147656],[-60.122217,-73.275293],[-60.009766,-72.937891],[-61.286133,-72.600781],[-60.719434,-72.072656],[-62.256641,-72.017578],[-60.949023,-71.747266],[-61.213574,-71.564062],[-61.958789,-71.657812],[-60.962256,-71.244629],[-62.04043,-70.801367],[-61.504687,-70.490527],[-62.377783,-70.364844],[-61.961084,-70.120117],[-63.747021,-68.70459],[-62.933301,-68.442578],[-63.924463,-68.497656],[-64.078467,-68.771191],[-65.15835,-68.617969],[-65.452002,-68.336719],[-64.829492,-68.127441],[-65.639502,-68.130566],[-65.503125,-67.377246],[-64.819287,-67.307324],[-64.686279,-66.80625],[-63.754736,-66.872949],[-63.752539,-66.277734],[-62.628906,-66.706152],[-62.682031,-66.237305],[-61.756006,-66.429199],[-61.431934,-66.144727],[-61.028418,-66.336523],[-60.618311,-65.933105],[-61.839062,-66.119531],[-62.293262,-65.916406],[-61.703125,-64.987207],[-61.059863,-64.98125],[-59.963086,-64.431348],[-59.645996,-64.583691],[-59.546777,-64.358789],[-58.786084,-64.524219],[-59.005322,-64.194922],[-57.460645,-63.513574],[-56.834766,-63.63125],[-57.020654,-63.372852]]],[[[-45.222656,-78.810742],[-43.947217,-78.597559],[-44.093994,-78.167285],[-45.993164,-77.826855],[-47.69209,-77.840137],[-50.14165,-78.556738],[-50.339258,-79.479492],[-52.297168,-80.141211],[-53.393896,-80.108789],[-54.1625,-80.870117],[-43.52793,-80.191406],[-43.544336,-78.901953],[-45.222656,-78.810742]]],[[[-59.733936,-80.344141],[-60.578809,-79.741016],[-61.633301,-80.344141],[-66.771143,-80.293848],[-60.582812,-80.948145],[-59.733936,-80.344141]]],[[[-70.051123,-69.189062],[-70.416992,-68.788965],[-72.137891,-69.114551],[-71.728516,-70.053711],[-69.618359,-70.398047],[-71.190039,-70.65957],[-69.875781,-70.875977],[-69.869775,-71.125684],[-70.380664,-70.946387],[-72.710449,-71.072949],[-72.21167,-71.335059],[-75.335449,-71.645215],[-73.995605,-72.169824],[-73.775977,-71.848926],[-72.927637,-71.92168],[-72.336621,-71.632227],[-70.820996,-71.906543],[-71.892188,-72.152832],[-70.206006,-72.227734],[-72.7375,-72.280566],[-72.36748,-72.669727],[-69.209326,-72.53418],[-68.241016,-71.822168],[-68.459473,-70.68291],[-70.051123,-69.189062]]],[[[-98.091113,-71.9125],[-98.61543,-71.76377],[-99.833203,-72.046094],[-100.218652,-71.83291],[-102.313623,-72.081055],[-98.407812,-72.547656],[-95.575391,-72.409961],[-95.6854,-72.056641],[-96.978906,-72.221875],[-96.38335,-71.836328],[-97.345215,-72.189062],[-97.584766,-71.882617],[-98.167969,-72.123047],[-98.091113,-71.9125]]],[[[-120.55625,-73.756055],[-123.112158,-73.682227],[-122.859082,-74.342676],[-121.002441,-74.326367],[-120.55625,-73.756055]]],[[[-126.329883,-73.28623],[-127.267627,-73.304004],[-127.211621,-73.724414],[-123.937402,-74.256152],[-124.128516,-73.833984],[-125.798584,-73.801953],[-125.263965,-73.666406],[-126.329883,-73.28623]]],[[[-159.05293,-79.807422],[-159.963525,-79.324316],[-163.256104,-78.72207],[-164.225781,-79.320801],[-159.05293,-79.807422]]],[[[167.084082,-77.32168],[166.506348,-77.189355],[166.729004,-77.850977],[169.352734,-77.524707],[167.084082,-77.32168]]],[[[-31.118848,-79.798438],[-31.68042,-79.634277],[-31.594238,-79.887695],[-29.614453,-79.90957],[-30.779932,-79.647363],[-31.118848,-79.798438]]],[[[-33.93418,-79.32041],[-35.534668,-79.090039],[-36.565967,-79.208789],[-33.93418,-79.32041]]],[[[-70.334082,-79.679883],[-67.038135,-78.315723],[-71.454004,-79.128906],[-71.68667,-79.568066],[-70.334082,-79.679883]]],[[[-57.845996,-64.053906],[-57.925684,-63.806055],[-58.424951,-64.067773],[-58.214062,-64.369727],[-57.294678,-64.366992],[-57.479736,-63.961621],[-57.845996,-64.053906]]],[[[-55.528027,-63.173535],[-56.462842,-63.418066],[-55.075195,-63.324316],[-55.528027,-63.173535]]],[[[-57.978418,-61.911914],[-59.003711,-62.209766],[-57.639551,-62.02041],[-57.978418,-61.911914]]],[[[-63.180566,-64.469531],[-63.485596,-64.260547],[-64.27207,-64.697559],[-63.739502,-64.834277],[-62.836523,-64.571875],[-63.180566,-64.469531]]],[[[-62.325781,-64.424414],[-62.058496,-64.138086],[-62.451416,-64.012402],[-62.781787,-64.479004],[-62.325781,-64.424414]]],[[[-67.988477,-67.474414],[-67.830518,-66.624316],[-69.120361,-67.57793],[-68.58042,-67.732813],[-67.988477,-67.474414]]],[[[-73.706641,-70.635156],[-74.400977,-70.575879],[-74.589697,-70.791992],[-74.953613,-70.590234],[-76.421484,-71.09043],[-74.205029,-70.924121],[-73.706641,-70.635156]]],[[[-74.987109,-69.727832],[-75.80415,-70.038184],[-74.848828,-70.179297],[-74.437988,-69.949609],[-74.987109,-69.727832]]],[[[-74.354443,-73.098438],[-75.376855,-72.82041],[-76.096387,-73.150488],[-74.574658,-73.611328],[-74.354443,-73.098438]]],[[[-91.160693,-73.182227],[-90.76333,-72.681055],[-91.303516,-72.547363],[-91.160693,-73.182227]]],[[[167.642773,-78.141406],[166.111133,-78.089648],[166.121875,-78.274609],[167.642773,-78.141406]]],[[[100.981445,-65.677539],[101.220605,-65.472266],[100.545117,-65.408984],[100.292578,-65.65127],[100.981445,-65.677539]]],[[[26.857227,-70.381152],[26.301074,-70.072461],[26.005371,-70.372949],[26.857227,-70.381152]]],[[[-66.173633,-80.077832],[-65.579248,-79.770801],[-67.687939,-79.528418],[-66.173633,-80.077832]]],[[[-67.261914,-79.452637],[-68.032568,-79.227148],[-68.548926,-79.437402],[-67.261914,-79.452637]]],[[[-55.16543,-61.22041],[-54.670996,-61.116992],[-55.387012,-61.072656],[-55.16543,-61.22041]]],[[[-61.997607,-69.721875],[-61.815967,-69.376172],[-62.442139,-69.145996],[-61.997607,-69.721875]]],[[[-60.625,-62.560059],[-61.149805,-62.63418],[-59.849561,-62.614941],[-60.625,-62.560059]]],[[[96.612695,-66.03584],[96.307031,-66.18584],[96.933984,-66.200781],[96.612695,-66.03584]]],[[[16.222656,-70.007617],[16.573438,-69.723242],[15.596875,-69.828027],[16.222656,-70.007617]]],[[[3.036914,-70.597363],[3.072168,-70.381641],[2.584668,-70.53457],[3.036914,-70.597363]]],[[[-2.532812,-70.767773],[-3.574658,-70.703125],[-2.783496,-71.16748],[-2.092285,-70.820898],[-2.532812,-70.767773]]],[[[-20.607422,-73.886621],[-20.580225,-73.619238],[-22.035352,-74.106543],[-20.489014,-74.492676],[-20.607422,-73.886621]]],[[[-67.348926,-67.766211],[-67.246729,-67.59873],[-67.743262,-67.66123],[-67.348926,-67.766211]]],[[[-116.738623,-74.165039],[-116.381299,-73.865527],[-117.376465,-74.082813],[-116.738623,-74.165039]]],[[[-131.066699,-74.583789],[-130.981104,-74.414062],[-132.162646,-74.425781],[-131.066699,-74.583789]]],[[[-149.230664,-77.120508],[-149.870605,-76.875],[-150.788525,-76.981641],[-149.230664,-77.120508]]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"SX","iso_a3":"SXM","iso_n3":"534"},"geometry":{"type":"Polygon","coordinates":[[[-63.123047,18.068945],[-63.023047,18.019189],[-63.011182,18.068945],[-63.123047,18.068945]]]}},{"type":"Feature","properties":{"name":"","full_name":"","iso_a2":"TV","iso_a3":"TUV","iso_n3":"798"},"geometry":{"type":"Polygon","coordinates":[[[179.213672,-8.524219],[179.203027,-8.466309],[179.195703,-8.534766],[179.213672,-8.524219]]]}}]'),WQ={type:QO,features:ek},pee=Object.freeze(Object.defineProperty({__proto__:null,default:WQ,features:ek,type:QO},Symbol.toStringTag,{value:"Module"}));var t4={exports:{}},HQ=t4.exports,hM;function ZQ(){return hM||(hM=1,(function(e,t){var n={};(function(i,c){e.exports=c()})(HQ,(function(){var i,c,d;function y(a,w){if(!i)i=w;else if(!c)c=w;else{var M="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+i+")(sharedChunk); ("+c+")(sharedChunk); self.onerror = null;",C={};i(C),d=w(C),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(d.workerUrl=window.URL.createObjectURL(new Blob([M],{type:"text/javascript"})))}}y(["exports"],(function(a){var w=typeof self<"u"?self:{},M="2.15.0";let C;const L={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(C==null){const o=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{C=n.API_URL_REGEX!=null?new RegExp(n.API_URL_REGEX):o}catch{C=o}}return C},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!L.API_URL)return null;try{const o=new URL(L.API_URL);return o.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":o.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:function(o){!U&&q&&(Q?re(o):W=o)}};let W,q,U=!1,Q=!1;function re(o){const r=o.createTexture();o.bindTexture(o.TEXTURE_2D,r);try{if(o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,q),o.isContextLost())return;j.supported=!0}catch{}o.deleteTexture(r),U=!0}w.document&&(q=w.document.createElement("img"),q.onload=function(){W&&re(W),W=null,Q=!0},q.onerror=function(){U=!0,W=null},q.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const ee="01";function oe(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var K=ne;function ne(o,r,s,u){this.cx=3*o,this.bx=3*(s-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(u-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=r,this.p2x=s,this.p2y=u}ne.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,r){if(r===void 0&&(r=1e-6),o<0)return 0;if(o>1)return 1;for(var s=o,u=0;u<8;u++){var p=this.sampleCurveX(s)-o;if(Math.abs(p)<r)return s;var _=this.sampleCurveDerivativeX(s);if(Math.abs(_)<1e-6)break;s-=p/_}var b=0,E=1;for(s=o,u=0;u<20&&(p=this.sampleCurveX(s),!(Math.abs(p-o)<r));u++)o>p?b=s:E=s,s=.5*(E-b)+b;return s},solve:function(o,r){return this.sampleCurveY(this.solveCurveX(o,r))}};var te=oe(K),be=Ce;function Ce(o,r){this.x=o,this.y=r}Ce.prototype={clone:function(){return new Ce(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,r){return this.clone()._rotateAround(o,r)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var r=o.x-this.x,s=o.y-this.y;return r*r+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,r){return Math.atan2(this.x*r-this.y*o,this.x*o+this.y*r)},_matMult:function(o){var r=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=r,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var r=Math.cos(o),s=Math.sin(o),u=s*this.x+r*this.y;return this.x=r*this.x-s*this.y,this.y=u,this},_rotateAround:function(o,r){var s=Math.cos(o),u=Math.sin(o),p=r.y+u*(this.x-r.x)+s*(this.y-r.y);return this.x=r.x+s*(this.x-r.x)-u*(this.y-r.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ce.convert=function(o){return o instanceof Ce?o:Array.isArray(o)?new Ce(o[0],o[1]):o};var Ee=oe(be);const je=Math.PI/180,Ye=180/Math.PI;function Ge(o){return o*je}function Te(o){return o*Ye}const Se=[[0,0],[1,0],[1,1],[0,1]];function ze(o){if(o<=0)return 0;if(o>=1)return 1;const r=o*o,s=r*o;return 4*(o<.5?s:3*(o-r)+s-.75)}function Ue(o,r,s,u){const p=new te(o,r,s,u);return function(_){return p.solve(_)}}const ke=Ue(.25,.1,.25,1);function $e(o,r,s){return Math.min(s,Math.max(r,o))}function ft(o,r,s){return(s=$e((s-o)/(r-o),0,1))*s*(3-2*s)}function Pe(o,r,s){const u=s-r,p=((o-r)%u+u)%u+r;return p===r?s:p}function We(o,r,s){if(!o.length)return s(null,[]);let u=o.length;const p=new Array(o.length);let _=null;o.forEach(((b,E)=>{r(b,((A,I)=>{A&&(_=A),p[E]=I,--u==0&&s(_,p)}))}))}function At(o){const r=[];for(const s in o)r.push(o[s]);return r}function zt(o,...r){for(const s of r)for(const u in s)o[u]=s[u];return o}let nr=1;function fr(){return nr++}function wr(){return(function o(r){return r?(r^Math.random()*(16>>r/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,o)})()}function yr(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))}function Nt(o){return!!o&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(o)}function cr(o,r){o.forEach((s=>{r[s]&&(r[s]=r[s].bind(r))}))}function Cr(o,r){return o.indexOf(r,o.length-r.length)!==-1}function dt(o,r,s){const u={};for(const p in o)u[p]=r.call(this,o[p],p,o);return u}function Zr(o,r,s){const u={};for(const p in o)r.call(s||this,o[p],p,o)&&(u[p]=o[p]);return u}function Mr(o){return Array.isArray(o)?o.map(Mr):typeof o=="object"&&o?dt(o,Mr):o}const wn={};function Sr(o){wn[o]||(typeof console<"u"&&console.warn(o),wn[o]=!0)}function yn(o,r,s){return(s.y-o.y)*(r.x-o.x)>(r.y-o.y)*(s.x-o.x)}function Gi(o){let r=0;for(let s,u,p=0,_=o.length,b=_-1;p<_;b=p++)s=o[p],u=o[b],r+=(u.x-s.x)*(s.y+u.y);return r}function li(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Wn(o){const r={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((s,u,p,_)=>{const b=p||_;return r[u]=!b||b.toLowerCase(),""})),r["max-age"]){const s=parseInt(r["max-age"],10);isNaN(s)?delete r["max-age"]:r["max-age"]=s}return r}let mi=null;function Ii(o){if(mi==null){const r=o.navigator?o.navigator.userAgent:null;mi=!!o.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return mi}function Go(o){try{const r=w[o];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch{return!1}}function gi(o,r){return[o[4*r],o[4*r+1],o[4*r+2],o[4*r+3]]}const Wi="mapbox-tiles";let Ps=500,Ra=50,Hn,Ei;function Wo(){try{return w.caches}catch{}}function Hi(){Wo()&&!Hn&&(Hn=w.caches.open(Wi))}function As(o){const r=o.indexOf("?");if(r<0)return o;const s=(function(p){const _=p.indexOf("?");return _>0?p.slice(_+1).split("&"):[]})(o),u=s.filter((p=>{const _=p.split("=");return _[0]==="language"||_[0]==="worldview"}));return u.length?`${o.slice(0,r)}?${u.join("&")}`:o.slice(0,r)}let io=1/0;const pa={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(pa);class ma extends Error{constructor(r,s,u){s===401&&rt(u)&&(r+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(r),this.status=s,this.url=u}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Ho=li()?()=>self.worker&&self.worker.referrer:()=>(w.location.protocol==="blob:"?w.parent:w).location.href,ga=function(o,r){if(!(/^file:/.test(s=o.url)||/^file:/.test(Ho())&&!/^\w+:/.test(s))){if(w.fetch&&w.Request&&w.AbortController&&w.Request.prototype.hasOwnProperty("signal"))return(function(u,p){const _=new w.AbortController,b=new w.Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,referrer:Ho(),referrerPolicy:u.referrerPolicy,signal:_.signal});let E=!1,A=!1;const I=(R=b.url).indexOf("sku=")>0&&rt(R);var R;u.type==="json"&&b.headers.set("Accept","application/json");const F=(H,Z,J)=>{if(A)return;if(H&&H.message!=="SecurityError"&&Sr(H.toString()),Z&&J)return N(Z);const ue=Date.now();w.fetch(b).then((me=>{if(me.ok){const Ie=I?me.clone():null;return N(me,Ie,ue)}return p(new ma(me.statusText,me.status,u.url))})).catch((me=>{me.name!=="AbortError"&&p(new Error(`${me.message} ${u.url}`))}))},N=(H,Z,J)=>{(u.type==="arrayBuffer"?H.arrayBuffer():u.type==="json"?H.json():H.text()).then((ue=>{A||(Z&&J&&(function(me,Ie,ye){if(Hi(),!Hn)return;const Me={status:Ie.status,statusText:Ie.statusText,headers:new w.Headers};Ie.headers.forEach(((lt,it)=>Me.headers.set(it,lt)));const Re=Wn(Ie.headers.get("Cache-Control")||"");if(Re["no-store"])return;Re["max-age"]&&Me.headers.set("Expires",new Date(ye+1e3*Re["max-age"]).toUTCString());const Le=Me.headers.get("Expires");Le&&(new Date(Le).getTime()-ye<42e4||(function(lt,it){if(Ei===void 0)try{new Response(new ReadableStream),Ei=!0}catch{Ei=!1}Ei?it(lt.body):lt.blob().then(it)})(Ie,(lt=>{const it=new w.Response(lt,Me);Hi(),Hn&&Hn.then((bt=>bt.put(As(me.url),it))).catch((bt=>Sr(bt.message)))})))})(b,Z,J),E=!0,p(null,ue,H.headers.get("Cache-Control"),H.headers.get("Expires")))})).catch((ue=>{A||p(new Error(ue.message))}))};return I?(function(H,Z){if(Hi(),!Hn)return Z(null);const J=As(H.url);Hn.then((ue=>{ue.match(J).then((me=>{const Ie=(function(ye){if(!ye)return!1;const Me=new Date(ye.headers.get("Expires")||0),Re=Wn(ye.headers.get("Cache-Control")||"");return Me>Date.now()&&!Re["no-cache"]})(me);ue.delete(J),Ie&&ue.put(J,me.clone()),Z(null,me,Ie)})).catch(Z)})).catch(Z)})(b,F):F(null,null),{cancel:()=>{A=!0,E||_.abort()}}})(o,r);if(li()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,r,void 0,!0)}var s;return(function(u,p){const _=new w.XMLHttpRequest;_.open(u.method||"GET",u.url,!0),u.type==="arrayBuffer"&&(_.responseType="arraybuffer");for(const b in u.headers)_.setRequestHeader(b,u.headers[b]);return u.type==="json"&&(_.responseType="text",_.setRequestHeader("Accept","application/json")),_.withCredentials=u.credentials==="include",_.onerror=()=>{p(new Error(_.statusText))},_.onload=()=>{if((_.status>=200&&_.status<300||_.status===0)&&_.response!==null){let b=_.response;if(u.type==="json")try{b=JSON.parse(_.response)}catch(E){return p(E)}p(null,b,_.getResponseHeader("Cache-Control"),_.getResponseHeader("Expires"))}else p(new ma(_.statusText,_.status,u.url))},_.send(u.body),{cancel:()=>_.abort()}})(o,r)},ya=function(o,r){return ga(zt(o,{type:"arrayBuffer"}),r)};function _a(o){const r=w.document.createElement("a");return r.href=o,r.protocol===w.document.location.protocol&&r.host===w.document.location.host}const Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ie,ae;ie=[],ae=0;const we=function(o,r){if(j.supported&&(o.headers||(o.headers={}),o.headers.accept="image/webp,*/*"),ae>=L.MAX_PARALLEL_IMAGE_REQUESTS){const _={requestParameters:o,callback:r,cancelled:!1,cancel(){this.cancelled=!0}};return ie.push(_),_}ae++;let s=!1;const u=()=>{if(!s)for(s=!0,ae--;ie.length&&ae<L.MAX_PARALLEL_IMAGE_REQUESTS;){const _=ie.shift(),{requestParameters:b,callback:E,cancelled:A}=_;A||(_.cancel=we(b,E).cancel)}},p=ya(o,((_,b,E,A)=>{u(),_?r(_):b&&(w.createImageBitmap?(function(I,R){const F=new w.Blob([new Uint8Array(I)],{type:"image/png"});w.createImageBitmap(F).then((N=>{R(null,N)})).catch((N=>{R(new Error(`Could not load image because of ${N.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))})(b,((I,R)=>r(I,R,E,A))):(function(I,R){const F=new w.Image,N=w.URL;F.onload=()=>{R(null,F),N.revokeObjectURL(F.src),F.onload=null,w.requestAnimationFrame((()=>{F.src=Ae}))},F.onerror=()=>R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const H=new w.Blob([new Uint8Array(I)],{type:"image/png"});F.src=I.byteLength?N.createObjectURL(H):Ae})(b,((I,R)=>r(I,R,E,A))))}));return{cancel:()=>{p.cancel(),u()}}},De="NO_ACCESS_TOKEN";function He(o){return o.indexOf("mapbox:")===0}function rt(o){return L.API_URL_REGEX.test(o)}function et(o){return L.API_CDN_URL_REGEX.test(o)}function qe(o){return L.API_STYLE_REGEX.test(o)&&!ct(o)}function ct(o){return L.API_SPRITE_REGEX.test(o)}const kt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ge(o){const r=o.match(kt);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function xe(o){const r=o.params.length?`?${o.params.join("&")}`:"";return`${o.protocol}://${o.authority}${o.path}${r}`}const Qe="mapbox.eventData";function mt(o){if(!o)return null;const r=o.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(decodeURIComponent(w.atob(r[1]).split("").map((s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2))).join("")))}catch{return null}}class Tt{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const s=mt(L.ACCESS_TOKEN);let u="";return u=s&&s.u?w.btoa(encodeURIComponent(s.u).replace(/%([0-9A-F]{2})/g,((p,_)=>String.fromCharCode(+("0x"+_))))):L.ACCESS_TOKEN||"",r?`${Qe}.${r}:${u}`:`${Qe}:${u}`}fetchEventData(){const r=Go("localStorage"),s=this.getStorageKey(),u=this.getStorageKey("uuid");if(r)try{const p=w.localStorage.getItem(s);p&&(this.eventData=JSON.parse(p));const _=w.localStorage.getItem(u);_&&(this.anonId=_)}catch{Sr("Unable to read from LocalStorage")}}saveEventData(){const r=Go("localStorage"),s=this.getStorageKey(),u=this.getStorageKey("uuid");if(r)try{w.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&w.localStorage.setItem(s,JSON.stringify(this.eventData))}catch{Sr("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,s,u,p){if(!L.EVENTS_URL)return;const _=ge(L.EVENTS_URL);_.params.push(`access_token=${p||L.ACCESS_TOKEN||""}`);const b={event:this.type,created:new Date(r).toISOString()},E=s?zt(b,s):b,A={url:xe(_),headers:{"Content-Type":"text/plain"},body:JSON.stringify([E])};this.pendingRequest=(function(I,R){return ga(zt(I,{method:"POST"}),R)})(A,(I=>{this.pendingRequest=null,u(I),this.saveEventData(),this.processRequests(p)}))}queueRequest(r,s){this.queue.push(r),this.processRequests(s)}}const jt=new class extends Tt{constructor(o){super("appUserTurnstile"),this._customAccessToken=o}postTurnstileEvent(o,r){L.EVENTS_URL&&L.ACCESS_TOKEN&&Array.isArray(o)&&o.some((s=>He(s)||rt(s)))&&this.queueRequest(Date.now(),r)}processRequests(o){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=mt(L.ACCESS_TOKEN),s=r?r.u:L.ACCESS_TOKEN;let u=s!==this.eventData.tokenU;Nt(this.anonId)||(this.anonId=wr(),u=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const _=new Date(this.eventData.lastSuccess),b=new Date(p),E=(p-this.eventData.lastSuccess)/864e5;u=u||E>=1||E<-1||_.getDate()!==b.getDate()}else u=!0;u?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:ee,"enabled.telemetry":!1,userId:this.anonId},(_=>{_||(this.eventData.lastSuccess=p,this.eventData.tokenU=s)}),o):this.processRequests()}},qt=jt.postTurnstileEvent.bind(jt),Gt=new class extends Tt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(o,r,s,u){this.skuToken=r,this.errorCb=u,L.EVENTS_URL&&(s||L.ACCESS_TOKEN?this.queueRequest({id:o,timestamp:Date.now()},s):this.errorCb(new Error(De)))}processRequests(o){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:s}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),Nt(this.anonId)||(this.anonId=wr()),this.postEvent(s,{sdkIdentifier:"mapbox-gl-js",sdkVersion:M,skuId:ee,skuToken:this.skuToken,userId:this.anonId},(u=>{u?this.errorCb(u):r&&(this.success[r]=!0)}),o))}},Qt=Gt.postMapLoadEvent.bind(Gt),er=new class extends Tt{constructor(){super("gljs.performance")}postPerformanceEvent(o,r){L.EVENTS_URL&&(o||L.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},o)}processRequests(o){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:s}=this.queue.shift(),u=(function(p){const _=w.performance.getEntriesByType("resource"),b=w.performance.getEntriesByType("mark"),E=(function(N){const H={};if(N){for(const Z in N)if(Z!=="other")for(const J of N[Z]){const ue=`${Z}ResolveRangeMin`,me=`${Z}ResolveRangeMax`,Ie=`${Z}RequestCount`,ye=`${Z}RequestCachedCount`;H[ue]=Math.min(H[ue]||1/0,J.startTime),H[me]=Math.max(H[me]||-1/0,J.responseEnd);const Me=Re=>{H[Re]===void 0&&(H[Re]=0),++H[Re]};J.transferSize!==void 0&&J.transferSize===0&&Me(ye),Me(Ie)}}return H})((function(N,H){const Z={};if(N)for(const J of N){const ue=H(J);Z[ue]===void 0&&(Z[ue]=[]),Z[ue].push(J)}return Z})(_,Rn)),A=w.devicePixelRatio,I=w.navigator.connection||w.navigator.mozConnection||w.navigator.webkitConnection,R={counters:[],metadata:[],attributes:[]},F=(N,H,Z)=>{Z!=null&&N.push({name:H,value:Z.toString()})};for(const N in E)F(R.counters,N,E[N]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(F(R.counters,"interactionRangeMin",p.interactionRange[0]),F(R.counters,"interactionRangeMax",p.interactionRange[1])),b)for(const N of Object.keys(rn)){const H=rn[N],Z=b.find((J=>J.name===H));Z&&F(R.counters,H,Z.startTime)}return F(R.counters,"visibilityHidden",p.visibilityHidden),F(R.attributes,"style",(function(N){if(N)for(const H of N){const Z=H.name.split("?")[0];if(qe(Z)){const J=Z.split("/").slice(-2);if(J.length===2)return`mapbox://styles/${J[0]}/${J[1]}`}}})(_)),F(R.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),F(R.attributes,"fogEnabled",p.fogEnabled?"true":"false"),F(R.attributes,"projection",p.projection),F(R.attributes,"zoom",p.zoom),F(R.metadata,"devicePixelRatio",A),F(R.metadata,"connectionEffectiveType",I?I.effectiveType:void 0),F(R.metadata,"navigatorUserAgent",w.navigator.userAgent),F(R.metadata,"screenWidth",w.screen.width),F(R.metadata,"screenHeight",w.screen.height),F(R.metadata,"windowWidth",w.innerWidth),F(R.metadata,"windowHeight",w.innerHeight),F(R.metadata,"mapWidth",p.width/A),F(R.metadata,"mapHeight",p.height/A),F(R.metadata,"webglRenderer",p.renderer),F(R.metadata,"webglVendor",p.vendor),F(R.metadata,"sdkVersion",M),F(R.metadata,"sdkIdentifier","mapbox-gl-js"),R})(s);for(const p of u.metadata);for(const p of u.counters);for(const p of u.attributes);this.postEvent(r,u,(()=>{}),o)}},Jt=er.postPerformanceEvent.bind(er),Er=new class extends Tt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(o,r,s,u){if(!L.API_URL||!L.SESSION_PATH)return;const p=ge(L.API_URL+L.SESSION_PATH);p.params.push(`sku=${r||""}`),p.params.push(`access_token=${u||L.ACCESS_TOKEN||""}`);const _={url:xe(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=(function(b,E){return ga(zt(b,{method:"GET"}),E)})(_,(b=>{this.pendingRequest=null,s(b),this.saveEventData(),this.processRequests(u)}))}getSessionAPI(o,r,s,u){this.skuToken=r,this.errorCb=u,L.SESSION_PATH&&L.API_URL&&(s||L.ACCESS_TOKEN?this.queueRequest({id:o,timestamp:Date.now()},s):this.errorCb(new Error(De)))}processRequests(o){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:s}=this.queue.shift();r&&this.success[r]||this.getSession(s,this.skuToken,(u=>{u?this.errorCb(u):r&&(this.success[r]=!0)}),o)}},Tr=Er.getSessionAPI.bind(Er),dn=new Set,rn={create:"create",load:"load",fullLoad:"fullLoad"},nn={mark(o){w.performance.mark(o)},measure(o,r,s){w.performance.measure(o,r,s)}};function Rn(o){const r=o.name.split("?")[0];return et(r)&&r.includes("mapbox-gl.js")?"javascript":et(r)&&r.includes("mapbox-gl.css")?"css":(function(s){return L.API_FONTS_REGEX.test(s)})(r)?"fontRange":ct(r)?"sprite":qe(r)?"style":(function(s){return L.API_TILEJSON_REGEX.test(s)})(r)?"tilejson":"other"}const $r=w.performance;function ts(o){const r=o?o.url.toString():void 0;return $r.getEntriesByName(r)}let oo,on,Ms,Oi;const ki={now:()=>Ms!==void 0?Ms:w.performance.now(),setNow(o){Ms=o},restoreNow(){Ms=void 0},frame(o){const r=w.requestAnimationFrame(o);return{cancel:()=>w.cancelAnimationFrame(r)}},getImageData(o,r=0){const{width:s,height:u}=o;Oi||(Oi=w.document.createElement("canvas"));const p=Oi.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(s>Oi.width||u>Oi.height)&&(Oi.width=s,Oi.height=u),p.clearRect(-r,-r,s+2*r,u+2*r),p.drawImage(o,0,0,s,u),p.getImageData(-r,-r,s+2*r,u+2*r)},resolveURL:o=>(oo||(oo=w.document.createElement("a")),oo.href=o,oo.href),get devicePixelRatio(){return w.devicePixelRatio},get prefersReducedMotion(){return!!w.matchMedia&&(on==null&&(on=w.matchMedia("(prefers-reduced-motion: reduce)")),on.matches)}};function va(o,r,s){s[o]&&s[o].indexOf(r)!==-1||(s[o]=s[o]||[],s[o].push(r))}function Cs(o,r,s){if(s&&s[o]){const u=s[o].indexOf(r);u!==-1&&s[o].splice(u,1)}}class qr{constructor(r,s={}){zt(this,s),this.type=r}}class en extends qr{constructor(r,s={}){super("error",zt({error:r},s))}}class ui{on(r,s){return this._listeners=this._listeners||{},va(r,s,this._listeners),this}off(r,s){return Cs(r,s,this._listeners),Cs(r,s,this._oneTimeListeners),this}once(r,s){return s?(this._oneTimeListeners=this._oneTimeListeners||{},va(r,s,this._oneTimeListeners),this):new Promise((u=>this.once(r,u)))}fire(r,s){typeof r=="string"&&(r=new qr(r,s||{}));const u=r.type;if(this.listens(u)){r.target=this;const p=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const E of p)E.call(this,r);const _=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const E of _)Cs(u,E,this._oneTimeListeners),E.call(this,r);const b=this._eventedParent;b&&(zt(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),b.fire(r))}else r instanceof en&&console.error(r.error);return this}listens(r){return!!(this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r))}setEventedParent(r,s){return this._eventedParent=r,this._eventedParentData=s,this}}var gt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Hr(o,...r){for(const s of r)for(const u in s)o[u]=s[u];return o}function Sn(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function ci(o){if(Array.isArray(o))return o.map(ci);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const r={};for(const s in o)r[s]=ci(o[s]);return r}return Sn(o)}class qc extends Error{constructor(r,s){super(s),this.message=s,this.key=r}}var Io=qc;class Gl{constructor(r,s=[]){this.parent=r,this.bindings={};for(const[u,p]of s)this.bindings[u]=p}concat(r){return new Gl(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(`${r} not found in scope.`)}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}var Wl=Gl;const rs={kind:"null"},Kt={kind:"number"},Gr={kind:"string"},jr={kind:"boolean"},yo={kind:"color"},Oo={kind:"object"},Or={kind:"value"},ko={kind:"collator"},ul={kind:"formatted"},tn={kind:"resolvedImage"};function Do(o,r){return{kind:"array",itemType:o,N:r}}function Mn(o){if(o.kind==="array"){const r=Mn(o.itemType);return typeof o.N=="number"?`array<${r}, ${o.N}>`:o.itemType.kind==="value"?"array":`array<${r}>`}return o.kind}const Gc=[rs,Kt,Gr,jr,yo,ul,Oo,Do(Or),tn];function za(o,r){if(r.kind==="error")return null;if(o.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!za(o.itemType,r.itemType))&&(typeof o.N!="number"||o.N===r.N))return null}else{if(o.kind===r.kind)return null;if(o.kind==="value"){for(const s of Gc)if(!za(s,r))return null}}return`Expected ${Mn(o)} but found ${Mn(r)} instead.`}function Hl(o,r){return r.some((s=>s.kind===o.kind))}function Zl(o,r){return r.some((s=>s==="null"?o===null:s==="array"?Array.isArray(o):s==="object"?o&&!Array.isArray(o)&&typeof o=="object":s===typeof o))}var $u,Vu={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Zo(o){return(o=Math.round(o))<0?0:o>255?255:o}function Xo(o){return Zo(o[o.length-1]==="%"?parseFloat(o)/100*255:parseInt(o))}function xa(o){return(r=o[o.length-1]==="%"?parseFloat(o)/100:parseFloat(o))<0?0:r>1?1:r;var r}function Ba(o,r,s){return s<0?s+=1:s>1&&(s-=1),6*s<1?o+(r-o)*s*6:2*s<1?r:3*s<2?o+(r-o)*(2/3-s)*6:o}try{$u={}.parseCSSColor=function(o){var r,s=o.replace(/ /g,"").toLowerCase();if(s in Vu)return Vu[s].slice();if(s[0]==="#")return s.length===4?(r=parseInt(s.substr(1),16))>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null:s.length===7&&(r=parseInt(s.substr(1),16))>=0&&r<=16777215?[(16711680&r)>>16,(65280&r)>>8,255&r,1]:null;var u=s.indexOf("("),p=s.indexOf(")");if(u!==-1&&p+1===s.length){var _=s.substr(0,u),b=s.substr(u+1,p-(u+1)).split(","),E=1;switch(_){case"rgba":if(b.length!==4)return null;E=xa(b.pop());case"rgb":return b.length!==3?null:[Xo(b[0]),Xo(b[1]),Xo(b[2]),E];case"hsla":if(b.length!==4)return null;E=xa(b.pop());case"hsl":if(b.length!==3)return null;var A=(parseFloat(b[0])%360+360)%360/360,I=xa(b[1]),R=xa(b[2]),F=R<=.5?R*(I+1):R+I-R*I,N=2*R-F;return[Zo(255*Ba(N,F,A+1/3)),Zo(255*Ba(N,F,A)),Zo(255*Ba(N,F,A-1/3)),E];default:return null}}return null}}catch{}class Di{constructor(r,s,u,p=1){this.r=r,this.g=s,this.b=u,this.a=p}static parse(r){if(!r)return;if(r instanceof Di)return r;if(typeof r!="string")return;const s=$u(r);return s?new Di(s[0]/255*s[3],s[1]/255*s[3],s[2]/255*s[3],s[3]):void 0}toString(){const[r,s,u,p]=this.toArray();return`rgba(${Math.round(r)},${Math.round(s)},${Math.round(u)},${p})`}toArray(){const{r,g:s,b:u,a:p}=this;return p===0?[0,0,0,0]:[255*r/p,255*s/p,255*u/p,p]}toArray01(){const{r,g:s,b:u,a:p}=this;return p===0?[0,0,0,0]:[r/p,s/p,u/p,p]}toArray01PremultipliedAlpha(){const{r,g:s,b:u,a:p}=this;return[r,s,u,p]}}Di.black=new Di(0,0,0,1),Di.white=new Di(1,1,1,1),Di.transparent=new Di(0,0,0,0),Di.red=new Di(1,0,0,1),Di.blue=new Di(0,0,1,1);var xn=Di;class J1{constructor(r,s,u){this.sensitivity=r?s?"variant":"case":s?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,s){return this.collator.compare(r,s)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Wc{constructor(r,s,u,p,_){this.text=r.normalize?r.normalize():r,this.image=s,this.scale=u,this.fontStack=p,this.textColor=_}}class Li{constructor(r){this.sections=r}static fromString(r){return new Li([new Wc(r,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((r=>r.text.length!==0||r.image&&r.image.name.length!==0))}static factory(r){return r instanceof Li?r:Li.fromString(r)}toString(){return this.sections.length===0?"":this.sections.map((r=>r.text)).join("")}serialize(){const r=["format"];for(const s of this.sections){if(s.image){r.push(["image",s.image.name]);continue}r.push(s.text);const u={};s.fontStack&&(u["text-font"]=["literal",s.fontStack.split(",")]),s.scale&&(u["font-scale"]=s.scale),s.textColor&&(u["text-color"]=["rgba"].concat(s.textColor.toArray())),r.push(u)}return r}}class Ko{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new Ko({name:r,available:!1}):null}serialize(){return["image",this.name]}}function Q1(o,r,s,u){return typeof o=="number"&&o>=0&&o<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof s=="number"&&s>=0&&s<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:`Invalid rgba value [${[o,r,s,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof u=="number"?[o,r,s,u]:[o,r,s]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Is(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof xn||o instanceof J1||o instanceof Li||o instanceof Ko)return!0;if(Array.isArray(o)){for(const r of o)if(!Is(r))return!1;return!0}if(typeof o=="object"){for(const r in o)if(!Is(o[r]))return!1;return!0}return!1}function Zn(o){if(o===null)return rs;if(typeof o=="string")return Gr;if(typeof o=="boolean")return jr;if(typeof o=="number")return Kt;if(o instanceof xn)return yo;if(o instanceof J1)return ko;if(o instanceof Li)return ul;if(o instanceof Ko)return tn;if(Array.isArray(o)){const r=o.length;let s;for(const u of o){const p=Zn(u);if(s){if(s===p)continue;s=Or;break}s=p}return Do(s||Or,r)}return Oo}function qu(o){const r=typeof o;return o===null?"":r==="string"||r==="number"||r==="boolean"?String(o):o instanceof xn||o instanceof Li||o instanceof Ko?o.toString():JSON.stringify(o)}class cl{constructor(r,s){this.type=r,this.value=s}static parse(r,s){if(r.length!==2)return s.error(`'literal' expression requires exactly one argument, but found ${r.length-1} instead.`);if(!Is(r[1]))return s.error("invalid value");const u=r[1];let p=Zn(u);const _=s.expectedType;return p.kind!=="array"||p.N!==0||!_||_.kind!=="array"||typeof _.N=="number"&&_.N!==0||(p=_),new cl(p,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof xn?["rgba"].concat(this.value.toArray()):this.value instanceof Li?this.value.serialize():this.value}}var ba=cl,ri=class{constructor(o){this.name="ExpressionEvaluationError",this.message=o}toJSON(){return this.message}};const Xl={string:Gr,number:Kt,boolean:jr,object:Oo};class eh{constructor(r,s){this.type=r,this.args=s}static parse(r,s){if(r.length<2)return s.error("Expected at least one argument.");let u,p=1;const _=r[0];if(_==="array"){let E,A;if(r.length>2){const I=r[1];if(typeof I!="string"||!(I in Xl)||I==="object")return s.error('The item type argument of "array" must be one of string, number, boolean',1);E=Xl[I],p++}else E=Or;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return s.error('The length argument to "array" must be a positive integer literal',2);A=r[2],p++}u=Do(E,A)}else u=Xl[_];const b=[];for(;p<r.length;p++){const E=s.parse(r[p],p,Or);if(!E)return null;b.push(E)}return new eh(u,b)}evaluate(r){for(let s=0;s<this.args.length;s++){const u=this.args[s].evaluate(r);if(!za(this.type,Zn(u)))return u;if(s===this.args.length-1)throw new ri(`Expected value to be of type ${Mn(this.type)}, but found ${Mn(Zn(u))} instead.`)}return null}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every((r=>r.outputDefined()))}serialize(){const r=this.type,s=[r.kind];if(r.kind==="array"){const u=r.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){s.push(u.kind);const p=r.N;(typeof p=="number"||this.args.length>1)&&s.push(p)}}return s.concat(this.args.map((u=>u.serialize())))}}var ns=eh;class Fa{constructor(r){this.type=ul,this.sections=r}static parse(r,s){if(r.length<2)return s.error("Expected at least one argument.");const u=r[1];if(!Array.isArray(u)&&typeof u=="object")return s.error("First argument must be an image or text section.");const p=[];let _=!1;for(let b=1;b<=r.length-1;++b){const E=r[b];if(_&&typeof E=="object"&&!Array.isArray(E)){_=!1;let A=null;if(E["font-scale"]&&(A=s.parse(E["font-scale"],1,Kt),!A))return null;let I=null;if(E["text-font"]&&(I=s.parse(E["text-font"],1,Do(Gr)),!I))return null;let R=null;if(E["text-color"]&&(R=s.parse(E["text-color"],1,yo),!R))return null;const F=p[p.length-1];F.scale=A,F.font=I,F.textColor=R}else{const A=s.parse(r[b],1,Or);if(!A)return null;const I=A.type.kind;if(I!=="string"&&I!=="value"&&I!=="null"&&I!=="resolvedImage")return s.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");_=!0,p.push({content:A,scale:null,font:null,textColor:null})}}return new Fa(p)}evaluate(r){return new Li(this.sections.map((s=>{const u=s.content.evaluate(r);return Zn(u)===tn?new Wc("",u,null,null,null):new Wc(qu(u),null,s.scale?s.scale.evaluate(r):null,s.font?s.font.evaluate(r).join(","):null,s.textColor?s.textColor.evaluate(r):null)})))}eachChild(r){for(const s of this.sections)r(s.content),s.scale&&r(s.scale),s.font&&r(s.font),s.textColor&&r(s.textColor)}outputDefined(){return!1}serialize(){const r=["format"];for(const s of this.sections){r.push(s.content.serialize());const u={};s.scale&&(u["font-scale"]=s.scale.serialize()),s.font&&(u["text-font"]=s.font.serialize()),s.textColor&&(u["text-color"]=s.textColor.serialize()),r.push(u)}return r}}class hl{constructor(r){this.type=tn,this.input=r}static parse(r,s){if(r.length!==2)return s.error("Expected two arguments.");const u=s.parse(r[1],1,Gr);return u?new hl(u):s.error("No image name provided.")}evaluate(r){const s=this.input.evaluate(r),u=Ko.fromString(s);return u&&r.availableImages&&(u.available=r.availableImages.indexOf(s)>-1),u}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const th={"to-boolean":jr,"to-color":yo,"to-number":Kt,"to-string":Gr};class Hc{constructor(r,s){this.type=r,this.args=s}static parse(r,s){if(r.length<2)return s.error("Expected at least one argument.");const u=r[0];if((u==="to-boolean"||u==="to-string")&&r.length!==2)return s.error("Expected one argument.");const p=th[u],_=[];for(let b=1;b<r.length;b++){const E=s.parse(r[b],b,Or);if(!E)return null;_.push(E)}return new Hc(p,_)}evaluate(r){if(this.type.kind==="boolean")return!!this.args[0].evaluate(r);if(this.type.kind==="color"){let s,u;for(const p of this.args){if(s=p.evaluate(r),u=null,s instanceof xn)return s;if(typeof s=="string"){const _=r.parseColor(s);if(_)return _}else if(Array.isArray(s)&&(u=s.length<3||s.length>4?`Invalid rbga value ${JSON.stringify(s)}: expected an array containing either three or four numeric values.`:Q1(s[0],s[1],s[2],s[3]),!u))return new xn(s[0]/255,s[1]/255,s[2]/255,s[3])}throw new ri(u||`Could not parse color from value '${typeof s=="string"?s:String(JSON.stringify(s))}'`)}if(this.type.kind==="number"){let s=null;for(const u of this.args){if(s=u.evaluate(r),s===null)return 0;const p=Number(s);if(!isNaN(p))return p}throw new ri(`Could not convert ${JSON.stringify(s)} to number.`)}return this.type.kind==="formatted"?Li.fromString(qu(this.args[0].evaluate(r))):this.type.kind==="resolvedImage"?Ko.fromString(qu(this.args[0].evaluate(r))):qu(this.args[0].evaluate(r))}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every((r=>r.outputDefined()))}serialize(){if(this.type.kind==="formatted")return new Fa([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new hl(this.args[0]).serialize();const r=[`to-${this.type.kind}`];return this.eachChild((s=>{r.push(s.serialize())})),r}}var Lo=Hc;const Yo=["Unknown","Point","LineString","Polygon"];var Kl=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Yo[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const o=this.featureDistanceData.center,r=this.featureDistanceData.scale,{x:s,y:u}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(s*r-o[0])+this.featureDistanceData.bearing[1]*(u*r-o[1])}return 0}parseColor(o){let r=this._parseColorCache[o];return r||(r=this._parseColorCache[o]=xn.parse(o)),r}};class Os{constructor(r,s,u,p){this.name=r,this.type=s,this._evaluate=u,this.args=p}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((r=>r.serialize())))}static parse(r,s){const u=r[0],p=Os.definitions[u];if(!p)return s.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const _=Array.isArray(p)?p[0]:p.type,b=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,E=b.filter((([I])=>!Array.isArray(I)||I.length===r.length-1));let A=null;for(const[I,R]of E){A=new oh(s.registry,s.path,null,s.scope);const F=[];let N=!1;for(let H=1;H<r.length;H++){const Z=r[H],J=Array.isArray(I)?I[H-1]:I.type,ue=A.parse(Z,1+F.length,J);if(!ue){N=!0;break}F.push(ue)}if(!N)if(Array.isArray(I)&&I.length!==F.length)A.error(`Expected ${I.length} arguments, but found ${F.length} instead.`);else{for(let H=0;H<F.length;H++){const Z=Array.isArray(I)?I[H]:I.type,J=F[H];A.concat(H+1).checkSubtype(Z,J.type)}if(A.errors.length===0)return new Os(u,_,R,F)}}if(E.length===1)s.errors.push(...A.errors);else{const I=(E.length?E:b).map((([F])=>{return N=F,Array.isArray(N)?`(${N.map(Mn).join(", ")})`:`(${Mn(N.type)}...)`;var N})).join(" | "),R=[];for(let F=1;F<r.length;F++){const N=s.parse(r[F],1+R.length);if(!N)return null;R.push(Mn(N.type))}s.error(`Expected arguments of type ${I}, but found (${R.join(", ")}) instead.`)}return null}static register(r,s){Os.definitions=s;for(const u in s)r[u]=Os}}var Jo=Os;class ks{constructor(r,s,u){this.type=ko,this.locale=u,this.caseSensitive=r,this.diacriticSensitive=s}static parse(r,s){if(r.length!==2)return s.error("Expected one argument.");const u=r[1];if(typeof u!="object"||Array.isArray(u))return s.error("Collator options argument must be an object.");const p=s.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,jr);if(!p)return null;const _=s.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,jr);if(!_)return null;let b=null;return u.locale&&(b=s.parse(u.locale,1,Gr),!b)?null:new ks(p,_,b)}evaluate(r){return new J1(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}serialize(){const r={};return r["case-sensitive"]=this.caseSensitive.serialize(),r["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(r.locale=this.locale.serialize()),["collator",r]}}const ja=8192;function Zi(o,r){o[0]=Math.min(o[0],r[0]),o[1]=Math.min(o[1],r[1]),o[2]=Math.max(o[2],r[0]),o[3]=Math.max(o[3],r[1])}function wa(o,r){return!(o[0]<=r[0]||o[2]>=r[2]||o[1]<=r[1]||o[3]>=r[3])}function fl(o,r){const s=(180+o[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,p=Math.pow(2,r.z);return[Math.round(s*p*ja),Math.round(u*p*ja)]}function Yl(o,r,s){const u=o[0]-r[0],p=o[1]-r[1],_=o[0]-s[0],b=o[1]-s[1];return u*b-_*p==0&&u*_<=0&&p*b<=0}function Zc(o,r){let s=!1;for(let b=0,E=r.length;b<E;b++){const A=r[b];for(let I=0,R=A.length;I<R-1;I++){if(Yl(o,A[I],A[I+1]))return!1;(p=A[I])[1]>(u=o)[1]!=(_=A[I+1])[1]>u[1]&&u[0]<(_[0]-p[0])*(u[1]-p[1])/(_[1]-p[1])+p[0]&&(s=!s)}}var u,p,_;return s}function Gu(o,r){for(let s=0;s<r.length;s++)if(Zc(o,r[s]))return!0;return!1}function Wu(o,r,s,u){const p=u[0]-s[0],_=u[1]-s[1],b=(o[0]-s[0])*_-p*(o[1]-s[1]),E=(r[0]-s[0])*_-p*(r[1]-s[1]);return b>0&&E<0||b<0&&E>0}function Na(o,r,s){for(const I of s)for(let R=0;R<I.length-1;++R)if((E=[(b=I[R+1])[0]-(_=I[R])[0],b[1]-_[1]])[0]*(A=[(p=r)[0]-(u=o)[0],p[1]-u[1]])[1]-E[1]*A[0]!=0&&Wu(u,p,_,b)&&Wu(_,b,u,p))return!0;var u,p,_,b,E,A;return!1}function Kr(o,r){for(let s=0;s<o.length;++s)if(!Zc(o[s],r))return!1;for(let s=0;s<o.length-1;++s)if(Na(o[s],o[s+1],r))return!1;return!0}function Af(o,r){for(let s=0;s<r.length;s++)if(Kr(o,r[s]))return!0;return!1}function rh(o,r,s){const u=[];for(let p=0;p<o.length;p++){const _=[];for(let b=0;b<o[p].length;b++){const E=fl(o[p][b],s);Zi(r,E),_.push(E)}u.push(_)}return u}function Mf(o,r,s){const u=[];for(let p=0;p<o.length;p++){const _=rh(o[p],r,s);u.push(_)}return u}function nh(o,r,s,u){if(o[0]<s[0]||o[0]>s[2]){const p=.5*u;let _=o[0]-s[0]>p?-u:s[0]-o[0]>p?u:0;_===0&&(_=o[0]-s[2]>p?-u:s[2]-o[0]>p?u:0),o[0]+=_}Zi(r,o)}function Xc(o,r,s,u){const p=Math.pow(2,u.z)*ja,_=[u.x*ja,u.y*ja],b=[];if(!o)return b;for(const E of o)for(const A of E){const I=[A.x+_[0],A.y+_[1]];nh(I,r,s,p),b.push(I)}return b}function ih(o,r,s,u){const p=Math.pow(2,u.z)*ja,_=[u.x*ja,u.y*ja],b=[];if(!o)return b;for(const A of o){const I=[];for(const R of A){const F=[R.x+_[0],R.y+_[1]];Zi(r,F),I.push(F)}b.push(I)}if(r[2]-r[0]<=p/2){(E=r)[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(const A of b)for(const I of A)nh(I,r,s,p)}var E;return b}class Jl{constructor(r,s){this.type=jr,this.geojson=r,this.geometries=s}static parse(r,s){if(r.length!==2)return s.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(Is(r[1])){const u=r[1];if(u.type==="FeatureCollection")for(let p=0;p<u.features.length;++p){const _=u.features[p].geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new Jl(u,u.features[p].geometry)}else if(u.type==="Feature"){const p=u.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new Jl(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new Jl(u,u)}return s.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return(function(s,u){const p=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],b=s.canonicalID();if(!b)return!1;if(u.type==="Polygon"){const E=rh(u.coordinates,_,b),A=Xc(s.geometry(),p,_,b);if(!wa(p,_))return!1;for(const I of A)if(!Zc(I,E))return!1}if(u.type==="MultiPolygon"){const E=Mf(u.coordinates,_,b),A=Xc(s.geometry(),p,_,b);if(!wa(p,_))return!1;for(const I of A)if(!Gu(I,E))return!1}return!0})(r,this.geometries);if(r.geometryType()==="LineString")return(function(s,u){const p=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],b=s.canonicalID();if(!b)return!1;if(u.type==="Polygon"){const E=rh(u.coordinates,_,b),A=ih(s.geometry(),p,_,b);if(!wa(p,_))return!1;for(const I of A)if(!Kr(I,E))return!1}if(u.type==="MultiPolygon"){const E=Mf(u.coordinates,_,b),A=ih(s.geometry(),p,_,b);if(!wa(p,_))return!1;for(const I of A)if(!Af(I,E))return!1}return!0})(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Kc=Jl;function Ql(o){if(o instanceof Jo&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof Kc)return!1;let r=!0;return o.eachChild((s=>{r&&!Ql(s)&&(r=!1)})),r}function is(o){if(o instanceof Jo&&o.name==="feature-state")return!1;let r=!0;return o.eachChild((s=>{r&&!is(s)&&(r=!1)})),r}function Ds(o,r){if(o instanceof Jo&&r.indexOf(o.name)>=0)return!1;let s=!0;return o.eachChild((u=>{s&&!Ds(u,r)&&(s=!1)})),s}class Yc{constructor(r,s){this.type=s.type,this.name=r,this.boundExpression=s}static parse(r,s){if(r.length!==2||typeof r[1]!="string")return s.error("'var' expression requires exactly one string literal argument.");const u=r[1];return s.scope.has(u)?new Yc(u,s.scope.get(u)):s.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Cf=Yc;class Hu{constructor(r,s=[],u,p=new Wl,_=[]){this.registry=r,this.path=s,this.key=s.map((b=>`[${b}]`)).join(""),this.scope=p,this.errors=_,this.expectedType=u}parse(r,s,u,p,_={}){return s?this.concat(s,u,p)._parse(r,_):this._parse(r,_)}_parse(r,s){function u(p,_,b){return b==="assert"?new ns(_,[p]):b==="coerce"?new Lo(_,[p]):p}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=r[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const _=this.registry[p];if(_){let b=_.parse(r,this);if(!b)return null;if(this.expectedType){const E=this.expectedType,A=b.type;if(E.kind!=="string"&&E.kind!=="number"&&E.kind!=="boolean"&&E.kind!=="object"&&E.kind!=="array"||A.kind!=="value")if(E.kind!=="color"&&E.kind!=="formatted"&&E.kind!=="resolvedImage"||A.kind!=="value"&&A.kind!=="string"){if(this.checkSubtype(E,A))return null}else b=u(b,E,s.typeAnnotation||"coerce");else b=u(b,E,s.typeAnnotation||"assert")}if(!(b instanceof ba)&&b.type.kind!=="resolvedImage"&&Zu(b)){const E=new Kl;try{b=new ba(b.type,b.evaluate(E))}catch(A){return this.error(A.message),null}}return b}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof r} instead.`)}concat(r,s,u){const p=typeof r=="number"?this.path.concat(r):this.path,_=u?this.scope.concat(u):this.scope;return new Hu(this.registry,p,s||null,_,this.errors)}error(r,...s){const u=`${this.key}${s.map((p=>`[${p}]`)).join("")}`;this.errors.push(new Io(u,r))}checkSubtype(r,s){const u=za(r,s);return u&&this.error(u),u}}var oh=Hu;function Zu(o){if(o instanceof Cf)return Zu(o.boundExpression);if(o instanceof Jo&&o.name==="error"||o instanceof ks||o instanceof Kc)return!1;const r=o instanceof Lo||o instanceof ns;let s=!0;return o.eachChild((u=>{s=r?s&&Zu(u):s&&u instanceof ba})),!!s&&Ql(o)&&Ds(o,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Jc(o,r){const s=o.length-1;let u,p,_=0,b=s,E=0;for(;_<=b;)if(E=Math.floor((_+b)/2),u=o[E],p=o[E+1],u<=r){if(E===s||r<p)return E;_=E+1}else{if(!(u>r))throw new ri("Input is not a number.");b=E-1}return 0}class Qc{constructor(r,s,u){this.type=r,this.input=s,this.labels=[],this.outputs=[];for(const[p,_]of u)this.labels.push(p),this.outputs.push(_)}static parse(r,s){if(r.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return s.error("Expected an even number of arguments.");const u=s.parse(r[1],1,Kt);if(!u)return null;const p=[];let _=null;s.expectedType&&s.expectedType.kind!=="value"&&(_=s.expectedType);for(let b=1;b<r.length;b+=2){const E=b===1?-1/0:r[b],A=r[b+1],I=b,R=b+1;if(typeof E!="number")return s.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',I);if(p.length&&p[p.length-1][0]>=E)return s.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',I);const F=s.parse(A,R,_);if(!F)return null;_=_||F.type,p.push([E,F])}return new Qc(_,u,p)}evaluate(r){const s=this.labels,u=this.outputs;if(s.length===1)return u[0].evaluate(r);const p=this.input.evaluate(r);if(p<=s[0])return u[0].evaluate(r);const _=s.length;return p>=s[_-1]?u[_-1].evaluate(r):u[Jc(s,p)].evaluate(r)}eachChild(r){r(this.input);for(const s of this.outputs)r(s)}outputDefined(){return this.outputs.every((r=>r.outputDefined()))}serialize(){const r=["step",this.input.serialize()];for(let s=0;s<this.labels.length;s++)s>0&&r.push(this.labels[s]),r.push(this.outputs[s].serialize());return r}}var ah=Qc;function Xr(o,r,s){return o*(1-s)+r*s}var Xu=Object.freeze({__proto__:null,array:function(o,r,s){return o.map(((u,p)=>Xr(u,r[p],s)))},color:function(o,r,s){return new xn(Xr(o.r,r.r,s),Xr(o.g,r.g,s),Xr(o.b,r.b,s),Xr(o.a,r.a,s))},number:Xr});const If=.95047,sh=1.08883,Of=4/29,dl=6/29,lh=3*dl*dl,Id=dl*dl*dl,uh=Math.PI/180,Ku=180/Math.PI;function ch(o){return o>Id?Math.pow(o,1/3):o/lh+Of}function e1(o){return o>dl?o*o*o:lh*(o-Of)}function t1(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function Yu(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function hh(o){const r=Yu(o.r),s=Yu(o.g),u=Yu(o.b),p=ch((.4124564*r+.3575761*s+.1804375*u)/If),_=ch((.2126729*r+.7151522*s+.072175*u)/1);return{l:116*_-16,a:500*(p-_),b:200*(_-ch((.0193339*r+.119192*s+.9503041*u)/sh)),alpha:o.a}}function fh(o){let r=(o.l+16)/116,s=isNaN(o.a)?r:r+o.a/500,u=isNaN(o.b)?r:r-o.b/200;return r=1*e1(r),s=If*e1(s),u=sh*e1(u),new xn(t1(3.2404542*s-1.5371385*r-.4985314*u),t1(-.969266*s+1.8760108*r+.041556*u),t1(.0556434*s-.2040259*r+1.0572252*u),o.alpha)}function eu(o,r,s){const u=r-o;return o+s*(u>180||u<-180?u-360*Math.round(u/360):u)}const Ju={forward:hh,reverse:fh,interpolate:function(o,r,s){return{l:Xr(o.l,r.l,s),a:Xr(o.a,r.a,s),b:Xr(o.b,r.b,s),alpha:Xr(o.alpha,r.alpha,s)}}},tu={forward:function(o){const{l:r,a:s,b:u}=hh(o),p=Math.atan2(u,s)*Ku;return{h:p<0?p+360:p,c:Math.sqrt(s*s+u*u),l:r,alpha:o.a}},reverse:function(o){const r=o.h*uh,s=o.c;return fh({l:o.l,a:Math.cos(r)*s,b:Math.sin(r)*s,alpha:o.alpha})},interpolate:function(o,r,s){return{h:eu(o.h,r.h,s),c:Xr(o.c,r.c,s),l:Xr(o.l,r.l,s),alpha:Xr(o.alpha,r.alpha,s)}}};var dh=Object.freeze({__proto__:null,hcl:tu,lab:Ju});class ru{constructor(r,s,u,p,_){this.type=r,this.operator=s,this.interpolation=u,this.input=p,this.labels=[],this.outputs=[];for(const[b,E]of _)this.labels.push(b),this.outputs.push(E)}static interpolationFactor(r,s,u,p){let _=0;if(r.name==="exponential")_=r1(s,r.base,u,p);else if(r.name==="linear")_=r1(s,1,u,p);else if(r.name==="cubic-bezier"){const b=r.controlPoints;_=new te(b[0],b[1],b[2],b[3]).solve(r1(s,1,u,p))}return _}static parse(r,s){let[u,p,_,...b]=r;if(!Array.isArray(p)||p.length===0)return s.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const I=p[1];if(typeof I!="number")return s.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:I}}else{if(p[0]!=="cubic-bezier")return s.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const I=p.slice(1);if(I.length!==4||I.some((R=>typeof R!="number"||R<0||R>1)))return s.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:I}}}if(r.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return s.error("Expected an even number of arguments.");if(_=s.parse(_,2,Kt),!_)return null;const E=[];let A=null;u==="interpolate-hcl"||u==="interpolate-lab"?A=yo:s.expectedType&&s.expectedType.kind!=="value"&&(A=s.expectedType);for(let I=0;I<b.length;I+=2){const R=b[I],F=b[I+1],N=I+3,H=I+4;if(typeof R!="number")return s.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',N);if(E.length&&E[E.length-1][0]>=R)return s.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',N);const Z=s.parse(F,H,A);if(!Z)return null;A=A||Z.type,E.push([R,Z])}return A.kind==="number"||A.kind==="color"||A.kind==="array"&&A.itemType.kind==="number"&&typeof A.N=="number"?new ru(A,u,p,_,E):s.error(`Type ${Mn(A)} is not interpolatable.`)}evaluate(r){const s=this.labels,u=this.outputs;if(s.length===1)return u[0].evaluate(r);const p=this.input.evaluate(r);if(p<=s[0])return u[0].evaluate(r);const _=s.length;if(p>=s[_-1])return u[_-1].evaluate(r);const b=Jc(s,p),E=ru.interpolationFactor(this.interpolation,p,s[b],s[b+1]),A=u[b].evaluate(r),I=u[b+1].evaluate(r);return this.operator==="interpolate"?Xu[this.type.kind.toLowerCase()](A,I,E):this.operator==="interpolate-hcl"?tu.reverse(tu.interpolate(tu.forward(A),tu.forward(I),E)):Ju.reverse(Ju.interpolate(Ju.forward(A),Ju.forward(I),E))}eachChild(r){r(this.input);for(const s of this.outputs)r(s)}outputDefined(){return this.outputs.every((r=>r.outputDefined()))}serialize(){let r;r=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const s=[this.operator,r,this.input.serialize()];for(let u=0;u<this.labels.length;u++)s.push(this.labels[u],this.outputs[u].serialize());return s}}function r1(o,r,s,u){const p=u-s,_=o-s;return p===0?0:r===1?_/p:(Math.pow(r,_)-1)/(Math.pow(r,p)-1)}var _o=ru;class Ls{constructor(r,s){this.type=r,this.args=s}static parse(r,s){if(r.length<2)return s.error("Expectected at least one argument.");let u=null;const p=s.expectedType;p&&p.kind!=="value"&&(u=p);const _=[];for(const E of r.slice(1)){const A=s.parse(E,1+_.length,u,void 0,{typeAnnotation:"omit"});if(!A)return null;u=u||A.type,_.push(A)}const b=p&&_.some((E=>za(p,E.type)));return new Ls(b?Or:u,_)}evaluate(r){let s,u=null,p=0;for(const _ of this.args){if(p++,u=_.evaluate(r),u&&u instanceof Ko&&!u.available&&(s||(s=u),u=null,p===this.args.length))return s;if(u!==null)break}return u}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every((r=>r.outputDefined()))}serialize(){const r=["coalesce"];return this.eachChild((s=>{r.push(s.serialize())})),r}}var ph=Ls;class pl{constructor(r,s){this.type=s.type,this.bindings=[].concat(r),this.result=s}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const s of this.bindings)r(s[1]);r(this.result)}static parse(r,s){if(r.length<4)return s.error(`Expected at least 3 arguments, but found ${r.length-1} instead.`);const u=[];for(let _=1;_<r.length-1;_+=2){const b=r[_];if(typeof b!="string")return s.error(`Expected string, but found ${typeof b} instead.`,_);if(/[^a-zA-Z0-9_]/.test(b))return s.error("Variable names must contain only alphanumeric characters or '_'.",_);const E=s.parse(r[_+1],_+1);if(!E)return null;u.push([b,E])}const p=s.parse(r[r.length-1],r.length-1,s.expectedType,u);return p?new pl(u,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const r=["let"];for(const[s,u]of this.bindings)r.push(s,u.serialize());return r.push(this.result.serialize()),r}}var kf=pl;class n1{constructor(r,s,u){this.type=r,this.index=s,this.input=u}static parse(r,s){if(r.length!==3)return s.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const u=s.parse(r[1],1,Kt),p=s.parse(r[2],2,Do(s.expectedType||Or));return u&&p?new n1(p.type.itemType,u,p):null}evaluate(r){const s=this.index.evaluate(r),u=this.input.evaluate(r);if(s<0)throw new ri(`Array index out of bounds: ${s} < 0.`);if(s>=u.length)throw new ri(`Array index out of bounds: ${s} > ${u.length-1}.`);if(s!==Math.floor(s))throw new ri(`Array index must be an integer, but found ${s} instead.`);return u[s]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var mh=n1;class Qu{constructor(r,s){this.type=jr,this.needle=r,this.haystack=s}static parse(r,s){if(r.length!==3)return s.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const u=s.parse(r[1],1,Or),p=s.parse(r[2],2,Or);return u&&p?Hl(u.type,[jr,Gr,Kt,rs,Or])?new Qu(u,p):s.error(`Expected first argument to be of type boolean, string, number or null, but found ${Mn(u.type)} instead`):null}evaluate(r){const s=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(u==null)return!1;if(!Zl(s,["boolean","string","number","null"]))throw new ri(`Expected first argument to be of type boolean, string, number or null, but found ${Mn(Zn(s))} instead.`);if(!Zl(u,["string","array"]))throw new ri(`Expected second argument to be of type array or string, but found ${Mn(Zn(u))} instead.`);return u.indexOf(s)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var ec=Qu;class nu{constructor(r,s,u){this.type=Kt,this.needle=r,this.haystack=s,this.fromIndex=u}static parse(r,s){if(r.length<=2||r.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const u=s.parse(r[1],1,Or),p=s.parse(r[2],2,Or);if(!u||!p)return null;if(!Hl(u.type,[jr,Gr,Kt,rs,Or]))return s.error(`Expected first argument to be of type boolean, string, number or null, but found ${Mn(u.type)} instead`);if(r.length===4){const _=s.parse(r[3],3,Kt);return _?new nu(u,p,_):null}return new nu(u,p)}evaluate(r){const s=this.needle.evaluate(r),u=this.haystack.evaluate(r);if(!Zl(s,["boolean","string","number","null"]))throw new ri(`Expected first argument to be of type boolean, string, number or null, but found ${Mn(Zn(s))} instead.`);if(!Zl(u,["string","array"]))throw new ri(`Expected second argument to be of type array or string, but found ${Mn(Zn(u))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(r);return u.indexOf(s,p)}return u.indexOf(s)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var gh=nu;class yh{constructor(r,s,u,p,_,b){this.inputType=r,this.type=s,this.input=u,this.cases=p,this.outputs=_,this.otherwise=b}static parse(r,s){if(r.length<5)return s.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(r.length%2!=1)return s.error("Expected an even number of arguments.");let u,p;s.expectedType&&s.expectedType.kind!=="value"&&(p=s.expectedType);const _={},b=[];for(let I=2;I<r.length-1;I+=2){let R=r[I];const F=r[I+1];Array.isArray(R)||(R=[R]);const N=s.concat(I);if(R.length===0)return N.error("Expected at least one branch label.");for(const Z of R){if(typeof Z!="number"&&typeof Z!="string")return N.error("Branch labels must be numbers or strings.");if(typeof Z=="number"&&Math.abs(Z)>Number.MAX_SAFE_INTEGER)return N.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Z=="number"&&Math.floor(Z)!==Z)return N.error("Numeric branch labels must be integer values.");if(u){if(N.checkSubtype(u,Zn(Z)))return null}else u=Zn(Z);if(_[String(Z)]!==void 0)return N.error("Branch labels must be unique.");_[String(Z)]=b.length}const H=s.parse(F,I,p);if(!H)return null;p=p||H.type,b.push(H)}const E=s.parse(r[1],1,Or);if(!E)return null;const A=s.parse(r[r.length-1],r.length-1,p);return A?E.type.kind!=="value"&&s.concat(1).checkSubtype(u,E.type)?null:new yh(u,p,E,_,b,A):null}evaluate(r){const s=this.input.evaluate(r);return(Zn(s)===this.inputType&&this.outputs[this.cases[s]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every((r=>r.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const r=["match",this.input.serialize()],s=Object.keys(this.cases).sort(),u=[],p={};for(const b of s){const E=p[this.cases[b]];E===void 0?(p[this.cases[b]]=u.length,u.push([this.cases[b],[b]])):u[E][1].push(b)}const _=b=>this.inputType.kind==="number"?Number(b):b;for(const[b,E]of u)r.push(E.length===1?_(E[0]):E.map(_)),r.push(this.outputs[b].serialize());return r.push(this.otherwise.serialize()),r}}var Od=yh;class _h{constructor(r,s,u){this.type=r,this.branches=s,this.otherwise=u}static parse(r,s){if(r.length<4)return s.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(r.length%2!=0)return s.error("Expected an odd number of arguments.");let u;s.expectedType&&s.expectedType.kind!=="value"&&(u=s.expectedType);const p=[];for(let b=1;b<r.length-1;b+=2){const E=s.parse(r[b],b,jr);if(!E)return null;const A=s.parse(r[b+1],b+1,u);if(!A)return null;p.push([E,A]),u=u||A.type}const _=s.parse(r[r.length-1],r.length-1,u);return _?new _h(u,p,_):null}evaluate(r){for(const[s,u]of this.branches)if(s.evaluate(r))return u.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[s,u]of this.branches)r(s),r(u);r(this.otherwise)}outputDefined(){return this.branches.every((([r,s])=>s.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const r=["case"];return this.eachChild((s=>{r.push(s.serialize())})),r}}var Df=_h;class tc{constructor(r,s,u,p){this.type=r,this.input=s,this.beginIndex=u,this.endIndex=p}static parse(r,s){if(r.length<=2||r.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const u=s.parse(r[1],1,Or),p=s.parse(r[2],2,Kt);if(!u||!p)return null;if(!Hl(u.type,[Do(Or),Gr,Or]))return s.error(`Expected first argument to be of type array or string, but found ${Mn(u.type)} instead`);if(r.length===4){const _=s.parse(r[3],3,Kt);return _?new tc(u.type,u,p,_):null}return new tc(u.type,u,p)}evaluate(r){const s=this.input.evaluate(r),u=this.beginIndex.evaluate(r);if(!Zl(s,["string","array"]))throw new ri(`Expected first argument to be of type array or string, but found ${Mn(Zn(s))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(r);return s.slice(u,p)}return s.slice(u)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Qo=tc;function Rs(o,r){return o==="=="||o==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function vh(o,r,s,u){return u.compare(r,s)===0}function ml(o,r,s){const u=o!=="=="&&o!=="!=";return class tk{constructor(_,b,E){this.type=jr,this.lhs=_,this.rhs=b,this.collator=E,this.hasUntypedArgument=_.type.kind==="value"||b.type.kind==="value"}static parse(_,b){if(_.length!==3&&_.length!==4)return b.error("Expected two or three arguments.");const E=_[0];let A=b.parse(_[1],1,Or);if(!A)return null;if(!Rs(E,A.type))return b.concat(1).error(`"${E}" comparisons are not supported for type '${Mn(A.type)}'.`);let I=b.parse(_[2],2,Or);if(!I)return null;if(!Rs(E,I.type))return b.concat(2).error(`"${E}" comparisons are not supported for type '${Mn(I.type)}'.`);if(A.type.kind!==I.type.kind&&A.type.kind!=="value"&&I.type.kind!=="value")return b.error(`Cannot compare types '${Mn(A.type)}' and '${Mn(I.type)}'.`);u&&(A.type.kind==="value"&&I.type.kind!=="value"?A=new ns(I.type,[A]):A.type.kind!=="value"&&I.type.kind==="value"&&(I=new ns(A.type,[I])));let R=null;if(_.length===4){if(A.type.kind!=="string"&&I.type.kind!=="string"&&A.type.kind!=="value"&&I.type.kind!=="value")return b.error("Cannot use collator to compare non-string types.");if(R=b.parse(_[3],3,ko),!R)return null}return new tk(A,I,R)}evaluate(_){const b=this.lhs.evaluate(_),E=this.rhs.evaluate(_);if(u&&this.hasUntypedArgument){const A=Zn(b),I=Zn(E);if(A.kind!==I.kind||A.kind!=="string"&&A.kind!=="number")throw new ri(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${A.kind}, ${I.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const A=Zn(b),I=Zn(E);if(A.kind!=="string"||I.kind!=="string")return r(_,b,E)}return this.collator?s(_,b,E,this.collator.evaluate(_)):r(_,b,E)}eachChild(_){_(this.lhs),_(this.rhs),this.collator&&_(this.collator)}outputDefined(){return!0}serialize(){const _=[o];return this.eachChild((b=>{_.push(b.serialize())})),_}}}const Lf=ml("==",(function(o,r,s){return r===s}),vh),Rf=ml("!=",(function(o,r,s){return r!==s}),(function(o,r,s,u){return!vh(0,r,s,u)})),xh=ml("<",(function(o,r,s){return r<s}),(function(o,r,s,u){return u.compare(r,s)<0})),kd=ml(">",(function(o,r,s){return r>s}),(function(o,r,s,u){return u.compare(r,s)>0})),Dd=ml("<=",(function(o,r,s){return r<=s}),(function(o,r,s,u){return u.compare(r,s)<=0})),gl=ml(">=",(function(o,r,s){return r>=s}),(function(o,r,s,u){return u.compare(r,s)>=0}));class iu{constructor(r,s,u,p,_,b){this.type=Gr,this.number=r,this.locale=s,this.currency=u,this.unit=p,this.minFractionDigits=_,this.maxFractionDigits=b}static parse(r,s){if(r.length!==3)return s.error("Expected two arguments.");const u=s.parse(r[1],1,Kt);if(!u)return null;const p=r[2];if(typeof p!="object"||Array.isArray(p))return s.error("NumberFormat options argument must be an object.");let _=null;if(p.locale&&(_=s.parse(p.locale,1,Gr),!_))return null;let b=null;if(p.currency&&(b=s.parse(p.currency,1,Gr),!b))return null;let E=null;if(p.unit&&(E=s.parse(p.unit,1,Gr),!E))return null;let A=null;if(p["min-fraction-digits"]&&(A=s.parse(p["min-fraction-digits"],1,Kt),!A))return null;let I=null;return p["max-fraction-digits"]&&(I=s.parse(p["max-fraction-digits"],1,Kt),!I)?null:new iu(u,_,b,E,A,I)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(r):void 0,unit:this.unit?this.unit.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.unit&&r(this.unit),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const r={};return this.locale&&(r.locale=this.locale.serialize()),this.currency&&(r.currency=this.currency.serialize()),this.unit&&(r.unit=this.unit.serialize()),this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),r]}}class Ua{constructor(r){this.type=Kt,this.input=r}static parse(r,s){if(r.length!==2)return s.error(`Expected 1 argument, but found ${r.length-1} instead.`);const u=s.parse(r[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?s.error(`Expected argument of type string or array, but found ${Mn(u.type)} instead.`):new Ua(u):null}evaluate(r){const s=this.input.evaluate(r);if(typeof s=="string"||Array.isArray(s))return s.length;throw new ri(`Expected value to be of type string or array, but found ${Mn(Zn(s))} instead.`)}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){const r=["length"];return this.eachChild((s=>{r.push(s.serialize())})),r}}const i1={"==":Lf,"!=":Rf,">":kd,"<":xh,">=":gl,"<=":Dd,array:ns,at:mh,boolean:ns,case:Df,coalesce:ph,collator:ks,format:Fa,image:hl,in:ec,"index-of":gh,interpolate:_o,"interpolate-hcl":_o,"interpolate-lab":_o,length:Ua,let:kf,literal:ba,match:Od,number:ns,"number-format":iu,object:ns,slice:Qo,step:ah,string:ns,"to-boolean":Lo,"to-color":Lo,"to-number":Lo,"to-string":Lo,var:Cf,within:Kc};function bh(o,[r,s,u,p]){r=r.evaluate(o),s=s.evaluate(o),u=u.evaluate(o);const _=p?p.evaluate(o):1,b=Q1(r,s,u,_);if(b)throw new ri(b);return new xn(r/255*_,s/255*_,u/255*_,_)}function ea(o,r){return o in r}function os(o,r){const s=r[o];return s===void 0?null:s}function vo(o){return{type:o}}Jo.register(i1,{error:[{kind:"error"},[Gr],(o,[r])=>{throw new ri(r.evaluate(o))}],typeof:[Gr,[Or],(o,[r])=>Mn(Zn(r.evaluate(o)))],"to-rgba":[Do(Kt,4),[yo],(o,[r])=>r.evaluate(o).toArray()],rgb:[yo,[Kt,Kt,Kt],bh],rgba:[yo,[Kt,Kt,Kt,Kt],bh],has:{type:jr,overloads:[[[Gr],(o,[r])=>ea(r.evaluate(o),o.properties())],[[Gr,Oo],(o,[r,s])=>ea(r.evaluate(o),s.evaluate(o))]]},get:{type:Or,overloads:[[[Gr],(o,[r])=>os(r.evaluate(o),o.properties())],[[Gr,Oo],(o,[r,s])=>os(r.evaluate(o),s.evaluate(o))]]},"feature-state":[Or,[Gr],(o,[r])=>os(r.evaluate(o),o.featureState||{})],properties:[Oo,[],o=>o.properties()],"geometry-type":[Gr,[],o=>o.geometryType()],id:[Or,[],o=>o.id()],zoom:[Kt,[],o=>o.globals.zoom],pitch:[Kt,[],o=>o.globals.pitch||0],"distance-from-center":[Kt,[],o=>o.distanceFromCenter()],"heatmap-density":[Kt,[],o=>o.globals.heatmapDensity||0],"line-progress":[Kt,[],o=>o.globals.lineProgress||0],"sky-radial-progress":[Kt,[],o=>o.globals.skyRadialProgress||0],accumulated:[Or,[],o=>o.globals.accumulated===void 0?null:o.globals.accumulated],"+":[Kt,vo(Kt),(o,r)=>{let s=0;for(const u of r)s+=u.evaluate(o);return s}],"*":[Kt,vo(Kt),(o,r)=>{let s=1;for(const u of r)s*=u.evaluate(o);return s}],"-":{type:Kt,overloads:[[[Kt,Kt],(o,[r,s])=>r.evaluate(o)-s.evaluate(o)],[[Kt],(o,[r])=>-r.evaluate(o)]]},"/":[Kt,[Kt,Kt],(o,[r,s])=>r.evaluate(o)/s.evaluate(o)],"%":[Kt,[Kt,Kt],(o,[r,s])=>r.evaluate(o)%s.evaluate(o)],ln2:[Kt,[],()=>Math.LN2],pi:[Kt,[],()=>Math.PI],e:[Kt,[],()=>Math.E],"^":[Kt,[Kt,Kt],(o,[r,s])=>Math.pow(r.evaluate(o),s.evaluate(o))],sqrt:[Kt,[Kt],(o,[r])=>Math.sqrt(r.evaluate(o))],log10:[Kt,[Kt],(o,[r])=>Math.log(r.evaluate(o))/Math.LN10],ln:[Kt,[Kt],(o,[r])=>Math.log(r.evaluate(o))],log2:[Kt,[Kt],(o,[r])=>Math.log(r.evaluate(o))/Math.LN2],sin:[Kt,[Kt],(o,[r])=>Math.sin(r.evaluate(o))],cos:[Kt,[Kt],(o,[r])=>Math.cos(r.evaluate(o))],tan:[Kt,[Kt],(o,[r])=>Math.tan(r.evaluate(o))],asin:[Kt,[Kt],(o,[r])=>Math.asin(r.evaluate(o))],acos:[Kt,[Kt],(o,[r])=>Math.acos(r.evaluate(o))],atan:[Kt,[Kt],(o,[r])=>Math.atan(r.evaluate(o))],min:[Kt,vo(Kt),(o,r)=>Math.min(...r.map((s=>s.evaluate(o))))],max:[Kt,vo(Kt),(o,r)=>Math.max(...r.map((s=>s.evaluate(o))))],abs:[Kt,[Kt],(o,[r])=>Math.abs(r.evaluate(o))],round:[Kt,[Kt],(o,[r])=>{const s=r.evaluate(o);return s<0?-Math.round(-s):Math.round(s)}],floor:[Kt,[Kt],(o,[r])=>Math.floor(r.evaluate(o))],ceil:[Kt,[Kt],(o,[r])=>Math.ceil(r.evaluate(o))],"filter-==":[jr,[Gr,Or],(o,[r,s])=>o.properties()[r.value]===s.value],"filter-id-==":[jr,[Or],(o,[r])=>o.id()===r.value],"filter-type-==":[jr,[Gr],(o,[r])=>o.geometryType()===r.value],"filter-<":[jr,[Gr,Or],(o,[r,s])=>{const u=o.properties()[r.value],p=s.value;return typeof u==typeof p&&u<p}],"filter-id-<":[jr,[Or],(o,[r])=>{const s=o.id(),u=r.value;return typeof s==typeof u&&s<u}],"filter->":[jr,[Gr,Or],(o,[r,s])=>{const u=o.properties()[r.value],p=s.value;return typeof u==typeof p&&u>p}],"filter-id->":[jr,[Or],(o,[r])=>{const s=o.id(),u=r.value;return typeof s==typeof u&&s>u}],"filter-<=":[jr,[Gr,Or],(o,[r,s])=>{const u=o.properties()[r.value],p=s.value;return typeof u==typeof p&&u<=p}],"filter-id-<=":[jr,[Or],(o,[r])=>{const s=o.id(),u=r.value;return typeof s==typeof u&&s<=u}],"filter->=":[jr,[Gr,Or],(o,[r,s])=>{const u=o.properties()[r.value],p=s.value;return typeof u==typeof p&&u>=p}],"filter-id->=":[jr,[Or],(o,[r])=>{const s=o.id(),u=r.value;return typeof s==typeof u&&s>=u}],"filter-has":[jr,[Or],(o,[r])=>r.value in o.properties()],"filter-has-id":[jr,[],o=>o.id()!==null&&o.id()!==void 0],"filter-type-in":[jr,[Do(Gr)],(o,[r])=>r.value.indexOf(o.geometryType())>=0],"filter-id-in":[jr,[Do(Or)],(o,[r])=>r.value.indexOf(o.id())>=0],"filter-in-small":[jr,[Gr,Do(Or)],(o,[r,s])=>s.value.indexOf(o.properties()[r.value])>=0],"filter-in-large":[jr,[Gr,Do(Or)],(o,[r,s])=>(function(u,p,_,b){for(;_<=b;){const E=_+b>>1;if(p[E]===u)return!0;p[E]>u?b=E-1:_=E+1}return!1})(o.properties()[r.value],s.value,0,s.value.length-1)],all:{type:jr,overloads:[[[jr,jr],(o,[r,s])=>r.evaluate(o)&&s.evaluate(o)],[vo(jr),(o,r)=>{for(const s of r)if(!s.evaluate(o))return!1;return!0}]]},any:{type:jr,overloads:[[[jr,jr],(o,[r,s])=>r.evaluate(o)||s.evaluate(o)],[vo(jr),(o,r)=>{for(const s of r)if(s.evaluate(o))return!0;return!1}]]},"!":[jr,[jr],(o,[r])=>!r.evaluate(o)],"is-supported-script":[jr,[Gr],(o,[r])=>{const s=o.globals&&o.globals.isSupportedScript;return!s||s(r.evaluate(o))}],upcase:[Gr,[Gr],(o,[r])=>r.evaluate(o).toUpperCase()],downcase:[Gr,[Gr],(o,[r])=>r.evaluate(o).toLowerCase()],concat:[Gr,vo(Or),(o,r)=>r.map((s=>qu(s.evaluate(o)))).join("")],"resolved-locale":[Gr,[ko],(o,[r])=>r.evaluate(o).resolvedLocale()]});var ou=i1;function rc(o){return{result:"success",value:o}}function zs(o){return{result:"error",value:o}}function yl(o){return o["property-type"]==="data-driven"}function nc(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function ic(o){return!!o.expression&&o.expression.interpolated}function Yr(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function au(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function as(o){return o}function su(o,r){const s=r.type==="color",u=o.stops&&typeof o.stops[0][0]=="object",p=u||!(u||o.property!==void 0),_=o.type||(ic(r)?"exponential":"interval");if(s&&((o=Hr({},o)).stops&&(o.stops=o.stops.map((I=>[I[0],xn.parse(I[1])]))),o.default=xn.parse(o.default?o.default:r.default)),o.colorSpace&&o.colorSpace!=="rgb"&&!dh[o.colorSpace])throw new Error(`Unknown color space: ${o.colorSpace}`);let b,E,A;if(_==="exponential")b=Ro;else if(_==="interval")b=o1;else if(_==="categorical"){b=zf,E=Object.create(null);for(const I of o.stops)E[I[0]]=I[1];A=typeof o.stops[0][0]}else{if(_!=="identity")throw new Error(`Unknown function type "${_}"`);b=Bf}if(u){const I={},R=[];for(let H=0;H<o.stops.length;H++){const Z=o.stops[H],J=Z[0].zoom;I[J]===void 0&&(I[J]={zoom:J,type:o.type,property:o.property,default:o.default,stops:[]},R.push(J)),I[J].stops.push([Z[0].value,Z[1]])}const F=[];for(const H of R)F.push([I[H].zoom,su(I[H],r)]);const N={name:"linear"};return{kind:"composite",interpolationType:N,interpolationFactor:_o.interpolationFactor.bind(void 0,N),zoomStops:F.map((H=>H[0])),evaluate:({zoom:H},Z)=>Ro({stops:F,base:o.base},r,H).evaluate(H,Z)}}if(p){const I=_==="exponential"?{name:"exponential",base:o.base!==void 0?o.base:1}:null;return{kind:"camera",interpolationType:I,interpolationFactor:_o.interpolationFactor.bind(void 0,I),zoomStops:o.stops.map((R=>R[0])),evaluate:({zoom:R})=>b(o,r,R,E,A)}}return{kind:"source",evaluate(I,R){const F=R&&R.properties?R.properties[o.property]:void 0;return F===void 0?Bs(o.default,r.default):b(o,r,F,E,A)}}}function Bs(o,r,s){return o!==void 0?o:r!==void 0?r:s!==void 0?s:void 0}function zf(o,r,s,u,p){return Bs(typeof s===p?u[s]:void 0,o.default,r.default)}function o1(o,r,s){if(Yr(s)!=="number")return Bs(o.default,r.default);const u=o.stops.length;if(u===1||s<=o.stops[0][0])return o.stops[0][1];if(s>=o.stops[u-1][0])return o.stops[u-1][1];const p=Jc(o.stops.map((_=>_[0])),s);return o.stops[p][1]}function Ro(o,r,s){const u=o.base!==void 0?o.base:1;if(Yr(s)!=="number")return Bs(o.default,r.default);const p=o.stops.length;if(p===1||s<=o.stops[0][0])return o.stops[0][1];if(s>=o.stops[p-1][0])return o.stops[p-1][1];const _=Jc(o.stops.map((R=>R[0])),s),b=(function(R,F,N,H){const Z=H-N,J=R-N;return Z===0?0:F===1?J/Z:(Math.pow(F,J)-1)/(Math.pow(F,Z)-1)})(s,u,o.stops[_][0],o.stops[_+1][0]),E=o.stops[_][1],A=o.stops[_+1][1];let I=Xu[r.type]||as;if(o.colorSpace&&o.colorSpace!=="rgb"){const R=dh[o.colorSpace];I=(F,N)=>R.reverse(R.interpolate(R.forward(F),R.forward(N),b))}return typeof E.evaluate=="function"?{evaluate(...R){const F=E.evaluate.apply(void 0,R),N=A.evaluate.apply(void 0,R);if(F!==void 0&&N!==void 0)return I(F,N,b)}}:I(E,A,b)}function Bf(o,r,s){return r.type==="color"?s=xn.parse(s):r.type==="formatted"?s=Li.fromString(s.toString()):r.type==="resolvedImage"?s=Ko.fromString(s.toString()):Yr(s)===r.type||r.type==="enum"&&r.values[s]||(s=void 0),Bs(s,o.default,r.default)}class oc{constructor(r,s){this.expression=r,this._warningHistory={},this._evaluator=new Kl,this._defaultValue=s?(function(u){return u.type==="color"&&(au(u.default)||Array.isArray(u.default))?new xn(0,0,0,0):u.type==="color"?xn.parse(u.default)||null:u.default===void 0?null:u.default})(s):null,this._enumValues=s&&s.type==="enum"?s.values:null}evaluateWithoutErrorHandling(r,s,u,p,_,b,E,A){return this._evaluator.globals=r,this._evaluator.feature=s,this._evaluator.featureState=u,this._evaluator.canonical=p||null,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=b,this._evaluator.featureTileCoord=E||null,this._evaluator.featureDistanceData=A||null,this.expression.evaluate(this._evaluator)}evaluate(r,s,u,p,_,b,E,A){this._evaluator.globals=r,this._evaluator.feature=s||null,this._evaluator.featureState=u||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=b||null,this._evaluator.featureTileCoord=E||null,this._evaluator.featureDistanceData=A||null;try{const I=this.expression.evaluate(this._evaluator);if(I==null||typeof I=="number"&&I!=I)return this._defaultValue;if(this._enumValues&&!(I in this._enumValues))throw new ri(`Expected value to be one of ${Object.keys(this._enumValues).map((R=>JSON.stringify(R))).join(", ")}, but found ${JSON.stringify(I)} instead.`);return I}catch(I){return this._warningHistory[I.message]||(this._warningHistory[I.message]=!0,typeof console<"u"&&console.warn(I.message)),this._defaultValue}}}function _l(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in ou}function _n(o,r){const s=new oh(ou,[],r?(function(p){const _={color:yo,string:Gr,number:Kt,enum:Gr,boolean:jr,formatted:ul,resolvedImage:tn};return p.type==="array"?Do(_[p.value]||Or,p.length):_[p.type]})(r):void 0),u=s.parse(o,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return u?rc(new oc(u,r)):zs(s.errors)}class ac{constructor(r,s){this.kind=r,this._styleExpression=s,this.isStateDependent=r!=="constant"&&!is(s.expression)}evaluateWithoutErrorHandling(r,s,u,p,_,b){return this._styleExpression.evaluateWithoutErrorHandling(r,s,u,p,_,b)}evaluate(r,s,u,p,_,b){return this._styleExpression.evaluate(r,s,u,p,_,b)}}class Fs{constructor(r,s,u,p){this.kind=r,this.zoomStops=u,this._styleExpression=s,this.isStateDependent=r!=="camera"&&!is(s.expression),this.interpolationType=p}evaluateWithoutErrorHandling(r,s,u,p,_,b){return this._styleExpression.evaluateWithoutErrorHandling(r,s,u,p,_,b)}evaluate(r,s,u,p,_,b){return this._styleExpression.evaluate(r,s,u,p,_,b)}interpolationFactor(r,s,u){return this.interpolationType?_o.interpolationFactor(this.interpolationType,r,s,u):0}}function ss(o,r){if((o=_n(o,r)).result==="error")return o;const s=o.value.expression,u=Ql(s);if(!u&&!yl(r))return zs([new Io("","data expressions not supported")]);const p=Ds(s,["zoom","pitch","distance-from-center"]);if(!p&&!nc(r))return zs([new Io("","zoom expressions not supported")]);const _=lu(s);return _||p?_ instanceof Io?zs([_]):_ instanceof _o&&!ic(r)?zs([new Io("",'"interpolate" expressions cannot be used with this property')]):rc(_?new Fs(u?"camera":"composite",o.value,_.labels,_ instanceof _o?_.interpolation:void 0):new ac(u?"constant":"source",o.value)):zs([new Io("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class sc{constructor(r,s){this._parameters=r,this._specification=s,Hr(this,su(this._parameters,this._specification))}static deserialize(r){return new sc(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function lu(o){let r=null;if(o instanceof kf)r=lu(o.result);else if(o instanceof ph){for(const s of o.args)if(r=lu(s),r)break}else(o instanceof ah||o instanceof _o)&&o.input instanceof Jo&&o.input.name==="zoom"&&(r=o);return r instanceof Io||o.eachChild((s=>{const u=lu(s);u instanceof Io?r=u:!r&&u?r=new Io("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&u&&r!==u&&(r=new Io("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),r}class Wt{constructor(r,s,u,p){this.message=(r?`${r}: `:"")+u,p&&(this.identifier=p),s!=null&&s.__line__&&(this.line=s.__line__)}}function xo(o){const r=o.key,s=o.value,u=o.valueSpec||{},p=o.objectElementValidators||{},_=o.style,b=o.styleSpec;let E=[];const A=Yr(s);if(A!=="object")return[new Wt(r,s,`object expected, ${A} found`)];for(const I in s){const R=I.split(".")[0];let F;p[R]?F=p[R]:u[R]?F=Wr:p["*"]?F=p["*"]:u["*"]&&(F=Wr),F?E=E.concat(F({key:(r&&`${r}.`)+I,value:s[I],valueSpec:u[R]||u["*"],style:_,styleSpec:b,object:s,objectKey:I},s)):E.push(new Wt(r,s[I],`unknown property "${I}"`))}for(const I in u)p[I]||u[I].required&&u[I].default===void 0&&s[I]===void 0&&E.push(new Wt(r,s,`missing required property "${I}"`));return E}function vl(o){const r=o.value,s=o.valueSpec,u=o.style,p=o.styleSpec,_=o.key,b=o.arrayElementValidator||Wr;if(Yr(r)!=="array")return[new Wt(_,r,`array expected, ${Yr(r)} found`)];if(s.length&&r.length!==s.length)return[new Wt(_,r,`array length ${s.length} expected, length ${r.length} found`)];if(s["min-length"]&&r.length<s["min-length"])return[new Wt(_,r,`array length at least ${s["min-length"]} expected, length ${r.length} found`)];let E={type:s.value,values:s.values,minimum:s.minimum,maximum:s.maximum,function:void 0};p.$version<7&&(E.function=s.function),Yr(s.value)==="object"&&(E=s.value);let A=[];for(let I=0;I<r.length;I++)A=A.concat(b({array:r,arrayIndex:I,value:r[I],valueSpec:E,style:u,styleSpec:p,key:`${_}[${I}]`}));return A}function uu(o){const r=o.key,s=o.value,u=o.valueSpec;let p=Yr(s);if(p==="number"&&s!=s&&(p="NaN"),p!=="number")return[new Wt(r,s,`number expected, ${p} found`)];if("minimum"in u){let _=u.minimum;if(Yr(u.minimum)==="array"&&(_=u.minimum[o.arrayIndex]),s<_)return[new Wt(r,s,`${s} is less than the minimum value ${_}`)]}if("maximum"in u){let _=u.maximum;if(Yr(u.maximum)==="array"&&(_=u.maximum[o.arrayIndex]),s>_)return[new Wt(r,s,`${s} is greater than the maximum value ${_}`)]}return[]}function lc(o){const r=o.valueSpec,s=Sn(o.value.type);let u,p,_,b={};const E=s!=="categorical"&&o.value.property===void 0,A=!E,I=Yr(o.value.stops)==="array"&&Yr(o.value.stops[0])==="array"&&Yr(o.value.stops[0][0])==="object",R=xo({key:o.key,value:o.value,valueSpec:o.styleSpec.function,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(H){if(s==="identity")return[new Wt(H.key,H.value,'identity function may not have a "stops" property')];let Z=[];const J=H.value;return Z=Z.concat(vl({key:H.key,value:J,valueSpec:H.valueSpec,style:H.style,styleSpec:H.styleSpec,arrayElementValidator:F})),Yr(J)==="array"&&J.length===0&&Z.push(new Wt(H.key,J,"array must have at least one stop")),Z},default:function(H){return Wr({key:H.key,value:H.value,valueSpec:r,style:H.style,styleSpec:H.styleSpec})}}});return s==="identity"&&E&&R.push(new Wt(o.key,o.value,'missing required property "property"')),s==="identity"||o.value.stops||R.push(new Wt(o.key,o.value,'missing required property "stops"')),s==="exponential"&&o.valueSpec.expression&&!ic(o.valueSpec)&&R.push(new Wt(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(A&&!yl(o.valueSpec)?R.push(new Wt(o.key,o.value,"property functions not supported")):E&&!nc(o.valueSpec)&&R.push(new Wt(o.key,o.value,"zoom functions not supported"))),s!=="categorical"&&!I||o.value.property!==void 0||R.push(new Wt(o.key,o.value,'"property" property is required')),R;function F(H){let Z=[];const J=H.value,ue=H.key;if(Yr(J)!=="array")return[new Wt(ue,J,`array expected, ${Yr(J)} found`)];if(J.length!==2)return[new Wt(ue,J,`array length 2 expected, length ${J.length} found`)];if(I){if(Yr(J[0])!=="object")return[new Wt(ue,J,`object expected, ${Yr(J[0])} found`)];if(J[0].zoom===void 0)return[new Wt(ue,J,"object stop key must have zoom")];if(J[0].value===void 0)return[new Wt(ue,J,"object stop key must have value")];const me=Sn(J[0].zoom);if(typeof me!="number")return[new Wt(ue,J[0].zoom,"stop zoom values must be numbers")];if(_&&_>me)return[new Wt(ue,J[0].zoom,"stop zoom values must appear in ascending order")];me!==_&&(_=me,p=void 0,b={}),Z=Z.concat(xo({key:`${ue}[0]`,value:J[0],valueSpec:{zoom:{}},style:H.style,styleSpec:H.styleSpec,objectElementValidators:{zoom:uu,value:N}}))}else Z=Z.concat(N({key:`${ue}[0]`,value:J[0],style:H.style,styleSpec:H.styleSpec},J));return _l(ci(J[1]))?Z.concat([new Wt(`${ue}[1]`,J[1],"expressions are not allowed in function stops.")]):Z.concat(Wr({key:`${ue}[1]`,value:J[1],valueSpec:r,style:H.style,styleSpec:H.styleSpec}))}function N(H,Z){const J=Yr(H.value),ue=Sn(H.value),me=H.value!==null?H.value:Z;if(u){if(J!==u)return[new Wt(H.key,me,`${J} stop domain type must match previous stop domain type ${u}`)]}else u=J;if(J!=="number"&&J!=="string"&&J!=="boolean"&&typeof ue!="number"&&typeof ue!="string"&&typeof ue!="boolean")return[new Wt(H.key,me,"stop domain value must be a number, string, or boolean")];if(J!=="number"&&s!=="categorical"){let Ie=`number expected, ${J} found`;return yl(r)&&s===void 0&&(Ie+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Wt(H.key,me,Ie)]}return s!=="categorical"||J!=="number"||typeof ue=="number"&&isFinite(ue)&&Math.floor(ue)===ue?s!=="categorical"&&J==="number"&&typeof ue=="number"&&typeof p=="number"&&p!==void 0&&ue<p?[new Wt(H.key,me,"stop domain values must appear in ascending order")]:(p=ue,s==="categorical"&&ue in b?[new Wt(H.key,me,"stop domain values must be unique")]:(b[ue]=!0,[])):[new Wt(H.key,me,`integer expected, found ${String(ue)}`)]}}function Ri(o){const r=(o.expressionContext==="property"?ss:_n)(ci(o.value),o.valueSpec);if(r.result==="error")return r.value.map((u=>new Wt(`${o.key}${u.key}`,o.value,u.message)));const s=r.value.expression||r.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!s.outputDefined())return[new Wt(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!is(s))return[new Wt(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter")return cu(s,o);if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!Ds(s,["zoom","feature-state"]))return[new Wt(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!Ql(s))return[new Wt(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function cu(o,r){const s=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const p of r.valueSpec.expression.parameters)s.delete(p);if(s.size===0)return[];const u=[];return o instanceof Jo&&s.has(o.name)?[new Wt(r.key,r.value,`["${o.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(o.eachChild((p=>{u.push(...cu(p,r))})),u)}function xl(o){const r=o.key,s=o.value,u=o.valueSpec,p=[];return Array.isArray(u.values)?u.values.indexOf(Sn(s))===-1&&p.push(new Wt(r,s,`expected one of [${u.values.join(", ")}], ${JSON.stringify(s)} found`)):Object.keys(u.values).indexOf(Sn(s))===-1&&p.push(new Wt(r,s,`expected one of [${Object.keys(u.values).join(", ")}], ${JSON.stringify(s)} found`)),p}function hu(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const r of o.slice(1))if(!hu(r)&&typeof r!="boolean")return!1;return!0;default:return!0}}function fu(o,r="fill"){if(o==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};hu(o)||(o=pu(o));const s=o;let u=!0;try{u=(function(I){if(!js(I))return I;let R=ci(I);return du(R),R=a1(R),R})(s)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(s,null,2)}
        `)}const p=gt[`filter_${r}`],_=_n(u,p);let b=null;if(_.result==="error")throw new Error(_.value.map((I=>`${I.key}: ${I.message}`)).join(", "));b=(I,R,F)=>_.value.evaluate(I,R,{},F);let E=null,A=null;if(u!==s){const I=_n(s,p);if(I.result==="error")throw new Error(I.value.map((R=>`${R.key}: ${R.message}`)).join(", "));E=(R,F,N,H,Z)=>I.value.evaluate(R,F,{},N,void 0,void 0,H,Z),A=!Ql(I.value.expression)}return{filter:b,dynamicFilter:E||void 0,needGeometry:jf(u),needFeature:!!A}}function a1(o){if(!Array.isArray(o))return o;const r=(function(s){if(wh.has(s[0])){for(let u=1;u<s.length;u++)if(js(s[u]))return!0}return s})(o);return r===!0?r:r.map((s=>a1(s)))}function du(o){let r=!1;const s=[];if(o[0]==="case"){for(let u=1;u<o.length-1;u+=2)r=r||js(o[u]),s.push(o[u+1]);s.push(o[o.length-1])}else if(o[0]==="match"){r=r||js(o[1]);for(let u=2;u<o.length-1;u+=2)s.push(o[u+1]);s.push(o[o.length-1])}else if(o[0]==="step"){r=r||js(o[1]);for(let u=1;u<o.length-1;u+=2)s.push(o[u+1])}r&&(o.length=0,o.push("any",...s));for(let u=1;u<o.length;u++)du(o[u])}function js(o){if(!Array.isArray(o))return!1;if((r=o[0])==="pitch"||r==="distance-from-center")return!0;var r;for(let s=1;s<o.length;s++)if(js(o[s]))return!0;return!1}const wh=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Ff(o,r){return o<r?-1:o>r?1:0}function jf(o){if(!Array.isArray(o))return!1;if(o[0]==="within")return!0;for(let r=1;r<o.length;r++)if(jf(o[r]))return!0;return!1}function pu(o){if(!o)return!0;const r=o[0];return o.length<=1?r!=="any":r==="=="?uc(o[1],o[2],"=="):r==="!="?ls(uc(o[1],o[2],"==")):r==="<"||r===">"||r==="<="||r===">="?uc(o[1],o[2],r):r==="any"?(s=o.slice(1),["any"].concat(s.map(pu))):r==="all"?["all"].concat(o.slice(1).map(pu)):r==="none"?["all"].concat(o.slice(1).map(pu).map(ls)):r==="in"?$a(o[1],o.slice(2)):r==="!in"?ls($a(o[1],o.slice(2))):r==="has"?s1(o[1]):r==="!has"?ls(s1(o[1])):r!=="within"||o;var s}function uc(o,r,s){switch(o){case"$type":return[`filter-type-${s}`,r];case"$id":return[`filter-id-${s}`,r];default:return[`filter-${s}`,o,r]}}function $a(o,r){if(r.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some((s=>typeof s!=typeof r[0]))?["filter-in-large",o,["literal",r.sort(Ff)]]:["filter-in-small",o,["literal",r]]}}function s1(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function ls(o){return["!",o]}function bo(o){return hu(ci(o.value))?Ri(Hr({},o,{expressionContext:"filter",valueSpec:o.styleSpec[`filter_${o.layerType||"fill"}`]})):us(o)}function us(o){const r=o.value,s=o.key;if(Yr(r)!=="array")return[new Wt(s,r,`array expected, ${Yr(r)} found`)];const u=o.styleSpec;let p,_=[];if(r.length<1)return[new Wt(s,r,"filter array must have at least 1 element")];switch(_=_.concat(xl({key:`${s}[0]`,value:r[0],valueSpec:u.filter_operator,style:o.style,styleSpec:o.styleSpec})),Sn(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&Sn(r[1])==="$type"&&_.push(new Wt(s,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&_.push(new Wt(s,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(p=Yr(r[1]),p!=="string"&&_.push(new Wt(`${s}[1]`,r[1],`string expected, ${p} found`)));for(let b=2;b<r.length;b++)p=Yr(r[b]),Sn(r[1])==="$type"?_=_.concat(xl({key:`${s}[${b}]`,value:r[b],valueSpec:u.geometry_type,style:o.style,styleSpec:o.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&_.push(new Wt(`${s}[${b}]`,r[b],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let b=1;b<r.length;b++)_=_.concat(us({key:`${s}[${b}]`,value:r[b],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":p=Yr(r[1]),r.length!==2?_.push(new Wt(s,r,`filter array for "${r[0]}" operator must have 2 elements`)):p!=="string"&&_.push(new Wt(`${s}[1]`,r[1],`string expected, ${p} found`));break;case"within":p=Yr(r[1]),r.length!==2?_.push(new Wt(s,r,`filter array for "${r[0]}" operator must have 2 elements`)):p!=="object"&&_.push(new Wt(`${s}[1]`,r[1],`object expected, ${p} found`))}return _}function Sa(o,r){const s=o.key,u=o.style,p=o.styleSpec,_=o.value,b=o.objectKey,E=p[`${r}_${o.layerType}`];if(!E)return[];const A=b.match(/^(.*)-transition$/);if(r==="paint"&&A&&E[A[1]]&&E[A[1]].transition)return Wr({key:s,value:_,valueSpec:p.transition,style:u,styleSpec:p});const I=o.valueSpec||E[b];if(!I)return[new Wt(s,_,`unknown property "${b}"`)];let R;if(Yr(_)==="string"&&yl(I)&&!I.tokens&&(R=/^{([^}]+)}$/.exec(_))){const N=`\`{ "type": "identity", "property": ${R?JSON.stringify(R[1]):'"_"'} }\``;return[new Wt(s,_,`"${b}" does not support interpolation syntax
Use an identity property function instead: ${N}.`)]}const F=[];return o.layerType==="symbol"&&(b==="text-field"&&u&&!u.glyphs&&F.push(new Wt(s,_,'use of "text-field" requires a style "glyphs" property')),b==="text-font"&&au(ci(_))&&Sn(_.type)==="identity"&&F.push(new Wt(s,_,'"text-font" does not support identity functions'))),F.concat(Wr({key:o.key,value:_,valueSpec:I,style:u,styleSpec:p,expressionContext:"property",propertyType:r,propertyKey:b}))}function l1(o){return Sa(o,"paint")}function Sh(o){return Sa(o,"layout")}function Nf(o){let r=[];const s=o.value,u=o.key,p=o.style,_=o.styleSpec;s.type||s.ref||r.push(new Wt(u,s,'either "type" or "ref" is required'));let b=Sn(s.type);const E=Sn(s.ref);if(s.id){const A=Sn(s.id);for(let I=0;I<o.arrayIndex;I++){const R=p.layers[I];Sn(R.id)===A&&r.push(new Wt(u,s.id,`duplicate layer id "${s.id}", previously used at line ${R.id.__line__}`))}}if("ref"in s){let A;["type","source","source-layer","filter","layout"].forEach((I=>{I in s&&r.push(new Wt(u,s[I],`"${I}" is prohibited for ref layers`))})),p.layers.forEach((I=>{Sn(I.id)===E&&(A=I)})),A?A.ref?r.push(new Wt(u,s.ref,"ref cannot reference another ref layer")):b=Sn(A.type):typeof E=="string"&&r.push(new Wt(u,s.ref,`ref layer "${E}" not found`))}else if(b!=="background"&&b!=="sky")if(s.source){const A=p.sources&&p.sources[s.source],I=A&&Sn(A.type);A?I==="vector"&&b==="raster"?r.push(new Wt(u,s.source,`layer "${s.id}" requires a raster source`)):I==="raster"&&b!=="raster"?r.push(new Wt(u,s.source,`layer "${s.id}" requires a vector source`)):I!=="vector"||s["source-layer"]?I==="raster-dem"&&b!=="hillshade"?r.push(new Wt(u,s.source,"raster-dem source can only be used with layer type 'hillshade'.")):b!=="line"||!s.paint||!s.paint["line-gradient"]&&!s.paint["line-trim-offset"]||I==="geojson"&&A.lineMetrics||r.push(new Wt(u,s,`layer "${s.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new Wt(u,s,`layer "${s.id}" must specify a "source-layer"`)):r.push(new Wt(u,s.source,`source "${s.source}" not found`))}else r.push(new Wt(u,s,'missing required property "source"'));return r=r.concat(xo({key:u,value:s,valueSpec:_.layer,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Wr({key:`${u}.type`,value:s.type,valueSpec:_.layer.type,style:o.style,styleSpec:o.styleSpec,object:s,objectKey:"type"}),filter:A=>bo(Hr({layerType:b},A)),layout:A=>xo({layer:s,key:A.key,value:A.value,valueSpec:{},style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":I=>Sh(Hr({layerType:b},I))}}),paint:A=>xo({layer:s,key:A.key,value:A.value,valueSpec:{},style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":I=>l1(Hr({layerType:b},I))}})}})),r}function wo(o){const r=o.value,s=o.key,u=Yr(r);return u!=="string"?[new Wt(s,r,`string expected, ${u} found`)]:[]}const mu={promoteId:function({key:o,value:r}){if(Yr(r)==="string")return wo({key:o,value:r});{const s=[];for(const u in r)s.push(...wo({key:`${o}.${u}`,value:r[u]}));return s}}};function bl(o){const r=o.value,s=o.key,u=o.styleSpec,p=o.style;if(!r.type)return[new Wt(s,r,'"type" is required')];const _=Sn(r.type);let b;switch(_){case"vector":case"raster":case"raster-dem":return b=xo({key:s,value:r,valueSpec:u[`source_${_.replace("-","_")}`],style:o.style,styleSpec:u,objectElementValidators:mu}),b;case"geojson":if(b=xo({key:s,value:r,valueSpec:u.source_geojson,style:p,styleSpec:u,objectElementValidators:mu}),r.cluster)for(const E in r.clusterProperties){const[A,I]=r.clusterProperties[E],R=typeof A=="string"?[A,["accumulated"],["get",E]]:A;b.push(...Ri({key:`${s}.${E}.map`,value:I,expressionContext:"cluster-map"})),b.push(...Ri({key:`${s}.${E}.reduce`,value:R,expressionContext:"cluster-reduce"}))}return b;case"video":return xo({key:s,value:r,valueSpec:u.source_video,style:p,styleSpec:u});case"image":return xo({key:s,value:r,valueSpec:u.source_image,style:p,styleSpec:u});case"canvas":return[new Wt(s,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return xl({key:`${s}.type`,value:r.type,valueSpec:{values:u1(u)}})}}function u1(o){return o.source.reduce(((r,s)=>{const u=o[s];return u.type.type==="enum"&&(r=r.concat(Object.keys(u.type.values))),r}),[])}function c1(o){const r=o.value,s=o.styleSpec,u=s.light,p=o.style;let _=[];const b=Yr(r);if(r===void 0)return _;if(b!=="object")return _=_.concat([new Wt("light",r,`object expected, ${b} found`)]),_;for(const E in r){const A=E.match(/^(.*)-transition$/);_=_.concat(A&&u[A[1]]&&u[A[1]].transition?Wr({key:E,value:r[E],valueSpec:s.transition,style:p,styleSpec:s}):u[E]?Wr({key:E,value:r[E],valueSpec:u[E],style:p,styleSpec:s}):[new Wt(E,r[E],`unknown property "${E}"`)])}return _}function Ns(o){const r=o.value,s=o.key,u=o.style,p=o.styleSpec,_=p.terrain;let b=[];const E=Yr(r);if(r===void 0)return b;if(E!=="object")return b=b.concat([new Wt("terrain",r,`object expected, ${E} found`)]),b;for(const A in r){const I=A.match(/^(.*)-transition$/);b=b.concat(I&&_[I[1]]&&_[I[1]].transition?Wr({key:A,value:r[A],valueSpec:p.transition,style:u,styleSpec:p}):_[A]?Wr({key:A,value:r[A],valueSpec:_[A],style:u,styleSpec:p}):[new Wt(A,r[A],`unknown property "${A}"`)])}if(r.source){const A=u.sources&&u.sources[r.source],I=A&&Sn(A.type);A?I!=="raster-dem"&&b.push(new Wt(s,r.source,`terrain cannot be used with a source of type ${String(I)}, it only be used with a "raster-dem" source type`)):b.push(new Wt(s,r.source,`source "${r.source}" not found`))}else b.push(new Wt(s,r,'terrain is missing required property "source"'));return b}function cs(o){const r=o.value,s=o.style,u=o.styleSpec,p=u.fog;let _=[];const b=Yr(r);if(r===void 0)return _;if(b!=="object")return _=_.concat([new Wt("fog",r,`object expected, ${b} found`)]),_;for(const E in r){const A=E.match(/^(.*)-transition$/);_=_.concat(A&&p[A[1]]&&p[A[1]].transition?Wr({key:E,value:r[E],valueSpec:u.transition,style:s,styleSpec:u}):p[E]?Wr({key:E,value:r[E],valueSpec:p[E],style:s,styleSpec:u}):[new Wt(E,r[E],`unknown property "${E}"`)])}return _}const zn={"*":()=>[],array:vl,boolean:function(o){const r=o.value,s=o.key,u=Yr(r);return u!=="boolean"?[new Wt(s,r,`boolean expected, ${u} found`)]:[]},number:uu,color:function(o){const r=o.key,s=o.value,u=Yr(s);return u!=="string"?[new Wt(r,s,`color expected, ${u} found`)]:$u(s)===null?[new Wt(r,s,`color expected, "${s}" found`)]:[]},enum:xl,filter:bo,function:lc,layer:Nf,object:xo,source:bl,light:c1,terrain:Ns,fog:cs,string:wo,formatted:function(o){return wo(o).length===0?[]:Ri(o)},resolvedImage:function(o){return wo(o).length===0?[]:Ri(o)},projection:function(o){const r=o.value,s=o.styleSpec,u=s.projection,p=o.style;let _=[];const b=Yr(r);if(b==="object")for(const E in r)_=_.concat(Wr({key:E,value:r[E],valueSpec:u[E],style:p,styleSpec:s}));else b!=="string"&&(_=_.concat([new Wt("projection",r,`object or string expected, ${b} found`)]));return _}};function Wr(o){const r=o.value,s=o.valueSpec,u=o.styleSpec;return s.expression&&au(Sn(r))?lc(o):s.expression&&_l(ci(r))?Ri(o):s.type&&zn[s.type]?zn[s.type](o):xo(Hr({},o,{valueSpec:s.type?u[s.type]:s}))}function Us(o){const r=o.value,s=o.key,u=wo(o);return u.length||(r.indexOf("{fontstack}")===-1&&u.push(new Wt(s,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&u.push(new Wt(s,r,'"glyphs" url must include a "{range}" token'))),u}function $i(o,r=gt){return Vi(Wr({key:"",value:o,valueSpec:r.$root,styleSpec:r,style:o,objectElementValidators:{glyphs:Us,"*":()=>[]}}))}const So=o=>Vi(l1(o)),wl=o=>Vi(Sh(o));function Vi(o){return o.slice().sort(((r,s)=>r.line&&s.line?r.line-s.line:0))}function ao(o,r){let s=!1;if(r&&r.length)for(const u of r)o.fire(new en(new Error(u.message))),s=!0;return s}var h1=Ta,ta=3;function Ta(o,r,s){var u=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;var p=new Int32Array(this.arrayBuffer);o=p[0],this.d=(r=p[1])+2*(s=p[2]);for(var _=0;_<this.d*this.d;_++){var b=p[ta+_],E=p[ta+_+1];u.push(b===E?null:p.subarray(b,E))}var A=p[ta+u.length+1];this.keys=p.subarray(p[ta+u.length],A),this.bboxes=p.subarray(A),this.insert=this._insertReadonly}else{this.d=r+2*s;for(var I=0;I<this.d*this.d;I++)u.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=o,this.padding=s,this.scale=r/o,this.uid=0;var R=s/r*o;this.min=-R,this.max=o+R}Ta.prototype.insert=function(o,r,s,u,p){this._forEachCell(r,s,u,p,this._insertCell,this.uid++),this.keys.push(o),this.bboxes.push(r),this.bboxes.push(s),this.bboxes.push(u),this.bboxes.push(p)},Ta.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ta.prototype._insertCell=function(o,r,s,u,p,_){this.cells[p].push(_)},Ta.prototype.query=function(o,r,s,u,p){var _=this.min,b=this.max;if(o<=_&&r<=_&&b<=s&&b<=u&&!p)return Array.prototype.slice.call(this.keys);var E=[];return this._forEachCell(o,r,s,u,this._queryCell,E,{},p),E},Ta.prototype._queryCell=function(o,r,s,u,p,_,b,E){var A=this.cells[p];if(A!==null)for(var I=this.keys,R=this.bboxes,F=0;F<A.length;F++){var N=A[F];if(b[N]===void 0){var H=4*N;(E?E(R[H+0],R[H+1],R[H+2],R[H+3]):o<=R[H+2]&&r<=R[H+3]&&s>=R[H+0]&&u>=R[H+1])?(b[N]=!0,_.push(I[N])):b[N]=!1}}},Ta.prototype._forEachCell=function(o,r,s,u,p,_,b,E){for(var A=this._convertToCellCoord(o),I=this._convertToCellCoord(r),R=this._convertToCellCoord(s),F=this._convertToCellCoord(u),N=A;N<=R;N++)for(var H=I;H<=F;H++){var Z=this.d*H+N;if((!E||E(this._convertFromCellCoord(N),this._convertFromCellCoord(H),this._convertFromCellCoord(N+1),this._convertFromCellCoord(H+1)))&&p.call(this,o,r,s,u,Z,_,b,E))return}},Ta.prototype._convertFromCellCoord=function(o){return(o-this.padding)/this.scale},Ta.prototype._convertToCellCoord=function(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))},Ta.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var o=this.cells,r=ta+this.cells.length+1+1,s=0,u=0;u<this.cells.length;u++)s+=this.cells[u].length;var p=new Int32Array(r+s+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var _=r,b=0;b<o.length;b++){var E=o[b];p[ta+b]=_,p.set(E,_),_+=E.length}return p[ta+o.length]=_,p.set(this.keys,_),p[ta+o.length+1]=_+=this.keys.length,p.set(this.bboxes,_),_+=this.bboxes.length,p.buffer};var Va=oe(h1);const cc={};function Zt(o,r,s={}){Object.defineProperty(o,"_classRegistryKey",{value:r,writeable:!1}),cc[r]={klass:o,omit:s.omit||[]}}Zt(Object,"Object"),Va.serialize=function(o,r){const s=o.toArrayBuffer();return r&&r.push(s),{buffer:s}},Va.deserialize=function(o){return new Va(o.buffer)},Object.defineProperty(Va,"name",{value:"Grid"}),Zt(Va,"Grid"),Zt(xn,"Color"),Zt(Error,"Error"),Zt(ma,"AJAXError"),Zt(Ko,"ResolvedImage"),Zt(sc,"StylePropertyFunction"),Zt(oc,"StyleExpression",{omit:["_evaluator"]}),Zt(Fs,"ZoomDependentExpression"),Zt(ac,"ZoomConstantExpression"),Zt(Jo,"CompoundExpression",{omit:["_evaluate"]});for(const o in ou)cc[ou[o]._classRegistryKey]||Zt(ou[o],`Expression${o}`);function gu(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function hc(o){return w.ImageBitmap&&o instanceof w.ImageBitmap}function Sl(o,r){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp)return o;if(gu(o)||hc(o))return r&&r.push(o),o;if(ArrayBuffer.isView(o)){const s=o;return r&&r.push(s.buffer),s}if(o instanceof w.ImageData)return r&&r.push(o.data.buffer),o;if(Array.isArray(o)){const s=[];for(const u of o)s.push(Sl(u,r));return s}if(typeof o=="object"){const s=o.constructor,u=s._classRegistryKey;if(!u)throw new Error(`can't serialize object of unregistered class ${u}`);const p=s.serialize?s.serialize(o,r):{};if(!s.serialize){for(const _ in o)o.hasOwnProperty(_)&&(cc[u].omit.indexOf(_)>=0||(p[_]=Sl(o[_],r)));o instanceof Error&&(p.message=o.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return u!=="Object"&&(p.$name=u),p}throw new Error("can't serialize object of type "+typeof o)}function Tl(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||gu(o)||hc(o)||ArrayBuffer.isView(o)||o instanceof w.ImageData)return o;if(Array.isArray(o))return o.map(Tl);if(typeof o=="object"){const r=o.$name||"Object",{klass:s}=cc[r];if(!s)throw new Error(`can't deserialize unregistered class ${r}`);if(s.deserialize)return s.deserialize(o);const u=Object.create(s.prototype);for(const p of Object.keys(o))p!=="$name"&&(u[p]=Tl(o[p]));return u}throw new Error("can't deserialize object of type "+typeof o)}const Vt={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function $s(o){for(const r of o)if(_u(r.charCodeAt(0)))return!0;return!1}function yu(o){for(const r of o)if(!fc(r.charCodeAt(0)))return!1;return!0}function fc(o){return!(Vt.Arabic(o)||Vt["Arabic Supplement"](o)||Vt["Arabic Extended-A"](o)||Vt["Arabic Presentation Forms-A"](o)||Vt["Arabic Presentation Forms-B"](o))}function _u(o){return!(o!==746&&o!==747&&(o<4352||!(Vt["Bopomofo Extended"](o)||Vt.Bopomofo(o)||Vt["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||Vt["CJK Compatibility Ideographs"](o)||Vt["CJK Compatibility"](o)||Vt["CJK Radicals Supplement"](o)||Vt["CJK Strokes"](o)||!(!Vt["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||Vt["CJK Unified Ideographs Extension A"](o)||Vt["CJK Unified Ideographs"](o)||Vt["Enclosed CJK Letters and Months"](o)||Vt["Hangul Compatibility Jamo"](o)||Vt["Hangul Jamo Extended-A"](o)||Vt["Hangul Jamo Extended-B"](o)||Vt["Hangul Jamo"](o)||Vt["Hangul Syllables"](o)||Vt.Hiragana(o)||Vt["Ideographic Description Characters"](o)||Vt.Kanbun(o)||Vt["Kangxi Radicals"](o)||Vt["Katakana Phonetic Extensions"](o)||Vt.Katakana(o)&&o!==12540||!(!Vt["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!Vt["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||Vt["Unified Canadian Aboriginal Syllabics"](o)||Vt["Unified Canadian Aboriginal Syllabics Extended"](o)||Vt["Vertical Forms"](o)||Vt["Yijing Hexagram Symbols"](o)||Vt["Yi Syllables"](o)||Vt["Yi Radicals"](o))))}function zo(o){return!(_u(o)||(function(r){return!!(Vt["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||Vt["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||Vt["Letterlike Symbols"](r)||Vt["Number Forms"](r)||Vt["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||Vt["Control Pictures"](r)&&r!==9251||Vt["Optical Character Recognition"](r)||Vt["Enclosed Alphanumerics"](r)||Vt["Geometric Shapes"](r)||Vt["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||Vt["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||Vt["CJK Symbols and Punctuation"](r)||Vt.Katakana(r)||Vt["Private Use Area"](r)||Vt["CJK Compatibility Forms"](r)||Vt["Small Form Variants"](r)||Vt["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)})(o))}function Bo(o){return o>=1424&&o<=2303||Vt["Arabic Presentation Forms-A"](o)||Vt["Arabic Presentation Forms-B"](o)}function El(o,r){return!(!r&&Bo(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||Vt.Khmer(o))}function hs(o){for(const r of o)if(Bo(r.charCodeAt(0)))return!0;return!1}const Ea="deferred",fs="loading",f1="loaded";let Vs=null,g="unavailable",l=null;const f=function(o){o&&typeof o=="string"&&o.indexOf("NetworkError")>-1&&(g="error"),Vs&&Vs(o)};function v(){S.fire(new qr("pluginStateChange",{pluginStatus:g,pluginURL:l}))}const S=new ui,P=function(){return g},k=function(){if(g!==Ea||!l)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");g=fs,v(),l&&ya({url:l},(o=>{o?f(o):(g=f1,v())}))},D={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>g===f1||D.applyArabicShaping!=null,isLoading:()=>g===fs,setState(o){g=o.pluginStatus,l=o.pluginURL},isParsed:()=>D.applyArabicShaping!=null&&D.processBidirectionalText!=null&&D.processStyledBidirectionalText!=null,getPluginURL:()=>l};class z{constructor(r,s){this.zoom=r,s?(this.now=s.now,this.fadeDuration=s.fadeDuration,this.transition=s.transition,this.pitch=s.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(r){return(function(s,u){for(const p of s)if(!El(p.charCodeAt(0),u))return!1;return!0})(r,D.isLoaded())}}class V{constructor(r,s){this.property=r,this.value=s,this.expression=(function(u,p){if(au(u))return new sc(u,p);if(_l(u)){const _=ss(u,p);if(_.result==="error")throw new Error(_.value.map((b=>`${b.key}: ${b.message}`)).join(", "));return _.value}{let _=u;return typeof u=="string"&&p.type==="color"&&(_=xn.parse(u)),{kind:"constant",evaluate:()=>_}}})(s===void 0?r.specification.default:s,r.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(r,s,u){return this.property.possiblyEvaluate(this,r,s,u)}}class ${constructor(r){this.property=r,this.value=new V(r,void 0)}transitioned(r,s){return new le(this.property,this.value,s,zt({},r.transition,this.transition),r.now)}untransitioned(){return new le(this.property,this.value,null,{},0)}}class X{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return Mr(this._values[r].value.value)}setValue(r,s){this._values.hasOwnProperty(r)||(this._values[r]=new $(this._values[r].property)),this._values[r].value=new V(this._values[r].property,s===null?void 0:Mr(s))}getTransition(r){return Mr(this._values[r].transition)}setTransition(r,s){this._values.hasOwnProperty(r)||(this._values[r]=new $(this._values[r].property)),this._values[r].transition=Mr(s)||void 0}serialize(){const r={};for(const s of Object.keys(this._values)){const u=this.getValue(s);u!==void 0&&(r[s]=u);const p=this.getTransition(s);p!==void 0&&(r[`${s}-transition`]=p)}return r}transitioned(r,s){const u=new he(this._properties);for(const p of Object.keys(this._values))u._values[p]=this._values[p].transitioned(r,s._values[p]);return u}untransitioned(){const r=new he(this._properties);for(const s of Object.keys(this._values))r._values[s]=this._values[s].untransitioned();return r}}class le{constructor(r,s,u,p,_){const b=p.delay||0,E=p.duration||0;_=_||0,this.property=r,this.value=s,this.begin=_+b,this.end=this.begin+E,r.specification.transition&&(p.delay||p.duration)&&(this.prior=u)}possiblyEvaluate(r,s,u){const p=r.now||0,_=this.value.possiblyEvaluate(r,s,u),b=this.prior;if(b){if(p>this.end)return this.prior=null,_;if(this.value.isDataDriven())return this.prior=null,_;if(p<this.begin)return b.possiblyEvaluate(r,s,u);{const E=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(b.possiblyEvaluate(r,s,u),_,ze(E))}}return _}}class he{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,s,u){const p=new pe(this._properties);for(const _ of Object.keys(this._values))p._values[_]=this._values[_].possiblyEvaluate(r,s,u);return p}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class de{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}getValue(r){return Mr(this._values[r].value)}setValue(r,s){this._values[r]=new V(this._values[r].property,s===null?void 0:Mr(s))}serialize(){const r={};for(const s of Object.keys(this._values)){const u=this.getValue(s);u!==void 0&&(r[s]=u)}return r}possiblyEvaluate(r,s,u){const p=new pe(this._properties);for(const _ of Object.keys(this._values))p._values[_]=this._values[_].possiblyEvaluate(r,s,u);return p}}class fe{constructor(r,s,u){this.property=r,this.value=s,this.parameters=u}isConstant(){return this.value.kind==="constant"}constantOr(r){return this.value.kind==="constant"?this.value.value:r}evaluate(r,s,u,p){return this.property.evaluate(this.value,this.parameters,r,s,u,p)}}class pe{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class Y{constructor(r){this.specification=r}possiblyEvaluate(r,s){return r.expression.evaluate(s)}interpolate(r,s,u){const p=Xu[this.specification.type];return p?p(r,s,u):r}}class ce{constructor(r,s){this.specification=r,this.overrides=s}possiblyEvaluate(r,s,u,p){return new fe(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(s,null,{},u,p)}:r.expression,s)}interpolate(r,s,u){if(r.value.kind!=="constant"||s.value.kind!=="constant")return r;if(r.value.value===void 0||s.value.value===void 0)return new fe(this,{kind:"constant",value:void 0},r.parameters);const p=Xu[this.specification.type];return p?new fe(this,{kind:"constant",value:p(r.value.value,s.value.value,u)},r.parameters):r}evaluate(r,s,u,p,_,b){return r.kind==="constant"?r.value:r.evaluate(s,u,p,_,b)}}class _e{constructor(r){this.specification=r}possiblyEvaluate(r,s,u,p){return!!r.expression.evaluate(s,null,{},u,p)}interpolate(){return!1}}class ve{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const s=new z(0,{});for(const u in r){const p=r[u];p.specification.overridable&&this.overridableProperties.push(u);const _=this.defaultPropertyValues[u]=new V(p,void 0),b=this.defaultTransitionablePropertyValues[u]=new $(p);this.defaultTransitioningPropertyValues[u]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=_.possiblyEvaluate(s)}}}function Be(o,r){return 256*(o=$e(Math.floor(o),0,255))+$e(Math.floor(r),0,255)}Zt(ce,"DataDrivenProperty"),Zt(Y,"DataConstantProperty"),Zt(_e,"ColorRampProperty");const Ne={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Fe{constructor(r,s){this._structArray=r,this._pos1=s*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ke{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,s){return r._trim(),s&&(r.isTransferred=!0,s.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const s=Object.create(this.prototype);return s.arrayBuffer=r.arrayBuffer,s.length=r.length,s.capacity=r.arrayBuffer.byteLength/s.bytesPerElement,s._refreshViews(),s}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const s=this.uint8;this._refreshViews(),s&&this.uint8.set(s)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Xe(o,r=1){let s=0,u=0;return{members:o.map((p=>{const _=Ne[p.type].BYTES_PER_ELEMENT,b=s=at(s,Math.max(r,_)),E=p.components||1;return u=Math.max(u,_),s+=_*E,{name:p.name,type:p.type,components:E,offset:b}})),size:at(s,Math.max(u,r)),alignment:r}}function at(o,r){return Math.ceil(o/r)*r}class Ot extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s){const u=this.length;return this.resize(u+1),this.emplace(u,r,s)}emplace(r,s,u){const p=2*r;return this.int16[p+0]=s,this.int16[p+1]=u,r}}Ot.prototype.bytesPerElement=4,Zt(Ot,"StructArrayLayout2i4");class nt extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,u){const p=this.length;return this.resize(p+1),this.emplace(p,r,s,u)}emplace(r,s,u,p){const _=3*r;return this.int16[_+0]=s,this.int16[_+1]=u,this.int16[_+2]=p,r}}nt.prototype.bytesPerElement=6,Zt(nt,"StructArrayLayout3i6");class _t extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,r,s,u,p)}emplace(r,s,u,p,_){const b=4*r;return this.int16[b+0]=s,this.int16[b+1]=u,this.int16[b+2]=p,this.int16[b+3]=_,r}}_t.prototype.bytesPerElement=8,Zt(_t,"StructArrayLayout4i8");class st extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_,b,E){const A=this.length;return this.resize(A+1),this.emplace(A,r,s,u,p,_,b,E)}emplace(r,s,u,p,_,b,E,A){const I=6*r,R=12*r,F=3*r;return this.int16[I+0]=s,this.int16[I+1]=u,this.uint8[R+4]=p,this.uint8[R+5]=_,this.uint8[R+6]=b,this.uint8[R+7]=E,this.float32[F+2]=A,r}}st.prototype.bytesPerElement=12,Zt(st,"StructArrayLayout2i4ub1f12");class Ct extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,r,s,u,p)}emplace(r,s,u,p,_){const b=4*r;return this.float32[b+0]=s,this.float32[b+1]=u,this.float32[b+2]=p,this.float32[b+3]=_,r}}Ct.prototype.bytesPerElement=16,Zt(Ct,"StructArrayLayout4f16");class ot extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_){const b=this.length;return this.resize(b+1),this.emplace(b,r,s,u,p,_)}emplace(r,s,u,p,_,b){const E=6*r,A=3*r;return this.uint16[E+0]=s,this.uint16[E+1]=u,this.uint16[E+2]=p,this.uint16[E+3]=_,this.float32[A+2]=b,r}}ot.prototype.bytesPerElement=12,Zt(ot,"StructArrayLayout4ui1f12");class vt extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,r,s,u,p)}emplace(r,s,u,p,_){const b=4*r;return this.uint16[b+0]=s,this.uint16[b+1]=u,this.uint16[b+2]=p,this.uint16[b+3]=_,r}}vt.prototype.bytesPerElement=8,Zt(vt,"StructArrayLayout4ui8");class Mt extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_,b){const E=this.length;return this.resize(E+1),this.emplace(E,r,s,u,p,_,b)}emplace(r,s,u,p,_,b,E){const A=6*r;return this.int16[A+0]=s,this.int16[A+1]=u,this.int16[A+2]=p,this.int16[A+3]=_,this.int16[A+4]=b,this.int16[A+5]=E,r}}Mt.prototype.bytesPerElement=12,Zt(Mt,"StructArrayLayout6i12");class Et extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_,b,E,A,I,R,F,N){const H=this.length;return this.resize(H+1),this.emplace(H,r,s,u,p,_,b,E,A,I,R,F,N)}emplace(r,s,u,p,_,b,E,A,I,R,F,N,H){const Z=12*r;return this.int16[Z+0]=s,this.int16[Z+1]=u,this.int16[Z+2]=p,this.int16[Z+3]=_,this.uint16[Z+4]=b,this.uint16[Z+5]=E,this.uint16[Z+6]=A,this.uint16[Z+7]=I,this.int16[Z+8]=R,this.int16[Z+9]=F,this.int16[Z+10]=N,this.int16[Z+11]=H,r}}Et.prototype.bytesPerElement=24,Zt(Et,"StructArrayLayout4i4ui4i24");class Dt extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_,b){const E=this.length;return this.resize(E+1),this.emplace(E,r,s,u,p,_,b)}emplace(r,s,u,p,_,b,E){const A=10*r,I=5*r;return this.int16[A+0]=s,this.int16[A+1]=u,this.int16[A+2]=p,this.float32[I+2]=_,this.float32[I+3]=b,this.float32[I+4]=E,r}}Dt.prototype.bytesPerElement=20,Zt(Dt,"StructArrayLayout3i3f20");class ar extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const s=this.length;return this.resize(s+1),this.emplace(s,r)}emplace(r,s){return this.uint32[1*r+0]=s,r}}ar.prototype.bytesPerElement=4,Zt(ar,"StructArrayLayout1ul4");class xr extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_,b,E,A,I,R,F,N,H){const Z=this.length;return this.resize(Z+1),this.emplace(Z,r,s,u,p,_,b,E,A,I,R,F,N,H)}emplace(r,s,u,p,_,b,E,A,I,R,F,N,H,Z){const J=20*r,ue=10*r;return this.int16[J+0]=s,this.int16[J+1]=u,this.int16[J+2]=p,this.int16[J+3]=_,this.int16[J+4]=b,this.float32[ue+3]=E,this.float32[ue+4]=A,this.float32[ue+5]=I,this.float32[ue+6]=R,this.int16[J+14]=F,this.uint32[ue+8]=N,this.uint16[J+18]=H,this.uint16[J+19]=Z,r}}xr.prototype.bytesPerElement=40,Zt(xr,"StructArrayLayout5i4f1i1ul2ui40");class tr extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_,b,E){const A=this.length;return this.resize(A+1),this.emplace(A,r,s,u,p,_,b,E)}emplace(r,s,u,p,_,b,E,A){const I=8*r;return this.int16[I+0]=s,this.int16[I+1]=u,this.int16[I+2]=p,this.int16[I+4]=_,this.int16[I+5]=b,this.int16[I+6]=E,this.int16[I+7]=A,r}}tr.prototype.bytesPerElement=16,Zt(tr,"StructArrayLayout3i2i2i16");class dr extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_){const b=this.length;return this.resize(b+1),this.emplace(b,r,s,u,p,_)}emplace(r,s,u,p,_,b){const E=4*r,A=8*r;return this.float32[E+0]=s,this.float32[E+1]=u,this.float32[E+2]=p,this.int16[A+6]=_,this.int16[A+7]=b,r}}dr.prototype.bytesPerElement=16,Zt(dr,"StructArrayLayout2f1f2i16");class Rr extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,r,s,u,p)}emplace(r,s,u,p,_){const b=12*r,E=3*r;return this.uint8[b+0]=s,this.uint8[b+1]=u,this.float32[E+1]=p,this.float32[E+2]=_,r}}Rr.prototype.bytesPerElement=12,Zt(Rr,"StructArrayLayout2ub2f12");class Nr extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,u){const p=this.length;return this.resize(p+1),this.emplace(p,r,s,u)}emplace(r,s,u,p){const _=3*r;return this.float32[_+0]=s,this.float32[_+1]=u,this.float32[_+2]=p,r}}Nr.prototype.bytesPerElement=12,Zt(Nr,"StructArrayLayout3f12");class sr extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,u){const p=this.length;return this.resize(p+1),this.emplace(p,r,s,u)}emplace(r,s,u,p){const _=3*r;return this.uint16[_+0]=s,this.uint16[_+1]=u,this.uint16[_+2]=p,r}}sr.prototype.bytesPerElement=6,Zt(sr,"StructArrayLayout3ui6");class Vr extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_,b,E,A,I,R,F,N,H,Z,J,ue,me,Ie,ye,Me,Re){const Le=this.length;return this.resize(Le+1),this.emplace(Le,r,s,u,p,_,b,E,A,I,R,F,N,H,Z,J,ue,me,Ie,ye,Me,Re)}emplace(r,s,u,p,_,b,E,A,I,R,F,N,H,Z,J,ue,me,Ie,ye,Me,Re,Le){const lt=30*r,it=15*r,bt=60*r;return this.int16[lt+0]=s,this.int16[lt+1]=u,this.int16[lt+2]=p,this.float32[it+2]=_,this.float32[it+3]=b,this.uint16[lt+8]=E,this.uint16[lt+9]=A,this.uint32[it+5]=I,this.uint32[it+6]=R,this.uint32[it+7]=F,this.uint16[lt+16]=N,this.uint16[lt+17]=H,this.uint16[lt+18]=Z,this.float32[it+10]=J,this.float32[it+11]=ue,this.uint8[bt+48]=me,this.uint8[bt+49]=Ie,this.uint8[bt+50]=ye,this.uint32[it+13]=Me,this.int16[lt+28]=Re,this.uint8[bt+58]=Le,r}}Vr.prototype.bytesPerElement=60,Zt(Vr,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class an extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_,b,E,A,I,R,F,N,H,Z,J,ue,me,Ie,ye,Me,Re,Le,lt,it,bt,Lt,ht,wt,St,It){const Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,r,s,u,p,_,b,E,A,I,R,F,N,H,Z,J,ue,me,Ie,ye,Me,Re,Le,lt,it,bt,Lt,ht,wt,St,It)}emplace(r,s,u,p,_,b,E,A,I,R,F,N,H,Z,J,ue,me,Ie,ye,Me,Re,Le,lt,it,bt,Lt,ht,wt,St,It,Bt){const xt=38*r,Ht=19*r;return this.int16[xt+0]=s,this.int16[xt+1]=u,this.int16[xt+2]=p,this.float32[Ht+2]=_,this.float32[Ht+3]=b,this.int16[xt+8]=E,this.int16[xt+9]=A,this.int16[xt+10]=I,this.int16[xt+11]=R,this.int16[xt+12]=F,this.int16[xt+13]=N,this.uint16[xt+14]=H,this.uint16[xt+15]=Z,this.uint16[xt+16]=J,this.uint16[xt+17]=ue,this.uint16[xt+18]=me,this.uint16[xt+19]=Ie,this.uint16[xt+20]=ye,this.uint16[xt+21]=Me,this.uint16[xt+22]=Re,this.uint16[xt+23]=Le,this.uint16[xt+24]=lt,this.uint16[xt+25]=it,this.uint16[xt+26]=bt,this.uint16[xt+27]=Lt,this.uint16[xt+28]=ht,this.uint32[Ht+15]=wt,this.float32[Ht+16]=St,this.float32[Ht+17]=It,this.float32[Ht+18]=Bt,r}}an.prototype.bytesPerElement=76,Zt(an,"StructArrayLayout3i2f6i15ui1ul3f76");class sn extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const s=this.length;return this.resize(s+1),this.emplace(s,r)}emplace(r,s){return this.float32[1*r+0]=s,r}}sn.prototype.bytesPerElement=4,Zt(sn,"StructArrayLayout1f4");class Qr extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s,u,p,_){const b=this.length;return this.resize(b+1),this.emplace(b,r,s,u,p,_)}emplace(r,s,u,p,_,b){const E=5*r;return this.float32[E+0]=s,this.float32[E+1]=u,this.float32[E+2]=p,this.float32[E+3]=_,this.float32[E+4]=b,r}}Qr.prototype.bytesPerElement=20,Zt(Qr,"StructArrayLayout5f20");class zi extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s,u,p){const _=this.length;return this.resize(_+1),this.emplace(_,r,s,u,p)}emplace(r,s,u,p,_){const b=6*r;return this.uint32[3*r+0]=s,this.uint16[b+2]=u,this.uint16[b+3]=p,this.uint16[b+4]=_,r}}zi.prototype.bytesPerElement=12,Zt(zi,"StructArrayLayout1ul3ui12");class Yn extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,s){const u=this.length;return this.resize(u+1),this.emplace(u,r,s)}emplace(r,s,u){const p=2*r;return this.uint16[p+0]=s,this.uint16[p+1]=u,r}}Yn.prototype.bytesPerElement=4,Zt(Yn,"StructArrayLayout2ui4");class Fo extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const s=this.length;return this.resize(s+1),this.emplace(s,r)}emplace(r,s){return this.uint16[1*r+0]=s,r}}Fo.prototype.bytesPerElement=2,Zt(Fo,"StructArrayLayout1ui2");class ra extends Ke{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,s){const u=this.length;return this.resize(u+1),this.emplace(u,r,s)}emplace(r,s,u){const p=2*r;return this.float32[p+0]=s,this.float32[p+1]=u,r}}ra.prototype.bytesPerElement=8,Zt(ra,"StructArrayLayout2f8");class Ir extends Fe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ir.prototype.size=40;class pn extends xr{get(r){return new Ir(this,r)}}Zt(pn,"CollisionBoxArray");class Jr extends Fe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(r){this._structArray.uint8[this._pos1+49]=r}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(r){this._structArray.uint8[this._pos1+50]=r}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(r){this._structArray.uint32[this._pos4+13]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(r){this._structArray.uint8[this._pos1+58]=r}}Jr.prototype.size=60;class Jn extends Vr{get(r){return new Jr(this,r)}}Zt(Jn,"PlacedSymbolArray");class Bi extends Fe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(r){this._structArray.uint32[this._pos4+15]=r}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Bi.prototype.size=76;class bn extends an{get(r){return new Bi(this,r)}}Zt(bn,"SymbolInstanceArray");class yi extends sn{getoffsetX(r){return this.float32[1*r+0]}}Zt(yi,"GlyphOffsetArray");class Bn extends Ot{getx(r){return this.int16[2*r+0]}gety(r){return this.int16[2*r+1]}}Zt(Bn,"SymbolLineVertexArray");class Vn extends Fe{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Vn.prototype.size=12;class ni extends zi{get(r){return new Vn(this,r)}}Zt(ni,"FeatureIndexArray");class na extends Yn{geta_centroid_pos0(r){return this.uint16[2*r+0]}geta_centroid_pos1(r){return this.uint16[2*r+1]}}Zt(na,"FillExtrusionCentroidArray");const ia=Xe([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Pa=Xe([{name:"a_dash",components:4,type:"Uint16"}]);var d1={exports:{}},_i={exports:{}};_i.exports=function(o,r){var s,u,p,_,b,E,A,I;for(u=o.length-(s=3&o.length),p=r,b=3432918353,E=461845907,I=0;I<u;)A=255&o.charCodeAt(I)|(255&o.charCodeAt(++I))<<8|(255&o.charCodeAt(++I))<<16|(255&o.charCodeAt(++I))<<24,++I,p=27492+(65535&(_=5*(65535&(p=(p^=A=(65535&(A=(A=(65535&A)*b+(((A>>>16)*b&65535)<<16)&4294967295)<<15|A>>>17))*E+(((A>>>16)*E&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(_>>>16)&65535)<<16);switch(A=0,s){case 3:A^=(255&o.charCodeAt(I+2))<<16;case 2:A^=(255&o.charCodeAt(I+1))<<8;case 1:p^=A=(65535&(A=(A=(65535&(A^=255&o.charCodeAt(I)))*b+(((A>>>16)*b&65535)<<16)&4294967295)<<15|A>>>17))*E+(((A>>>16)*E&65535)<<16)&4294967295}return p^=o.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var dc=_i.exports,Uf={exports:{}};Uf.exports=function(o,r){for(var s,u=o.length,p=r^u,_=0;u>=4;)s=1540483477*(65535&(s=255&o.charCodeAt(_)|(255&o.charCodeAt(++_))<<8|(255&o.charCodeAt(++_))<<16|(255&o.charCodeAt(++_))<<24))+((1540483477*(s>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(s=1540483477*(65535&(s^=s>>>24))+((1540483477*(s>>>16)&65535)<<16)),u-=4,++_;switch(u){case 3:p^=(255&o.charCodeAt(_+2))<<16;case 2:p^=(255&o.charCodeAt(_+1))<<8;case 1:p=1540483477*(65535&(p^=255&o.charCodeAt(_)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var $f=dc,qs=Uf.exports;d1.exports=$f,d1.exports.murmur3=$f,d1.exports.murmur2=qs;var oa=oe(d1.exports);class vu{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,s,u,p){this.ids.push(Vf(r)),this.positions.push(s,u,p)}getPositions(r){const s=Vf(r);let u=0,p=this.ids.length-1;for(;u<p;){const b=u+p>>1;this.ids[b]>=s?p=b:u=b+1}const _=[];for(;this.ids[u]===s;)_.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return _}static serialize(r,s){const u=new Float64Array(r.ids),p=new Uint32Array(r.positions);return Th(u,p,0,u.length-1),s&&s.push(u.buffer,p.buffer),{ids:u,positions:p}}static deserialize(r){const s=new vu;return s.ids=r.ids,s.positions=r.positions,s.indexed=!0,s}}function Vf(o){const r=+o;return!isNaN(r)&&Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:oa(String(o))}function Th(o,r,s,u){for(;s<u;){const p=o[s+u>>1];let _=s-1,b=u+1;for(;;){do _++;while(o[_]<p);do b--;while(o[b]>p);if(_>=b)break;Eh(o,_,b),Eh(r,3*_,3*b),Eh(r,3*_+1,3*b+1),Eh(r,3*_+2,3*b+2)}b-s<u-b?(Th(o,r,s,b),s=b+1):(Th(o,r,b+1,u),u=b)}}function Eh(o,r,s){const u=o[r];o[r]=o[s],o[s]=u}Zt(vu,"FeaturePositionMap");class Gs{constructor(r){this.gl=r.gl,this.initialized=!1}fetchUniformLocation(r,s){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(r,s),this.initialized=!0),!!this.location}}class Ph extends Gs{constructor(r){super(r),this.current=0}set(r,s,u){this.fetchUniformLocation(r,s)&&this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))}}class Ld extends Gs{constructor(r){super(r),this.current=[0,0,0,0]}set(r,s,u){this.fetchUniformLocation(r,s)&&(u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3])))}}class Rd extends Gs{constructor(r){super(r),this.current=xn.transparent}set(r,s,u){this.fetchUniformLocation(r,s)&&(u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a)))}}const G3=new Float32Array(16),W3=new Float32Array(9),H3=new Float32Array(4);function pc(o){return[Be(255*o.r,255*o.g),Be(255*o.b,255*o.a)]}class p1{constructor(r,s,u){this.value=r,this.uniformNames=s.map((p=>`u_${p}`)),this.type=u}setUniform(r,s,u,p,_){s.set(r,_,p.constantOr(this.value))}getBinding(r,s){return this.type==="color"?new Rd(r):new Ph(r)}}class Pl{constructor(r,s){this.uniformNames=s.map((u=>`u_${u}`)),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(r){this.pixelRatio=r.pixelRatio||1,this.pattern=r.tl.concat(r.br)}setUniform(r,s,u,p,_){const b=_==="u_pattern"||_==="u_dash"?this.pattern:_==="u_pixel_ratio"?this.pixelRatio:null;b&&s.set(r,_,b)}getBinding(r,s){return s==="u_pattern"||s==="u_dash"?new Ld(r):new Ph(r)}}class qa{constructor(r,s,u,p){this.expression=r,this.type=u,this.maxValue=0,this.paintVertexAttributes=s.map((_=>({name:`a_${_}`,type:"Float32",components:u==="color"?2:1,offset:0}))),this.paintVertexArray=new p}populatePaintArray(r,s,u,p,_,b){const E=this.paintVertexArray.length,A=this.expression.evaluate(new z(0),s,{},_,p,b);this.paintVertexArray.resize(r),this._setPaintValue(E,r,A)}updatePaintArray(r,s,u,p,_){const b=this.expression.evaluate({zoom:0},u,p,void 0,_);this._setPaintValue(r,s,b)}_setPaintValue(r,s,u){if(this.type==="color"){const p=pc(u);for(let _=r;_<s;_++)this.paintVertexArray.emplace(_,p[0],p[1])}else{for(let p=r;p<s;p++)this.paintVertexArray.emplace(p,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ga{constructor(r,s,u,p,_,b){this.expression=r,this.uniformNames=s.map((E=>`u_${E}_t`)),this.type=u,this.useIntegerZoom=p,this.zoom=_,this.maxValue=0,this.paintVertexAttributes=s.map((E=>({name:`a_${E}`,type:"Float32",components:u==="color"?4:2,offset:0}))),this.paintVertexArray=new b}populatePaintArray(r,s,u,p,_,b){const E=this.expression.evaluate(new z(this.zoom),s,{},_,p,b),A=this.expression.evaluate(new z(this.zoom+1),s,{},_,p,b),I=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(I,r,E,A)}updatePaintArray(r,s,u,p,_){const b=this.expression.evaluate({zoom:this.zoom},u,p,void 0,_),E=this.expression.evaluate({zoom:this.zoom+1},u,p,void 0,_);this._setPaintValue(r,s,b,E)}_setPaintValue(r,s,u,p){if(this.type==="color"){const _=pc(u),b=pc(p);for(let E=r;E<s;E++)this.paintVertexArray.emplace(E,_[0],_[1],b[0],b[1])}else{for(let _=r;_<s;_++)this.paintVertexArray.emplace(_,u,p);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(p))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,s,u,p,_){const b=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,E=$e(this.expression.interpolationFactor(b,this.zoom,this.zoom+1),0,1);s.set(r,_,E)}getBinding(r,s){return new Ph(r)}}class Ws{constructor(r,s,u,p,_){this.expression=r,this.layerId=_,this.paintVertexAttributes=(u==="array"?Pa:ia).members;for(let b=0;b<s.length;++b);this.paintVertexArray=new p}populatePaintArray(r,s,u){const p=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValues(p,r,s.patterns&&s.patterns[this.layerId],u)}updatePaintArray(r,s,u,p,_,b){this._setPaintValues(r,s,u.patterns&&u.patterns[this.layerId],b)}_setPaintValues(r,s,u,p){if(!p||!u)return;const _=p[u];if(!_)return;const{tl:b,br:E,pixelRatio:A}=_;for(let I=r;I<s;I++)this.paintVertexArray.emplace(I,b[0],b[1],E[0],E[1],A)}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Al{constructor(r,s,u=(()=>!0)){this.binders={},this._buffers=[];const p=[];for(const _ in r.paint._values){if(!u(_))continue;const b=r.paint.get(_);if(!(b instanceof fe&&yl(b.property.specification)))continue;const E=X3(_,r.type),A=b.value,I=b.property.specification.type,R=!!b.property.useIntegerZoom,F=_==="line-dasharray"||_.endsWith("pattern"),N=_==="line-dasharray"&&r.layout.get("line-cap").value.kind!=="constant";if(A.kind!=="constant"||N)if(A.kind==="source"||N||F){const H=Bd(_,I,"source");this.binders[_]=F?new Ws(A,E,I,H,r.id):new qa(A,E,I,H),p.push(`/a_${_}`)}else{const H=Bd(_,I,"composite");this.binders[_]=new Ga(A,E,I,R,s,H),p.push(`/z_${_}`)}else this.binders[_]=F?new Pl(A.value,E):new p1(A.value,E,I),p.push(`/u_${_}`)}this.cacheKey=p.sort().join("")}getMaxValue(r){const s=this.binders[r];return s instanceof qa||s instanceof Ga?s.maxValue:0}populatePaintArrays(r,s,u,p,_,b){for(const E in this.binders){const A=this.binders[E];(A instanceof qa||A instanceof Ga||A instanceof Ws)&&A.populatePaintArray(r,s,u,p,_,b)}}setConstantPatternPositions(r){for(const s in this.binders){const u=this.binders[s];u instanceof Pl&&u.setConstantPatternPositions(r)}}updatePaintArrays(r,s,u,p,_,b){let E=!1;for(const A in r){const I=s.getPositions(A);for(const R of I){const F=u.feature(R.index);for(const N in this.binders){const H=this.binders[N];if((H instanceof qa||H instanceof Ga||H instanceof Ws)&&H.expression.isStateDependent===!0){const Z=p.paint.get(N);H.expression=Z.value,H.updatePaintArray(R.start,R.end,F,r[A],_,b),E=!0}}}}return E}defines(){const r=[];for(const s in this.binders){const u=this.binders[s];(u instanceof p1||u instanceof Pl)&&r.push(...u.uniformNames.map((p=>`#define HAS_UNIFORM_${p}`)))}return r}getBinderAttributes(){const r=[];for(const s in this.binders){const u=this.binders[s];if(u instanceof qa||u instanceof Ga||u instanceof Ws)for(let p=0;p<u.paintVertexAttributes.length;p++)r.push(u.paintVertexAttributes[p].name)}return r}getBinderUniforms(){const r=[];for(const s in this.binders){const u=this.binders[s];if(u instanceof p1||u instanceof Pl||u instanceof Ga)for(const p of u.uniformNames)r.push(p)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r){const s=[];for(const u in this.binders){const p=this.binders[u];if(p instanceof p1||p instanceof Pl||p instanceof Ga)for(const _ of p.uniformNames)s.push({name:_,property:u,binding:p.getBinding(r,_)})}return s}setUniforms(r,s,u,p,_){for(const{name:b,property:E,binding:A}of u)this.binders[E].setUniform(r,A,_,p.get(E),b)}updatePaintBuffers(){this._buffers=[];for(const r in this.binders){const s=this.binders[r];(s instanceof qa||s instanceof Ga||s instanceof Ws)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}}upload(r){for(const s in this.binders){const u=this.binders[s];(u instanceof qa||u instanceof Ga||u instanceof Ws)&&u.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const s=this.binders[r];(s instanceof qa||s instanceof Ga||s instanceof Ws)&&s.destroy()}}}class xu{constructor(r,s,u=(()=>!0)){this.programConfigurations={};for(const p of r)this.programConfigurations[p.id]=new Al(p,s,u);this.needsUpload=!1,this._featureMap=new vu,this._bufferOffset=0}populatePaintArrays(r,s,u,p,_,b,E){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(r,s,p,_,b,E);s.id!==void 0&&this._featureMap.add(s.id,u,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,s,u,p,_){for(const b of u)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(r,this._featureMap,s,b,p,_)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const s in this.programConfigurations)this.programConfigurations[s].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}const Z3={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function X3(o,r){return Z3[o]||[o.replace(`${r}-`,"").replace(/-/g,"_")]}const zd={"line-pattern":{source:ot,composite:ot},"fill-pattern":{source:ot,composite:ot},"fill-extrusion-pattern":{source:ot,composite:ot},"line-dasharray":{source:vt,composite:vt}},K3={color:{source:ra,composite:Ct},number:{source:sn,composite:ra}};function Bd(o,r,s){const u=zd[o];return u&&u[s]||K3[r][s]}Zt(p1,"ConstantBinder"),Zt(Pl,"PatternConstantBinder"),Zt(qa,"SourceExpressionBinder"),Zt(Ws,"PatternCompositeBinder"),Zt(Ga,"CompositeExpressionBinder"),Zt(Al,"ProgramConfiguration",{omit:["_buffers"]}),Zt(xu,"ProgramConfigurationSet");const Fd="-transition";class ds extends ui{constructor(r,s){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,r.type!=="custom"&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&r.type!=="sky"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),s.layout&&(this._unevaluatedLayout=new de(s.layout)),s.paint)){this._transitionablePaint=new X(s.paint);for(const u in r.paint)this.setPaintProperty(u,r.paint[u],{validate:!1});for(const u in r.layout)this.setLayoutProperty(u,r.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new pe(s.paint)}}getLayoutProperty(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,s,u={}){s!=null&&this._validate(wl,`layers.${this.id}.layout.${r}`,r,s,u)||(r!=="visibility"?this._unevaluatedLayout.setValue(r,s):this.visibility=s)}getPaintProperty(r){return Cr(r,Fd)?this._transitionablePaint.getTransition(r.slice(0,-11)):this._transitionablePaint.getValue(r)}setPaintProperty(r,s,u={}){if(s!=null&&this._validate(So,`layers.${this.id}.paint.${r}`,r,s,u))return!1;if(Cr(r,Fd))return this._transitionablePaint.setTransition(r.slice(0,-11),s||void 0),!1;{const p=this._transitionablePaint._values[r],_=p.value.isDataDriven(),b=p.value;this._transitionablePaint.setValue(r,s),this._handleSpecialPaintPropertyUpdate(r);const E=this._transitionablePaint._values[r].value,A=E.isDataDriven(),I=Cr(r,"pattern")||r==="line-dasharray";return A||_||I||this._handleOverridablePaintPropertyUpdate(r,b,E)}}_handleSpecialPaintPropertyUpdate(r){}getProgramIds(){return null}getProgramConfiguration(r){return null}_handleOverridablePaintPropertyUpdate(r,s,u){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,s){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,s)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,s)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),Zr(r,((s,u)=>!(s===void 0||u==="layout"&&!Object.keys(s).length||u==="paint"&&!Object.keys(s).length)))}_validate(r,s,u,p,_={}){return(!_||_.validate!==!1)&&ao(this,r.call($i,{key:s,layerType:this.type,objectKey:u,value:p,styleSpec:gt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const s=this.paint.get(r);if(s instanceof fe&&yl(s.property.specification)&&(s.value.kind==="source"||s.value.kind==="composite")&&s.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=fu(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Y3=Xe([{name:"a_pos",components:2,type:"Int16"}],4),q6=Xe([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class hi{constructor(r=[]){this.segments=r}prepareSegment(r,s,u,p){let _=this.segments[this.segments.length-1];return r>hi.MAX_VERTEX_ARRAY_LENGTH&&Sr(`Max vertices per segment is ${hi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}`),(!_||_.vertexLength+r>hi.MAX_VERTEX_ARRAY_LENGTH||_.sortKey!==p)&&(_={vertexOffset:s.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},p!==void 0&&(_.sortKey=p),this.segments.push(_)),_}get(){return this.segments}destroy(){for(const r of this.segments)for(const s in r.vaos)r.vaos[s].destroy()}static simpleSegment(r,s,u,p){return new hi([{vertexOffset:r,primitiveOffset:s,vertexLength:u,primitiveLength:p,vaos:{},sortKey:0}])}}hi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Zt(hi,"SegmentVector");var ur=8192;class Ml{constructor(r,s){r&&(s?this.setSouthWest(r).setNorthEast(s):r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1]))}setNorthEast(r){return this._ne=r instanceof pr?new pr(r.lng,r.lat):pr.convert(r),this}setSouthWest(r){return this._sw=r instanceof pr?new pr(r.lng,r.lat):pr.convert(r),this}extend(r){const s=this._sw,u=this._ne;let p,_;if(r instanceof pr)p=r,_=r;else{if(!(r instanceof Ml))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(Ml.convert(r)):this.extend(pr.convert(r)):typeof r=="object"&&r!==null&&r.hasOwnProperty("lat")&&(r.hasOwnProperty("lon")||r.hasOwnProperty("lng"))?this.extend(pr.convert(r)):this;if(p=r._sw,_=r._ne,!p||!_)return this}return s||u?(s.lng=Math.min(p.lng,s.lng),s.lat=Math.min(p.lat,s.lat),u.lng=Math.max(_.lng,u.lng),u.lat=Math.max(_.lat,u.lat)):(this._sw=new pr(p.lng,p.lat),this._ne=new pr(_.lng,_.lat)),this}getCenter(){return new pr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new pr(this.getWest(),this.getNorth())}getSouthEast(){return new pr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){const{lng:s,lat:u}=pr.convert(r);let p=this._sw.lng<=s&&s<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=s&&s>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&p}static convert(r){return!r||r instanceof Ml?r:new Ml(r)}}var Ah=1e-6,so=typeof Float32Array<"u"?Float32Array:Array;function J3(){var o=new so(9);return so!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o}function Q3(o,r,s){var u=r[0],p=r[1],_=r[2],b=r[3],E=r[4],A=r[5],I=r[6],R=r[7],F=r[8],N=s[0],H=s[1],Z=s[2],J=s[3],ue=s[4],me=s[5],Ie=s[6],ye=s[7],Me=s[8];return o[0]=N*u+H*b+Z*I,o[1]=N*p+H*E+Z*R,o[2]=N*_+H*A+Z*F,o[3]=J*u+ue*b+me*I,o[4]=J*p+ue*E+me*R,o[5]=J*_+ue*A+me*F,o[6]=Ie*u+ye*b+Me*I,o[7]=Ie*p+ye*E+Me*R,o[8]=Ie*_+ye*A+Me*F,o}function ps(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Aa(o,r){var s=r[0],u=r[1],p=r[2],_=r[3],b=r[4],E=r[5],A=r[6],I=r[7],R=r[8],F=r[9],N=r[10],H=r[11],Z=r[12],J=r[13],ue=r[14],me=r[15],Ie=s*E-u*b,ye=s*A-p*b,Me=s*I-_*b,Re=u*A-p*E,Le=u*I-_*E,lt=p*I-_*A,it=R*J-F*Z,bt=R*ue-N*Z,Lt=R*me-H*Z,ht=F*ue-N*J,wt=F*me-H*J,St=N*me-H*ue,It=Ie*St-ye*wt+Me*ht+Re*Lt-Le*bt+lt*it;return It?(o[0]=(E*St-A*wt+I*ht)*(It=1/It),o[1]=(p*wt-u*St-_*ht)*It,o[2]=(J*lt-ue*Le+me*Re)*It,o[3]=(N*Le-F*lt-H*Re)*It,o[4]=(A*Lt-b*St-I*bt)*It,o[5]=(s*St-p*Lt+_*bt)*It,o[6]=(ue*Me-Z*lt-me*ye)*It,o[7]=(R*lt-N*Me+H*ye)*It,o[8]=(b*wt-E*Lt+I*it)*It,o[9]=(u*Lt-s*wt-_*it)*It,o[10]=(Z*Le-J*Me+me*Ie)*It,o[11]=(F*Me-R*Le-H*Ie)*It,o[12]=(E*bt-b*ht-A*it)*It,o[13]=(s*ht-u*bt+p*it)*It,o[14]=(J*ye-Z*Re-ue*Ie)*It,o[15]=(R*Re-F*ye+N*Ie)*It,o):null}function Cl(o,r,s){var u=r[0],p=r[1],_=r[2],b=r[3],E=r[4],A=r[5],I=r[6],R=r[7],F=r[8],N=r[9],H=r[10],Z=r[11],J=r[12],ue=r[13],me=r[14],Ie=r[15],ye=s[0],Me=s[1],Re=s[2],Le=s[3];return o[0]=ye*u+Me*E+Re*F+Le*J,o[1]=ye*p+Me*A+Re*N+Le*ue,o[2]=ye*_+Me*I+Re*H+Le*me,o[3]=ye*b+Me*R+Re*Z+Le*Ie,o[4]=(ye=s[4])*u+(Me=s[5])*E+(Re=s[6])*F+(Le=s[7])*J,o[5]=ye*p+Me*A+Re*N+Le*ue,o[6]=ye*_+Me*I+Re*H+Le*me,o[7]=ye*b+Me*R+Re*Z+Le*Ie,o[8]=(ye=s[8])*u+(Me=s[9])*E+(Re=s[10])*F+(Le=s[11])*J,o[9]=ye*p+Me*A+Re*N+Le*ue,o[10]=ye*_+Me*I+Re*H+Le*me,o[11]=ye*b+Me*R+Re*Z+Le*Ie,o[12]=(ye=s[12])*u+(Me=s[13])*E+(Re=s[14])*F+(Le=s[15])*J,o[13]=ye*p+Me*A+Re*N+Le*ue,o[14]=ye*_+Me*I+Re*H+Le*me,o[15]=ye*b+Me*R+Re*Z+Le*Ie,o}function bu(o,r,s){var u,p,_,b,E,A,I,R,F,N,H,Z,J=s[0],ue=s[1],me=s[2];return r===o?(o[12]=r[0]*J+r[4]*ue+r[8]*me+r[12],o[13]=r[1]*J+r[5]*ue+r[9]*me+r[13],o[14]=r[2]*J+r[6]*ue+r[10]*me+r[14],o[15]=r[3]*J+r[7]*ue+r[11]*me+r[15]):(p=r[1],_=r[2],b=r[3],E=r[4],A=r[5],I=r[6],R=r[7],F=r[8],N=r[9],H=r[10],Z=r[11],o[0]=u=r[0],o[1]=p,o[2]=_,o[3]=b,o[4]=E,o[5]=A,o[6]=I,o[7]=R,o[8]=F,o[9]=N,o[10]=H,o[11]=Z,o[12]=u*J+E*ue+F*me+r[12],o[13]=p*J+A*ue+N*me+r[13],o[14]=_*J+I*ue+H*me+r[14],o[15]=b*J+R*ue+Z*me+r[15]),o}function wu(o,r,s){var u=s[0],p=s[1],_=s[2];return o[0]=r[0]*u,o[1]=r[1]*u,o[2]=r[2]*u,o[3]=r[3]*u,o[4]=r[4]*p,o[5]=r[5]*p,o[6]=r[6]*p,o[7]=r[7]*p,o[8]=r[8]*_,o[9]=r[9]*_,o[10]=r[10]*_,o[11]=r[11]*_,o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15],o}function qf(o,r,s){var u=Math.sin(s),p=Math.cos(s),_=r[4],b=r[5],E=r[6],A=r[7],I=r[8],R=r[9],F=r[10],N=r[11];return r!==o&&(o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[3],o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o[4]=_*p+I*u,o[5]=b*p+R*u,o[6]=E*p+F*u,o[7]=A*p+N*u,o[8]=I*p-_*u,o[9]=R*p-b*u,o[10]=F*p-E*u,o[11]=N*p-A*u,o}function Mh(o,r,s){var u=Math.sin(s),p=Math.cos(s),_=r[0],b=r[1],E=r[2],A=r[3],I=r[8],R=r[9],F=r[10],N=r[11];return r!==o&&(o[4]=r[4],o[5]=r[5],o[6]=r[6],o[7]=r[7],o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o[0]=_*p-I*u,o[1]=b*p-R*u,o[2]=E*p-F*u,o[3]=A*p-N*u,o[8]=_*u+I*p,o[9]=b*u+R*p,o[10]=E*u+F*p,o[11]=A*u+N*p,o}function Gf(o,r){return o[0]=r[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=r[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=r[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function mc(o,r,s){var u,p,_,b=s[0],E=s[1],A=s[2],I=Math.hypot(b,E,A);return I<Ah?null:(b*=I=1/I,E*=I,A*=I,u=Math.sin(r),p=Math.cos(r),o[0]=b*b*(_=1-p)+p,o[1]=E*b*_+A*u,o[2]=A*b*_-E*u,o[3]=0,o[4]=b*E*_-A*u,o[5]=E*E*_+p,o[6]=A*E*_+b*u,o[7]=0,o[8]=b*A*_+E*u,o[9]=E*A*_-b*u,o[10]=A*A*_+p,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o)}Math.hypot||(Math.hypot=function(){for(var o=0,r=arguments.length;r--;)o+=arguments[r]*arguments[r];return Math.sqrt(o)});var jd=Cl;function Ch(){var o=new so(3);return so!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o}function e5(o){var r=new so(3);return r[0]=o[0],r[1]=o[1],r[2]=o[2],r}function m1(o){return Math.hypot(o[0],o[1],o[2])}function gc(o,r,s){var u=new so(3);return u[0]=o,u[1]=r,u[2]=s,u}function Hs(o,r,s){return o[0]=r[0]+s[0],o[1]=r[1]+s[1],o[2]=r[2]+s[2],o}function Wf(o,r,s){return o[0]=r[0]-s[0],o[1]=r[1]-s[1],o[2]=r[2]-s[2],o}function Nd(o,r,s){return o[0]=r[0]*s[0],o[1]=r[1]*s[1],o[2]=r[2]*s[2],o}function Ih(o,r,s){return o[0]=Math.min(r[0],s[0]),o[1]=Math.min(r[1],s[1]),o[2]=Math.min(r[2],s[2]),o}function Xi(o,r,s){return o[0]=Math.max(r[0],s[0]),o[1]=Math.max(r[1],s[1]),o[2]=Math.max(r[2],s[2]),o}function qn(o,r,s){return o[0]=r[0]*s,o[1]=r[1]*s,o[2]=r[2]*s,o}function g1(o,r,s,u){return o[0]=r[0]+s[0]*u,o[1]=r[1]+s[1]*u,o[2]=r[2]+s[2]*u,o}function lo(o,r){var s=r[0],u=r[1],p=r[2],_=s*s+u*u+p*p;return _>0&&(_=1/Math.sqrt(_)),o[0]=r[0]*_,o[1]=r[1]*_,o[2]=r[2]*_,o}function Ma(o,r){return o[0]*r[0]+o[1]*r[1]+o[2]*r[2]}function Hf(o,r,s){var u=r[0],p=r[1],_=r[2],b=s[0],E=s[1],A=s[2];return o[0]=p*A-_*E,o[1]=_*b-u*A,o[2]=u*E-p*b,o}function Qn(o,r,s){var u=r[0],p=r[1],_=r[2],b=s[3]*u+s[7]*p+s[11]*_+s[15];return o[0]=(s[0]*u+s[4]*p+s[8]*_+s[12])/(b=b||1),o[1]=(s[1]*u+s[5]*p+s[9]*_+s[13])/b,o[2]=(s[2]*u+s[6]*p+s[10]*_+s[14])/b,o}function Zf(o,r,s){var u=s[0],p=s[1],_=s[2],b=r[0],E=r[1],A=r[2],I=p*A-_*E,R=_*b-u*A,F=u*E-p*b,N=p*F-_*R,H=_*I-u*F,Z=u*R-p*I,J=2*s[3];return R*=J,F*=J,H*=2,Z*=2,o[0]=b+(I*=J)+(N*=2),o[1]=E+R+H,o[2]=A+F+Z,o}var y1,Ca=Wf,t5=Nd,r5=m1;function Xf(o,r,s){return o[0]=r[0]*s,o[1]=r[1]*s,o[2]=r[2]*s,o[3]=r[3]*s,o}function Kf(o,r){var s=r[0],u=r[1],p=r[2],_=r[3],b=s*s+u*u+p*p+_*_;return b>0&&(b=1/Math.sqrt(b)),o[0]=s*b,o[1]=u*b,o[2]=p*b,o[3]=_*b,o}function Su(o,r,s){var u=r[0],p=r[1],_=r[2],b=r[3];return o[0]=s[0]*u+s[4]*p+s[8]*_+s[12]*b,o[1]=s[1]*u+s[5]*p+s[9]*_+s[13]*b,o[2]=s[2]*u+s[6]*p+s[10]*_+s[14]*b,o[3]=s[3]*u+s[7]*p+s[11]*_+s[15]*b,o}function Yf(){var o=new so(4);return so!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o[3]=1,o}function Oh(o){return o[0]=0,o[1]=0,o[2]=0,o[3]=1,o}function n5(o,r,s){s*=.5;var u=r[0],p=r[1],_=r[2],b=r[3],E=Math.sin(s),A=Math.cos(s);return o[0]=u*A+b*E,o[1]=p*A+_*E,o[2]=_*A-p*E,o[3]=b*A-u*E,o}function Ud(o,r,s){s*=.5;var u=r[0],p=r[1],_=r[2],b=r[3],E=Math.sin(s),A=Math.cos(s);return o[0]=u*A-_*E,o[1]=p*A+b*E,o[2]=_*A+u*E,o[3]=b*A-p*E,o}Ch(),y1=new so(4),so!=Float32Array&&(y1[0]=0,y1[1]=0,y1[2]=0,y1[3]=0);var $d=Kf;Ch(),gc(1,0,0),gc(0,1,0),Yf(),Yf(),J3();const i5=Xe([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:kh}=i5,Zs=Xe([{name:"a_pos_3",components:3,type:"Int16"}]);var Dh=Xe([{name:"a_pos",type:"Int16",components:2}]);class Jf{constructor(r,s){this.pos=r,this.dir=s}intersectsPlane(r,s,u){const p=Ma(s,this.dir);if(Math.abs(p)<1e-6)return!1;const _=((r[0]-this.pos[0])*s[0]+(r[1]-this.pos[1])*s[1]+(r[2]-this.pos[2])*s[2])/p;return u[0]=this.pos[0]+this.dir[0]*_,u[1]=this.pos[1]+this.dir[1]*_,u[2]=this.pos[2]+this.dir[2]*_,!0}closestPointOnSphere(r,s,u){if((function(H,Z){var J=H[0],ue=H[1],me=H[2],Ie=Z[0],ye=Z[1],Me=Z[2];return Math.abs(J-Ie)<=Ah*Math.max(1,Math.abs(J),Math.abs(Ie))&&Math.abs(ue-ye)<=Ah*Math.max(1,Math.abs(ue),Math.abs(ye))&&Math.abs(me-Me)<=Ah*Math.max(1,Math.abs(me),Math.abs(Me))})(this.pos,r)||s===0)return u[0]=u[1]=u[2]=0,!1;const[p,_,b]=this.dir,E=this.pos[0]-r[0],A=this.pos[1]-r[1],I=this.pos[2]-r[2],R=p*p+_*_+b*b,F=2*(E*p+A*_+I*b),N=F*F-4*R*(E*E+A*A+I*I-s*s);if(N<0){const H=Math.max(-F/2,0),Z=E+p*H,J=A+_*H,ue=I+b*H,me=Math.hypot(Z,J,ue);return u[0]=Z*s/me,u[1]=J*s/me,u[2]=ue*s/me,!1}{const H=(-F-Math.sqrt(N))/(2*R);if(H<0){const Z=Math.hypot(E,A,I);return u[0]=E*s/Z,u[1]=A*s/Z,u[2]=I*s/Z,!1}return u[0]=E+p*H,u[1]=A+_*H,u[2]=I+b*H,!0}}}class Lh{constructor(r,s,u,p,_){this.TL=r,this.TR=s,this.BR=u,this.BL=p,this.horizon=_}static fromInvProjectionMatrix(r,s,u){const p=[-1,1,1],_=[1,1,1],b=[1,-1,1],E=[-1,-1,1],A=Qn(p,p,r),I=Qn(_,_,r),R=Qn(b,b,r),F=Qn(E,E,r);return new Lh(A,I,R,F,s/u)}}class Qf{constructor(r,s){this.points=r,this.planes=s}static fromInvProjectionMatrix(r,s,u,p){const _=Math.pow(2,u),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((A=>{const I=Su([],A,r),R=1/I[3]/s*_;return(function(F,N,H){return F[0]=N[0]*H[0],F[1]=N[1]*H[1],F[2]=N[2]*H[2],F[3]=N[3]*H[3],F})(I,I,[R,R,p?1/I[3]:R,R])})),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((A=>{const I=lo([],Hf([],Ca([],b[A[0]],b[A[1]]),Ca([],b[A[2]],b[A[1]]))),R=-Ma(I,b[A[1]]);return I.concat(R)}));return new Qf(b,E)}}class uo{static fromPoints(r){const s=[1/0,1/0,1/0],u=[-1/0,-1/0,-1/0];for(const p of r)Ih(s,s,p),Xi(u,u,p);return new uo(s,u)}static applyTransform(r,s){const u=r.getCorners();for(let p=0;p<u.length;++p)Qn(u[p],u[p],s);return uo.fromPoints(u)}constructor(r,s){this.min=r,this.max=s,this.center=qn([],Hs([],this.min,this.max),.5)}quadrant(r){const s=[r%2==0,r<2],u=e5(this.min),p=e5(this.max);for(let _=0;_<s.length;_++)u[_]=s[_]?this.min[_]:this.center[_],p[_]=s[_]?this.center[_]:this.max[_];return p[2]=this.max[2],new uo(u,p)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}distanceZ(r){return Math.max(Math.min(this.max[2],r[2]),this.min[2])-r[2]}getCorners(){const r=this.min,s=this.max;return[[r[0],r[1],r[2]],[s[0],r[1],r[2]],[s[0],s[1],r[2]],[r[0],s[1],r[2]],[r[0],r[1],s[2]],[s[0],r[1],s[2]],[s[0],s[1],s[2]],[r[0],s[1],s[2]]]}intersects(r){const s=this.getCorners();let u=!0;for(let p=0;p<r.planes.length;p++){const _=r.planes[p];let b=0;for(let E=0;E<s.length;E++)b+=Ma(_,s[E])+_[3]>=0;if(b===0)return 0;b!==s.length&&(u=!1)}if(u)return 2;for(let p=0;p<3;p++){let _=Number.MAX_VALUE,b=-Number.MAX_VALUE;for(let E=0;E<r.points.length;E++){const A=r.points[E][p]-this.min[p];_=Math.min(_,A),b=Math.max(b,A)}if(b<0||_>this.max[p]-this.min[p])return 0}return 1}}const yc=5,co=6,Xs=ur/Math.PI/2,G6=16383,Ks=64,Fi=[Ks,32,16],Wa=-Xs,ir=Xs,_1=[new uo([Wa,Wa,Wa],[ir,ir,ir]),new uo([Wa,Wa,Wa],[0,0,ir]),new uo([0,Wa,Wa],[ir,0,ir]),new uo([Wa,0,Wa],[0,ir,ir]),new uo([0,0,Wa],[ir,ir,ir])];function v1(o){return o*Xs/Tu}function Vd(o,r,s,u=!0){const p=qn([],o._camera.position,o.worldSize),_=[r,s,1,1];Su(_,_,o.pixelMatrixInverse),Xf(_,_,1/_[3]);const b=lo([],Ca([],_,p)),E=o.globeMatrix,A=[E[12],E[13],E[14]],I=Ca([],A,p),R=m1(I),F=lo([],I),N=o.worldSize/(2*Math.PI),H=Ma(F,b),Z=Math.asin(N/R);if(Z<Math.acos(H)){if(!u)return null;const Lt=[],ht=[];qn(Lt,b,R/H),lo(ht,Ca(ht,Lt,I)),lo(b,Hs(b,I,qn(b,ht,Math.tan(Z)*R)))}const J=[];new Jf(p,b).closestPointOnSphere(A,N,J);const ue=lo([],gi(E,0)),me=lo([],gi(E,1)),Ie=lo([],gi(E,2)),ye=Ma(ue,J),Me=Ma(me,J),Re=Ma(Ie,J),Le=Te(Math.asin(-Me/N));let lt=Te(Math.atan2(ye,Re));lt=o.center.lng+(function(Lt,ht){const wt=(ht-Lt+180)%360-180;return wt<-180?wt+360:wt})(o.center.lng,lt);const it=Cn(lt),bt=$e(Xn(Le),0,1);return new Eu(it,bt)}class W6{constructor(r,s,u){this.a=Ca([],r,u),this.b=Ca([],s,u),this.center=u;const p=lo([],this.a),_=lo([],this.b);this.angle=Math.acos(Ma(p,_))}}function _c(o,r){if(o.angle===0)return null;let s;return s=o.a[r]===0?1/o.angle*.5*Math.PI:1/o.angle*Math.atan(o.b[r]/o.a[r]/Math.sin(o.angle)-1/Math.tan(o.angle)),s<0||s>1?null:(function(u,p,_,b){const E=Math.sin(_);return u*(Math.sin((1-b)*_)/E)+p*(Math.sin(b*_)/E)})(o.a[r],o.b[r],o.angle,$e(s,0,1))+o.center[r]}function Ia(o){if(o.z<=1)return _1[o.z+2*o.y+o.x];const r=Rh(x1(o));return uo.fromPoints(r)}function Il(o,r,s){return qn(o,o,1-s),g1(o,o,r,s)}function qd(o,r){const s=b1(r.zoom);if(s===0)return Ia(o);const u=x1(o),p=Rh(u),_=Cn(u.getWest())*r.worldSize,b=Cn(u.getEast())*r.worldSize,E=Xn(u.getNorth())*r.worldSize,A=Xn(u.getSouth())*r.worldSize,I=[_,E,0],R=[b,E,0],F=[_,A,0],N=[b,A,0],H=Aa([],r.globeMatrix);return Qn(I,I,H),Qn(R,R,H),Qn(F,F,H),Qn(N,N,H),p[0]=Il(p[0],F,s),p[1]=Il(p[1],N,s),p[2]=Il(p[2],R,s),p[3]=Il(p[3],I,s),uo.fromPoints(p)}function Gd(o,r,s){for(const u of o)Qn(u,u,r),qn(u,u,s)}function o5(o,r,s){const u=r/o.worldSize,p=o.globeMatrix;if(s.z<=1){const it=Ia(s).getCorners();return Gd(it,p,u),uo.fromPoints(it)}const _=x1(s),b=Rh(_);Gd(b,p,u);const E=Number.MAX_VALUE,A=[-E,-E,-E],I=[E,E,E];if(_.contains(o.center)){for(const Lt of b)Ih(I,I,Lt),Xi(A,A,Lt);A[2]=0;const it=o.point,bt=[it.x*u,it.y*u,0];return Ih(I,I,bt),Xi(A,A,bt),new uo(I,A)}const R=[p[12]*u,p[13]*u,p[14]*u],F=_.getCenter(),N=$e(o.center.lat,-ii,ii),H=$e(F.lat,-ii,ii),Z=Cn(o.center.lng),J=Xn(N);let ue=Z-Cn(F.lng);const me=J-Xn(H);ue>.5?ue-=1:ue<-.5&&(ue+=1);let Ie=0;Math.abs(ue)>Math.abs(me)?Ie=ue>=0?1:3:(Ie=me>=0?0:2,g1(R,R,[p[4]*u,p[5]*u,p[6]*u],-Math.sin(Ge(me>=0?_.getSouth():_.getNorth()))*Xs));const ye=b[Ie],Me=b[(Ie+1)%4],Re=new W6(ye,Me,R),Le=[_c(Re,0)||ye[0],_c(Re,1)||ye[1],_c(Re,2)||ye[2]],lt=b1(o.zoom);if(lt>0){const it=(function({x:Lt,y:ht,z:wt},St,It,Bt,xt){const Ht=1/(1<<wt);let or=Lt*Ht,Yt=or+Ht,kr=ht*Ht,Ft=kr+Ht,hr=0;const Dr=(or+Yt)/2-Bt;return Dr>.5?hr=-1:Dr<-.5&&(hr=1),or=((or+hr)*St-(Bt*=St))*It+Bt,Yt=((Yt+hr)*St-Bt)*It+Bt,kr=(kr*St-(xt*=St))*It+xt,Ft=(Ft*St-xt)*It+xt,[[or,Ft,0],[Yt,Ft,0],[Yt,kr,0],[or,kr,0]]})(s,r,o._pixelsPerMercatorPixel,Z,J);for(let Lt=0;Lt<b.length;Lt++)Il(b[Lt],it[Lt],lt);const bt=Hs([],it[Ie],it[(Ie+1)%4]);qn(bt,bt,.5),Il(Le,bt,lt)}for(const it of b)Ih(I,I,it),Xi(A,A,it);return I[2]=Math.min(ye[2],Me[2]),Ih(I,I,Le),Xi(A,A,Le),new uo(I,A)}function x1({x:o,y:r,z:s}){const u=1/(1<<s),p=new pr(Ki(o*u),ln((r+1)*u)),_=new pr(Ki((o+1)*u),ln(r*u));return new Ml(p,_)}function Rh(o){const r=Ge(o.getNorth()),s=Ge(o.getSouth()),u=Math.cos(r),p=Math.cos(s),_=Math.sin(r),b=Math.sin(s),E=o.getWest(),A=o.getEast();return[vi(p,b,E),vi(p,b,A),vi(u,_,A),vi(u,_,E)]}function vi(o,r,s,u=Xs){return s=Ge(s),[o*Math.sin(s)*u,-r*u,o*Math.cos(s)*u]}function To(o,r,s){return vi(Math.cos(Ge(o)),Math.sin(Ge(o)),r,s)}function Ha(o,r,s,u){const p=1<<s.z,_=(o/ur+s.x)/p;return To(ln((r/ur+s.y)/p),Ki(_),u)}function zh({min:o,max:r}){return G6/Math.max(r[0]-o[0],r[1]-o[1],r[2]-o[2])}const Wd=new Float64Array(16);function jo(o){const r=zh(o),s=Gf(Wd,[r,r,r]);return bu(s,s,((u=[])[0]=-(p=o.min)[0],u[1]=-p[1],u[2]=-p[2],u));var u,p}function e0(o){const r=(u=o.min,(s=Wd)[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=u[0],s[13]=u[1],s[14]=u[2],s[15]=1,s);var s,u;const p=1/zh(o);return wu(r,r,[p,p,p])}function ms(o,r,s,u,p){const _=(function(A){const I=ur/(2*Math.PI);return A/(2*Math.PI)/I})(s),b=[o,r,-s/(2*Math.PI)],E=ps(new Float64Array(16));return bu(E,E,b),wu(E,E,[_,_,_]),qf(E,E,Ge(-p)),Mh(E,E,Ge(-u)),E}function b1(o){return ft(yc,co,o)}function Hd(o,r){const s=To(r.lat,r.lng),u=(function(Z){const J=To(Z._center.lat,Z._center.lng);let ue=Hf([],gc(0,1,0),J);const me=mc([],-Z.angle,J);ue=Qn(ue,ue,me),mc(me,-Z._pitch,ue);const Ie=lo([],J);return qn(Ie,Ie,v1(Z.cameraToCenterDistance/Z.pixelsPerMeter)),Qn(Ie,Ie,me),Hs([],J,Ie)})(o);return b=(p=Wf([],u,s))[0],E=p[1],A=p[2],I=(_=s)[0],R=_[1],F=_[2],H=(N=Math.sqrt(b*b+E*E+A*A)*Math.sqrt(I*I+R*R+F*F))&&Ma(p,_)/N,Math.acos(Math.min(Math.max(H,-1),1));var p,_,b,E,A,I,R,F,N,H}function t0(o,r){return Hd(o,r)>Math.PI/2*1.01}const Zd=Ge(85),a5=Math.cos(Zd),H6=Math.sin(Zd),Tu=63710088e-1,r0=2*Math.PI*Tu;class qi{constructor(r,s){if(isNaN(r)||isNaN(s))throw new Error(`Invalid LngLat object: (${r}, ${s})`);if(this.lng=+r,this.lat=+s,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new qi(Pe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(r){const s=Math.PI/180,u=this.lat*s,p=r.lat*s,_=Math.sin(u)*Math.sin(p)+Math.cos(u)*Math.cos(p)*Math.cos((r.lng-this.lng)*s);return Tu*Math.acos(Math.min(_,1))}toBounds(r=0){const s=360*r/40075017,u=s/Math.cos(Math.PI/180*this.lat);return new Ml(new qi(this.lng-u,this.lat-s),new qi(this.lng+u,this.lat+s))}toEcef(r){const s=v1(r);return To(this.lat,this.lng,Xs+s)}static convert(r){if(r instanceof qi)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new qi(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new qi(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var pr=qi;function ji(o){return r0*Math.cos(o*Math.PI/180)}function Cn(o){return(180+o)/360}function Xn(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function fi(o,r){return o/ji(r)}function Ki(o){return 360*o-180}function ln(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}function w1(o,r){return o*ji(ln(r))}const ii=85.051129;function Bh(o){return 1/Math.cos(o*Math.PI/180)}class Eu{constructor(r,s,u=0){this.x=+r,this.y=+s,this.z=+u}static fromLngLat(r,s=0){const u=pr.convert(r);return new Eu(Cn(u.lng),Xn(u.lat),fi(s,u.lat))}toLngLat(){return new pr(Ki(this.x),ln(this.y))}toAltitude(){return w1(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/r0*Bh(ln(this.y))}}function vc(o,r,s,u,p,_,b,E,A){const I=(r+u)/2,R=(s+p)/2,F=new Ee(I,R);E(F),(function(N,H,Z,J,ue,me){const Ie=Z-ue,ye=J-me;return Math.abs((J-H)*Ie-(Z-N)*ye)/Math.hypot(Ie,ye)})(F.x,F.y,_.x,_.y,b.x,b.y)>=A?(vc(o,r,s,I,R,_,F,E,A),vc(o,I,R,u,p,F,b,E,A)):o.push(b)}function No(o,r,s){let u=o[0],p=u.x,_=u.y;r(u);const b=[u];for(let E=1;E<o.length;E++){const A=o[E],{x:I,y:R}=A;r(A),vc(b,p,_,I,R,u,A,r,s),p=I,_=R,u=A}return b}function Fh(o,r,s,u){if(u(r,s)){const p=r.add(s)._mult(.5);Fh(o,r,p,u),Fh(o,p,s,u)}else o.push(s)}function S1(o,r){let s=o[0];const u=[s];for(let p=1;p<o.length;p++){const _=o[p];Fh(u,s,_,r),s=_}return u}const gs=Math.pow(2,14)-1,jh=-gs-1;function Xd(o,r){const s=Math.round(o.x*r),u=Math.round(o.y*r);return o.x=$e(s,jh,gs),o.y=$e(u,jh,gs),(s<o.x||s>o.x+1||u<o.y||u>o.y+1)&&Sr("Geometry exceeds allowed extent, reduce your vector tile buffer size"),o}function Eo(o,r,s){const u=o.loadGeometry(),p=o.extent,_=ur/p;if(r&&s&&s.projection.isReprojectedInTileSpace){const b=1<<r.z,{scale:E,x:A,y:I,projection:R}=s,F=N=>{const H=Ki((r.x+N.x/p)/b),Z=ln((r.y+N.y/p)/b),J=R.project(H,Z);N.x=(J.x*E-A)*p,N.y=(J.y*E-I)*p};for(let N=0;N<u.length;N++)if(o.type!==1)u[N]=No(u[N],F,1);else{const H=[];for(const Z of u[N])Z.x<0||Z.x>=p||Z.y<0||Z.y>=p||(F(Z),H.push(Z));u[N]=H}}for(const b of u)for(const E of b)Xd(E,_);return u}function Ys(o,r){return{type:o.type,id:o.id,properties:o.properties,geometry:r?Eo(o):[]}}function ys(o,r,s,u,p){o.emplaceBack(2*r+(u+1)/2,2*s+(p+1)/2)}function xc(o,r,s){o.emplaceBack(r.x,r.y,r.z,s[0]*16384,s[1]*16384,s[2]*16384)}class bc{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map((s=>s.id)),this.index=r.index,this.hasPattern=!1,this.projection=r.projection,this.layoutVertexArray=new Ot,this.indexArray=new sr,this.segments=new hi,this.programConfigurations=new xu(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter((s=>s.isStateDependent())).map((s=>s.id))}populate(r,s,u,p){const _=this.layers[0],b=[];let E=null;_.type==="circle"&&(E=_.layout.get("circle-sort-key"));for(const{feature:I,id:R,index:F,sourceLayerIndex:N}of r){const H=this.layers[0]._featureFilter.needGeometry,Z=Ys(I,H);if(!this.layers[0]._featureFilter.filter(new z(this.zoom),Z,u))continue;const J=E?E.evaluate(Z,{},u):void 0,ue={id:R,properties:I.properties,type:I.type,sourceLayerIndex:N,index:F,geometry:H?Z.geometry:Eo(I,u,p),patterns:{},sortKey:J};b.push(ue)}E&&b.sort(((I,R)=>I.sortKey-R.sortKey));let A=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new Mt,A=p.projection);for(const I of b){const{geometry:R,index:F,sourceLayerIndex:N}=I,H=r[F].feature;this.addFeature(I,R,F,s.availableImages,u,A),s.featureIndex.insert(H,R,F,N,this.index)}}update(r,s,u,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,s,this.stateDependentLayers,u,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Y3.members),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=r.createVertexBuffer(this.globeExtVertexArray,q6.members))),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(r,s,u,p,_,b){for(const E of s)for(const A of E){const I=A.x,R=A.y;if(I<0||I>=ur||R<0||R>=ur)continue;if(b){const H=b.projectTilePoint(I,R,_),Z=b.upVector(_,I,R),J=this.globeExtVertexArray;xc(J,H,Z),xc(J,H,Z),xc(J,H,Z),xc(J,H,Z)}const F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),N=F.vertexLength;ys(this.layoutVertexArray,I,R,-1,-1),ys(this.layoutVertexArray,I,R,1,-1),ys(this.layoutVertexArray,I,R,1,1),ys(this.layoutVertexArray,I,R,-1,1),this.indexArray.emplaceBack(N,N+1,N+2),this.indexArray.emplaceBack(N,N+2,N+3),F.vertexLength+=4,F.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,{},p,_)}}function n0(o,r){for(let s=0;s<o.length;s++)if(Ol(r,o[s]))return!0;for(let s=0;s<r.length;s++)if(Ol(o,r[s]))return!0;return!!Js(o,r)}function i0(o,r,s){return!!Ol(o,r)||!!Po(r,o,s)}function Nh(o,r){if(o.length===1)return o0(r,o[0]);for(let s=0;s<r.length;s++){const u=r[s];for(let p=0;p<u.length;p++)if(Ol(o,u[p]))return!0}for(let s=0;s<o.length;s++)if(o0(r,o[s]))return!0;for(let s=0;s<r.length;s++)if(Js(o,r[s]))return!0;return!1}function Uo(o,r,s){if(o.length>1){if(Js(o,r))return!0;for(let u=0;u<r.length;u++)if(Po(r[u],o,s))return!0}for(let u=0;u<o.length;u++)if(Po(o[u],r,s))return!0;return!1}function Js(o,r){if(o.length===0||r.length===0)return!1;for(let s=0;s<o.length-1;s++){const u=o[s],p=o[s+1];for(let _=0;_<r.length-1;_++)if(_s(u,p,r[_],r[_+1]))return!0}return!1}function _s(o,r,s,u){return yn(o,s,u)!==yn(r,s,u)&&yn(o,r,s)!==yn(o,r,u)}function Po(o,r,s){const u=s*s;if(r.length===1)return o.distSqr(r[0])<u;for(let p=1;p<r.length;p++)if(Kd(o,r[p-1],r[p])<u)return!0;return!1}function Kd(o,r,s){const u=r.distSqr(s);if(u===0)return o.distSqr(r);const p=((o.x-r.x)*(s.x-r.x)+(o.y-r.y)*(s.y-r.y))/u;return o.distSqr(p<0?r:p>1?s:s.sub(r)._mult(p)._add(r))}function o0(o,r){let s,u,p,_=!1;for(let b=0;b<o.length;b++){s=o[b];for(let E=0,A=s.length-1;E<s.length;A=E++)u=s[E],p=s[A],u.y>r.y!=p.y>r.y&&r.x<(p.x-u.x)*(r.y-u.y)/(p.y-u.y)+u.x&&(_=!_)}return _}function Ol(o,r){let s=!1;for(let u=0,p=o.length-1;u<o.length;p=u++){const _=o[u],b=o[p];_.y>r.y!=b.y>r.y&&r.x<(b.x-_.x)*(r.y-_.y)/(b.y-_.y)+_.x&&(s=!s)}return s}function s5(o,r,s,u,p){for(const b of o)if(r<=b.x&&s<=b.y&&u>=b.x&&p>=b.y)return!0;const _=[new Ee(r,s),new Ee(r,p),new Ee(u,p),new Ee(u,s)];if(o.length>2){for(const b of _)if(Ol(o,b))return!0}for(let b=0;b<o.length-1;b++)if(Pu(o[b],o[b+1],_))return!0;return!1}function Pu(o,r,s){const u=s[0],p=s[2];if(o.x<u.x&&r.x<u.x||o.x>p.x&&r.x>p.x||o.y<u.y&&r.y<u.y||o.y>p.y&&r.y>p.y)return!1;const _=yn(o,r,s[0]);return _!==yn(o,r,s[1])||_!==yn(o,r,s[2])||_!==yn(o,r,s[3])}function wc(o,r,s){const u=r.paint.get(o).value;return u.kind==="constant"?u.value:s.programConfigurations.get(r.id).getMaxValue(o)}function T1(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function Au(o,r,s,u,p){if(!r[0]&&!r[1])return o;const _=Ee.convert(r)._mult(p);s==="viewport"&&_._rotate(-u);const b=[];for(let E=0;E<o.length;E++)b.push(o[E].sub(_));return b}function a0(o,r,s,u){const p=Ee.convert(o)._mult(u);return r==="viewport"&&p._rotate(-s),p}Zt(bc,"CircleBucket",{omit:["layers"]});const Sc=new ve({"circle-sort-key":new ce(gt.layout_circle["circle-sort-key"])});var l5={paint:new ve({"circle-radius":new ce(gt.paint_circle["circle-radius"]),"circle-color":new ce(gt.paint_circle["circle-color"]),"circle-blur":new ce(gt.paint_circle["circle-blur"]),"circle-opacity":new ce(gt.paint_circle["circle-opacity"]),"circle-translate":new Y(gt.paint_circle["circle-translate"]),"circle-translate-anchor":new Y(gt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Y(gt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Y(gt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ce(gt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ce(gt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ce(gt.paint_circle["circle-stroke-opacity"])}),layout:Sc};function Yd(o,r,s,u,p,_,b,E,A){if(_&&o.queryGeometry.isAboveHorizon)return!1;_&&(A*=o.pixelToTileUnitsFactor);const I=o.tileID.canonical,R=s.projection.upVectorScale(I,s.center.lat,s.worldSize).metersToTile;for(const F of r)for(const N of F){const H=N.add(E),Z=p&&s.elevation?s.elevation.exaggeration()*p.getElevationAt(H.x,H.y,!0):0,J=s.projection.projectTilePoint(H.x,H.y,I);if(Z>0){const ye=s.projection.upVector(I,H.x,H.y);J.x+=ye[0]*R*Z,J.y+=ye[1]*R*Z,J.z+=ye[2]*R*Z}const ue=_?H:Jd(J.x,J.y,J.z,u),me=_?o.tilespaceRays.map((ye=>X6(ye,Z))):o.queryGeometry.screenGeometry,Ie=Su([],[J.x,J.y,J.z,1],u);if(!b&&_?A*=Ie[3]/s.cameraToCenterDistance:b&&!_&&(A*=s.cameraToCenterDistance/Ie[3]),_){const ye=ln((N.y/ur+I.y)/(1<<I.z));A/=s.projection.pixelsPerMeter(ye,1)/fi(1,ye)}if(i0(me,ue,A))return!0}return!1}function Jd(o,r,s,u){const p=Su([],[o,r,s,1],u);return new Ee(p[0]/p[3],p[1]/p[3])}const Uh=gc(0,0,0),Z6=gc(0,0,1);function X6(o,r){const s=Ch();return Uh[2]=r,o.intersectsPlane(Uh,Z6,s),new Ee(s[0],s[1])}class Qd extends bc{}function ep(o,{width:r,height:s},u,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==r*s*u)throw new RangeError("mismatched image size")}else p=new Uint8Array(r*s*u);return o.width=r,o.height=s,o.data=p,o}function Mu(o,r,s){const{width:u,height:p}=r;u===o.width&&p===o.height||(tp(o,r,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,u),height:Math.min(o.height,p)},s),o.width=u,o.height=p,o.data=r.data)}function tp(o,r,s,u,p,_){if(p.width===0||p.height===0)return r;if(p.width>o.width||p.height>o.height||s.x>o.width-p.width||s.y>o.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>r.width||p.height>r.height||u.x>r.width-p.width||u.y>r.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const b=o.data,E=r.data;for(let A=0;A<p.height;A++){const I=((s.y+A)*o.width+s.x)*_,R=((u.y+A)*r.width+u.x)*_;for(let F=0;F<p.width*_;F++)E[R+F]=b[I+F]}return r}Zt(Qd,"HeatmapBucket",{omit:["layers"]});class aa{constructor(r,s){ep(this,r,1,s)}resize(r){Mu(this,new aa(r),1)}clone(){return new aa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,s,u,p,_){tp(r,s,u,p,_,1)}}class $o{constructor(r,s){ep(this,r,4,s)}resize(r){Mu(this,new $o(r),4)}replace(r,s){s?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new $o({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,s,u,p,_){tp(r,s,u,p,_,4)}}Zt(aa,"AlphaImage"),Zt($o,"RGBAImage");var xi={paint:new ve({"heatmap-radius":new ce(gt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ce(gt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Y(gt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _e(gt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Y(gt.paint_heatmap["heatmap-opacity"])})};function rp(o){const r={},s=o.resolution||256,u=o.clips?o.clips.length:1,p=o.image||new $o({width:s,height:u}),_=(b,E,A)=>{r[o.evaluationKey]=A;const I=o.expression.evaluate(r);p.data[b+E+0]=Math.floor(255*I.r/I.a),p.data[b+E+1]=Math.floor(255*I.g/I.a),p.data[b+E+2]=Math.floor(255*I.b/I.a),p.data[b+E+3]=Math.floor(255*I.a)};if(o.clips)for(let b=0,E=0;b<u;++b,E+=4*s)for(let A=0,I=0;A<s;A++,I+=4){const R=A/(s-1),{start:F,end:N}=o.clips[b];_(E,I,F*(1-R)+N*R)}else for(let b=0,E=0;b<s;b++,E+=4)_(0,E,b/(s-1));return p}var u5={paint:new ve({"hillshade-illumination-direction":new Y(gt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Y(gt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Y(gt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Y(gt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Y(gt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Y(gt.paint_hillshade["hillshade-accent-color"])})};const K6=Xe([{name:"a_pos",components:2,type:"Int16"}],4),{members:Y6}=K6;var s0={exports:{}};function $h(o,r,s){s=s||2;var u,p,_,b,E,A,I,R=r&&r.length,F=R?r[0]*s:o.length,N=c5(o,0,F,s,!0),H=[];if(!N||N.next===N.prev)return H;if(R&&(N=(function(J,ue,me,Ie){var ye,Me,Re,Le=[];for(ye=0,Me=ue.length;ye<Me;ye++)(Re=c5(J,ue[ye]*Ie,ye<Me-1?ue[ye+1]*Ie:J.length,Ie,!1))===Re.next&&(Re.steiner=!0),Le.push(ap(Re));for(Le.sort(u0),ye=0;ye<Le.length;ye++)me=np(Le[ye],me);return me})(o,r,N,s)),o.length>80*s){u=_=o[0],p=b=o[1];for(var Z=s;Z<F;Z+=s)(E=o[Z])<u&&(u=E),(A=o[Z+1])<p&&(p=A),E>_&&(_=E),A>b&&(b=A);I=(I=Math.max(_-u,b-p))!==0?32767/I:0}return Tc(N,H,s,u,p,I,0),H}function c5(o,r,s,u,p){var _,b;if(p===A1(o,r,s,u)>0)for(_=r;_<s;_+=u)b=c0(_,o[_],o[_+1],b);else for(_=s-u;_>=r;_-=u)b=c0(_,o[_],o[_+1],b);return b&&Pc(b,b.next)&&(Iu(b),b=b.next),b}function Yi(o,r){if(!o)return o;r||(r=o);var s,u=o;do if(s=!1,u.steiner||!Pc(u,u.next)&&oi(u.prev,u,u.next)!==0)u=u.next;else{if(Iu(u),(u=r=u.prev)===u.next)break;s=!0}while(s||u!==r);return r}function Tc(o,r,s,u,p,_,b){if(o){!b&&_&&(function(R,F,N,H){var Z=R;do Z.z===0&&(Z.z=op(Z.x,Z.y,F,N,H)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next;while(Z!==R);Z.prevZ.nextZ=null,Z.prevZ=null,(function(J){var ue,me,Ie,ye,Me,Re,Le,lt,it=1;do{for(me=J,J=null,Me=null,Re=0;me;){for(Re++,Ie=me,Le=0,ue=0;ue<it&&(Le++,Ie=Ie.nextZ);ue++);for(lt=it;Le>0||lt>0&&Ie;)Le!==0&&(lt===0||!Ie||me.z<=Ie.z)?(ye=me,me=me.nextZ,Le--):(ye=Ie,Ie=Ie.nextZ,lt--),Me?Me.nextZ=ye:J=ye,ye.prevZ=Me,Me=ye;me=Ie}Me.nextZ=null,it*=2}while(Re>1)})(Z)})(o,u,p,_);for(var E,A,I=o;o.prev!==o.next;)if(E=o.prev,A=o.next,_?Cu(o,u,p,_):J6(o))r.push(E.i/s|0),r.push(o.i/s|0),r.push(A.i/s|0),Iu(o),o=A.next,I=A.next;else if((o=A)===I){b?b===1?Tc(o=l0(Yi(o),r,s),r,s,u,p,_,2):b===2&&Ec(o,r,s,u,p,_):Tc(Yi(o),r,s,u,p,_,1);break}}}function J6(o){var r=o.prev,s=o,u=o.next;if(oi(r,s,u)>=0)return!1;for(var p=r.x,_=s.x,b=u.x,E=r.y,A=s.y,I=u.y,R=p<_?p<b?p:b:_<b?_:b,F=E<A?E<I?E:I:A<I?A:I,N=p>_?p>b?p:b:_>b?_:b,H=E>A?E>I?E:I:A>I?A:I,Z=u.next;Z!==r;){if(Z.x>=R&&Z.x<=N&&Z.y>=F&&Z.y<=H&&E1(p,E,_,A,b,I,Z.x,Z.y)&&oi(Z.prev,Z,Z.next)>=0)return!1;Z=Z.next}return!0}function Cu(o,r,s,u){var p=o.prev,_=o,b=o.next;if(oi(p,_,b)>=0)return!1;for(var E=p.x,A=_.x,I=b.x,R=p.y,F=_.y,N=b.y,H=E<A?E<I?E:I:A<I?A:I,Z=R<F?R<N?R:N:F<N?F:N,J=E>A?E>I?E:I:A>I?A:I,ue=R>F?R>N?R:N:F>N?F:N,me=op(H,Z,r,s,u),Ie=op(J,ue,r,s,u),ye=o.prevZ,Me=o.nextZ;ye&&ye.z>=me&&Me&&Me.z<=Ie;){if(ye.x>=H&&ye.x<=J&&ye.y>=Z&&ye.y<=ue&&ye!==p&&ye!==b&&E1(E,R,A,F,I,N,ye.x,ye.y)&&oi(ye.prev,ye,ye.next)>=0||(ye=ye.prevZ,Me.x>=H&&Me.x<=J&&Me.y>=Z&&Me.y<=ue&&Me!==p&&Me!==b&&E1(E,R,A,F,I,N,Me.x,Me.y)&&oi(Me.prev,Me,Me.next)>=0))return!1;Me=Me.nextZ}for(;ye&&ye.z>=me;){if(ye.x>=H&&ye.x<=J&&ye.y>=Z&&ye.y<=ue&&ye!==p&&ye!==b&&E1(E,R,A,F,I,N,ye.x,ye.y)&&oi(ye.prev,ye,ye.next)>=0)return!1;ye=ye.prevZ}for(;Me&&Me.z<=Ie;){if(Me.x>=H&&Me.x<=J&&Me.y>=Z&&Me.y<=ue&&Me!==p&&Me!==b&&E1(E,R,A,F,I,N,Me.x,Me.y)&&oi(Me.prev,Me,Me.next)>=0)return!1;Me=Me.nextZ}return!0}function l0(o,r,s){var u=o;do{var p=u.prev,_=u.next.next;!Pc(p,_)&&Vh(p,u,u.next,_)&&Gh(p,_)&&Gh(_,p)&&(r.push(p.i/s|0),r.push(u.i/s|0),r.push(_.i/s|0),Iu(u),Iu(u.next),u=o=_),u=u.next}while(u!==o);return Yi(u)}function Ec(o,r,s,u,p,_){var b=o;do{for(var E=b.next.next;E!==b.prev;){if(b.i!==E.i&&h5(b,E)){var A=sp(b,E);return b=Yi(b,b.next),A=Yi(A,A.next),Tc(b,r,s,u,p,_,0),void Tc(A,r,s,u,p,_,0)}E=E.next}b=b.next}while(b!==o)}function u0(o,r){return o.x-r.x}function np(o,r){var s=(function(p,_){var b,E=_,A=p.x,I=p.y,R=-1/0;do{if(I<=E.y&&I>=E.next.y&&E.next.y!==E.y){var F=E.x+(I-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(F<=A&&F>R&&(R=F,b=E.x<E.next.x?E:E.next,F===A))return b}E=E.next}while(E!==_);if(!b)return null;var N,H=b,Z=b.x,J=b.y,ue=1/0;E=b;do A>=E.x&&E.x>=Z&&A!==E.x&&E1(I<J?A:R,I,Z,J,I<J?R:A,I,E.x,E.y)&&(N=Math.abs(I-E.y)/(A-E.x),Gh(E,p)&&(N<ue||N===ue&&(E.x>b.x||E.x===b.x&&ip(b,E)))&&(b=E,ue=N)),E=E.next;while(E!==H);return b})(o,r);if(!s)return r;var u=sp(s,o);return Yi(u,u.next),Yi(s,s.next)}function ip(o,r){return oi(o.prev,o,r.prev)<0&&oi(r.next,o,o.next)<0}function op(o,r,s,u,p){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-s)*p|0)|o<<8))|o<<4))|o<<2))|o<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-u)*p|0)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function ap(o){var r=o,s=o;do(r.x<s.x||r.x===s.x&&r.y<s.y)&&(s=r),r=r.next;while(r!==o);return s}function E1(o,r,s,u,p,_,b,E){return(p-b)*(r-E)>=(o-b)*(_-E)&&(o-b)*(u-E)>=(s-b)*(r-E)&&(s-b)*(_-E)>=(p-b)*(u-E)}function h5(o,r){return o.next.i!==r.i&&o.prev.i!==r.i&&!(function(s,u){var p=s;do{if(p.i!==s.i&&p.next.i!==s.i&&p.i!==u.i&&p.next.i!==u.i&&Vh(p,p.next,s,u))return!0;p=p.next}while(p!==s);return!1})(o,r)&&(Gh(o,r)&&Gh(r,o)&&(function(s,u){var p=s,_=!1,b=(s.x+u.x)/2,E=(s.y+u.y)/2;do p.y>E!=p.next.y>E&&p.next.y!==p.y&&b<(p.next.x-p.x)*(E-p.y)/(p.next.y-p.y)+p.x&&(_=!_),p=p.next;while(p!==s);return _})(o,r)&&(oi(o.prev,o,r.prev)||oi(o,r.prev,r))||Pc(o,r)&&oi(o.prev,o,o.next)>0&&oi(r.prev,r,r.next)>0)}function oi(o,r,s){return(r.y-o.y)*(s.x-r.x)-(r.x-o.x)*(s.y-r.y)}function Pc(o,r){return o.x===r.x&&o.y===r.y}function Vh(o,r,s,u){var p=P1(oi(o,r,s)),_=P1(oi(o,r,u)),b=P1(oi(s,u,o)),E=P1(oi(s,u,r));return p!==_&&b!==E||!(p!==0||!qh(o,s,r))||!(_!==0||!qh(o,u,r))||!(b!==0||!qh(s,o,u))||!(E!==0||!qh(s,r,u))}function qh(o,r,s){return r.x<=Math.max(o.x,s.x)&&r.x>=Math.min(o.x,s.x)&&r.y<=Math.max(o.y,s.y)&&r.y>=Math.min(o.y,s.y)}function P1(o){return o>0?1:o<0?-1:0}function Gh(o,r){return oi(o.prev,o,o.next)<0?oi(o,r,o.next)>=0&&oi(o,o.prev,r)>=0:oi(o,r,o.prev)<0||oi(o,o.next,r)<0}function sp(o,r){var s=new Wh(o.i,o.x,o.y),u=new Wh(r.i,r.x,r.y),p=o.next,_=r.prev;return o.next=r,r.prev=o,s.next=p,p.prev=s,u.next=s,s.prev=u,_.next=u,u.prev=_,u}function c0(o,r,s,u){var p=new Wh(o,r,s);return u?(p.next=u.next,p.prev=u,u.next.prev=p,u.next=p):(p.prev=p,p.next=p),p}function Iu(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function Wh(o,r,s){this.i=o,this.x=r,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A1(o,r,s,u){for(var p=0,_=r,b=s-u;_<s;_+=u)p+=(o[b]-o[_])*(o[_+1]+o[b+1]),b=_;return p}s0.exports=$h,s0.exports.default=$h,$h.deviation=function(o,r,s,u){var p=r&&r.length,_=Math.abs(A1(o,0,p?r[0]*s:o.length,s));if(p)for(var b=0,E=r.length;b<E;b++)_-=Math.abs(A1(o,r[b]*s,b<E-1?r[b+1]*s:o.length,s));var A=0;for(b=0;b<u.length;b+=3){var I=u[b]*s,R=u[b+1]*s,F=u[b+2]*s;A+=Math.abs((o[I]-o[F])*(o[R+1]-o[I+1])-(o[I]-o[R])*(o[F+1]-o[I+1]))}return _===0&&A===0?0:Math.abs((A-_)/_)},$h.flatten=function(o){for(var r=o[0][0].length,s={vertices:[],holes:[],dimensions:r},u=0,p=0;p<o.length;p++){for(var _=0;_<o[p].length;_++)for(var b=0;b<r;b++)s.vertices.push(o[p][_][b]);p>0&&s.holes.push(u+=o[p-1].length)}return s};var h0=oe(s0.exports);function Q6(o,r,s,u,p){Hh(o,r,s,u||o.length-1,p||Xh)}function Hh(o,r,s,u,p){for(;u>s;){if(u-s>600){var _=u-s+1,b=r-s+1,E=Math.log(_),A=.5*Math.exp(2*E/3),I=.5*Math.sqrt(E*A*(_-A)/_)*(b-_/2<0?-1:1);Hh(o,r,Math.max(s,Math.floor(r-b*A/_+I)),Math.min(u,Math.floor(r+(_-b)*A/_+I)),p)}var R=o[r],F=s,N=u;for(Zh(o,s,r),p(o[u],R)>0&&Zh(o,s,u);F<N;){for(Zh(o,F,N),F++,N--;p(o[F],R)<0;)F++;for(;p(o[N],R)>0;)N--}p(o[s],R)===0?Zh(o,s,N):Zh(o,++N,u),N<=r&&(s=N+1),r<=N&&(u=N-1)}}function Zh(o,r,s){var u=o[r];o[r]=o[s],o[s]=u}function Xh(o,r){return o<r?-1:o>r?1:0}function lp(o,r){const s=o.length;if(s<=1)return[o];const u=[];let p,_;for(let b=0;b<s;b++){const E=Gi(o[b]);E!==0&&(o[b].area=Math.abs(E),_===void 0&&(_=E<0),_===E<0?(p&&u.push(p),p=[o[b]]):p.push(o[b]))}if(p&&u.push(p),r>1)for(let b=0;b<u.length;b++)u[b].length<=r||(Q6(u[b],r,1,u[b].length-1,f0),u[b]=u[b].slice(0,r));return u}function f0(o,r){return r.area-o.area}function h(o,r,s){const u=s.patternDependencies;let p=!1;for(const _ of r){const b=_.paint.get(`${o}-pattern`);b.isConstant()||(p=!0);const E=b.constantOr(null);E&&(p=!0,u[E]=!0)}return p}function m(o,r,s,u,p){const _=p.patternDependencies;for(const b of r){const E=b.paint.get(`${o}-pattern`).value;if(E.kind!=="constant"){let A=E.evaluate({zoom:u},s,{},p.availableImages);A=A&&A.name?A.name:A,_[A]=!0,s.patterns[b.id]=A}}return s}class T{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map((s=>s.id)),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ot,this.indexArray=new sr,this.indexArray2=new Yn,this.programConfigurations=new xu(r.layers,r.zoom),this.segments=new hi,this.segments2=new hi,this.stateDependentLayerIds=this.layers.filter((s=>s.isStateDependent())).map((s=>s.id)),this.projection=r.projection}populate(r,s,u,p){this.hasPattern=h("fill",this.layers,s);const _=this.layers[0].layout.get("fill-sort-key"),b=[];for(const{feature:E,id:A,index:I,sourceLayerIndex:R}of r){const F=this.layers[0]._featureFilter.needGeometry,N=Ys(E,F);if(!this.layers[0]._featureFilter.filter(new z(this.zoom),N,u))continue;const H=_?_.evaluate(N,{},u,s.availableImages):void 0,Z={id:A,properties:E.properties,type:E.type,sourceLayerIndex:R,index:I,geometry:F?N.geometry:Eo(E,u,p),patterns:{},sortKey:H};b.push(Z)}_&&b.sort(((E,A)=>E.sortKey-A.sortKey));for(const E of b){const{geometry:A,index:I,sourceLayerIndex:R}=E;if(this.hasPattern){const F=m("fill",this.layers,E,this.zoom,s);this.patternFeatures.push(F)}else this.addFeature(E,A,I,u,{},s.availableImages);s.featureIndex.insert(r[I].feature,A,I,R,this.index)}}update(r,s,u,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,s,this.stateDependentLayers,u,p)}addFeatures(r,s,u,p,_){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,s,u,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Y6),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,s,u,p,_,b=[]){for(const E of lp(s,500)){let A=0;for(const Z of E)A+=Z.length;const I=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),R=I.vertexLength,F=[],N=[];for(const Z of E){if(Z.length===0)continue;Z!==E[0]&&N.push(F.length/2);const J=this.segments2.prepareSegment(Z.length,this.layoutVertexArray,this.indexArray2),ue=J.vertexLength;this.layoutVertexArray.emplaceBack(Z[0].x,Z[0].y),this.indexArray2.emplaceBack(ue+Z.length-1,ue),F.push(Z[0].x),F.push(Z[0].y);for(let me=1;me<Z.length;me++)this.layoutVertexArray.emplaceBack(Z[me].x,Z[me].y),this.indexArray2.emplaceBack(ue+me-1,ue+me),F.push(Z[me].x),F.push(Z[me].y);J.vertexLength+=Z.length,J.primitiveLength+=Z.length}const H=h0(F,N);for(let Z=0;Z<H.length;Z+=3)this.indexArray.emplaceBack(R+H[Z],R+H[Z+1],R+H[Z+2]);I.vertexLength+=A,I.primitiveLength+=H.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,_,b,p)}}Zt(T,"FillBucket",{omit:["layers","patternFeatures"]});const O=new ve({"fill-sort-key":new ce(gt.layout_fill["fill-sort-key"])});var B={paint:new ve({"fill-antialias":new Y(gt.paint_fill["fill-antialias"]),"fill-opacity":new ce(gt.paint_fill["fill-opacity"]),"fill-color":new ce(gt.paint_fill["fill-color"]),"fill-outline-color":new ce(gt.paint_fill["fill-outline-color"]),"fill-translate":new Y(gt.paint_fill["fill-translate"]),"fill-translate-anchor":new Y(gt.paint_fill["fill-translate-anchor"]),"fill-pattern":new ce(gt.paint_fill["fill-pattern"])}),layout:O};const G=Xe([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),se=Xe([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Oe=Xe([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Ze}=G;var yt={},Ut=be,$t=Rt;function Rt(o,r,s,u,p){this.properties={},this.extent=s,this.type=0,this._pbf=o,this._geometry=-1,this._keys=u,this._values=p,o.readFields(lr,this,r)}function lr(o,r,s){o==1?r.id=s.readVarint():o==2?(function(u,p){for(var _=u.readVarint()+u.pos;u.pos<_;){var b=p._keys[u.readVarint()],E=p._values[u.readVarint()];p.properties[b]=E}})(s,r):o==3?r.type=s.readVarint():o==4&&(r._geometry=s.pos)}function mr(o){for(var r,s,u=0,p=0,_=o.length,b=_-1;p<_;b=p++)u+=((s=o[b]).x-(r=o[p]).x)*(r.y+s.y);return u}Rt.types=["Unknown","Point","LineString","Polygon"],Rt.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var r,s=o.readVarint()+o.pos,u=1,p=0,_=0,b=0,E=[];o.pos<s;){if(p<=0){var A=o.readVarint();u=7&A,p=A>>3}if(p--,u===1||u===2)_+=o.readSVarint(),b+=o.readSVarint(),u===1&&(r&&E.push(r),r=[]),r.push(new Ut(_,b));else{if(u!==7)throw new Error("unknown command "+u);r&&r.push(r[0].clone())}}return r&&E.push(r),E},Rt.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var r=o.readVarint()+o.pos,s=1,u=0,p=0,_=0,b=1/0,E=-1/0,A=1/0,I=-1/0;o.pos<r;){if(u<=0){var R=o.readVarint();s=7&R,u=R>>3}if(u--,s===1||s===2)(p+=o.readSVarint())<b&&(b=p),p>E&&(E=p),(_+=o.readSVarint())<A&&(A=_),_>I&&(I=_);else if(s!==7)throw new Error("unknown command "+s)}return[b,A,E,I]},Rt.prototype.toGeoJSON=function(o,r,s){var u,p,_=this.extent*Math.pow(2,s),b=this.extent*o,E=this.extent*r,A=this.loadGeometry(),I=Rt.types[this.type];function R(H){for(var Z=0;Z<H.length;Z++){var J=H[Z];H[Z]=[360*(J.x+b)/_-180,360/Math.PI*Math.atan(Math.exp((180-360*(J.y+E)/_)*Math.PI/180))-90]}}switch(this.type){case 1:var F=[];for(u=0;u<A.length;u++)F[u]=A[u][0];R(A=F);break;case 2:for(u=0;u<A.length;u++)R(A[u]);break;case 3:for(A=(function(H){var Z=H.length;if(Z<=1)return[H];for(var J,ue,me=[],Ie=0;Ie<Z;Ie++){var ye=mr(H[Ie]);ye!==0&&(ue===void 0&&(ue=ye<0),ue===ye<0?(J&&me.push(J),J=[H[Ie]]):J.push(H[Ie]))}return J&&me.push(J),me})(A),u=0;u<A.length;u++)for(p=0;p<A[u].length;p++)R(A[u][p])}A.length===1?A=A[0]:I="Multi"+I;var N={type:"Feature",geometry:{type:I,coordinates:A},properties:this.properties};return"id"in this&&(N.id=this.id),N};var _r=$t,bi=ut;function ut(o,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(Je,this,r),this.length=this._features.length}function Je(o,r,s){o===15?r.version=s.readVarint():o===1?r.name=s.readString():o===5?r.extent=s.readVarint():o===2?r._features.push(s.pos):o===3?r._keys.push(s.readString()):o===4&&r._values.push((function(u){for(var p=null,_=u.readVarint()+u.pos;u.pos<_;){var b=u.readVarint()>>3;p=b===1?u.readString():b===2?u.readFloat():b===3?u.readDouble():b===4?u.readVarint64():b===5?u.readVarint():b===6?u.readSVarint():b===7?u.readBoolean():null}return p})(s))}ut.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var r=this._pbf.readVarint()+this._pbf.pos;return new _r(this._pbf,r,this.extent,this._keys,this._values)};var pt=bi;function Xt(o,r,s){if(o===3){var u=new pt(s,s.readVarint()+s.pos);u.length&&(r[u.name]=u)}}var vr=yt.VectorTile=function(o,r){this.layers=o.readFields(Xt,{},r)},Pr=yt.VectorTileFeature=$t;function Ar(o,r,s,u){const p=[],_=u===0?(b,E,A,I,R,F)=>{b.push(new Ee(F,A+(F-E)/(I-E)*(R-A)))}:(b,E,A,I,R,F)=>{b.push(new Ee(E+(F-A)/(R-A)*(I-E),F))};for(const b of o){const E=[];for(const A of b){if(A.length<=2)continue;const I=[];for(let N=0;N<A.length-1;N++){const H=A[N].x,Z=A[N].y,J=A[N+1].x,ue=A[N+1].y,me=u===0?H:Z,Ie=u===0?J:ue;me<r?Ie>r&&_(I,H,Z,J,ue,r):me>s?Ie<s&&_(I,H,Z,J,ue,s):I.push(A[N]),Ie<r&&me>=r&&_(I,H,Z,J,ue,r),Ie>s&&me<=s&&_(I,H,Z,J,ue,s)}let R=A[A.length-1];const F=u===0?R.x:R.y;F>=r&&F<=s&&I.push(R),I.length&&(R=I[I.length-1],I[0].x===R.x&&I[0].y===R.y||I.push(I[0]),E.push(I))}E.length&&p.push(E)}return p}yt.VectorTileLayer=bi;const Ur=Pr.types,Ji=Math.pow(2,13);function un(o,r,s,u,p,_,b,E){o.emplaceBack((r<<1)+b,(s<<1)+_,(Math.floor(u*Ji)<<1)+p,Math.round(E))}function Za(o,r,s){o.emplaceBack(r.x,r.y,r.z,s[0]*16384,s[1]*16384,s[2]*16384)}class f5{constructor(){this.acc=new Ee(0,0),this.polyCount=[]}startRing(r){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Ee(r.x,r.y),this.max=new Ee(r.x,r.y))}append(r,s){this.currentPolyCount.edges++,this.acc._add(r);const u=this.min,p=this.max;r.x<u.x?u.x=r.x:r.x>p.x&&(p.x=r.x),r.y<u.y?u.y=r.y:r.y>p.y&&(p.y=r.y),((r.x===0||r.x===ur)&&r.x===s.x)!=((r.y===0||r.y===ur)&&r.y===s.y)&&this.processBorderOverlap(r,s),s.x<0!=r.x<0&&this.addBorderIntersection(0,Xr(s.y,r.y,(0-s.x)/(r.x-s.x))),s.x>ur!=r.x>ur&&this.addBorderIntersection(1,Xr(s.y,r.y,(ur-s.x)/(r.x-s.x))),s.y<0!=r.y<0&&this.addBorderIntersection(2,Xr(s.x,r.x,(0-s.y)/(r.y-s.y))),s.y>ur!=r.y>ur&&this.addBorderIntersection(3,Xr(s.x,r.x,(ur-s.y)/(r.y-s.y)))}addBorderIntersection(r,s){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const u=this.borders[r];s<u[0]&&(u[0]=s),s>u[1]&&(u[1]=s)}processBorderOverlap(r,s){if(r.x===s.x){if(r.y===s.y)return;const u=r.x===0?0:1;this.addBorderIntersection(u,s.y),this.addBorderIntersection(u,r.y)}else{const u=r.y===0?2:3;this.addBorderIntersection(u,s.x),this.addBorderIntersection(u,r.x)}}centroid(){const r=this.polyCount.reduce(((s,u)=>s+u.edges),0);return r!==0?this.acc.div(r)._round():new Ee(0,0)}span(){return new Ee(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce(((r,s)=>r+ +(s[0]!==Number.MAX_VALUE)),0)}}class up{constructor(r){this.zoom=r.zoom,this.canonical=r.canonical,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map((s=>s.id)),this.index=r.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=r.projection,this.layoutVertexArray=new _t,this.centroidVertexArray=new na,this.indexArray=new sr,this.programConfigurations=new xu(r.layers,r.zoom),this.segments=new hi,this.stateDependentLayerIds=this.layers.filter((s=>s.isStateDependent())).map((s=>s.id)),this.enableTerrain=r.enableTerrain}populate(r,s,u,p){this.features=[],this.hasPattern=h("fill-extrusion",this.layers,s),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=(function(_){const b=Math.exp(Math.PI*(1-_.y/(1<<_.z)*2));return 80150034*b/(b*b+1)/ur/(1<<_.z)})(u),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:_,id:b,index:E,sourceLayerIndex:A}of r){const I=this.layers[0]._featureFilter.needGeometry,R=Ys(_,I);if(!this.layers[0]._featureFilter.filter(new z(this.zoom),R,u))continue;const F={id:b,sourceLayerIndex:A,index:E,geometry:I?R.geometry:Eo(_,u,p),properties:_.properties,type:_.type,patterns:{}},N=this.layoutVertexArray.length;this.hasPattern?this.features.push(m("fill-extrusion",this.layers,F,this.zoom,s)):this.addFeature(F,F.geometry,E,u,{},s.availableImages,p),s.featureIndex.insert(_,F.geometry,E,A,this.index,N)}this.sortBorders()}addFeatures(r,s,u,p,_){for(const b of this.features){const{geometry:E}=b;this.addFeature(b,E,b.index,s,u,p,_)}this.sortBorders()}update(r,s,u,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,s,this.stateDependentLayers,u,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Ze),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=r.createVertexBuffer(this.layoutVertexExtArray,Oe.members,!0))),this.programConfigurations.upload(r),this.uploaded=!0}uploadCentroid(r){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=r.createVertexBuffer(this.centroidVertexArray,se.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,s,u,p,_,b,E){const A=[new Ee(0,0),new Ee(ur,ur)],I=E.projection,R=I.name==="globe",F=this.enableTerrain&&!R?new f5:null,N=Ur[r.type]==="Polygon";R&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Mt);const H=lp(s,500);for(let me=H.length-1;me>=0;me--){const Ie=H[me];(Ie.length===0||(Z=Ie[0]).every((ye=>ye.x<=0))||Z.every((ye=>ye.x>=ur))||Z.every((ye=>ye.y<=0))||Z.every((ye=>ye.y>=ur)))&&H.splice(me,1)}var Z;let J;if(R)J=W_(H,A,p);else{J=[];for(const me of H)J.push({polygon:me,bounds:A})}const ue=N?this.edgeRadius:0;for(const{polygon:me,bounds:Ie}of J){let ye=0,Me=0;for(const Le of me)N&&!Le[0].equals(Le[Le.length-1])&&Le.push(Le[0]),Me+=N?Le.length-1:Le.length;const Re=this.segments.prepareSegment((N?5:4)*Me,this.layoutVertexArray,this.indexArray);if(N){const Le=[],lt=[];ye=Re.vertexLength;for(const bt of me){let Lt,ht;bt.length&&bt!==me[0]&&lt.push(Le.length/2),Lt=bt[1].sub(bt[0])._perp()._unit();for(let wt=1;wt<bt.length;wt++){const St=bt[wt],It=bt[wt===bt.length-1?1:wt+1];let{x:Bt,y:xt}=St;if(ue){ht=It.sub(St)._perp()._unit();const Ht=Lt.add(ht)._unit(),or=ue*Math.min(4,1/(Lt.x*Ht.x+Lt.y*Ht.y));Bt+=or*Ht.x,xt+=or*Ht.y,Lt=ht}un(this.layoutVertexArray,Bt,xt,0,0,1,1,0),Re.vertexLength++,Le.push(St.x,St.y),R&&Za(this.layoutVertexExtArray,I.projectTilePoint(Bt,xt,p),I.upVector(p,Bt,xt))}}const it=h0(Le,lt);for(let bt=0;bt<it.length;bt+=3)this.indexArray.emplaceBack(ye+it[bt],ye+it[bt+2],ye+it[bt+1]),Re.primitiveLength++}for(const Le of me){F&&Le.length&&F.startRing(Le[0]);let lt,it,bt,Lt=Le.length>4&&V_(Le[Le.length-2],Le[0],Le[1]),ht=ue?nk(Le[Le.length-2],Le[0],Le[1],ue):0;it=Le[1].sub(Le[0])._perp()._unit();let wt=!0;for(let St=1,It=0;St<Le.length;St++){let Bt=Le[St-1],xt=Le[St];const Ht=Le[St===Le.length-1?1:St+1];if(F&&N&&F.currentPolyCount.top++,$_(xt,Bt,Ie)){ue&&(it=Ht.sub(xt)._perp()._unit(),wt=!wt);continue}F&&F.append(xt,Bt);const or=xt.sub(Bt)._perp(),Yt=or.x/(Math.abs(or.x)+Math.abs(or.y)),kr=or.y>0?1:0,Ft=Bt.dist(xt);if(It+Ft>32768&&(It=0),ue){bt=Ht.sub(xt)._perp()._unit();let Lr=U_(Bt,xt,Ht,N_(it,bt),ue);isNaN(Lr)&&(Lr=0);const br=xt.sub(Bt)._unit();Bt=Bt.add(br.mult(ht))._round(),xt=xt.add(br.mult(-Lr))._round(),ht=Lr,it=bt}const hr=Re.vertexLength,Dr=Le.length>4&&V_(Bt,xt,Ht);let cn=q_(It,Lt,wt);if(un(this.layoutVertexArray,Bt.x,Bt.y,Yt,kr,0,0,cn),un(this.layoutVertexArray,Bt.x,Bt.y,Yt,kr,0,1,cn),It+=Ft,cn=q_(It,Dr,!wt),Lt=Dr,un(this.layoutVertexArray,xt.x,xt.y,Yt,kr,0,0,cn),un(this.layoutVertexArray,xt.x,xt.y,Yt,kr,0,1,cn),Re.vertexLength+=4,this.indexArray.emplaceBack(hr+0,hr+1,hr+2),this.indexArray.emplaceBack(hr+1,hr+3,hr+2),Re.primitiveLength+=2,ue){const Lr=ye+(St===1?Le.length-2:St-2),br=St===1?ye:Lr+1;if(this.indexArray.emplaceBack(hr+1,Lr,hr+3),this.indexArray.emplaceBack(Lr,br,hr+3),Re.primitiveLength+=2,lt===void 0&&(lt=hr),!$_(Ht,Le[St],Ie)){const Fn=St===Le.length-1?lt:Re.vertexLength;this.indexArray.emplaceBack(hr+2,hr+3,Fn),this.indexArray.emplaceBack(hr+3,Fn+1,Fn),this.indexArray.emplaceBack(hr+3,br,Fn+1),Re.primitiveLength+=3}wt=!wt}if(R){const Lr=this.layoutVertexExtArray,br=I.projectTilePoint(Bt.x,Bt.y,p),Fn=I.projectTilePoint(xt.x,xt.y,p),zr=I.upVector(p,Bt.x,Bt.y),Br=I.upVector(p,xt.x,xt.y);Za(Lr,br,zr),Za(Lr,br,zr),Za(Lr,Fn,Br),Za(Lr,Fn,Br)}}N&&(ye+=Le.length-1)}}if(F&&F.polyCount.length>0){if(F.borders){F.vertexArrayOffset=this.centroidVertexArray.length;const me=F.borders,Ie=this.featuresOnBorder.push(F)-1;for(let ye=0;ye<4;ye++)me[ye][0]!==Number.MAX_VALUE&&this.borders[ye].push(Ie)}this.encodeCentroid(F.borders?void 0:F.centroid(),F)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,_,b,p)}sortBorders(){for(let r=0;r<4;r++)this.borders[r].sort(((s,u)=>this.featuresOnBorder[s].borders[r][0]-this.featuresOnBorder[u].borders[r][0]))}encodeCentroid(r,s,u=!0){let p,_;if(r)if(r.y!==0){const E=s.span()._mult(this.tileToMeter);p=(Math.max(r.x,1)<<3)+Math.min(7,Math.round(E.x/10)),_=(Math.max(r.y,1)<<3)+Math.min(7,Math.round(E.y/10))}else p=Math.ceil(7*(r.x+450)),_=0;else p=0,_=+u;let b=u?this.centroidVertexArray.length:s.vertexArrayOffset;for(const E of s.polyCount){u&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*E.edges+E.top);for(let A=0;A<E.top;A++)this.centroidVertexArray.emplace(b++,p,_);for(let A=0;A<2*E.edges;A++)this.centroidVertexArray.emplace(b++,0,_),this.centroidVertexArray.emplace(b++,p,_)}}}function N_(o,r){const s=o.add(r)._unit();return o.x*s.x+o.y*s.y}function nk(o,r,s,u){const p=r.sub(o)._perp()._unit(),_=s.sub(r)._perp()._unit();return U_(o,r,s,N_(p,_),u)}function U_(o,r,s,u,p){const _=Math.sqrt(1-u*u);return Math.min(o.dist(r)/3,r.dist(s)/3,p*_/u)}function $_(o,r,s){return o.x<s[0].x&&r.x<s[0].x||o.x>s[1].x&&r.x>s[1].x||o.y<s[0].y&&r.y<s[0].y||o.y>s[1].y&&r.y>s[1].y}function V_(o,r,s){if(o.x<0||o.x>=ur||r.x<0||r.x>=ur||s.x<0||s.x>=ur)return!1;const u=s.sub(r),p=u.perp(),_=o.sub(r);return(u.x*_.x+u.y*_.y)/Math.sqrt((u.x*u.x+u.y*u.y)*(_.x*_.x+_.y*_.y))>-.866&&p.x*_.x+p.y*_.y<0}function q_(o,r,s){const u=r?2|o:-3&o;return s?1|u:-2&u}function G_(){const o=Math.PI/32,r=Math.tan(o),s=Tu;return s*Math.sqrt(1+2*r*r)-s}function W_(o,r,s){const u=1<<s.z,p=Ki(s.x/u),_=Ki((s.x+1)/u),b=ln(s.y/u),E=ln((s.y+1)/u);return(function(A,I,R,F,N=0,H){const Z=[];if(!A.length||!R||!F)return Z;const J=(Le,lt)=>{for(const it of Le)Z.push({polygon:it,bounds:lt})},ue=Math.ceil(Math.log2(R)),me=Math.ceil(Math.log2(F)),Ie=ue-me,ye=[];for(let Le=0;Le<Math.abs(Ie);Le++)ye.push(Ie>0?0:1);for(let Le=0;Le<Math.min(ue,me);Le++)ye.push(0),ye.push(1);let Me=A;if(Me=Ar(Me,I[0].y-N,I[1].y+N,1),Me=Ar(Me,I[0].x-N,I[1].x+N,0),!Me.length)return Z;const Re=[];for(ye.length?Re.push({polygons:Me,bounds:I,depth:0}):J(Me,I);Re.length;){const Le=Re.pop(),lt=Le.depth,it=ye[lt],bt=Le.bounds[0],Lt=Le.bounds[1],ht=it===0?bt.x:bt.y,wt=it===0?Lt.x:Lt.y,St=H?H(it,ht,wt):.5*(ht+wt),It=Ar(Le.polygons,ht-N,St+N,it),Bt=Ar(Le.polygons,St-N,wt+N,it);if(It.length){const xt=[bt,new Ee(it===0?St:Lt.x,it===1?St:Lt.y)];ye.length>lt+1?Re.push({polygons:It,bounds:xt,depth:lt+1}):J(It,xt)}if(Bt.length){const xt=[new Ee(it===0?St:bt.x,it===1?St:bt.y),Lt];ye.length>lt+1?Re.push({polygons:Bt,bounds:xt,depth:lt+1}):J(Bt,xt)}}return Z})(o,r,Math.ceil((_-p)/11.25),Math.ceil((b-E)/11.25),1,((A,I,R)=>{if(A===0)return .5*(I+R);{const F=ln((s.y+I/ur)/u);return(Xn(.5*(ln((s.y+R/ur)/u)+F))*u-s.y)*ur}}))}Zt(up,"FillExtrusionBucket",{omit:["layers","features"]}),Zt(f5,"PartMetadata");const ik=new ve({"fill-extrusion-edge-radius":new Y(gt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var ok={paint:new ve({"fill-extrusion-opacity":new Y(gt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ce(gt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Y(gt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Y(gt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ce(gt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ce(gt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ce(gt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Y(gt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Y(gt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Y(gt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new Y(gt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:ik};function H_(o,r,s){var u=2*Math.PI*6378137/256/Math.pow(2,s);return[o*u-2*Math.PI*6378137/2,r*u-2*Math.PI*6378137/2]}class d5{constructor(r,s,u){this.z=r,this.x=s,this.y=u,this.key=cp(0,r,r,s,u)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,s){const u=(function(_,b,E){var A=H_(256*_,256*(b=Math.pow(2,E)-b-1),E),I=H_(256*(_+1),256*(b+1),E);return A[0]+","+A[1]+","+I[0]+","+I[1]})(this.x,this.y,this.z),p=(function(_,b,E){let A,I="";for(let R=_;R>0;R--)A=1<<R-1,I+=(b&A?1:0)+(E&A?2:0);return I})(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(s==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",u)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Z_{constructor(r,s){this.wrap=r,this.canonical=s,this.key=cp(r,s.z,s.z,s.x,s.y)}}class sa{constructor(r,s,u,p,_){this.overscaledZ=r,this.wrap=s,this.canonical=new d5(u,+p,+_),this.key=s===0&&r===u?this.canonical.key:cp(s,r,u,p,_)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){const s=this.canonical.z-r;return r>this.canonical.z?new sa(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new sa(r,this.wrap,r,this.canonical.x>>s,this.canonical.y>>s)}calculateScaledKey(r,s=!0){if(this.overscaledZ===r&&s)return this.key;if(r>this.canonical.z)return cp(this.wrap*+s,r,this.canonical.z,this.canonical.x,this.canonical.y);{const u=this.canonical.z-r;return cp(this.wrap*+s,r,r,this.canonical.x>>u,this.canonical.y>>u)}}isChildOf(r){if(r.wrap!==this.wrap)return!1;const s=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>s&&r.canonical.y===this.canonical.y>>s}children(r){if(this.overscaledZ>=r)return[new sa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const s=this.canonical.z+1,u=2*this.canonical.x,p=2*this.canonical.y;return[new sa(s,this.wrap,s,u,p),new sa(s,this.wrap,s,u+1,p),new sa(s,this.wrap,s,u,p+1),new sa(s,this.wrap,s,u+1,p+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new sa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new sa(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Z_(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function cp(o,r,s,u,p){const _=1<<Math.min(s,22);let b=_*(p%_)+u%_;return o&&s<22&&(b+=_*_*((o<0?-2*o-1:2*o)%(1<<2*(22-s)))),16*(32*b+s)+(r-s)}Zt(d5,"CanonicalTileID"),Zt(sa,"OverscaledTileID",{omit:["projMatrix"]});class d0 extends Ee{constructor(r,s,u){super(r,s),this.z=u}}function hp(o,r){return o.x*r.x+o.y*r.y}function X_(o,r){if(o.length===1){let s=0;const u=r[s++];let p;for(;!p||u.equals(p);)if(p=r[s++],!p)return 1/0;for(;s<r.length;s++){const _=r[s],b=o[0],E=p.sub(u),A=_.sub(u),I=b.sub(u),R=hp(E,E),F=hp(E,A),N=hp(A,A),H=hp(I,E),Z=hp(I,A),J=R*N-F*F,ue=(N*H-F*Z)/J,me=(R*Z-F*H)/J,Ie=u.z*(1-ue-me)+p.z*ue+_.z*me;if(isFinite(Ie))return Ie}return 1/0}{let s=1/0;for(const u of r)s=Math.min(s,u.z);return s}}function K_(o,r,s,u,p,_,b,E){const A=b*p.getElevationAt(o,r,!0,!0),I=_[0]!==0,R=I?_[1]===0?b*(_[0]/7-450):b*(function(F,N,H){const Z=Math.floor(N[0]/8),J=Math.floor(N[1]/8),ue=10*(N[0]-8*Z),me=10*(N[1]-8*J),Ie=F.getElevationAt(Z,J,!0,!0),ye=F.getMeterToDEM(H),Me=Math.floor(.5*(ue*ye-1)),Re=Math.floor(.5*(me*ye-1)),Le=F.tileCoordToPixel(Z,J),lt=2*Me+1,it=2*Re+1,bt=(function(Bt,xt,Ht,or,Yt){return[Bt.getElevationAtPixel(xt,Ht,!0),Bt.getElevationAtPixel(xt+Yt,Ht,!0),Bt.getElevationAtPixel(xt,Ht+Yt,!0),Bt.getElevationAtPixel(xt+or,Ht+Yt,!0)]})(F,Le.x-Me,Le.y-Re,lt,it),Lt=Math.abs(bt[0]-bt[1]),ht=Math.abs(bt[2]-bt[3]),wt=Math.abs(bt[0]-bt[2])+Math.abs(bt[1]-bt[3]),St=Math.min(.25,.5*ye*(Lt+ht)/lt),It=Math.min(.25,.5*ye*wt/it);return Ie+Math.max(St*ue,It*me)})(p,_,E):A;return{base:A+(s===0)?-1:s,top:I?Math.max(R+u,A+s+2):A+u}}const ak=Xe([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:sk}=ak,lk=Xe([{name:"a_packed",components:4,type:"Float32"}]),{members:uk}=lk,ck=Pr.types,hk=Math.cos(Math.PI/180*37.5);class p5{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map((s=>s.id)),this.index=r.index,this.projection=r.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((s=>{this.gradients[s.id]={}})),this.layoutVertexArray=new st,this.layoutVertexArray2=new Ct,this.indexArray=new sr,this.programConfigurations=new xu(r.layers,r.zoom),this.segments=new hi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((s=>s.isStateDependent())).map((s=>s.id))}populate(r,s,u,p){this.hasPattern=h("line",this.layers,s);const _=this.layers[0].layout.get("line-sort-key"),b=[];for(const{feature:R,id:F,index:N,sourceLayerIndex:H}of r){const Z=this.layers[0]._featureFilter.needGeometry,J=Ys(R,Z);if(!this.layers[0]._featureFilter.filter(new z(this.zoom),J,u))continue;const ue=_?_.evaluate(J,{},u):void 0,me={id:F,properties:R.properties,type:R.type,sourceLayerIndex:H,index:N,geometry:Z?J.geometry:Eo(R,u,p),patterns:{},sortKey:ue};b.push(me)}_&&b.sort(((R,F)=>R.sortKey-F.sortKey));const{lineAtlas:E,featureIndex:A}=s,I=this.addConstantDashes(E);for(const R of b){const{geometry:F,index:N,sourceLayerIndex:H}=R;if(I&&this.addFeatureDashes(R,E),this.hasPattern){const Z=m("line",this.layers,R,this.zoom,s);this.patternFeatures.push(Z)}else this.addFeature(R,F,N,u,E.positions,s.availableImages);A.insert(r[N].feature,F,N,H,this.index)}}addConstantDashes(r){let s=!1;for(const u of this.layers){const p=u.paint.get("line-dasharray").value,_=u.layout.get("line-cap").value;if(p.kind!=="constant"||_.kind!=="constant")s=!0;else{const b=_.value,E=p.value;if(!E)continue;r.addDash(E,b)}}return s}addFeatureDashes(r,s){const u=this.zoom;for(const p of this.layers){const _=p.paint.get("line-dasharray").value,b=p.layout.get("line-cap").value;if(_.kind==="constant"&&b.kind==="constant")continue;let E,A;if(_.kind==="constant"){if(E=_.value,!E)continue}else E=_.evaluate({zoom:u},r);A=b.kind==="constant"?b.value:b.evaluate({zoom:u},r),s.addDash(E,A),r.patterns[p.id]=s.getKey(E,A)}}update(r,s,u,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,s,this.stateDependentLayers,u,p)}addFeatures(r,s,u,p,_){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,s,u,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,uk)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,sk),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&r.properties.hasOwnProperty("mapbox_clip_start")&&r.properties.hasOwnProperty("mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,s,u,p,_,b){const E=this.layers[0].layout,A=E.get("line-join").evaluate(r,{}),I=E.get("line-cap").evaluate(r,{}),R=E.get("line-miter-limit"),F=E.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const N of s)this.addLine(N,r,A,I,R,F);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,u,_,b,p)}addLine(r,s,u,p,_,b){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let me=0;me<r.length-1;me++)this.totalDistance+=r[me].dist(r[me+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const E=ck[s.type]==="Polygon";let A=r.length;for(;A>=2&&r[A-1].equals(r[A-2]);)A--;let I=0;for(;I<A-1&&r[I].equals(r[I+1]);)I++;if(A<(E?3:2))return;u==="bevel"&&(_=1.05);const R=this.overscaling<=16?15*ur/(512*this.overscaling):0,F=this.segments.prepareSegment(10*A,this.layoutVertexArray,this.indexArray);let N,H,Z,J,ue;this.e1=this.e2=-1,E&&(N=r[A-2],ue=r[I].sub(N)._unit()._perp());for(let me=I;me<A;me++){if(Z=me===A-1?E?r[I+1]:void 0:r[me+1],Z&&r[me].equals(Z))continue;ue&&(J=ue),N&&(H=N),N=r[me],ue=Z?Z.sub(N)._unit()._perp():J,J=J||ue;let Ie=J.add(ue);Ie.x===0&&Ie.y===0||Ie._unit();const ye=J.x*ue.x+J.y*ue.y,Me=Ie.x*ue.x+Ie.y*ue.y,Re=Me!==0?1/Me:1/0,Le=2*Math.sqrt(2-2*Me),lt=Me<hk&&H&&Z,it=J.x*ue.y-J.y*ue.x>0;if(lt&&me>I){const ht=N.dist(H);if(ht>2*R){const wt=N.sub(N.sub(H)._mult(R/ht)._round());this.updateDistance(H,wt),this.addCurrentVertex(wt,J,0,0,F),H=wt}}const bt=H&&Z;let Lt=bt?u:E?"butt":p;if(bt&&Lt==="round"&&(Re<b?Lt="miter":Re<=2&&(Lt="fakeround")),Lt==="miter"&&Re>_&&(Lt="bevel"),Lt==="bevel"&&(Re>2&&(Lt="flipbevel"),Re<_&&(Lt="miter")),H&&this.updateDistance(H,N),Lt==="miter")Ie._mult(Re),this.addCurrentVertex(N,Ie,0,0,F);else if(Lt==="flipbevel"){if(Re>100)Ie=ue.mult(-1);else{const ht=Re*J.add(ue).mag()/J.sub(ue).mag();Ie._perp()._mult(ht*(it?-1:1))}this.addCurrentVertex(N,Ie,0,0,F),this.addCurrentVertex(N,Ie.mult(-1),0,0,F)}else if(Lt==="bevel"||Lt==="fakeround"){const ht=-Math.sqrt(Re*Re-1),wt=it?ht:0,St=it?0:ht;if(H&&this.addCurrentVertex(N,J,wt,St,F),Lt==="fakeround"){const It=Math.round(180*Le/Math.PI/20);for(let Bt=1;Bt<It;Bt++){let xt=Bt/It;if(xt!==.5){const or=xt-.5;xt+=xt*or*(xt-1)*((1.0904+ye*(ye*(3.55645-1.43519*ye)-3.2452))*or*or+(.848013+ye*(.215638*ye-1.06021)))}const Ht=ue.sub(J)._mult(xt)._add(J)._unit()._mult(it?-1:1);this.addHalfVertex(N,Ht.x,Ht.y,!1,it,0,F)}}Z&&this.addCurrentVertex(N,ue,-wt,-St,F)}else if(Lt==="butt")this.addCurrentVertex(N,Ie,0,0,F);else if(Lt==="square"){const ht=H?1:-1;H||this.addCurrentVertex(N,Ie,ht,ht,F),this.addCurrentVertex(N,Ie,0,0,F),H&&this.addCurrentVertex(N,Ie,ht,ht,F)}else Lt==="round"&&(H&&(this.addCurrentVertex(N,J,0,0,F),this.addCurrentVertex(N,J,1,1,F,!0)),Z&&(this.addCurrentVertex(N,ue,-1,-1,F,!0),this.addCurrentVertex(N,ue,0,0,F)));if(lt&&me<A-1){const ht=N.dist(Z);if(ht>2*R){const wt=N.add(Z.sub(N)._mult(R/ht)._round());this.updateDistance(N,wt),this.addCurrentVertex(wt,ue,0,0,F),N=wt}}}}addCurrentVertex(r,s,u,p,_,b=!1){const E=s.y*p-s.x,A=-s.y-s.x*p;this.addHalfVertex(r,s.x+s.y*u,s.y-s.x*u,b,!1,u,_),this.addHalfVertex(r,E,A,b,!0,-p,_)}addHalfVertex({x:r,y:s},u,p,_,b,E,A){this.layoutVertexArray.emplaceBack((r<<1)+(_?1:0),(s<<1)+(b?1:0),Math.round(63*u)+128,Math.round(63*p)+128,1+(E===0?0:E<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const I=A.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,I),A.primitiveLength++),b?this.e2=I:this.e1=I}updateScaledDistance(){if(this.lineClips){const r=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=r*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(r,s){this.distance+=r.dist(s),this.updateScaledDistance()}}Zt(p5,"LineBucket",{omit:["layers","patternFeatures"]});const fk=new ve({"line-cap":new ce(gt.layout_line["line-cap"]),"line-join":new ce(gt.layout_line["line-join"]),"line-miter-limit":new Y(gt.layout_line["line-miter-limit"]),"line-round-limit":new Y(gt.layout_line["line-round-limit"]),"line-sort-key":new ce(gt.layout_line["line-sort-key"])});var Y_={paint:new ve({"line-opacity":new ce(gt.paint_line["line-opacity"]),"line-color":new ce(gt.paint_line["line-color"]),"line-translate":new Y(gt.paint_line["line-translate"]),"line-translate-anchor":new Y(gt.paint_line["line-translate-anchor"]),"line-width":new ce(gt.paint_line["line-width"]),"line-gap-width":new ce(gt.paint_line["line-gap-width"]),"line-offset":new ce(gt.paint_line["line-offset"]),"line-blur":new ce(gt.paint_line["line-blur"]),"line-dasharray":new ce(gt.paint_line["line-dasharray"]),"line-pattern":new ce(gt.paint_line["line-pattern"]),"line-gradient":new _e(gt.paint_line["line-gradient"]),"line-trim-offset":new Y(gt.paint_line["line-trim-offset"])}),layout:fk};const J_=new class extends ce{possiblyEvaluate(o,r){return r=new z(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,transition:r.transition}),super.possiblyEvaluate(o,r)}evaluate(o,r,s,u){return r=zt({},r,{zoom:Math.floor(r.zoom)}),super.evaluate(o,r,s,u)}}(Y_.paint.properties["line-width"].specification);function Q_(o,r){return r>0?r+2*o:o}J_.useIntegerZoom=!0;const dk=Xe([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),pk=Xe([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),mk=Xe([{name:"a_projected_pos",components:4,type:"Float32"}],4);Xe([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const gk=Xe([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),yk=Xe([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Xe([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ev=Xe([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_k=Xe([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Xe([{name:"triangle",components:3,type:"Uint16"}]),Xe([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Xe([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Xe([{type:"Float32",name:"offsetX"}]),Xe([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var ho=24;const kl=128;function em(o,r){const{expression:s}=r;if(s.kind==="constant")return{kind:"constant",layoutSize:s.evaluate(new z(o+1))};if(s.kind==="source")return{kind:"source"};{const{zoomStops:u,interpolationType:p}=s;let _=0;for(;_<u.length&&u[_]<=o;)_++;_=Math.max(0,_-1);let b=_;for(;b<u.length&&u[b]<o+1;)b++;b=Math.min(u.length-1,b);const E=u[_],A=u[b];return s.kind==="composite"?{kind:"composite",minZoom:E,maxZoom:A,interpolationType:p}:{kind:"camera",minZoom:E,maxZoom:A,minSize:s.evaluate(new z(E)),maxSize:s.evaluate(new z(A)),interpolationType:p}}}function m5(o,{uSize:r,uSizeT:s},{lowerSize:u,upperSize:p}){return o.kind==="source"?u/kl:o.kind==="composite"?Xr(u/kl,p/kl,s):r}function p0(o,r){let s=0,u=0;if(o.kind==="constant")u=o.layoutSize;else if(o.kind!=="source"){const{interpolationType:p,minZoom:_,maxZoom:b}=o,E=p?$e(_o.interpolationFactor(p,r,_,b),0,1):0;o.kind==="camera"?u=Xr(o.minSize,o.maxSize,E):s=E}return{uSizeT:s,uSize:u}}var vk=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:kl,evaluateSizeForFeature:m5,evaluateSizeForZoom:p0,getSizeData:em});function xk(o,r,s){return o.sections.forEach((u=>{u.text=(function(p,_,b){const E=_.layout.get("text-transform").evaluate(b,{});return E==="uppercase"?p=p.toLocaleUpperCase():E==="lowercase"&&(p=p.toLocaleLowerCase()),D.applyArabicShaping&&(p=D.applyArabicShaping(p)),p})(u.text,r,s)})),o}const fp={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function bk(o){return o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""}function wk(o){return o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""||o===""}var tv=In,rv=function(o,r,s,u,p){var _,b,E=8*p-u-1,A=(1<<E)-1,I=A>>1,R=-7,F=p-1,N=-1,H=o[r+F];for(F+=N,_=H&(1<<-R)-1,H>>=-R,R+=E;R>0;_=256*_+o[r+F],F+=N,R-=8);for(b=_&(1<<-R)-1,_>>=-R,R+=u;R>0;b=256*b+o[r+F],F+=N,R-=8);if(_===0)_=1-I;else{if(_===A)return b?NaN:1/0*(H?-1:1);b+=Math.pow(2,u),_-=I}return(H?-1:1)*b*Math.pow(2,_-u)},nv=function(o,r,s,u,p,_){var b,E,A,I=8*_-p-1,R=(1<<I)-1,F=R>>1,N=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,H=0,Z=1,J=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(E=isNaN(r)?1:0,b=R):(b=Math.floor(Math.log(r)/Math.LN2),r*(A=Math.pow(2,-b))<1&&(b--,A*=2),(r+=b+F>=1?N/A:N*Math.pow(2,1-F))*A>=2&&(b++,A/=2),b+F>=R?(E=0,b=R):b+F>=1?(E=(r*A-1)*Math.pow(2,p),b+=F):(E=r*Math.pow(2,F-1)*Math.pow(2,p),b=0));p>=8;o[s+H]=255&E,H+=Z,E/=256,p-=8);for(b=b<<p|E,I+=p;I>0;o[s+H]=255&b,H+=Z,b/=256,I-=8);o[s+H-Z]|=128*J};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function In(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}In.Varint=0,In.Fixed64=1,In.Bytes=2,In.Fixed32=5;var tm=4294967296,iv=1/tm,ov=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ac(o){return o.type===In.Bytes?o.readVarint()+o.pos:o.pos+1}function m0(o,r,s){return s?4294967296*r+(o>>>0):4294967296*(r>>>0)+(o>>>0)}function av(o,r,s){var u=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));s.realloc(u);for(var p=s.pos-1;p>=o;p--)s.buf[p+u]=s.buf[p]}function Sk(o,r){for(var s=0;s<o.length;s++)r.writeVarint(o[s])}function Tk(o,r){for(var s=0;s<o.length;s++)r.writeSVarint(o[s])}function Ek(o,r){for(var s=0;s<o.length;s++)r.writeFloat(o[s])}function Pk(o,r){for(var s=0;s<o.length;s++)r.writeDouble(o[s])}function Ak(o,r){for(var s=0;s<o.length;s++)r.writeBoolean(o[s])}function Mk(o,r){for(var s=0;s<o.length;s++)r.writeFixed32(o[s])}function Ck(o,r){for(var s=0;s<o.length;s++)r.writeSFixed32(o[s])}function Ik(o,r){for(var s=0;s<o.length;s++)r.writeFixed64(o[s])}function Ok(o,r){for(var s=0;s<o.length;s++)r.writeSFixed64(o[s])}function g5(o,r){return(o[r]|o[r+1]<<8|o[r+2]<<16)+16777216*o[r+3]}function g0(o,r,s){o[s]=r,o[s+1]=r>>>8,o[s+2]=r>>>16,o[s+3]=r>>>24}function sv(o,r){return(o[r]|o[r+1]<<8|o[r+2]<<16)+(o[r+3]<<24)}In.prototype={destroy:function(){this.buf=null},readFields:function(o,r,s){for(s=s||this.length;this.pos<s;){var u=this.readVarint(),p=u>>3,_=this.pos;this.type=7&u,o(p,r,this),this.pos===_&&this.skip(u)}return r},readMessage:function(o,r){return this.readFields(o,r,this.readVarint()+this.pos)},readFixed32:function(){var o=g5(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=sv(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=g5(this.buf,this.pos)+g5(this.buf,this.pos+4)*tm;return this.pos+=8,o},readSFixed64:function(){var o=g5(this.buf,this.pos)+sv(this.buf,this.pos+4)*tm;return this.pos+=8,o},readFloat:function(){var o=rv(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=rv(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var r,s,u=this.buf;return r=127&(s=u[this.pos++]),s<128?r:(r|=(127&(s=u[this.pos++]))<<7,s<128?r:(r|=(127&(s=u[this.pos++]))<<14,s<128?r:(r|=(127&(s=u[this.pos++]))<<21,s<128?r:(function(p,_,b){var E,A,I=b.buf;if(E=(112&(A=I[b.pos++]))>>4,A<128||(E|=(127&(A=I[b.pos++]))<<3,A<128)||(E|=(127&(A=I[b.pos++]))<<10,A<128)||(E|=(127&(A=I[b.pos++]))<<17,A<128)||(E|=(127&(A=I[b.pos++]))<<24,A<128)||(E|=(1&(A=I[b.pos++]))<<31,A<128))return m0(p,E,_);throw new Error("Expected varint not more than 10 bytes")})(r|=(15&(s=u[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,r=this.pos;return this.pos=o,o-r>=12&&ov?(function(s,u,p){return ov.decode(s.subarray(u,p))})(this.buf,r,o):(function(s,u,p){for(var _="",b=u;b<p;){var E,A,I,R=s[b],F=null,N=R>239?4:R>223?3:R>191?2:1;if(b+N>p)break;N===1?R<128&&(F=R):N===2?(192&(E=s[b+1]))==128&&(F=(31&R)<<6|63&E)<=127&&(F=null):N===3?(A=s[b+2],(192&(E=s[b+1]))==128&&(192&A)==128&&((F=(15&R)<<12|(63&E)<<6|63&A)<=2047||F>=55296&&F<=57343)&&(F=null)):N===4&&(A=s[b+2],I=s[b+3],(192&(E=s[b+1]))==128&&(192&A)==128&&(192&I)==128&&((F=(15&R)<<18|(63&E)<<12|(63&A)<<6|63&I)<=65535||F>=1114112)&&(F=null)),F===null?(F=65533,N=1):F>65535&&(F-=65536,_+=String.fromCharCode(F>>>10&1023|55296),F=56320|1023&F),_+=String.fromCharCode(F),b+=N}return _})(this.buf,r,o)},readBytes:function(){var o=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,o);return this.pos=o,r},readPackedVarint:function(o,r){if(this.type!==In.Bytes)return o.push(this.readVarint(r));var s=Ac(this);for(o=o||[];this.pos<s;)o.push(this.readVarint(r));return o},readPackedSVarint:function(o){if(this.type!==In.Bytes)return o.push(this.readSVarint());var r=Ac(this);for(o=o||[];this.pos<r;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==In.Bytes)return o.push(this.readBoolean());var r=Ac(this);for(o=o||[];this.pos<r;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==In.Bytes)return o.push(this.readFloat());var r=Ac(this);for(o=o||[];this.pos<r;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==In.Bytes)return o.push(this.readDouble());var r=Ac(this);for(o=o||[];this.pos<r;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==In.Bytes)return o.push(this.readFixed32());var r=Ac(this);for(o=o||[];this.pos<r;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==In.Bytes)return o.push(this.readSFixed32());var r=Ac(this);for(o=o||[];this.pos<r;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==In.Bytes)return o.push(this.readFixed64());var r=Ac(this);for(o=o||[];this.pos<r;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==In.Bytes)return o.push(this.readSFixed64());var r=Ac(this);for(o=o||[];this.pos<r;)o.push(this.readSFixed64());return o},skip:function(o){var r=7&o;if(r===In.Varint)for(;this.buf[this.pos++]>127;);else if(r===In.Bytes)this.pos=this.readVarint()+this.pos;else if(r===In.Fixed32)this.pos+=4;else{if(r!==In.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(o,r){this.writeVarint(o<<3|r)},realloc:function(o){for(var r=this.length||16;r<this.pos+o;)r*=2;if(r!==this.length){var s=new Uint8Array(r);s.set(this.buf),this.buf=s,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),g0(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),g0(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),g0(this.buf,-1&o,this.pos),g0(this.buf,Math.floor(o*iv),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),g0(this.buf,-1&o,this.pos),g0(this.buf,Math.floor(o*iv),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?(function(r,s){var u,p;if(r>=0?(u=r%4294967296|0,p=r/4294967296|0):(p=~(-r/4294967296),4294967295^(u=~(-r%4294967296))?u=u+1|0:(u=0,p=p+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");s.realloc(10),(function(_,b,E){E.buf[E.pos++]=127&_|128,_>>>=7,E.buf[E.pos++]=127&_|128,_>>>=7,E.buf[E.pos++]=127&_|128,_>>>=7,E.buf[E.pos++]=127&_|128,E.buf[E.pos]=127&(_>>>=7)})(u,0,s),(function(_,b){var E=(7&_)<<4;b.buf[b.pos++]|=E|((_>>>=3)?128:0),_&&(b.buf[b.pos++]=127&_|((_>>>=7)?128:0),_&&(b.buf[b.pos++]=127&_|((_>>>=7)?128:0),_&&(b.buf[b.pos++]=127&_|((_>>>=7)?128:0),_&&(b.buf[b.pos++]=127&_|((_>>>=7)?128:0),_&&(b.buf[b.pos++]=127&_)))))})(p,s)})(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var r=this.pos;this.pos=(function(u,p,_){for(var b,E,A=0;A<p.length;A++){if((b=p.charCodeAt(A))>55295&&b<57344){if(!E){b>56319||A+1===p.length?(u[_++]=239,u[_++]=191,u[_++]=189):E=b;continue}if(b<56320){u[_++]=239,u[_++]=191,u[_++]=189,E=b;continue}b=E-55296<<10|b-56320|65536,E=null}else E&&(u[_++]=239,u[_++]=191,u[_++]=189,E=null);b<128?u[_++]=b:(b<2048?u[_++]=b>>6|192:(b<65536?u[_++]=b>>12|224:(u[_++]=b>>18|240,u[_++]=b>>12&63|128),u[_++]=b>>6&63|128),u[_++]=63&b|128)}return _})(this.buf,o,this.pos);var s=this.pos-r;s>=128&&av(r,s,this),this.pos=r-1,this.writeVarint(s),this.pos+=s},writeFloat:function(o){this.realloc(4),nv(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),nv(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var r=o.length;this.writeVarint(r),this.realloc(r);for(var s=0;s<r;s++)this.buf[this.pos++]=o[s]},writeRawMessage:function(o,r){this.pos++;var s=this.pos;o(r,this);var u=this.pos-s;u>=128&&av(s,u,this),this.pos=s-1,this.writeVarint(u),this.pos+=u},writeMessage:function(o,r,s){this.writeTag(o,In.Bytes),this.writeRawMessage(r,s)},writePackedVarint:function(o,r){r.length&&this.writeMessage(o,Sk,r)},writePackedSVarint:function(o,r){r.length&&this.writeMessage(o,Tk,r)},writePackedBoolean:function(o,r){r.length&&this.writeMessage(o,Ak,r)},writePackedFloat:function(o,r){r.length&&this.writeMessage(o,Ek,r)},writePackedDouble:function(o,r){r.length&&this.writeMessage(o,Pk,r)},writePackedFixed32:function(o,r){r.length&&this.writeMessage(o,Mk,r)},writePackedSFixed32:function(o,r){r.length&&this.writeMessage(o,Ck,r)},writePackedFixed64:function(o,r){r.length&&this.writeMessage(o,Ik,r)},writePackedSFixed64:function(o,r){r.length&&this.writeMessage(o,Ok,r)},writeBytesField:function(o,r){this.writeTag(o,In.Bytes),this.writeBytes(r)},writeFixed32Field:function(o,r){this.writeTag(o,In.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(o,r){this.writeTag(o,In.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(o,r){this.writeTag(o,In.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(o,r){this.writeTag(o,In.Fixed64),this.writeSFixed64(r)},writeVarintField:function(o,r){this.writeTag(o,In.Varint),this.writeVarint(r)},writeSVarintField:function(o,r){this.writeTag(o,In.Varint),this.writeSVarint(r)},writeStringField:function(o,r){this.writeTag(o,In.Bytes),this.writeString(r)},writeFloatField:function(o,r){this.writeTag(o,In.Fixed32),this.writeFloat(r)},writeDoubleField:function(o,r){this.writeTag(o,In.Fixed64),this.writeDouble(r)},writeBooleanField:function(o,r){this.writeVarintField(o,!!r)}};var y5=oe(tv);const rm=3;function kk(o,r,s){r.glyphs=[],o===1&&s.readMessage(Dk,r)}function Dk(o,r,s){if(o===3){const{id:u,bitmap:p,width:_,height:b,left:E,top:A,advance:I}=s.readMessage(Lk,{});r.glyphs.push({id:u,bitmap:new aa({width:_+2*rm,height:b+2*rm},p),metrics:{width:_,height:b,left:E,top:A,advance:I}})}else o===4?r.ascender=s.readSVarint():o===5&&(r.descender=s.readSVarint())}function Lk(o,r,s){o===1?r.id=s.readVarint():o===2?r.bitmap=s.readBytes():o===3?r.width=s.readVarint():o===4?r.height=s.readVarint():o===5?r.left=s.readSVarint():o===6?r.top=s.readSVarint():o===7&&(r.advance=s.readVarint())}const lv=rm;function nm(o){let r=0,s=0;for(const b of o)r+=b.w*b.h,s=Math.max(s,b.w);o.sort(((b,E)=>E.h-b.h));const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),s),h:1/0}];let p=0,_=0;for(const b of o)for(let E=u.length-1;E>=0;E--){const A=u[E];if(!(b.w>A.w||b.h>A.h)){if(b.x=A.x,b.y=A.y,_=Math.max(_,b.y+b.h),p=Math.max(p,b.x+b.w),b.w===A.w&&b.h===A.h){const I=u.pop();E<u.length&&(u[E]=I)}else b.h===A.h?(A.x+=b.w,A.w-=b.w):b.w===A.w?(A.y+=b.h,A.h-=b.h):(u.push({x:A.x+b.w,y:A.y,w:A.w-b.w,h:b.h}),A.y+=b.h,A.h-=b.h);break}}return{w:p,h:_,fill:r/(p*_)||0}}const Oa=1;class im{constructor(r,{pixelRatio:s,version:u,stretchX:p,stretchY:_,content:b}){this.paddedRect=r,this.pixelRatio=s,this.stretchX=p,this.stretchY=_,this.content=b,this.version=u}get tl(){return[this.paddedRect.x+Oa,this.paddedRect.y+Oa]}get br(){return[this.paddedRect.x+this.paddedRect.w-Oa,this.paddedRect.y+this.paddedRect.h-Oa]}get displaySize(){return[(this.paddedRect.w-2*Oa)/this.pixelRatio,(this.paddedRect.h-2*Oa)/this.pixelRatio]}}class uv{constructor(r,s){const u={},p={};this.haveRenderCallbacks=[];const _=[];this.addImages(r,u,_),this.addImages(s,p,_);const{w:b,h:E}=nm(_),A=new $o({width:b||1,height:E||1});for(const I in r){const R=r[I],F=u[I].paddedRect;$o.copy(R.data,A,{x:0,y:0},{x:F.x+Oa,y:F.y+Oa},R.data)}for(const I in s){const R=s[I],F=p[I].paddedRect,N=F.x+Oa,H=F.y+Oa,Z=R.data.width,J=R.data.height;$o.copy(R.data,A,{x:0,y:0},{x:N,y:H},R.data),$o.copy(R.data,A,{x:0,y:J-1},{x:N,y:H-1},{width:Z,height:1}),$o.copy(R.data,A,{x:0,y:0},{x:N,y:H+J},{width:Z,height:1}),$o.copy(R.data,A,{x:Z-1,y:0},{x:N-1,y:H},{width:1,height:J}),$o.copy(R.data,A,{x:0,y:0},{x:N+Z,y:H},{width:1,height:J})}this.image=A,this.iconPositions=u,this.patternPositions=p}addImages(r,s,u){for(const p in r){const _=r[p],b={x:0,y:0,w:_.data.width+2*Oa,h:_.data.height+2*Oa};u.push(b),s[p]=new im(b,_),_.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(r,s){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((u=>r.hasImage(u))),r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const u in r.updatedImages)this.patchUpdatedImage(this.iconPositions[u],r.getImage(u),s),this.patchUpdatedImage(this.patternPositions[u],r.getImage(u),s)}patchUpdatedImage(r,s,u){if(!r||!s||r.version===s.version)return;r.version=s.version;const[p,_]=r.tl;u.update(s.data,void 0,{x:p,y:_})}}Zt(im,"ImagePosition"),Zt(uv,"ImageAtlas");const vs={horizontal:1,vertical:2,horizontalOnly:3},cv=-17;class dp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(r,s){const u=new dp;return u.scale=r||1,u.fontStack=s,u}static forImage(r){const s=new dp;return s.imageName=r,s}}class y0{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,s){const u=new y0;for(let p=0;p<r.sections.length;p++){const _=r.sections[p];_.image?u.addImageSection(_):u.addTextSection(_,s)}return u}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSections(){return this.sections}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(r){this.text=(function(s,u){let p="";for(let _=0;_<s.length;_++){const b=s.charCodeAt(_+1)||null,E=s.charCodeAt(_-1)||null;p+=!u&&(b&&zo(b)&&!fp[s[_+1]]||E&&zo(E)&&!fp[s[_-1]])||!fp[s[_]]?s[_]:fp[s[_]]}return p})(this.text,r)}trim(){let r=0;for(let u=0;u<this.text.length&&_5[this.text.charCodeAt(u)];u++)r++;let s=this.text.length;for(let u=this.text.length-1;u>=0&&u>=r&&_5[this.text.charCodeAt(u)];u--)s--;this.text=this.text.substring(r,s),this.sectionIndex=this.sectionIndex.slice(r,s)}substring(r,s){const u=new y0;return u.text=this.text.substring(r,s),u.sectionIndex=this.sectionIndex.slice(r,s),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((r,s)=>Math.max(r,this.sections[s].scale)),0)}addTextSection(r,s){this.text+=r.text,this.sections.push(dp.forText(r.scale,r.fontStack||s));const u=this.sections.length-1;for(let p=0;p<r.text.length;++p)this.sectionIndex.push(u)}addImageSection(r){const s=r.image?r.image.name:"";if(s.length===0)return void Sr("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(dp.forImage(s)),this.sectionIndex.push(this.sections.length-1)):Sr("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function om(o,r,s,u,p,_,b,E,A,I,R,F,N,H,Z){const J=y0.fromFeature(o,p);F===vs.vertical&&J.verticalizePunctuation(N);let ue=[];const me=(function(Le,lt,it,bt,Lt,ht){if(!Le)return[];const wt=[],St=(function(Ht,or,Yt,kr,Ft,hr){let Dr=0;for(let cn=0;cn<Ht.length();cn++){const Lr=Ht.getSection(cn);Dr+=hv(Ht.getCharCode(cn),Lr,kr,Ft,or,hr)}return Dr/Math.max(1,Math.ceil(Dr/Yt))})(Le,lt,it,bt,Lt,ht),It=Le.text.indexOf("")>=0;let Bt=0;for(let Ht=0;Ht<Le.length();Ht++){const or=Le.getSection(Ht),Yt=Le.getCharCode(Ht);if(_5[Yt]||(Bt+=hv(Yt,or,bt,Lt,lt,ht)),Ht<Le.length()-1){const kr=!((xt=Yt)<11904||!(Vt["Bopomofo Extended"](xt)||Vt.Bopomofo(xt)||Vt["CJK Compatibility Forms"](xt)||Vt["CJK Compatibility Ideographs"](xt)||Vt["CJK Compatibility"](xt)||Vt["CJK Radicals Supplement"](xt)||Vt["CJK Strokes"](xt)||Vt["CJK Symbols and Punctuation"](xt)||Vt["CJK Unified Ideographs Extension A"](xt)||Vt["CJK Unified Ideographs"](xt)||Vt["Enclosed CJK Letters and Months"](xt)||Vt["Halfwidth and Fullwidth Forms"](xt)||Vt.Hiragana(xt)||Vt["Ideographic Description Characters"](xt)||Vt["Kangxi Radicals"](xt)||Vt["Katakana Phonetic Extensions"](xt)||Vt.Katakana(xt)||Vt["Vertical Forms"](xt)||Vt["Yi Radicals"](xt)||Vt["Yi Syllables"](xt)));(Rk[Yt]||kr||or.imageName)&&wt.push(dv(Ht+1,Bt,St,wt,zk(Yt,Le.getCharCode(Ht+1),kr&&It),!1))}}var xt;return pv(dv(Le.length(),Bt,St,wt,0,!0))})(J,I,_,r,u,H),{processBidirectionalText:Ie,processStyledBidirectionalText:ye}=D;if(Ie&&J.sections.length===1){const Le=Ie(J.toString(),me);for(const lt of Le){const it=new y0;it.text=lt,it.sections=J.sections;for(let bt=0;bt<lt.length;bt++)it.sectionIndex.push(0);ue.push(it)}}else if(ye){const Le=ye(J.text,J.sectionIndex,me);for(const lt of Le){const it=new y0;it.text=lt[0],it.sectionIndex=lt[1],it.sections=J.sections,ue.push(it)}}else ue=(function(Le,lt){const it=[],bt=Le.text;let Lt=0;for(const ht of lt)it.push(Le.substring(Lt,ht)),Lt=ht;return Lt<bt.length&&it.push(Le.substring(Lt,bt.length)),it})(J,me);const Me=[],Re={positionedLines:Me,text:J.toString(),top:R[1],bottom:R[1],left:R[0],right:R[0],writingMode:F,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return(function(Le,lt,it,bt,Lt,ht,wt,St,It,Bt,xt,Ht){let or=0,Yt=0,kr=0;const Ft=St==="right"?1:St==="left"?0:.5;let hr=!1;for(const zr of Lt){const Br=zr.getSections();for(const Tn of Br){if(Tn.imageName)continue;const On=lt[Tn.fontStack];if(On&&(hr=On.ascender!==void 0&&On.descender!==void 0,!hr))break}if(!hr)break}let Dr=0;for(const zr of Lt){zr.trim();const Br=zr.getMaxScale(),Tn=(Br-1)*ho,On={positionedGlyphs:[],lineOffset:0};Le.positionedLines[Dr]=On;const kn=On.positionedGlyphs;let En=0;if(!zr.length()){Yt+=ht,++Dr;continue}let ei=0,di=0;for(let Pn=0;Pn<zr.length();Pn++){const Ni=zr.getSection(Pn),Ai=zr.getSectionIndex(Pn),ai=zr.getCharCode(Pn);let mn=Ni.scale,Mi=null,Dn=null,la=null,Ci=ho,fo=0;const Qi=!(It===vs.horizontal||!xt&&!_u(ai)||xt&&(_5[ai]||(cn=ai,Vt.Arabic(cn)||Vt["Arabic Supplement"](cn)||Vt["Arabic Extended-A"](cn)||Vt["Arabic Presentation Forms-A"](cn)||Vt["Arabic Presentation Forms-B"](cn))));if(Ni.imageName){const ua=bt[Ni.imageName];if(!ua)continue;la=Ni.imageName,Le.iconsInText=Le.iconsInText||!0,Dn=ua.paddedRect;const eo=ua.displaySize;mn=mn*ho/Ht,Mi={width:eo[0],height:eo[1],left:Oa,top:-lv,advance:Qi?eo[1]:eo[0],localGlyph:!1},fo=hr?-Mi.height*mn:cv+Br*ho-eo[1]*mn,Ci=Mi.advance;const Rl=(Qi?eo[0]:eo[1])*mn-ho*Br;Rl>0&&Rl>En&&(En=Rl)}else{const ua=it[Ni.fontStack];if(!ua)continue;ua[ai]&&(Dn=ua[ai]);const eo=lt[Ni.fontStack];if(!eo)continue;const Rl=eo.glyphs[ai];if(!Rl)continue;if(Mi=Rl.metrics,Ci=ai!==8203?ho:0,hr){const T0=eo.ascender!==void 0?Math.abs(eo.ascender):0,Sp=eo.descender!==void 0?Math.abs(eo.descender):0,Tp=(T0+Sp)*mn;ei<Tp&&(ei=Tp,di=(T0-Sp)/2*mn),fo=-T0*mn}else fo=cv+(Br-mn)*ho}Qi?(Le.verticalizable=!0,kn.push({glyph:ai,imageName:la,x:or,y:Yt+fo,vertical:Qi,scale:mn,localGlyph:Mi.localGlyph,fontStack:Ni.fontStack,sectionIndex:Ai,metrics:Mi,rect:Dn}),or+=Ci*mn+Bt):(kn.push({glyph:ai,imageName:la,x:or,y:Yt+fo,vertical:Qi,scale:mn,localGlyph:Mi.localGlyph,fontStack:Ni.fontStack,sectionIndex:Ai,metrics:Mi,rect:Dn}),or+=Mi.advance*mn+Bt)}kn.length!==0&&(kr=Math.max(or-Bt,kr),hr?mv(kn,Ft,En,di,ht*Br/2):mv(kn,Ft,En,0,ht/2)),or=0;const Pi=ht*Br+En;On.lineOffset=Math.max(En,Tn),Yt+=Pi,++Dr}var cn;const Lr=Yt,{horizontalAlign:br,verticalAlign:Fn}=am(wt);(function(zr,Br,Tn,On,kn,En){const ei=(Br-Tn)*kn,di=-En*On;for(const Pi of zr)for(const Pn of Pi.positionedGlyphs)Pn.x+=ei,Pn.y+=di})(Le.positionedLines,Ft,br,Fn,kr,Lr),Le.top+=-Fn*Lr,Le.bottom=Le.top+Lr,Le.left+=-br*kr,Le.right=Le.left+kr,Le.hasBaseline=hr})(Re,r,s,u,ue,b,E,A,F,I,N,Z),!(function(Le){for(const lt of Le)if(lt.positionedGlyphs.length!==0)return!1;return!0})(Me)&&Re}const _5={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Rk={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function hv(o,r,s,u,p,_){if(r.imageName){const b=u[r.imageName];return b?b.displaySize[0]*r.scale*ho/_+p:0}{const b=s[r.fontStack],E=b&&b.glyphs[o];return E?E.metrics.advance*r.scale+p:0}}function fv(o,r,s,u){const p=Math.pow(o-r,2);return u?o<r?p/2:2*p:p+Math.abs(s)*s}function zk(o,r,s){let u=0;return o===10&&(u-=1e4),s&&(u+=150),o!==40&&o!==65288||(u+=50),r!==41&&r!==65289||(u+=50),u}function dv(o,r,s,u,p,_){let b=null,E=fv(r,s,p,_);for(const A of u){const I=fv(r-A.x,s,p,_)+A.badness;I<=E&&(b=A,E=I)}return{index:o,x:r,priorBreak:b,badness:E}}function pv(o){return o?pv(o.priorBreak).concat(o.index):[]}function am(o){let r=.5,s=.5;switch(o){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:r,verticalAlign:s}}function mv(o,r,s,u,p){if(!(r||s||u||p))return;const _=o.length-1,b=o[_],E=(b.x+b.metrics.advance*b.scale)*r;for(let A=0;A<=_;A++)o[A].x-=E,o[A].y+=s+u+p}function Bk(o,r,s){const{horizontalAlign:u,verticalAlign:p}=am(s),_=r[0]-o.displaySize[0]*u,b=r[1]-o.displaySize[1]*p;return{image:o,top:b,bottom:b+o.displaySize[1],left:_,right:_+o.displaySize[0]}}function gv(o,r,s,u,p,_){const b=o.image;let E;if(b.content){const ue=b.content,me=b.pixelRatio||1;E=[ue[0]/me,ue[1]/me,b.displaySize[0]-ue[2]/me,b.displaySize[1]-ue[3]/me]}const A=r.left*_,I=r.right*_;let R,F,N,H;s==="width"||s==="both"?(H=p[0]+A-u[3],F=p[0]+I+u[1]):(H=p[0]+(A+I-b.displaySize[0])/2,F=H+b.displaySize[0]);const Z=r.top*_,J=r.bottom*_;return s==="height"||s==="both"?(R=p[1]+Z-u[0],N=p[1]+J+u[2]):(R=p[1]+(Z+J-b.displaySize[1])/2,N=R+b.displaySize[1]),{image:b,top:R,right:F,bottom:N,left:H,collisionPadding:E}}class Mc extends Ee{constructor(r,s,u,p,_){super(r,s),this.angle=p,this.z=u,_!==void 0&&(this.segment=_)}clone(){return new Mc(this.x,this.y,this.z,this.angle,this.segment)}}function yv(o,r,s,u,p){if(r.segment===void 0)return!0;let _=r,b=r.segment+1,E=0;for(;E>-s/2;){if(b--,b<0)return!1;E-=o[b].dist(_),_=o[b]}E+=o[b].dist(o[b+1]),b++;const A=[];let I=0;for(;E<s/2;){const R=o[b],F=o[b+1];if(!F)return!1;let N=o[b-1].angleTo(R)-R.angleTo(F);for(N=Math.abs((N+3*Math.PI)%(2*Math.PI)-Math.PI),A.push({distance:E,angleDelta:N}),I+=N;E-A[0].distance>u;)I-=A.shift().angleDelta;if(I>p)return!1;b++,E+=R.dist(F)}return!0}function _v(o){let r=0;for(let s=0;s<o.length-1;s++)r+=o[s].dist(o[s+1]);return r}function vv(o,r,s){return o?.6*r*s:0}function xv(o,r){return Math.max(o?o.right-o.left:0,r?r.right-r.left:0)}function Fk(o,r,s,u,p,_){const b=vv(s,p,_),E=xv(s,u)*_;let A=0;const I=_v(o)/2;for(let R=0;R<o.length-1;R++){const F=o[R],N=o[R+1],H=F.dist(N);if(A+H>I){const Z=(I-A)/H,J=Xr(F.x,N.x,Z),ue=Xr(F.y,N.y,Z),me=new Mc(J,ue,0,N.angleTo(F),R);return!b||yv(o,me,E,b,r)?me:void 0}A+=H}}function jk(o,r,s,u,p,_,b,E,A){const I=vv(u,_,b),R=xv(u,p),F=R*b,N=o[0].x===0||o[0].x===A||o[0].y===0||o[0].y===A;return r-F<r/4&&(r=F+r/4),bv(o,N?r/2*E%r:(R/2+2*_)*b*E%r,r,I,s,F,N,!1,A)}function bv(o,r,s,u,p,_,b,E,A){const I=_/2,R=_v(o);let F=0,N=r-s,H=[];for(let Z=0;Z<o.length-1;Z++){const J=o[Z],ue=o[Z+1],me=J.dist(ue),Ie=ue.angleTo(J);for(;N+s<F+me;){N+=s;const ye=(N-F)/me,Me=Xr(J.x,ue.x,ye),Re=Xr(J.y,ue.y,ye);if(Me>=0&&Me<A&&Re>=0&&Re<A&&N-I>=0&&N+I<=R){const Le=new Mc(Me,Re,0,Ie,Z);Le._round(),u&&!yv(o,Le,_,u,p)||H.push(Le)}}F+=me}return E||H.length||b||(H=bv(o,F/2,s,u,p,_,b,!0,A)),H}function wv(o,r,s,u,p){const _=[];for(let b=0;b<o.length;b++){const E=o[b];let A;for(let I=0;I<E.length-1;I++){let R=E[I],F=E[I+1];R.x<r&&F.x<r||(R.x<r?R=new Ee(r,R.y+(r-R.x)/(F.x-R.x)*(F.y-R.y))._round():F.x<r&&(F=new Ee(r,R.y+(r-R.x)/(F.x-R.x)*(F.y-R.y))._round()),R.y<s&&F.y<s||(R.y<s?R=new Ee(R.x+(s-R.y)/(F.y-R.y)*(F.x-R.x),s)._round():F.y<s&&(F=new Ee(R.x+(s-R.y)/(F.y-R.y)*(F.x-R.x),s)._round()),R.x>=u&&F.x>=u||(R.x>=u?R=new Ee(u,R.y+(u-R.x)/(F.x-R.x)*(F.y-R.y))._round():F.x>=u&&(F=new Ee(u,R.y+(u-R.x)/(F.x-R.x)*(F.y-R.y))._round()),R.y>=p&&F.y>=p||(R.y>=p?R=new Ee(R.x+(p-R.y)/(F.y-R.y)*(F.x-R.x),p)._round():F.y>=p&&(F=new Ee(R.x+(p-R.y)/(F.y-R.y)*(F.x-R.x),p)._round()),A&&R.equals(A[A.length-1])||(A=[R],_.push(A)),A.push(F)))))}}return _}Zt(Mc,"Anchor");const pp=1e20;function Sv(o,r,s,u,p,_,b,E,A){for(let I=r;I<r+u;I++)Tv(o,s*_+I,_,p,b,E,A);for(let I=s;I<s+p;I++)Tv(o,I*_+r,1,u,b,E,A)}function Tv(o,r,s,u,p,_,b){_[0]=0,b[0]=-pp,b[1]=pp,p[0]=o[r];for(let E=1,A=0,I=0;E<u;E++){p[E]=o[r+E*s];const R=E*E;do{const F=_[A];I=(p[E]-p[F]+R-F*F)/(E-F)/2}while(I<=b[A]&&--A>-1);A++,_[A]=E,b[A]=I,b[A+1]=pp}for(let E=0,A=0;E<u;E++){for(;b[A+1]<E;)A++;const I=_[A],R=E-I;o[r+E*s]=p[I]+R*R}}const Dl=2,sm={none:0,ideographs:1,all:2};class _0{constructor(r,s,u){this.requestManager=r,this.localGlyphMode=s,this.localFontFamily=u,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(r){this.url=r}getGlyphs(r,s){const u=[];for(const p in r)for(const _ of r[p])u.push({stack:p,id:_});We(u,(({stack:p,id:_},b)=>{let E=this.entries[p];E||(E=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let A=E.glyphs[_];if(A!==void 0)return void b(null,{stack:p,id:_,glyph:A});if(A=this._tinySDF(E,p,_),A)return E.glyphs[_]=A,void b(null,{stack:p,id:_,glyph:A});const I=Math.floor(_/256);if(256*I>65535)return void b(new Error("glyphs > 65535 not supported"));if(E.ranges[I])return void b(null,{stack:p,id:_,glyph:A});let R=E.requests[I];R||(R=E.requests[I]=[],_0.loadGlyphRange(p,I,this.url,this.requestManager,((F,N)=>{if(N){E.ascender=N.ascender,E.descender=N.descender;for(const H in N.glyphs)this._doesCharSupportLocalGlyph(+H)||(E.glyphs[+H]=N.glyphs[+H]);E.ranges[I]=!0}for(const H of R)H(F,N);delete E.requests[I]}))),R.push(((F,N)=>{F?b(F):N&&b(null,{stack:p,id:_,glyph:N.glyphs[_]||null})}))}),((p,_)=>{if(p)s(p);else if(_){const b={};for(const{stack:E,id:A,glyph:I}of _)b[E]===void 0&&(b[E]={}),b[E].glyphs===void 0&&(b[E].glyphs={}),b[E].glyphs[A]=I&&{id:I.id,bitmap:I.bitmap.clone(),metrics:I.metrics},b[E].ascender=this.entries[E].ascender,b[E].descender=this.entries[E].descender;s(null,b)}}))}_doesCharSupportLocalGlyph(r){return this.localGlyphMode!==sm.none&&(this.localGlyphMode===sm.all?!!this.localFontFamily:!!this.localFontFamily&&(Vt["CJK Unified Ideographs"](r)||Vt["Hangul Syllables"](r)||Vt.Hiragana(r)||Vt.Katakana(r)||Vt["CJK Symbols and Punctuation"](r)))}_tinySDF(r,s,u){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(u))return;let _=r.tinySDF;if(!_){let J="400";/bold/i.test(s)?J="900":/medium/i.test(s)?J="500":/light/i.test(s)&&(J="200"),_=r.tinySDF=new _0.TinySDF({fontFamily:p,fontWeight:J,fontSize:24*Dl,buffer:3*Dl,radius:8*Dl}),_.fontWeight=J}if(this.localGlyphs[_.fontWeight][u])return this.localGlyphs[_.fontWeight][u];const b=String.fromCharCode(u),{data:E,width:A,height:I,glyphWidth:R,glyphHeight:F,glyphLeft:N,glyphTop:H,glyphAdvance:Z}=_.draw(b);return this.localGlyphs[_.fontWeight][u]={id:u,bitmap:new aa({width:A,height:I},E),metrics:{width:R/Dl,height:F/Dl,left:N/Dl,top:H/Dl-27,advance:Z/Dl,localGlyph:!0}}}}_0.loadGlyphRange=function(o,r,s,u,p){const _=256*r,b=_+255,E=u.transformRequest(u.normalizeGlyphsURL(s).replace("{fontstack}",o).replace("{range}",`${_}-${b}`),pa.Glyphs);ya(E,((A,I)=>{if(A)p(A);else if(I){const R={},F=(function(N){return new y5(N).readFields(kk,{})})(I);for(const N of F.glyphs)R[N.id]=N;p(null,{glyphs:R,ascender:F.ascender,descender:F.descender})}}))},_0.TinySDF=class{constructor({fontSize:o=24,buffer:r=3,radius:s=8,cutoff:u=.25,fontFamily:p="sans-serif",fontWeight:_="normal",fontStyle:b="normal"}={}){this.buffer=r,this.cutoff=u,this.radius=s;const E=this.size=o+4*r,A=this._createCanvas(E),I=this.ctx=A.getContext("2d",{willReadFrequently:!0});I.font=`${b} ${_} ${o}px ${p}`,I.textBaseline="alphabetic",I.textAlign="left",I.fillStyle="black",this.gridOuter=new Float64Array(E*E),this.gridInner=new Float64Array(E*E),this.f=new Float64Array(E),this.z=new Float64Array(E+1),this.v=new Uint16Array(E)}_createCanvas(o){const r=document.createElement("canvas");return r.width=r.height=o,r}draw(o){const{width:r,actualBoundingBoxAscent:s,actualBoundingBoxDescent:u,actualBoundingBoxLeft:p,actualBoundingBoxRight:_}=this.ctx.measureText(o),b=Math.ceil(s),E=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-p))),A=Math.min(this.size-this.buffer,b+Math.ceil(u)),I=E+2*this.buffer,R=A+2*this.buffer,F=Math.max(I*R,0),N=new Uint8ClampedArray(F),H={data:N,width:I,height:R,glyphWidth:E,glyphHeight:A,glyphTop:b,glyphLeft:0,glyphAdvance:r};if(E===0||A===0)return H;const{ctx:Z,buffer:J,gridInner:ue,gridOuter:me}=this;Z.clearRect(J,J,E,A),Z.fillText(o,J,J+b);const Ie=Z.getImageData(J,J,E,A);me.fill(pp,0,F),ue.fill(0,0,F);for(let ye=0;ye<A;ye++)for(let Me=0;Me<E;Me++){const Re=Ie.data[4*(ye*E+Me)+3]/255;if(Re===0)continue;const Le=(ye+J)*I+Me+J;if(Re===1)me[Le]=0,ue[Le]=pp;else{const lt=.5-Re;me[Le]=lt>0?lt*lt:0,ue[Le]=lt<0?lt*lt:0}}Sv(me,0,0,I,R,I,this.f,this.v,this.z),Sv(ue,J,J,E,A,I,this.f,this.v,this.z);for(let ye=0;ye<F;ye++){const Me=Math.sqrt(me[ye])-Math.sqrt(ue[ye]);N[ye]=Math.round(255-255*(Me/this.radius+this.cutoff))}return H}};const v0=Oa;function Ev(o,r,s,u){const p=[],_=o.image,b=_.pixelRatio,E=_.paddedRect.w-2*v0,A=_.paddedRect.h-2*v0,I=o.right-o.left,R=o.bottom-o.top,F=_.stretchX||[[0,E]],N=_.stretchY||[[0,A]],H=(ht,wt)=>ht+wt[1]-wt[0],Z=F.reduce(H,0),J=N.reduce(H,0),ue=E-Z,me=A-J;let Ie=0,ye=Z,Me=0,Re=J,Le=0,lt=ue,it=0,bt=me;if(_.content&&u){const ht=_.content;Ie=v5(F,0,ht[0]),Me=v5(N,0,ht[1]),ye=v5(F,ht[0],ht[2]),Re=v5(N,ht[1],ht[3]),Le=ht[0]-Ie,it=ht[1]-Me,lt=ht[2]-ht[0]-ye,bt=ht[3]-ht[1]-Re}const Lt=(ht,wt,St,It)=>{const Bt=x5(ht.stretch-Ie,ye,I,o.left),xt=b5(ht.fixed-Le,lt,ht.stretch,Z),Ht=x5(wt.stretch-Me,Re,R,o.top),or=b5(wt.fixed-it,bt,wt.stretch,J),Yt=x5(St.stretch-Ie,ye,I,o.left),kr=b5(St.fixed-Le,lt,St.stretch,Z),Ft=x5(It.stretch-Me,Re,R,o.top),hr=b5(It.fixed-it,bt,It.stretch,J),Dr=new Ee(Bt,Ht),cn=new Ee(Yt,Ht),Lr=new Ee(Yt,Ft),br=new Ee(Bt,Ft),Fn=new Ee(xt/b,or/b),zr=new Ee(kr/b,hr/b),Br=r*Math.PI/180;if(Br){const kn=Math.sin(Br),En=Math.cos(Br),ei=[En,-kn,kn,En];Dr._matMult(ei),cn._matMult(ei),br._matMult(ei),Lr._matMult(ei)}const Tn=ht.stretch+ht.fixed,On=wt.stretch+wt.fixed;return{tl:Dr,tr:cn,bl:br,br:Lr,tex:{x:_.paddedRect.x+v0+Tn,y:_.paddedRect.y+v0+On,w:St.stretch+St.fixed-Tn,h:It.stretch+It.fixed-On},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Fn,pixelOffsetBR:zr,minFontScaleX:lt/b/I,minFontScaleY:bt/b/R,isSDF:s}};if(u&&(_.stretchX||_.stretchY)){const ht=Pv(F,ue,Z),wt=Pv(N,me,J);for(let St=0;St<ht.length-1;St++){const It=ht[St],Bt=ht[St+1];for(let xt=0;xt<wt.length-1;xt++)p.push(Lt(It,wt[xt],Bt,wt[xt+1]))}}else p.push(Lt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:E+1},{fixed:0,stretch:A+1}));return p}function v5(o,r,s){let u=0;for(const p of o)u+=Math.max(r,Math.min(s,p[1]))-Math.max(r,Math.min(s,p[0]));return u}function Pv(o,r,s){const u=[{fixed:-v0,stretch:0}];for(const[p,_]of o){const b=u[u.length-1];u.push({fixed:p-b.stretch,stretch:b.stretch}),u.push({fixed:p-b.stretch,stretch:b.stretch+(_-p)})}return u.push({fixed:r+v0,stretch:s}),u}function x5(o,r,s,u){return o/r*s+u}function b5(o,r,s,u){return o-r*s/u}function Nk(o,r,s,u){const p=r+o.positionedLines[u].lineOffset;return u===0?s+p/2:s+(p+(r+o.positionedLines[u-1].lineOffset))/2}class Uk{constructor(r=[],s=$k){if(this.data=r,this.length=this.data.length,this.compare=s,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const r=this.data[0],s=this.data.pop();return this.length--,this.length>0&&(this.data[0]=s,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:s,compare:u}=this,p=s[r];for(;r>0;){const _=r-1>>1,b=s[_];if(u(p,b)>=0)break;s[r]=b,r=_}s[r]=p}_down(r){const{data:s,compare:u}=this,p=this.length>>1,_=s[r];for(;r<p;){let b=1+(r<<1),E=s[b];const A=b+1;if(A<this.length&&u(s[A],E)<0&&(b=A,E=s[A]),u(E,_)>=0)break;s[r]=E,r=b}s[r]=_}}function $k(o,r){return o<r?-1:o>r?1:0}function Vk(o,r=1,s=!1){let u=1/0,p=1/0,_=-1/0,b=-1/0;const E=o[0];for(let H=0;H<E.length;H++){const Z=E[H];(!H||Z.x<u)&&(u=Z.x),(!H||Z.y<p)&&(p=Z.y),(!H||Z.x>_)&&(_=Z.x),(!H||Z.y>b)&&(b=Z.y)}const A=Math.min(_-u,b-p);let I=A/2;const R=new Uk([],qk);if(A===0)return new Ee(u,p);for(let H=u;H<_;H+=A)for(let Z=p;Z<b;Z+=A)R.push(new x0(H+I,Z+I,I,o));let F=(function(H){let Z=0,J=0,ue=0;const me=H[0];for(let Ie=0,ye=me.length,Me=ye-1;Ie<ye;Me=Ie++){const Re=me[Ie],Le=me[Me],lt=Re.x*Le.y-Le.x*Re.y;J+=(Re.x+Le.x)*lt,ue+=(Re.y+Le.y)*lt,Z+=3*lt}return new x0(J/Z,ue/Z,0,H)})(o),N=R.length;for(;R.length;){const H=R.pop();(H.d>F.d||!F.d)&&(F=H,s&&console.log("found best %d after %d probes",Math.round(1e4*H.d)/1e4,N)),H.max-F.d<=r||(I=H.h/2,R.push(new x0(H.p.x-I,H.p.y-I,I,o)),R.push(new x0(H.p.x+I,H.p.y-I,I,o)),R.push(new x0(H.p.x-I,H.p.y+I,I,o)),R.push(new x0(H.p.x+I,H.p.y+I,I,o)),N+=4)}return s&&(console.log(`num probes: ${N}`),console.log(`best distance: ${F.d}`)),F.p}function qk(o,r){return r.max-o.max}class x0{constructor(r,s,u,p){this.p=new Ee(r,s),this.h=u,this.d=(function(_,b){let E=!1,A=1/0;for(let I=0;I<b.length;I++){const R=b[I];for(let F=0,N=R.length,H=N-1;F<N;H=F++){const Z=R[F],J=R[H];Z.y>_.y!=J.y>_.y&&_.x<(J.x-Z.x)*(_.y-Z.y)/(J.y-Z.y)+Z.x&&(E=!E),A=Math.min(A,Kd(_,Z,J))}}return(E?1:-1)*Math.sqrt(A)})(this.p,p),this.max=this.d+this.h*Math.SQRT2}}const b0=7,lm=Number.POSITIVE_INFINITY,Gk=Math.sqrt(2);function Av(o,[r,s]){let u=0,p=0;if(s===lm){r<0&&(r=0);const _=r/Gk;switch(o){case"top-right":case"top-left":p=_-b0;break;case"bottom-right":case"bottom-left":p=-_+b0;break;case"bottom":p=-r+b0;break;case"top":p=r-b0}switch(o){case"top-right":case"bottom-right":u=-_;break;case"top-left":case"bottom-left":u=_;break;case"left":u=r;break;case"right":u=-r}}else{switch(r=Math.abs(r),s=Math.abs(s),o){case"top-right":case"top-left":case"top":p=s-b0;break;case"bottom-right":case"bottom-left":case"bottom":p=-s+b0}switch(o){case"top-right":case"bottom-right":case"right":u=-r;break;case"top-left":case"bottom-left":case"left":u=r}}return[u,p]}function Wk(o,r,s,u,p,_,b,E,A,I){o.createArrays(),o.tilePixelRatio=ur/(512*o.overscaling),o.compareText={},o.iconsNeedLinear=!1;const R=o.layers[0].layout,F=o.layers[0]._unevaluatedLayout._values,N={};if(o.textSizeData.kind==="composite"){const{minZoom:J,maxZoom:ue}=o.textSizeData;N.compositeTextSizes=[F["text-size"].possiblyEvaluate(new z(J),E),F["text-size"].possiblyEvaluate(new z(ue),E)]}if(o.iconSizeData.kind==="composite"){const{minZoom:J,maxZoom:ue}=o.iconSizeData;N.compositeIconSizes=[F["icon-size"].possiblyEvaluate(new z(J),E),F["icon-size"].possiblyEvaluate(new z(ue),E)]}N.layoutTextSize=F["text-size"].possiblyEvaluate(new z(A+1),E),N.layoutIconSize=F["icon-size"].possiblyEvaluate(new z(A+1),E),N.textMaxSize=F["text-size"].possiblyEvaluate(new z(18),E);const H=R.get("text-rotation-alignment")==="map"&&R.get("symbol-placement")!=="point",Z=R.get("text-size");for(const J of o.features){const ue=R.get("text-font").evaluate(J,{},E).join(","),me=Z.evaluate(J,{},E),Ie=N.layoutTextSize.evaluate(J,{},E),ye=(N.layoutIconSize.evaluate(J,{},E),{horizontal:{},vertical:void 0}),Me=J.text;let Re,Le=[0,0];if(Me){const bt=Me.toString(),Lt=R.get("text-letter-spacing").evaluate(J,{},E)*ho,ht=R.get("text-line-height").evaluate(J,{},E)*ho,wt=yu(bt)?Lt:0,St=R.get("text-anchor").evaluate(J,{},E),It=R.get("text-variable-anchor");if(!It){const Yt=R.get("text-radial-offset").evaluate(J,{},E);Le=Yt?Av(St,[Yt*ho,lm]):R.get("text-offset").evaluate(J,{},E).map((kr=>kr*ho))}let Bt=H?"center":R.get("text-justify").evaluate(J,{},E);const xt=R.get("symbol-placement")==="point",Ht=xt?R.get("text-max-width").evaluate(J,{},E)*ho:1/0,or=Yt=>{o.allowVerticalPlacement&&$s(bt)&&(ye.vertical=om(Me,r,s,p,ue,Ht,ht,St,Yt,wt,Le,vs.vertical,!0,Ie,me))};if(!H&&It){const Yt=Bt==="auto"?It.map((Ft=>um(Ft))):[Bt];let kr=!1;for(let Ft=0;Ft<Yt.length;Ft++){const hr=Yt[Ft];if(!ye.horizontal[hr])if(kr)ye.horizontal[hr]=ye.horizontal[0];else{const Dr=om(Me,r,s,p,ue,Ht,ht,"center",hr,wt,Le,vs.horizontal,!1,Ie,me);Dr&&(ye.horizontal[hr]=Dr,kr=Dr.positionedLines.length===1)}}or("left")}else{if(Bt==="auto"&&(Bt=um(St)),xt||R.get("text-writing-mode").indexOf("horizontal")>=0||!$s(bt)){const Yt=om(Me,r,s,p,ue,Ht,ht,St,Bt,wt,Le,vs.horizontal,!1,Ie,me);Yt&&(ye.horizontal[Bt]=Yt)}or(xt?"left":Bt)}}let lt=!1;if(J.icon&&J.icon.name){const bt=u[J.icon.name];bt&&(Re=Bk(p[J.icon.name],R.get("icon-offset").evaluate(J,{},E),R.get("icon-anchor").evaluate(J,{},E)),lt=bt.sdf,o.sdfIcons===void 0?o.sdfIcons=bt.sdf:o.sdfIcons!==bt.sdf&&Sr("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(bt.pixelRatio!==o.pixelRatio||R.get("icon-rotate").constantOr(1)!==0)&&(o.iconsNeedLinear=!0))}const it=Cv(ye.horizontal)||ye.vertical;o.iconsInText||(o.iconsInText=!!it&&it.iconsInText),(it||Re)&&Hk(o,J,ye,Re,u,N,Ie,0,Le,lt,b,E,I)}_&&o.generateCollisionDebugBuffers(A,o.collisionBoxArray)}function um(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Hk(o,r,s,u,p,_,b,E,A,I,R,F,N){let H=_.textMaxSize.evaluate(r,{},F);H===void 0&&(H=b);const Z=o.layers[0].layout,J=Z.get("icon-offset").evaluate(r,{},F),ue=Cv(s.horizontal)||s.vertical,me=N.name==="globe",Ie=ho,ye=b/Ie,Me=o.tilePixelRatio*H/Ie,Re=(St=o.overscaling,o.zoom>18&&St>2&&(St>>=1),Math.max(ur/(512*St),1)*Z.get("symbol-spacing")),Le=Z.get("text-padding")*o.tilePixelRatio,lt=Z.get("icon-padding")*o.tilePixelRatio,it=Ge(Z.get("text-max-angle")),bt=Z.get("text-rotation-alignment")==="map"&&Z.get("symbol-placement")!=="point",Lt=Z.get("icon-rotation-alignment")==="map"&&Z.get("symbol-placement")!=="point",ht=Z.get("symbol-placement"),wt=Re/2;var St;const It=Z.get("icon-text-fit");let Bt;u&&It!=="none"&&(o.allowVerticalPlacement&&s.vertical&&(Bt=gv(u,s.vertical,It,Z.get("icon-text-fit-padding"),J,ye)),ue&&(u=gv(u,ue,It,Z.get("icon-text-fit-padding"),J,ye)));const xt=(Ht,or,Yt)=>{if(or.x<0||or.x>=ur||or.y<0||or.y>=ur)return;let kr=null;if(me){const{x:Ft,y:hr,z:Dr}=N.projectTilePoint(or.x,or.y,Yt);kr={anchor:new Mc(Ft,hr,Dr,0,void 0),up:N.upVector(Yt,or.x,or.y)}}(function(Ft,hr,Dr,cn,Lr,br,Fn,zr,Br,Tn,On,kn,En,ei,di,Pi,Pn,Ni,Ai,ai,mn,Mi,Dn,la,Ci){const fo=Ft.addToLineVertexArray(hr,cn);let Qi,ua,eo,Rl,T0,Sp,Tp,lx=0,ux=0,cx=0,hx=0,Tm=-1,Em=-1;const Lu={};let fx=oa("");const Jh=Dr?Dr.anchor:hr;let Pm=0,Am=0;if(Br._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Pm,Am]=Br.layout.get("text-offset").evaluate(mn,{},Ci).map((Xa=>Xa*ho)):(Pm=Br.layout.get("text-radial-offset").evaluate(mn,{},Ci)*ho,Am=lm),Ft.allowVerticalPlacement&&Lr.vertical){const Xa=Lr.vertical;if(di)Sp=cm(Xa),zr&&(Tp=cm(zr));else{const Ka=Br.layout.get("text-rotate").evaluate(mn,{},Ci)+90;eo=w5(Tn,Jh,hr,On,kn,En,Xa,ei,Ka,Pi),zr&&(Rl=w5(Tn,Jh,hr,On,kn,En,zr,Ni,Ka))}}if(br){const Xa=Br.layout.get("icon-rotate").evaluate(mn,{},Ci),Ka=Br.layout.get("icon-text-fit")!=="none",Ep=Ev(br,Xa,Dn,Ka),Cm=zr?Ev(zr,Xa,Dn,Ka):void 0;ua=w5(Tn,Jh,hr,On,kn,En,br,Ni,Xa),lx=4*Ep.length;const dx=Ft.iconSizeData;let Qh=null;dx.kind==="source"?(Qh=[kl*Br.layout.get("icon-size").evaluate(mn,{},Ci)],Qh[0]>M1&&Sr(`${Ft.layerIds[0]}: Value for "icon-size" is >= ${mp}. Reduce your "icon-size".`)):dx.kind==="composite"&&(Qh=[kl*Mi.compositeIconSizes[0].evaluate(mn,{},Ci),kl*Mi.compositeIconSizes[1].evaluate(mn,{},Ci)],(Qh[0]>M1||Qh[1]>M1)&&Sr(`${Ft.layerIds[0]}: Value for "icon-size" is >= ${mp}. Reduce your "icon-size".`)),Ft.addSymbols(Ft.icon,Ep,Qh,ai,Ai,mn,!1,Dr,hr,fo.lineStartIndex,fo.lineLength,-1,la,Ci),Tm=Ft.icon.placedSymbolArray.length-1,Cm&&(ux=4*Cm.length,Ft.addSymbols(Ft.icon,Cm,Qh,ai,Ai,mn,vs.vertical,Dr,hr,fo.lineStartIndex,fo.lineLength,-1,la,Ci),Em=Ft.icon.placedSymbolArray.length-1)}for(const Xa in Lr.horizontal){const Ka=Lr.horizontal[Xa];Qi||(fx=oa(Ka.text),di?T0=cm(Ka):Qi=w5(Tn,Jh,hr,On,kn,En,Ka,ei,Br.layout.get("text-rotate").evaluate(mn,{},Ci),Pi));const Ep=Ka.positionedLines.length===1;if(cx+=Mv(Ft,Dr,hr,Ka,Fn,Br,di,mn,Pi,fo,Lr.vertical?vs.horizontal:vs.horizontalOnly,Ep?Object.keys(Lr.horizontal):[Xa],Lu,Tm,Mi,la,Ci),Ep)break}Lr.vertical&&(hx+=Mv(Ft,Dr,hr,Lr.vertical,Fn,Br,di,mn,Pi,fo,vs.vertical,["vertical"],Lu,Em,Mi,la,Ci));let L1=-1;const Mm=(Xa,Ka)=>Xa?Math.max(Xa,Ka):Ka;L1=Mm(T0,L1),L1=Mm(Sp,L1),L1=Mm(Tp,L1);const bD=L1>-1?1:0;Ft.glyphOffsetArray.length>=I1.MAX_GLYPHS&&Sr("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),mn.sortKey!==void 0&&Ft.addToSortKeyRanges(Ft.symbolInstances.length,mn.sortKey),Ft.symbolInstances.emplaceBack(Jh.x,Jh.y,Jh.z,hr.x,hr.y,Lu.right>=0?Lu.right:-1,Lu.center>=0?Lu.center:-1,Lu.left>=0?Lu.left:-1,Lu.vertical>=0?Lu.vertical:-1,Tm,Em,fx,Qi!==void 0?Qi:Ft.collisionBoxArray.length,Qi!==void 0?Qi+1:Ft.collisionBoxArray.length,eo!==void 0?eo:Ft.collisionBoxArray.length,eo!==void 0?eo+1:Ft.collisionBoxArray.length,ua!==void 0?ua:Ft.collisionBoxArray.length,ua!==void 0?ua+1:Ft.collisionBoxArray.length,Rl||Ft.collisionBoxArray.length,Rl?Rl+1:Ft.collisionBoxArray.length,On,cx,hx,lx,ux,bD,0,Pm,Am,L1)})(o,or,kr,Ht,s,u,p,Bt,o.layers[0],o.collisionBoxArray,r.index,r.sourceLayerIndex,o.index,Le,bt,A,0,lt,Lt,J,r,_,I,R,F)};if(ht==="line")for(const Ht of wv(r.geometry,0,0,ur,ur)){const or=jk(Ht,Re,it,s.vertical||ue,u,Ie,Me,o.overscaling,ur);for(const Yt of or)ue&&Zk(o,ue.text,wt,Yt)||xt(Ht,Yt,F)}else if(ht==="line-center"){for(const Ht of r.geometry)if(Ht.length>1){const or=Fk(Ht,it,s.vertical||ue,u,Ie,Me);or&&xt(Ht,or,F)}}else if(r.type==="Polygon")for(const Ht of lp(r.geometry,0)){const or=Vk(Ht,16);xt(Ht[0],new Mc(or.x,or.y,0,0,void 0),F)}else if(r.type==="LineString")for(const Ht of r.geometry)xt(Ht,new Mc(Ht[0].x,Ht[0].y,0,0,void 0),F);else if(r.type==="Point")for(const Ht of r.geometry)for(const or of Ht)xt([or],new Mc(or.x,or.y,0,0,void 0),F)}const mp=255,M1=mp*kl;function Mv(o,r,s,u,p,_,b,E,A,I,R,F,N,H,Z,J,ue){const me=(function(Me,Re,Le,lt,it,bt,Lt,ht){const wt=[];if(Re.positionedLines.length===0)return wt;const St=lt.layout.get("text-rotate").evaluate(bt,{})*Math.PI/180,It=(function(Yt){const kr=Yt[0],Ft=Yt[1],hr=kr*Ft;return hr>0?[kr,-Ft]:hr<0?[-kr,Ft]:kr===0?[Ft,kr]:[Ft,-kr]})(Le);let Bt=Math.abs(Re.top-Re.bottom);for(const Yt of Re.positionedLines)Bt-=Yt.lineOffset;const xt=Re.positionedLines.length,Ht=Bt/xt;let or=Re.top-Le[1];for(let Yt=0;Yt<xt;++Yt){const kr=Re.positionedLines[Yt];or=Nk(Re,Ht,or,Yt);for(const Ft of kr.positionedGlyphs){if(!Ft.rect)continue;const hr=Ft.rect||{};let Dr=lv+1,cn=!0,Lr=1,br=0;if(Ft.imageName){const Dn=Lt[Ft.imageName];if(!Dn)continue;if(Dn.sdf){Sr("SDF images are not supported in formatted text and will be ignored.");continue}cn=!1,Lr=Dn.pixelRatio,Dr=Oa/Lr}const Fn=(it||ht)&&Ft.vertical,zr=Ft.metrics.advance*Ft.scale/2,Br=Ft.metrics,Tn=Ft.rect;if(Tn===null)continue;ht&&Re.verticalizable&&(br=Ft.imageName?zr-Ft.metrics.width*Ft.scale/2:0);const On=it?[Ft.x+zr,Ft.y]:[0,0];let kn=[0,0],En=[0,0],ei=!1;it||(Fn?(En=[Ft.x+zr+It[0],Ft.y+It[1]-br],ei=!0):kn=[Ft.x+zr+Le[0],Ft.y+Le[1]-br]);const di=Tn.w*Ft.scale/(Lr*(Ft.localGlyph?Dl:1)),Pi=Tn.h*Ft.scale/(Lr*(Ft.localGlyph?Dl:1));let Pn,Ni,Ai,ai;if(Fn){const Dn=Ft.y-or,la=new Ee(-zr,zr-Dn),Ci=-Math.PI/2,fo=new Ee(...En);Pn=new Ee(-zr+kn[0],kn[1]),Pn._rotateAround(Ci,la)._add(fo),Pn.x+=-Dn+zr,Pn.y-=(Br.left-Dr)*Ft.scale;const Qi=Ft.imageName?Br.advance*Ft.scale:ho*Ft.scale,ua=String.fromCharCode(Ft.glyph);bk(ua)?Pn.x+=(1-Dr)*Ft.scale:wk(ua)?Pn.x+=Qi-Br.height*Ft.scale+(-Dr-1)*Ft.scale:Pn.x+=Ft.imageName||Br.width+2*Dr===Tn.w&&Br.height+2*Dr===Tn.h?(Qi-Pi)/2:(Qi-(Br.height+2*Dr)*Ft.scale)/2,Ni=new Ee(Pn.x,Pn.y-di),Ai=new Ee(Pn.x+Pi,Pn.y),ai=new Ee(Pn.x+Pi,Pn.y-di)}else{const Dn=(Br.left-Dr)*Ft.scale-zr+kn[0],la=(-Br.top-Dr)*Ft.scale+kn[1],Ci=Dn+di,fo=la+Pi;Pn=new Ee(Dn,la),Ni=new Ee(Ci,la),Ai=new Ee(Dn,fo),ai=new Ee(Ci,fo)}if(St){let Dn;Dn=it?new Ee(0,0):ei?new Ee(It[0],It[1]):new Ee(Le[0],Le[1]),Pn._rotateAround(St,Dn),Ni._rotateAround(St,Dn),Ai._rotateAround(St,Dn),ai._rotateAround(St,Dn)}const mn=new Ee(0,0),Mi=new Ee(0,0);wt.push({tl:Pn,tr:Ni,bl:Ai,br:ai,tex:hr,writingMode:Re.writingMode,glyphOffset:On,sectionIndex:Ft.sectionIndex,isSDF:cn,pixelOffsetTL:mn,pixelOffsetBR:Mi,minFontScaleX:0,minFontScaleY:0})}}return wt})(0,u,A,_,b,E,p,o.allowVerticalPlacement),Ie=o.textSizeData;let ye=null;Ie.kind==="source"?(ye=[kl*_.layout.get("text-size").evaluate(E,{},ue)],ye[0]>M1&&Sr(`${o.layerIds[0]}: Value for "text-size" is >= ${mp}. Reduce your "text-size".`)):Ie.kind==="composite"&&(ye=[kl*Z.compositeTextSizes[0].evaluate(E,{},ue),kl*Z.compositeTextSizes[1].evaluate(E,{},ue)],(ye[0]>M1||ye[1]>M1)&&Sr(`${o.layerIds[0]}: Value for "text-size" is >= ${mp}. Reduce your "text-size".`)),o.addSymbols(o.text,me,ye,A,b,E,R,r,s,I.lineStartIndex,I.lineLength,H,J,ue);for(const Me of F)N[Me]=o.text.placedSymbolArray.length-1;return 4*me.length}function Cv(o){for(const r in o)return o[r];return null}function w5(o,r,s,u,p,_,b,E,A,I){let R=b.top,F=b.bottom,N=b.left,H=b.right;const Z=b.collisionPadding;if(Z&&(N-=Z[0],R-=Z[1],H+=Z[2],F+=Z[3]),A){const J=new Ee(N,R),ue=new Ee(H,R),me=new Ee(N,F),Ie=new Ee(H,F),ye=Ge(A);let Me=new Ee(0,0);I&&(Me=new Ee(I[0],I[1])),J._rotateAround(ye,Me),ue._rotateAround(ye,Me),me._rotateAround(ye,Me),Ie._rotateAround(ye,Me),N=Math.min(J.x,ue.x,me.x,Ie.x),H=Math.max(J.x,ue.x,me.x,Ie.x),R=Math.min(J.y,ue.y,me.y,Ie.y),F=Math.max(J.y,ue.y,me.y,Ie.y)}return o.emplaceBack(r.x,r.y,r.z,s.x,s.y,N,R,H,F,E,u,p,_),o.length-1}function cm(o){o.collisionPadding&&(o.top-=o.collisionPadding[1],o.bottom+=o.collisionPadding[3]);const r=o.bottom-o.top;return r>0?Math.max(10,r):null}function Zk(o,r,s,u){const p=o.compareText;if(r in p){const _=p[r];for(let b=_.length-1;b>=0;b--)if(u.dist(_[b])<s)return!0}else p[r]=[];return p[r].push(u),!1}function Iv(o,r){const s=o.fovAboveCenter,u=o.elevation?o.elevation.getMinElevationBelowMSL()*r:0,p=(o._camera.position[2]*o.worldSize-u)/Math.cos(o._pitch),_=Math.sin(s)*p/Math.sin(Math.max(Math.PI/2-o._pitch-s,.01)),b=Math.sin(o._pitch)*_+p;return Math.min(1.01*b,p*(1/o._horizonShift))}function Kh(o,r){if(!r.isReprojectedInTileSpace)return{scale:1<<o.z,x:o.x,y:o.y,x2:o.x+1,y2:o.y+1,projection:r};const s=Math.pow(2,-o.z),u=o.x*s,p=(o.x+1)*s,_=o.y*s,b=(o.y+1)*s,E=Ki(u),A=Ki(p),I=ln(_),R=ln(b),F=r.project(E,I),N=r.project(A,I),H=r.project(A,R),Z=r.project(E,R);let J=Math.min(F.x,N.x,H.x,Z.x),ue=Math.min(F.y,N.y,H.y,Z.y),me=Math.max(F.x,N.x,H.x,Z.x),Ie=Math.max(F.y,N.y,H.y,Z.y);const ye=s/16;function Me(Le,lt,it,bt,Lt,ht){const wt=(it+Lt)/2,St=(bt+ht)/2,It=r.project(Ki(wt),ln(St)),Bt=Math.max(0,J-It.x,ue-It.y,It.x-me,It.y-Ie);J=Math.min(J,It.x),me=Math.max(me,It.x),ue=Math.min(ue,It.y),Ie=Math.max(Ie,It.y),Bt>ye&&(Me(Le,It,it,bt,wt,St),Me(It,lt,wt,St,Lt,ht))}Me(F,N,u,_,p,_),Me(N,H,p,_,p,b),Me(H,Z,p,b,u,b),Me(Z,F,u,b,u,_),J-=ye,ue-=ye,me+=ye,Ie+=ye;const Re=1/Math.max(me-J,Ie-ue);return{scale:Re,x:J*Re,y:ue*Re,x2:me*Re,y2:Ie*Re,projection:r}}const Xk=ps(new Float32Array(16));class C1{constructor(r){this.spec=r,this.name=r.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(r,s){return{x:0,y:0,z:0}}unproject(r,s){return new pr(0,0)}projectTilePoint(r,s,u){return{x:r,y:s,z:0}}locationPoint(r,s,u=!0){return r._coordinatePoint(r.locationCoordinate(s),u)}pixelsPerMeter(r,s){return fi(1,r)*s}pixelSpaceConversion(r,s,u){return 1}farthestPixelDistance(r){return Iv(r,r.pixelsPerMeter)}pointCoordinate(r,s,u,p){const _=r.horizonLineFromTop(!1),b=new Ee(s,Math.max(_,u));return r.rayIntersectionCoordinate(r.pointRayIntersection(b,p))}pointCoordinate3D(r,s,u){const p=new Ee(s,u);if(r.elevation)return r.elevation.pointCoordinate(p);{const _=this.pointCoordinate(r,p.x,p.y,0);return[_.x,_.y,_.z]}}isPointAboveHorizon(r,s){if(r.elevation)return!this.pointCoordinate3D(r,s.x,s.y);const u=r.horizonLineFromTop();return s.y<u}createInversionMatrix(r,s){return Xk}createTileMatrix(r,s,u){let p,_,b;const E=u.canonical,A=ps(new Float64Array(16));if(this.isReprojectedInTileSpace){const I=Kh(E,this);p=1,_=I.x+u.wrap*I.scale,b=I.y,wu(A,A,[p/I.scale,p/I.scale,r.pixelsPerMeter/s])}else p=s/r.zoomScale(E.z),_=(E.x+Math.pow(2,E.z)*u.wrap)*p,b=E.y*p;return bu(A,A,[_,b,0]),wu(A,A,[p/ur,p/ur,1]),A}upVector(r,s,u){return[0,0,1]}upVectorScale(r,s,u){return{metersToTile:1}}}class Kk extends C1{constructor(r){super(r),this.range=[4,7],this.center=r.center||[-96,37.5];const[s,u]=this.parallels=r.parallels||[29.5,45.5],p=Math.sin(Ge(s));this.n=(p+Math.sin(Ge(u)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(r,s){const{n:u,c:p,r0:_}=this,b=Ge(r-this.center[0]),E=Ge(s),A=Math.sqrt(p-2*u*Math.sin(E))/u;return{x:A*Math.sin(b*u),y:A*Math.cos(b*u)-_,z:0}}unproject(r,s){const{n:u,c:p,r0:_}=this,b=_+s;let E=Math.atan2(r,Math.abs(b))*Math.sign(b);b*u<0&&(E-=Math.PI*Math.sign(r)*Math.sign(b));const A=Ge(this.center[0])*u;E=Pe(E,-Math.PI-A,Math.PI-A);const I=$e(Te(E/u)+this.center[0],-180,180),R=Math.asin($e((p-(r*r+b*b)*u*u)/(2*u),-1,1)),F=$e(Te(R),-ii,ii);return new pr(I,F)}}const gp=1.340264,yp=-.081106,_p=893e-6,vp=.003796,S5=Math.sqrt(3)/2;class Yk extends C1{project(r,s){s=s/180*Math.PI,r=r/180*Math.PI;const u=Math.asin(S5*Math.sin(s)),p=u*u,_=p*p*p;return{x:.5*(r*Math.cos(u)/(S5*(gp+3*yp*p+_*(7*_p+9*vp*p)))/Math.PI+.5),y:1-.5*(u*(gp+yp*p+_*(_p+vp*p))/Math.PI+1),z:0}}unproject(r,s){r=(2*r-.5)*Math.PI;let u=s=(2*(1-s)-1)*Math.PI,p=u*u,_=p*p*p;for(let R,F,N,H=0;H<12&&(F=u*(gp+yp*p+_*(_p+vp*p))-s,N=gp+3*yp*p+_*(7*_p+9*vp*p),R=F/N,u=$e(u-R,-Math.PI/3,Math.PI/3),p=u*u,_=p*p*p,!(Math.abs(R)<1e-12));++H);const b=S5*r*(gp+3*yp*p+_*(7*_p+9*vp*p))/Math.cos(u),E=Math.asin(Math.sin(u)/S5),A=$e(180*b/Math.PI,-180,180),I=$e(180*E/Math.PI,-ii,ii);return new pr(A,I)}}class Jk extends C1{constructor(r){super(r),this.wrap=!0,this.supportsWorldCopies=!0}project(r,s){return{x:.5+r/360,y:.5-s/360,z:0}}unproject(r,s){const u=360*(r-.5),p=$e(360*(.5-s),-ii,ii);return new pr(u,p)}}const w0=Math.PI/2;function T5(o){return Math.tan((w0+o)/2)}class Qk extends C1{constructor(r){super(r),this.center=r.center||[0,30];const[s,u]=this.parallels=r.parallels||[30,30];let p=Ge(s),_=Ge(u);this.southernCenter=p+_<0,this.southernCenter&&(p=-p,_=-_);const b=Math.cos(p),E=T5(p);this.n=p===_?Math.sin(p):Math.log(b/Math.cos(_))/Math.log(T5(_)/E),this.f=b*Math.pow(T5(p),this.n)/this.n}project(r,s){s=Ge(s),this.southernCenter&&(s=-s),r=Ge(r-this.center[0]);const u=1e-6,{n:p,f:_}=this;_>0?s<-w0+u&&(s=-w0+u):s>w0-u&&(s=w0-u);const b=_/Math.pow(T5(s),p);let E=b*Math.sin(p*r),A=_-b*Math.cos(p*r);return E=.5*(E/Math.PI+.5),A=.5*(A/Math.PI+.5),{x:E,y:this.southernCenter?A:1-A,z:0}}unproject(r,s){r=(2*r-.5)*Math.PI,this.southernCenter&&(s=1-s),s=(2*(1-s)-.5)*Math.PI;const{n:u,f:p}=this,_=p-s,b=Math.sign(_),E=Math.sign(u)*Math.sqrt(r*r+_*_);let A=Math.atan2(r,Math.abs(_))*b;_*u<0&&(A-=Math.PI*Math.sign(r)*b);const I=$e(Te(A/u)+this.center[0],-180,180),R=$e(Te(2*Math.atan(Math.pow(p/E,1/u))-w0),-ii,ii);return new pr(I,this.southernCenter?-R:R)}}class Ov extends C1{constructor(r){super(r),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(r,s){return{x:Cn(r),y:Xn(s),z:0}}unproject(r,s){const u=Ki(r),p=ln(s);return new pr(u,p)}}const kv=Ge(ii);class eD extends C1{project(r,s){const u=(s=Ge(s))*s,p=u*u;return{x:.5*((r=Ge(r))*(.8707-.131979*u+p*(p*(.003971*u-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(s*(1.007226+u*(.015085+p*(.028874*u-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(r,s){r=(2*r-.5)*Math.PI;let u=s=(2*(1-s)-1)*Math.PI,p=25,_=0,b=u*u;do{b=u*u;const I=b*b;_=(u*(1.007226+b*(.015085+I*(.028874*b-.044475-.005916*I)))-s)/(1.007226+b*(.045255+I*(.259866*b-.311325-.005916*11*I))),u=$e(u-_,-kv,kv)}while(Math.abs(_)>1e-6&&--p>0);b=u*u;const E=$e(Te(r/(.8707+b*(b*(b*b*b*(.003971-.001529*b)-.013791)-.131979))),-180,180),A=Te(u);return new pr(E,A)}}const Dv=Ge(ii);class tD extends C1{project(r,s){s=Ge(s),r=Ge(r);const u=Math.cos(s),p=2/Math.PI,_=Math.acos(u*Math.cos(r/2)),b=Math.sin(_)/_,E=.5*(r*p+2*u*Math.sin(r/2)/b)||0,A=.5*(s+Math.sin(s)/b)||0;return{x:.5*(E/Math.PI+.5),y:1-.5*(A/Math.PI+1),z:0}}unproject(r,s){let u=r=(2*r-.5)*Math.PI,p=s=(2*(1-s)-1)*Math.PI,_=25;const b=1e-6;let E=0,A=0;do{const I=Math.cos(p),R=Math.sin(p),F=2*R*I,N=R*R,H=I*I,Z=Math.cos(u/2),J=Math.sin(u/2),ue=2*Z*J,me=J*J,Ie=1-H*Z*Z,ye=Ie?1/Ie:0,Me=Ie?Math.acos(I*Z)*Math.sqrt(1/Ie):0,Re=.5*(2*Me*I*J+2*u/Math.PI)-r,Le=.5*(Me*R+p)-s,lt=.5*ye*(H*me+Me*I*Z*N)+1/Math.PI,it=ye*(ue*F/4-Me*R*J),bt=.125*ye*(F*J-Me*R*H*ue),Lt=.5*ye*(N*Z+Me*me*I)+.5,ht=it*bt-Lt*lt;E=(Le*it-Re*Lt)/ht,A=(Re*bt-Le*lt)/ht,u=$e(u-E,-Math.PI,Math.PI),p=$e(p-A,-Dv,Dv)}while((Math.abs(E)>b||Math.abs(A)>b)&&--_>0);return new pr(Te(u),Te(p))}}class Lv extends C1{constructor(r){super(r),this.center=r.center||[0,0],this.parallels=r.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Ge(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(r,s){const{scale:u,cosPhi:p}=this;return{x:Ge(r)*p*u+.5,y:-Math.sin(Ge(s))/p*u+.5,z:0}}unproject(r,s){const{scale:u,cosPhi:p}=this,_=-(s-.5)/u,b=$e(Te((r-.5)/u)/p,-180,180),E=Math.asin($e(_*p,-1,1)),A=$e(Te(E),-ii,ii);return new pr(b,A)}}class rD extends Ov{constructor(r){super(r),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(r,s,u){const p=Ha(r,s,u);return Qn(p,p,jo(Ia(u))),{x:p[0],y:p[1],z:p[2]}}locationPoint(r,s){const u=To(s.lat,s.lng),p=lo([],u),_=r.elevation?r.elevation.getAtPointOrZero(r.locationCoordinate(s),r._centerAltitude):r._centerAltitude;g1(u,u,p,fi(1,0)*ur*_);const b=ps(new Float64Array(16));return Cl(b,r.pixelMatrix,r.globeMatrix),Qn(u,u,b),new Ee(u[0],u[1])}pixelsPerMeter(r,s){return fi(1,0)*s}pixelSpaceConversion(r,s,u){const p=fi(1,r)*s,_=Xr(fi(1,45)*s,p,u);return this.pixelsPerMeter(r,s)/_}createTileMatrix(r,s,u){const p=e0(Ia(u.canonical));return Cl(new Float64Array(16),r.globeMatrix,p)}createInversionMatrix(r,s){const{center:u}=r,p=jo(Ia(s));return Mh(p,p,Ge(u.lng)),qf(p,p,Ge(u.lat)),wu(p,p,[r._pixelsPerMercatorPixel,r._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(r,s,u,p){return Vd(r,s,u,!0)||new Eu(0,0)}pointCoordinate3D(r,s,u){const p=this.pointCoordinate(r,s,u,0);return[p.x,p.y,p.z]}isPointAboveHorizon(r,s){return!Vd(r,s.x,s.y,!1)}farthestPixelDistance(r){const s=(function(p,_){const b=p.cameraToCenterDistance,E=p._centerAltitude*_,A=p._camera,I=p._camera.forward(),R=Hs([],qn([],I,-b),[0,0,E]),F=p.worldSize/(2*Math.PI),N=[0,0,-F],H=p.width/p.height,Z=Math.tan(p.fovAboveCenter),J=qn([],A.up(),Z),ue=qn([],A.right(),Z*H),me=lo([],Hs([],Hs([],I,J),ue)),Ie=[];let ye;if(new Jf(R,me).closestPointOnSphere(N,F,Ie)){const Me=Hs([],Ie,N),Re=Ca([],Me,R);ye=Math.cos(p.fovAboveCenter)*m1(Re)}else{const Me=Ca([],R,N),Re=Ca([],N,R);lo(Re,Re);const Le=m1(Me)-F;ye=Math.sqrt(Le*(Le+2*F));const lt=Math.acos(ye/(F+Le))-Math.acos(Ma(I,Re));ye*=Math.cos(lt)}return 1.01*ye})(r,this.pixelsPerMeter(r.center.lat,r.worldSize)),u=b1(r.zoom);if(u>0){const p=Iv(r,fi(1,r.center.lat)*r.worldSize),_=r.worldSize/(2*Math.PI),b=Math.max(r.width,r.height)/r.worldSize*Math.PI;return Xr(s,p+_*(1-Math.cos(b)),Math.pow(u,10))}return s}upVector(r,s,u){return Ha(s,u,r,1)}upVectorScale(r){return{metersToTile:v1(zh(Ia(r)))}}}function Rv(o){const r=o.parallels,s=!!r&&Math.abs(r[0]+r[1])<.01;switch(o.name){case"mercator":return new Ov(o);case"equirectangular":return new Jk(o);case"naturalEarth":return new eD(o);case"equalEarth":return new Yk(o);case"winkelTripel":return new tD(o);case"albers":return s?new Lv(o):new Kk(o);case"lambertConformalConic":return s?new Lv(o):new Qk(o);case"globe":return new rD(o)}throw new Error(`Invalid projection name: ${o.name}`)}const nD=Pr.types,iD=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function E5(o,r,s,u,p,_,b,E,A,I,R,F,N){const H=E?Math.min(M1,Math.round(E[0])):0,Z=E?Math.min(M1,Math.round(E[1])):0;o.emplaceBack(r,s,Math.round(32*u),Math.round(32*p),_,b,(H<<1)+(A?1:0),Z,16*I,16*R,256*F,256*N)}function P5(o,r,s,u,p,_,b){o.emplaceBack(r,s,u,p,_,b)}function A5(o,r,s,u,p){o.emplaceBack(r,s,u,p),o.emplaceBack(r,s,u,p),o.emplaceBack(r,s,u,p),o.emplaceBack(r,s,u,p)}function oD(o){for(const r of o.sections)if(hs(r.text))return!0;return!1}class hm{constructor(r){this.layoutVertexArray=new Et,this.indexArray=new sr,this.programConfigurations=r,this.segments=new hi,this.dynamicLayoutVertexArray=new Ct,this.opacityVertexArray=new ar,this.placedSymbolArray=new Jn,this.globeExtVertexArray=new Dt}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(r,s,u,p){this.isEmpty()||(u&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,dk.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,s),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,mk.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,iD,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=r.createVertexBuffer(this.globeExtVertexArray,pk.members,!0)),this.opacityVertexBuffer.itemSize=1),(u||p)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Zt(hm,"SymbolBuffers");class fm{constructor(r,s,u){this.layoutVertexArray=new r,this.layoutAttributes=s,this.indexArray=new u,this.segments=new hi,this.collisionVertexArray=new Rr,this.collisionVertexArrayExt=new Nr}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,gk.members,!0),this.collisionVertexBufferExt=r.createVertexBuffer(this.collisionVertexArrayExt,yk.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Zt(fm,"CollisionBuffers");class I1{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map((b=>b.id)),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ps([]),this.placementViewportMatrix=ps([]);const s=this.layers[0]._unevaluatedLayout._values;this.textSizeData=em(this.zoom,s["text-size"]),this.iconSizeData=em(this.zoom,s["icon-size"]);const u=this.layers[0].layout,p=u.get("symbol-sort-key"),_=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=_!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(_==="viewport-y"||_==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=u.get("text-writing-mode").map((b=>vs[b])),this.stateDependentLayerIds=this.layers.filter((b=>b.isStateDependent())).map((b=>b.id)),this.sourceID=r.sourceID,this.projection=r.projection}createArrays(){this.text=new hm(new xu(this.layers,this.zoom,(r=>/^text/.test(r)))),this.icon=new hm(new xu(this.layers,this.zoom,(r=>/^icon/.test(r)))),this.glyphOffsetArray=new yi,this.lineVertexArray=new Bn,this.symbolInstances=new bn}calculateGlyphDependencies(r,s,u,p,_){for(let b=0;b<r.length;b++)if(s[r.charCodeAt(b)]=!0,p&&_){const E=fp[r.charAt(b)];E&&(s[E.charCodeAt(0)]=!0)}}populate(r,s,u,p){const _=this.layers[0],b=_.layout,E=this.projection.name==="globe",A=b.get("text-font"),I=b.get("text-field"),R=b.get("icon-image"),F=(I.value.kind!=="constant"||I.value.value instanceof Li&&!I.value.value.isEmpty()||I.value.value.toString().length>0)&&(A.value.kind!=="constant"||A.value.value.length>0),N=R.value.kind!=="constant"||!!R.value.value||Object.keys(R.parameters).length>0,H=b.get("symbol-sort-key");if(this.features=[],!F&&!N)return;const Z=s.iconDependencies,J=s.glyphDependencies,ue=s.availableImages,me=new z(this.zoom);for(const{feature:Ie,id:ye,index:Me,sourceLayerIndex:Re}of r){const Le=_._featureFilter.needGeometry,lt=Ys(Ie,Le);if(!_._featureFilter.filter(me,lt,u))continue;if(Le||(lt.geometry=Eo(Ie,u,p)),E&&Ie.type!==1&&u.z<=5){const ht=lt.geometry,wt=.98078528056,St=(It,Bt)=>Ma(Ha(It.x,It.y,u,1),Ha(Bt.x,Bt.y,u,1))<wt;for(let It=0;It<ht.length;It++)ht[It]=S1(ht[It],St)}let it,bt;if(F){const ht=_.getValueAndResolveTokens("text-field",lt,u,ue),wt=Li.factory(ht);oD(wt)&&(this.hasRTLText=!0),(!this.hasRTLText||P()==="unavailable"||this.hasRTLText&&D.isParsed())&&(it=xk(wt,_,lt))}if(N){const ht=_.getValueAndResolveTokens("icon-image",lt,u,ue);bt=ht instanceof Ko?ht:Ko.fromString(ht)}if(!it&&!bt)continue;const Lt=this.sortFeaturesByKey?H.evaluate(lt,{},u):void 0;if(this.features.push({id:ye,text:it,icon:bt,index:Me,sourceLayerIndex:Re,geometry:lt.geometry,properties:Ie.properties,type:nD[Ie.type],sortKey:Lt}),bt&&(Z[bt.name]=!0),it){const ht=A.evaluate(lt,{},u).join(","),wt=b.get("text-rotation-alignment")==="map"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(vs.vertical)>=0;for(const St of it.sections)if(St.image)Z[St.image.name]=!0;else{const It=$s(it.toString()),Bt=St.fontStack||ht,xt=J[Bt]=J[Bt]||{};this.calculateGlyphDependencies(St.text,xt,wt,this.allowVerticalPlacement,It)}}}b.get("symbol-placement")==="line"&&(this.features=(function(Ie){const ye={},Me={},Re=[];let Le=0;function lt(ht){Re.push(Ie[ht]),Le++}function it(ht,wt,St){const It=Me[ht];return delete Me[ht],Me[wt]=It,Re[It].geometry[0].pop(),Re[It].geometry[0]=Re[It].geometry[0].concat(St[0]),It}function bt(ht,wt,St){const It=ye[wt];return delete ye[wt],ye[ht]=It,Re[It].geometry[0].shift(),Re[It].geometry[0]=St[0].concat(Re[It].geometry[0]),It}function Lt(ht,wt,St){const It=St?wt[0][wt[0].length-1]:wt[0][0];return`${ht}:${It.x}:${It.y}`}for(let ht=0;ht<Ie.length;ht++){const wt=Ie[ht],St=wt.geometry,It=wt.text?wt.text.toString():null;if(!It){lt(ht);continue}const Bt=Lt(It,St),xt=Lt(It,St,!0);if(Bt in Me&&xt in ye&&Me[Bt]!==ye[xt]){const Ht=bt(Bt,xt,St),or=it(Bt,xt,Re[Ht].geometry);delete ye[Bt],delete Me[xt],Me[Lt(It,Re[or].geometry,!0)]=or,Re[Ht].geometry=null}else Bt in Me?it(Bt,xt,St):xt in ye?bt(Bt,xt,St):(lt(ht),ye[Bt]=Le-1,Me[xt]=Le-1)}return Re.filter((ht=>ht.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((Ie,ye)=>Ie.sortKey-ye.sortKey))}update(r,s,u,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,s,this.layers,u,p),this.icon.programConfigurations.updatePaintArrays(r,s,this.layers,u,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Rv(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,s){const u=this.lineVertexArray.length;if(r.segment!==void 0)for(const{x:p,y:_}of s)this.lineVertexArray.emplaceBack(p,_);return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(r,s,u,p,_,b,E,A,I,R,F,N,H,Z){const J=r.indexArray,ue=r.layoutVertexArray,me=r.globeExtVertexArray,Ie=r.segments.prepareSegment(4*s.length,ue,J,this.canOverlap?b.sortKey:void 0),ye=this.glyphOffsetArray.length,Me=Ie.vertexLength,Re=this.allowVerticalPlacement&&E===vs.vertical?Math.PI/2:0,Le=b.text&&b.text.sections;for(let it=0;it<s.length;it++){const{tl:bt,tr:Lt,bl:ht,br:wt,tex:St,pixelOffsetTL:It,pixelOffsetBR:Bt,minFontScaleX:xt,minFontScaleY:Ht,glyphOffset:or,isSDF:Yt,sectionIndex:kr}=s[it],Ft=Ie.vertexLength,hr=or[1];if(E5(ue,I.x,I.y,bt.x,hr+bt.y,St.x,St.y,u,Yt,It.x,It.y,xt,Ht),E5(ue,I.x,I.y,Lt.x,hr+Lt.y,St.x+St.w,St.y,u,Yt,Bt.x,It.y,xt,Ht),E5(ue,I.x,I.y,ht.x,hr+ht.y,St.x,St.y+St.h,u,Yt,It.x,Bt.y,xt,Ht),E5(ue,I.x,I.y,wt.x,hr+wt.y,St.x+St.w,St.y+St.h,u,Yt,Bt.x,Bt.y,xt,Ht),A){const{x:Dr,y:cn,z:Lr}=A.anchor,[br,Fn,zr]=A.up;P5(me,Dr,cn,Lr,br,Fn,zr),P5(me,Dr,cn,Lr,br,Fn,zr),P5(me,Dr,cn,Lr,br,Fn,zr),P5(me,Dr,cn,Lr,br,Fn,zr),A5(r.dynamicLayoutVertexArray,Dr,cn,Lr,Re)}else A5(r.dynamicLayoutVertexArray,I.x,I.y,I.z,Re);J.emplaceBack(Ft,Ft+1,Ft+2),J.emplaceBack(Ft+1,Ft+2,Ft+3),Ie.vertexLength+=4,Ie.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(or[0]),it!==s.length-1&&kr===s[it+1].sectionIndex||r.programConfigurations.populatePaintArrays(ue.length,b,b.index,{},H,Z,Le&&Le[kr])}const lt=A?A.anchor:I;r.placedSymbolArray.emplaceBack(lt.x,lt.y,lt.z,I.x,I.y,ye,this.glyphOffsetArray.length-ye,Me,R,F,I.segment,u?u[0]:0,u?u[1]:0,p[0],p[1],E,0,!1,0,N,0)}_commitLayoutVertex(r,s,u,p,_,b,E){r.emplaceBack(s,u,p,_,b,Math.round(E.x),Math.round(E.y))}_addCollisionDebugVertices(r,s,u,p,_,b,E){const A=u.segments.prepareSegment(4,u.layoutVertexArray,u.indexArray),I=A.vertexLength,R=E.tileAnchorX,F=E.tileAnchorY;for(let H=0;H<4;H++)u.collisionVertexArray.emplaceBack(0,0,0,0);u.collisionVertexArrayExt.emplaceBack(s,-r.padding,-r.padding),u.collisionVertexArrayExt.emplaceBack(s,r.padding,-r.padding),u.collisionVertexArrayExt.emplaceBack(s,r.padding,r.padding),u.collisionVertexArrayExt.emplaceBack(s,-r.padding,r.padding),this._commitLayoutVertex(u.layoutVertexArray,p,_,b,R,F,new Ee(r.x1,r.y1)),this._commitLayoutVertex(u.layoutVertexArray,p,_,b,R,F,new Ee(r.x2,r.y1)),this._commitLayoutVertex(u.layoutVertexArray,p,_,b,R,F,new Ee(r.x2,r.y2)),this._commitLayoutVertex(u.layoutVertexArray,p,_,b,R,F,new Ee(r.x1,r.y2)),A.vertexLength+=4;const N=u.indexArray;N.emplaceBack(I,I+1),N.emplaceBack(I+1,I+2),N.emplaceBack(I+2,I+3),N.emplaceBack(I+3,I),A.primitiveLength+=4}_addTextDebugCollisionBoxes(r,s,u,p,_,b){for(let E=p;E<_;E++){const A=u.get(E),I=this.getSymbolInstanceTextSize(r,b,s,E);this._addCollisionDebugVertices(A,I,this.textCollisionBox,A.projectedAnchorX,A.projectedAnchorY,A.projectedAnchorZ,b)}}_addIconDebugCollisionBoxes(r,s,u,p,_,b){for(let E=p;E<_;E++){const A=u.get(E),I=this.getSymbolInstanceIconSize(r,s,b.placedIconSymbolIndex);this._addCollisionDebugVertices(A,I,this.iconCollisionBox,A.projectedAnchorX,A.projectedAnchorY,A.projectedAnchorZ,b)}}generateCollisionDebugBuffers(r,s){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new fm(tr,ev.members,Yn),this.iconCollisionBox=new fm(tr,ev.members,Yn);const u=p0(this.iconSizeData,r),p=p0(this.textSizeData,r);for(let _=0;_<this.symbolInstances.length;_++){const b=this.symbolInstances.get(_);this._addTextDebugCollisionBoxes(p,r,s,b.textBoxStartIndex,b.textBoxEndIndex,b),this._addTextDebugCollisionBoxes(p,r,s,b.verticalTextBoxStartIndex,b.verticalTextBoxEndIndex,b),this._addIconDebugCollisionBoxes(u,r,s,b.iconBoxStartIndex,b.iconBoxEndIndex,b),this._addIconDebugCollisionBoxes(u,r,s,b.verticalIconBoxStartIndex,b.verticalIconBoxEndIndex,b)}}getSymbolInstanceTextSize(r,s,u,p){const _=this.text.placedSymbolArray.get(s.rightJustifiedTextSymbolIndex>=0?s.rightJustifiedTextSymbolIndex:s.centerJustifiedTextSymbolIndex>=0?s.centerJustifiedTextSymbolIndex:s.leftJustifiedTextSymbolIndex>=0?s.leftJustifiedTextSymbolIndex:s.verticalPlacedTextSymbolIndex>=0?s.verticalPlacedTextSymbolIndex:p),b=m5(this.textSizeData,r,_)/ho;return this.tilePixelRatio*b}getSymbolInstanceIconSize(r,s,u){const p=this.icon.placedSymbolArray.get(u),_=m5(this.iconSizeData,r,p);return this.tilePixelRatio*_}_commitDebugCollisionVertexUpdate(r,s,u){r.emplaceBack(s,-u,-u),r.emplaceBack(s,u,-u),r.emplaceBack(s,u,u),r.emplaceBack(s,-u,u)}_updateTextDebugCollisionBoxes(r,s,u,p,_,b){for(let E=p;E<_;E++){const A=u.get(E),I=this.getSymbolInstanceTextSize(r,b,s,E);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,I,A.padding)}}_updateIconDebugCollisionBoxes(r,s,u,p,_,b){for(let E=p;E<_;E++){const A=u.get(E),I=this.getSymbolInstanceIconSize(r,s,b);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,I,A.padding)}}updateCollisionDebugBuffers(r,s){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const u=p0(this.iconSizeData,r),p=p0(this.textSizeData,r);for(let _=0;_<this.symbolInstances.length;_++){const b=this.symbolInstances.get(_);this._updateTextDebugCollisionBoxes(p,r,s,b.textBoxStartIndex,b.textBoxEndIndex,b),this._updateTextDebugCollisionBoxes(p,r,s,b.verticalTextBoxStartIndex,b.verticalTextBoxEndIndex,b),this._updateIconDebugCollisionBoxes(u,r,s,b.iconBoxStartIndex,b.iconBoxEndIndex,b.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(u,r,s,b.verticalIconBoxStartIndex,b.verticalIconBoxEndIndex,b.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(r,s,u,p,_,b,E,A,I){const R={};if(s<u){const{x1:F,y1:N,x2:H,y2:Z,padding:J,projectedAnchorX:ue,projectedAnchorY:me,projectedAnchorZ:Ie,tileAnchorX:ye,tileAnchorY:Me,featureIndex:Re}=r.get(s);R.textBox={x1:F,y1:N,x2:H,y2:Z,padding:J,projectedAnchorX:ue,projectedAnchorY:me,projectedAnchorZ:Ie,tileAnchorX:ye,tileAnchorY:Me},R.textFeatureIndex=Re}if(p<_){const{x1:F,y1:N,x2:H,y2:Z,padding:J,projectedAnchorX:ue,projectedAnchorY:me,projectedAnchorZ:Ie,tileAnchorX:ye,tileAnchorY:Me,featureIndex:Re}=r.get(p);R.verticalTextBox={x1:F,y1:N,x2:H,y2:Z,padding:J,projectedAnchorX:ue,projectedAnchorY:me,projectedAnchorZ:Ie,tileAnchorX:ye,tileAnchorY:Me},R.verticalTextFeatureIndex=Re}if(b<E){const{x1:F,y1:N,x2:H,y2:Z,padding:J,projectedAnchorX:ue,projectedAnchorY:me,projectedAnchorZ:Ie,tileAnchorX:ye,tileAnchorY:Me,featureIndex:Re}=r.get(b);R.iconBox={x1:F,y1:N,x2:H,y2:Z,padding:J,projectedAnchorX:ue,projectedAnchorY:me,projectedAnchorZ:Ie,tileAnchorX:ye,tileAnchorY:Me},R.iconFeatureIndex=Re}if(A<I){const{x1:F,y1:N,x2:H,y2:Z,padding:J,projectedAnchorX:ue,projectedAnchorY:me,projectedAnchorZ:Ie,tileAnchorX:ye,tileAnchorY:Me,featureIndex:Re}=r.get(A);R.verticalIconBox={x1:F,y1:N,x2:H,y2:Z,padding:J,projectedAnchorX:ue,projectedAnchorY:me,projectedAnchorZ:Ie,tileAnchorX:ye,tileAnchorY:Me},R.verticalIconFeatureIndex=Re}return R}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let s=0;s<this.symbolInstances.length;s++){const u=this.symbolInstances.get(s);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,s){const u=r.placedSymbolArray.get(s),p=u.vertexStartIndex+4*u.numGlyphs;for(let _=u.vertexStartIndex;_<p;_+=4)r.indexArray.emplaceBack(_,_+1,_+2),r.indexArray.emplaceBack(_+1,_+2,_+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const s=Math.sin(r),u=Math.cos(r),p=[],_=[],b=[];for(let E=0;E<this.symbolInstances.length;++E){b.push(E);const A=this.symbolInstances.get(E);p.push(0|Math.round(s*A.tileAnchorX+u*A.tileAnchorY)),_.push(A.featureIndex)}return b.sort(((E,A)=>p[E]-p[A]||_[A]-_[E])),b}addToSortKeyRanges(r,s){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===s?u.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:s,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const s of this.symbolInstanceIndexes){const u=this.symbolInstances.get(s);this.featureSortOrder.push(u.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:_,leftJustifiedTextSymbolIndex:b,verticalPlacedTextSymbolIndex:E,placedIconSymbolIndex:A,verticalPlacedIconSymbolIndex:I}=u;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),_>=0&&_!==p&&this.addIndicesForPlacedSymbol(this.text,_),b>=0&&b!==_&&b!==p&&this.addIndicesForPlacedSymbol(this.text,b),E>=0&&this.addIndicesForPlacedSymbol(this.text,E),A>=0&&this.addIndicesForPlacedSymbol(this.icon,A),I>=0&&this.addIndicesForPlacedSymbol(this.icon,I)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Zt(I1,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),I1.MAX_GLYPHS=65535,I1.addDynamicAttributes=A5;const aD=new ve({"symbol-placement":new Y(gt.layout_symbol["symbol-placement"]),"symbol-spacing":new Y(gt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Y(gt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ce(gt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Y(gt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Y(gt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Y(gt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Y(gt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Y(gt.layout_symbol["icon-rotation-alignment"]),"icon-size":new ce(gt.layout_symbol["icon-size"]),"icon-text-fit":new Y(gt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Y(gt.layout_symbol["icon-text-fit-padding"]),"icon-image":new ce(gt.layout_symbol["icon-image"]),"icon-rotate":new ce(gt.layout_symbol["icon-rotate"]),"icon-padding":new Y(gt.layout_symbol["icon-padding"]),"icon-keep-upright":new Y(gt.layout_symbol["icon-keep-upright"]),"icon-offset":new ce(gt.layout_symbol["icon-offset"]),"icon-anchor":new ce(gt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Y(gt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Y(gt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Y(gt.layout_symbol["text-rotation-alignment"]),"text-field":new ce(gt.layout_symbol["text-field"]),"text-font":new ce(gt.layout_symbol["text-font"]),"text-size":new ce(gt.layout_symbol["text-size"]),"text-max-width":new ce(gt.layout_symbol["text-max-width"]),"text-line-height":new ce(gt.layout_symbol["text-line-height"]),"text-letter-spacing":new ce(gt.layout_symbol["text-letter-spacing"]),"text-justify":new ce(gt.layout_symbol["text-justify"]),"text-radial-offset":new ce(gt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Y(gt.layout_symbol["text-variable-anchor"]),"text-anchor":new ce(gt.layout_symbol["text-anchor"]),"text-max-angle":new Y(gt.layout_symbol["text-max-angle"]),"text-writing-mode":new Y(gt.layout_symbol["text-writing-mode"]),"text-rotate":new ce(gt.layout_symbol["text-rotate"]),"text-padding":new Y(gt.layout_symbol["text-padding"]),"text-keep-upright":new Y(gt.layout_symbol["text-keep-upright"]),"text-transform":new ce(gt.layout_symbol["text-transform"]),"text-offset":new ce(gt.layout_symbol["text-offset"]),"text-allow-overlap":new Y(gt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Y(gt.layout_symbol["text-ignore-placement"]),"text-optional":new Y(gt.layout_symbol["text-optional"])});var dm={paint:new ve({"icon-opacity":new ce(gt.paint_symbol["icon-opacity"]),"icon-color":new ce(gt.paint_symbol["icon-color"]),"icon-halo-color":new ce(gt.paint_symbol["icon-halo-color"]),"icon-halo-width":new ce(gt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ce(gt.paint_symbol["icon-halo-blur"]),"icon-translate":new Y(gt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Y(gt.paint_symbol["icon-translate-anchor"]),"text-opacity":new ce(gt.paint_symbol["text-opacity"]),"text-color":new ce(gt.paint_symbol["text-color"],{runtimeType:yo,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new ce(gt.paint_symbol["text-halo-color"]),"text-halo-width":new ce(gt.paint_symbol["text-halo-width"]),"text-halo-blur":new ce(gt.paint_symbol["text-halo-blur"]),"text-translate":new Y(gt.paint_symbol["text-translate"]),"text-translate-anchor":new Y(gt.paint_symbol["text-translate-anchor"])}),layout:aD};class zv{constructor(r){this.type=r.property.overrides?r.property.overrides.runtimeType:rs,this.defaultValue=r}evaluate(r){if(r.formattedSection){const s=this.defaultValue.property.overrides;if(s&&s.hasOverride(r.formattedSection))return s.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Zt(zv,"FormatSectionOverride",{omit:["defaultValue"]});class M5 extends ds{constructor(r){super(r,dm)}recalculate(r,s){super.recalculate(r,s),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const u=this.layout.get("text-writing-mode");if(u){const p=[];for(const _ of u)p.indexOf(_)<0&&p.push(_);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(r,s,u,p){const _=this.layout.get(r).evaluate(s,{},u,p),b=this._unevaluatedLayout._values[r];return b.isDataDriven()||_l(b.value)||!_?_:(function(E,A){return A.replace(/{([^{}]+)}/g,((I,R)=>R in E?String(E[R]):""))})(s.properties,_)}createBucket(r){return new I1(r)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const r of dm.paint.overridableProperties){if(!M5.hasPaintOverride(this.layout,r))continue;const s=this.paint.get(r),u=new zv(s),p=new oc(u,s.property.specification);let _=null;_=s.value.kind==="constant"||s.value.kind==="source"?new ac("source",p):new Fs("composite",p,s.value.zoomStops,s.value._interpolationType),this.paint._values[r]=new fe(s.property,_,s.parameters)}}_handleOverridablePaintPropertyUpdate(r,s,u){return!(!this.layout||s.isDataDriven()||u.isDataDriven())&&M5.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,s){const u=r.get("text-field"),p=dm.paint.properties[s];let _=!1;const b=E=>{for(const A of E)if(p.overrides&&p.overrides.hasOverride(A))return void(_=!0)};if(u.value.kind==="constant"&&u.value.value instanceof Li)b(u.value.value.sections);else if(u.value.kind==="source"){const E=I=>{_||(I instanceof ba&&Zn(I.value)===ul?b(I.value.sections):I instanceof Fa?b(I.sections):I.eachChild(E))},A=u.value;A._styleExpression&&E(A._styleExpression.expression)}return _}getProgramConfiguration(r){return new Al(this,r)}}var sD={paint:new ve({"background-color":new Y(gt.paint_background["background-color"]),"background-pattern":new Y(gt.paint_background["background-pattern"]),"background-opacity":new Y(gt.paint_background["background-opacity"])})},lD={paint:new ve({"raster-opacity":new Y(gt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Y(gt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Y(gt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Y(gt.paint_raster["raster-brightness-max"]),"raster-saturation":new Y(gt.paint_raster["raster-saturation"]),"raster-contrast":new Y(gt.paint_raster["raster-contrast"]),"raster-resampling":new Y(gt.paint_raster["raster-resampling"]),"raster-fade-duration":new Y(gt.paint_raster["raster-fade-duration"])})};class uD extends ds{constructor(r){super(r,{}),this.implementation=r}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(r){this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)}onRemove(r){this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)}}var cD={paint:new ve({"sky-type":new Y(gt.paint_sky["sky-type"]),"sky-atmosphere-sun":new Y(gt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Y(gt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Y(gt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Y(gt.paint_sky["sky-gradient-radius"]),"sky-gradient":new _e(gt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Y(gt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Y(gt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Y(gt.paint_sky["sky-opacity"])})};function pm(o,r,s){const u=[0,0,1],p=Oh([]);return Ud(p,p,s?-Ge(o)+Math.PI:Ge(o)),n5(p,p,-Ge(r)),Zf(u,u,p),lo(u,u)}const hD={circle:class extends ds{constructor(o){super(o,l5)}createBucket(o){return new bc(o)}queryRadius(o){const r=o;return wc("circle-radius",this,r)+wc("circle-stroke-width",this,r)+T1(this.paint.get("circle-translate"))}queryIntersectsFeature(o,r,s,u,p,_,b,E){const A=a0(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),_.angle,o.pixelToTileUnitsFactor),I=this.paint.get("circle-radius").evaluate(r,s)+this.paint.get("circle-stroke-width").evaluate(r,s);return Yd(o,u,_,b,E,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",A,I)}getProgramIds(){return["circle"]}getProgramConfiguration(o){return new Al(this,o)}},heatmap:class extends ds{createBucket(o){return new Qd(o)}constructor(o){super(o,xi),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){o==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=rp({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(o){return wc("heatmap-radius",this,o)}queryIntersectsFeature(o,r,s,u,p,_,b,E){const A=this.paint.get("heatmap-radius").evaluate(r,s);return Yd(o,u,_,b,E,!0,!0,new Ee(0,0),A)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(o){return new Al(this,o)}},hillshade:class extends ds{constructor(o){super(o,u5)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ds{constructor(o){super(o,B)}getProgramIds(){const o=this.paint.get("fill-pattern"),r=o&&o.constantOr(1),s=[r?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&s.push(r&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),s}getProgramConfiguration(o){return new Al(this,o)}recalculate(o,r){super.recalculate(o,r);const s=this.paint._values["fill-outline-color"];s.value.kind==="constant"&&s.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(o){return new T(o)}queryRadius(){return T1(this.paint.get("fill-translate"))}queryIntersectsFeature(o,r,s,u,p,_){return!o.queryGeometry.isAboveHorizon&&Nh(Au(o.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),_.angle,o.pixelToTileUnitsFactor),u)}isTileClipped(){return!0}},"fill-extrusion":class extends ds{constructor(o){super(o,ok)}createBucket(o){return new up(o)}queryRadius(){return T1(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(o){return new Al(this,o)}queryIntersectsFeature(o,r,s,u,p,_,b,E,A){const I=a0(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),_.angle,o.pixelToTileUnitsFactor),R=this.paint.get("fill-extrusion-height").evaluate(r,s),F=this.paint.get("fill-extrusion-base").evaluate(r,s),N=[0,0],H=E&&_.elevation,Z=_.elevation?_.elevation.exaggeration():1,J=o.tile.getBucket(this);if(H&&J instanceof up){const Me=J.centroidVertexArray,Re=A+1;Re<Me.length&&(N[0]=Me.geta_centroid_pos0(Re),N[1]=Me.geta_centroid_pos1(Re))}if(N[0]===0&&N[1]===1)return!1;_.projection.name==="globe"&&(u=W_([u],[new Ee(0,0),new Ee(ur,ur)],o.tileID.canonical).map((Me=>Me.polygon)).flat());const ue=H?E:null,[me,Ie]=(function(Me,Re,Le,lt,it,bt,Lt,ht,wt,St,It){return Me.projection.name==="globe"?(function(Bt,xt,Ht,or,Yt,kr,Ft,hr,Dr,cn,Lr){const br=[],Fn=[],zr=Bt.projection.upVectorScale(Lr,Bt.center.lat,Bt.worldSize).metersToTile,Br=[0,0,0,1],Tn=[0,0,0,1],On=(En,ei,di,Pi)=>{En[0]=ei,En[1]=di,En[2]=Pi,En[3]=1},kn=G_();Ht>0&&(Ht+=kn),or+=kn;for(const En of xt){const ei=[],di=[];for(const Pi of En){const Pn=Pi.x+Yt.x,Ni=Pi.y+Yt.y,Ai=Bt.projection.projectTilePoint(Pn,Ni,Lr),ai=Bt.projection.upVector(Lr,Pi.x,Pi.y);let mn=Ht,Mi=or;if(Ft){const Dn=K_(Pn,Ni,Ht,or,Ft,hr,Dr,cn);mn+=Dn.base,Mi+=Dn.top}Ht!==0?On(Br,Ai.x+ai[0]*zr*mn,Ai.y+ai[1]*zr*mn,Ai.z+ai[2]*zr*mn):On(Br,Ai.x,Ai.y,Ai.z),On(Tn,Ai.x+ai[0]*zr*Mi,Ai.y+ai[1]*zr*Mi,Ai.z+ai[2]*zr*Mi),Qn(Br,Br,kr),Qn(Tn,Tn,kr),ei.push(new d0(Br[0],Br[1],Br[2])),di.push(new d0(Tn[0],Tn[1],Tn[2]))}br.push(ei),Fn.push(di)}return[br,Fn]})(Me,Re,Le,lt,it,bt,Lt,ht,wt,St,It):Lt?(function(Bt,xt,Ht,or,Yt,kr,Ft,hr,Dr){const cn=[],Lr=[],br=[0,0,0,1];for(const Fn of Bt){const zr=[],Br=[];for(const Tn of Fn){const On=Tn.x+or.x,kn=Tn.y+or.y,En=K_(On,kn,xt,Ht,kr,Ft,hr,Dr);br[0]=On,br[1]=kn,br[2]=En.base,br[3]=1,Su(br,br,Yt),br[3]=Math.max(br[3],1e-5);const ei=new d0(br[0]/br[3],br[1]/br[3],br[2]/br[3]);br[0]=On,br[1]=kn,br[2]=En.top,br[3]=1,Su(br,br,Yt),br[3]=Math.max(br[3],1e-5);const di=new d0(br[0]/br[3],br[1]/br[3],br[2]/br[3]);zr.push(ei),Br.push(di)}cn.push(zr),Lr.push(Br)}return[cn,Lr]})(Re,Le,lt,it,bt,Lt,ht,wt,St):(function(Bt,xt,Ht,or,Yt){const kr=[],Ft=[],hr=Yt[8]*xt,Dr=Yt[9]*xt,cn=Yt[10]*xt,Lr=Yt[11]*xt,br=Yt[8]*Ht,Fn=Yt[9]*Ht,zr=Yt[10]*Ht,Br=Yt[11]*Ht;for(const Tn of Bt){const On=[],kn=[];for(const En of Tn){const ei=En.x+or.x,di=En.y+or.y,Pi=Yt[0]*ei+Yt[4]*di+Yt[12],Pn=Yt[1]*ei+Yt[5]*di+Yt[13],Ni=Yt[2]*ei+Yt[6]*di+Yt[14],Ai=Yt[3]*ei+Yt[7]*di+Yt[15],ai=Pi+hr,mn=Pn+Dr,Mi=Ni+cn,Dn=Math.max(Ai+Lr,1e-5),la=Pi+br,Ci=Pn+Fn,fo=Ni+zr,Qi=Math.max(Ai+Br,1e-5);On.push(new d0(ai/Dn,mn/Dn,Mi/Dn)),kn.push(new d0(la/Qi,Ci/Qi,fo/Qi))}kr.push(On),Ft.push(kn)}return[kr,Ft]})(Re,Le,lt,it,bt)})(_,u,F,R,I,b,ue,N,Z,_.center.lat,o.tileID.canonical),ye=o.queryGeometry;return(function(Me,Re,Le){let lt=1/0;Nh(Le,Re)&&(lt=X_(Le,Re[0]));for(let it=0;it<Re.length;it++){const bt=Re[it],Lt=Me[it];for(let ht=0;ht<bt.length-1;ht++){const wt=bt[ht],St=[wt,bt[ht+1],Lt[ht+1],Lt[ht],wt];n0(Le,St)&&(lt=Math.min(lt,X_(Le,St)))}}return lt!==1/0&&lt})(me,Ie,ye.isPointQuery()?ye.screenBounds:ye.screenGeometry)}},line:class extends ds{constructor(o){super(o,Y_),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(o){if(o==="line-gradient"){const r=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=r._styleExpression&&r._styleExpression.expression instanceof ah,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(o,r){super.recalculate(o,r),this.paint._values["line-floorwidth"]=J_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)}createBucket(o){return new p5(o)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(o){return new Al(this,o)}queryRadius(o){const r=o,s=Q_(wc("line-width",this,r),wc("line-gap-width",this,r)),u=wc("line-offset",this,r);return s/2+Math.abs(u)+T1(this.paint.get("line-translate"))}queryIntersectsFeature(o,r,s,u,p,_){if(o.queryGeometry.isAboveHorizon)return!1;const b=Au(o.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),_.angle,o.pixelToTileUnitsFactor),E=o.pixelToTileUnitsFactor/2*Q_(this.paint.get("line-width").evaluate(r,s),this.paint.get("line-gap-width").evaluate(r,s)),A=this.paint.get("line-offset").evaluate(r,s);return A&&(u=(function(I,R){const F=[],N=new Ee(0,0);for(let H=0;H<I.length;H++){const Z=I[H],J=[];for(let ue=0;ue<Z.length;ue++){const me=Z[ue],Ie=Z[ue+1],ye=ue===0?N:me.sub(Z[ue-1])._unit()._perp(),Me=ue===Z.length-1?N:Ie.sub(me)._unit()._perp(),Re=ye._add(Me)._unit();Re._mult(1/(Re.x*Me.x+Re.y*Me.y)),J.push(Re._mult(R)._add(me))}F.push(J)}return F})(u,A*o.pixelToTileUnitsFactor)),(function(I,R,F){for(let N=0;N<R.length;N++){const H=R[N];if(I.length>=3){for(let Z=0;Z<H.length;Z++)if(Ol(I,H[Z]))return!0}if(Uo(I,H,F))return!0}return!1})(b,u,E)}isTileClipped(){return!0}},symbol:M5,background:class extends ds{constructor(o){super(o,sD)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ds{constructor(o){super(o,lD)}getProgramIds(){return["raster"]}},sky:class extends ds{constructor(o){super(o,cD),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){o==="sky-gradient"?this._updateColorRamp():o!=="sky-atmosphere-sun"&&o!=="sky-atmosphere-halo-color"&&o!=="sky-atmosphere-color"&&o!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=rp({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(o){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const r=o.style.light.properties.get("position");return this._lightPosition.azimuthal!==r.azimuthal||this._lightPosition.polar!==r.polar}return!1}getCenter(o,r){if(this.paint.get("sky-type")==="atmosphere"){const u=this.paint.get("sky-atmosphere-sun"),p=!u,_=o.style.light,b=_.properties.get("position");return p&&_.properties.get("anchor")==="viewport"&&Sr("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?pm(b.azimuthal,90-b.polar,r):pm(u[0],90-u[1],r)}const s=this.paint.get("sky-gradient-center");return pm(s[0],90-s[1],r)}is3D(){return!1}isSky(){return!0}markSkyboxValid(o){this._skyboxInvalidated=!1,this._lightPosition=o.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const o=this.paint.get("sky-type");return o==="atmosphere"?["skyboxCapture","skybox"]:o==="gradient"?["skyboxGradient"]:null}}};class xp{constructor(r,s,u,p){this.context=r,this.format=u,this.texture=r.gl.createTexture(),this.update(s,p)}update(r,s,u){const{width:p,height:_}=r,{context:b}=this,{gl:E}=b,{HTMLImageElement:A,HTMLCanvasElement:I,HTMLVideoElement:R,ImageData:F,ImageBitmap:N}=w;if(E.bindTexture(E.TEXTURE_2D,this.texture),b.pixelStoreUnpackFlipY.set(!1),b.pixelStoreUnpack.set(1),b.pixelStoreUnpackPremultiplyAlpha.set(this.format===E.RGBA&&(!s||s.premultiply!==!1)),u||this.size&&this.size[0]===p&&this.size[1]===_){const{x:H,y:Z}=u||{x:0,y:0};r instanceof A||r instanceof I||r instanceof R||r instanceof F||N&&r instanceof N?E.texSubImage2D(E.TEXTURE_2D,0,H,Z,E.RGBA,E.UNSIGNED_BYTE,r):E.texSubImage2D(E.TEXTURE_2D,0,H,Z,p,_,E.RGBA,E.UNSIGNED_BYTE,r.data)}else this.size=[p,_],r instanceof A||r instanceof I||r instanceof R||r instanceof F||N&&r instanceof N?E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,E.UNSIGNED_BYTE,r):E.texImage2D(E.TEXTURE_2D,0,this.format,p,_,0,this.format,E.UNSIGNED_BYTE,r.data);this.useMipmap=!!(s&&s.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&E.generateMipmap(E.TEXTURE_2D)}bind(r,s){const{context:u}=this,{gl:p}=u;p.bindTexture(p.TEXTURE_2D,this.texture),r!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,r),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?r===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:r),this.filter=r),s!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,s),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,s),this.wrap=s)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:r}=this.context;r.deleteTexture(this.texture),this.texture=null}}class fD{constructor(r){this._callback=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){this._channel=void 0,this._callback=()=>{}}}class dD{constructor(){this.tasks={},this.taskQueue=[],cr(["process"],this),this.invoker=new fD(this.process),this.nextId=0}add(r,s){const u=this.nextId++,p=(function({type:_,isSymbolTile:b,zoom:E}){return E=E||0,_==="message"?0:_!=="maybePrepare"||b?_!=="parseTile"||b?_==="parseTile"&&b?300-E:_==="maybePrepare"&&b?400-E:500:200-E:100-E})(s);if(p===0){li();try{r()}finally{}return{cancel:()=>{}}}return this.tasks[u]={fn:r,metadata:s,priority:p,id:u},this.taskQueue.push(u),this.invoker.trigger(),{cancel:()=>{delete this.tasks[u]}}}process(){li();try{if(this.taskQueue=this.taskQueue.filter((u=>!!this.tasks[u])),!this.taskQueue.length)return;const r=this.pick();if(r===null)return;const s=this.tasks[r];if(delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),!s)return;s.fn()}finally{}}pick(){let r=null,s=1/0;for(let p=0;p<this.taskQueue.length;p++){const _=this.tasks[this.taskQueue[p]];_.priority<s&&(s=_.priority,r=p)}if(r===null)return null;const u=this.taskQueue[r];return this.taskQueue.splice(r,1),u}remove(){this.invoker.remove()}}class Bv{constructor(r){this._stringToNumber={},this._numberToString=[];for(let s=0;s<r.length;s++){const u=r[s];this._stringToNumber[u]=s,this._numberToString[s]=u}}encode(r){return this._stringToNumber[r]}decode(r){return this._numberToString[r]}}const pD=["tile","layer","source","sourceLayer","state"];class Fv{constructor(r,s,u,p,_){this.type="Feature",this._vectorTileFeature=r,this._z=s,this._x=u,this._y=p,this.properties=r.properties,this.id=_}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(r.id=this.id);for(const s of pD)this[s]!==void 0&&(r[s]=this[s]);return r}}const Qs=32,Ou=33,O1=new Uint16Array(8184);for(let o=0;o<2046;o++){let r=o+2,s=0,u=0,p=0,_=0,b=0,E=0;for(1&r?p=_=b=Qs:s=u=E=Qs;(r>>=1)>1;){const I=s+p>>1,R=u+_>>1;1&r?(p=s,_=u,s=b,u=E):(s=p,u=_,p=b,_=E),b=I,E=R}const A=4*o;O1[A+0]=s,O1[A+1]=u,O1[A+2]=p,O1[A+3]=_}const ku=new Uint16Array(2178),k1=new Uint8Array(1089),C5=new Uint16Array(1089);function jv(o){return o===0?-.03125:o===32?.03125:0}var Nv=Xe([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const Uv={type:2,extent:ur,loadGeometry:()=>[[new Ee(0,0),new Ee(ur+1,0),new Ee(ur+1,ur+1),new Ee(0,ur+1),new Ee(0,0)]]};class mm{constructor(r,s,u,p,_){this.tileID=r,this.uid=fr(),this.uses=0,this.tileSize=s,this.tileZoom=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=_,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(r){const s=r+this.timeAdded;s<ki.now()||this.fadeEndTime&&s<this.fadeEndTime||(this.fadeEndTime=s)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Kh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,s,u){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=(function(p,_){const b={};if(!_)return b;for(const E of p){const A=E.layerIds.map((I=>_.getLayer(I))).filter(Boolean);if(A.length!==0){E.layers=A,E.stateDependentLayerIds&&(E.stateDependentLayers=E.stateDependentLayerIds.map((I=>A.filter((R=>R.id===I))[0])));for(const I of A)b[I.id]=E}}return b})(r.buckets,s.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const _=this.buckets[p];if(_ instanceof I1){if(this.hasSymbolBuckets=!0,!u)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const _=this.buckets[p];if(_ instanceof I1&&_.hasRTLText){this.hasRTLText=!0,D.isLoading()||D.isLoaded()||P()!=="deferred"||k();break}}this.queryPadding=0;for(const p in this.buckets){const _=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,s.style.getLayer(p).queryRadius(_))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas)}else this.collisionBoxArray=new pn}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(r){return this.buckets[r.id]}upload(r){for(const u in this.buckets){const p=this.buckets[u];p.uploadPending()&&p.upload(r)}const s=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new xp(r,this.imageAtlas.image,s.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new xp(r,this.glyphAtlasImage,s.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new xp(r,this.lineAtlas.image,s.ALPHA),this.lineAtlas.uploaded=!0)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,s,u,p,_,b,E,A){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:E,transform:b,params:_,tileTransform:this.tileTransform},r,s,u):{}}querySourceFeatures(r,s){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const p=u.loadVTLayers(),_=s?s.sourceLayer:"",b=p._geojsonTileLayer||p[_];if(!b)return;const E=fu(s&&s.filter),{z:A,x:I,y:R}=this.tileID.canonical,F={z:A,x:I,y:R};for(let N=0;N<b.length;N++){const H=b.feature(N);if(E.needGeometry){const ue=Ys(H,!0);if(!E.filter(new z(this.tileID.overscaledZ),ue,this.tileID.canonical))continue}else if(!E.filter(new z(this.tileID.overscaledZ),H))continue;const Z=u.getId(H,_),J=new Fv(H,A,I,R,Z);J.tile=F,r.push(J)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const s=this.expirationTime;if(r.cacheControl){const u=Wn(r.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const u=Date.now();let p=!1;if(this.expirationTime>u)p=!1;else if(s)if(this.expirationTime<s)p=!0;else{const _=this.expirationTime-s;_?this.expirationTime=u+Math.max(_,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(r,s){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(r).length===0||!s)return;const u=this.latestFeatureIndex.loadVTLayers(),p=s.style.listImages();for(const _ in this.buckets){if(!s.style.hasLayer(_))continue;const b=this.buckets[_],E=b.layers[0].sourceLayer||"_geojsonTileLayer",A=u[E],I=r[E];if(!A||!I||Object.keys(I).length===0)continue;if(b.update(I,A,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),b instanceof p5||b instanceof T){const F=s.style._getSourceCache(b.layers[0].source);s._terrain&&s._terrain.enabled&&F&&b.programConfigurations.needsUpload&&s._terrain._clearRenderCacheForTile(F.id,this.tileID)}const R=s&&s.style&&s.style.getLayer(_);R&&(this.queryPadding=Math.max(this.queryPadding,R.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ki.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=ki.now()+r}setTexture(r,s){const u=s.context,p=u.gl;this.texture=this.texture||s.getTileTexture(r.width),this.texture?this.texture.update(r,{useMipmap:!0}):(this.texture=new xp(u,r,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE))}setDependencies(r,s){const u={};for(const p of s)u[p]=!0;this.dependencies[r]=u}hasDependency(r,s){for(const u of r){const p=this.dependencies[u];if(p){for(const _ of s)if(p[_])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,s){if(!s||s.name==="mercator"||this._tileDebugBuffer)return;const u=Eo(Uv,this.tileID.canonical,this.tileTransform)[0],p=new Ot,_=new Fo;for(let b=0;b<u.length;b++){const{x:E,y:A}=u[b];p.emplaceBack(E,A),_.emplaceBack(b)}_.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(_),this._tileDebugBuffer=r.createVertexBuffer(p,Dh.members),this._tileDebugSegments=hi.simpleSegment(0,0,p.length,_.length)}_makeTileBoundsBuffers(r,s){if(this._tileBoundsBuffer||!s||s.name==="mercator")return;const u=Eo(Uv,this.tileID.canonical,this.tileTransform)[0];let p,_;if(this.isRaster){const b=(function(E,A){const I=Kh(E,A),R=Math.pow(2,E.z);for(let ue=0;ue<Ou;ue++)for(let me=0;me<Ou;me++){const Ie=Ki((E.x+(me+jv(me))/Qs)/R),ye=ln((E.y+(ue+jv(ue))/Qs)/R),Me=A.project(Ie,ye),Re=ue*Ou+me;ku[2*Re+0]=Math.round((Me.x*I.scale-I.x)*ur),ku[2*Re+1]=Math.round((Me.y*I.scale-I.y)*ur)}k1.fill(0),C5.fill(0);for(let ue=2045;ue>=0;ue--){const me=4*ue,Ie=O1[me+0],ye=O1[me+1],Me=O1[me+2],Re=O1[me+3],Le=Ie+Me>>1,lt=ye+Re>>1,it=Le+lt-ye,bt=lt+Ie-Le,Lt=ye*Ou+Ie,ht=Re*Ou+Me,wt=lt*Ou+Le,St=Math.hypot((ku[2*Lt+0]+ku[2*ht+0])/2-ku[2*wt+0],(ku[2*Lt+1]+ku[2*ht+1])/2-ku[2*wt+1])>=16;k1[wt]=k1[wt]||(St?1:0),ue<1022&&(k1[wt]=k1[wt]||k1[(ye+bt>>1)*Ou+(Ie+it>>1)]||k1[(Re+bt>>1)*Ou+(Me+it>>1)])}const F=new _t,N=new sr;let H=0;function Z(ue,me){const Ie=me*Ou+ue;return C5[Ie]===0&&(F.emplaceBack(ku[2*Ie+0],ku[2*Ie+1],ue*ur/Qs,me*ur/Qs),C5[Ie]=++H),C5[Ie]-1}function J(ue,me,Ie,ye,Me,Re){const Le=ue+Ie>>1,lt=me+ye>>1;if(Math.abs(ue-Me)+Math.abs(me-Re)>1&&k1[lt*Ou+Le])J(Me,Re,ue,me,Le,lt),J(Ie,ye,Me,Re,Le,lt);else{const it=Z(ue,me),bt=Z(Ie,ye),Lt=Z(Me,Re);N.emplaceBack(it,bt,Lt)}}return J(0,0,Qs,Qs,Qs,0),J(Qs,Qs,0,0,0,Qs),{vertices:F,indices:N}})(this.tileID.canonical,s);p=b.vertices,_=b.indices}else{p=new _t,_=new sr;for(const{x:E,y:A}of u)p.emplaceBack(E,A,0,0);const b=h0(p.int16,void 0,4);for(let E=0;E<b.length;E+=3)_.emplaceBack(b[E],b[E+1],b[E+2])}this._tileBoundsBuffer=r.createVertexBuffer(p,Nv.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(_),this._tileBoundsSegments=hi.simpleSegment(0,0,p.length,_.length)}_makeGlobeTileDebugBuffers(r,s){const u=s.projection;if(!u||u.name!=="globe"||s.freezeTileCoverage)return;const p=this.tileID.canonical,_=jo(qd(p,s)),b=b1(s.zoom);let E;b>0&&(E=Aa(new Float64Array(16),s.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,p,s,_,E,b),this._makeGlobeTileDebugTextBuffer(r,p,s,_,E,b)}_globePoint(r,s,u,p,_,b,E){let A=Ha(r,s,u);if(b){const I=1<<u.z,R=Cn(p.center.lng),F=Xn(p.center.lat),N=(u.x+.5)/I-R;let H=0;N>.5?H=-1:N<-.5&&(H=1);let Z=(r/ur+u.x)/I+H,J=(s/ur+u.y)/I;Z=(Z-R)*p._pixelsPerMercatorPixel+R,J=(J-F)*p._pixelsPerMercatorPixel+F;const ue=[Z*p.worldSize,J*p.worldSize,0];Qn(ue,ue,b),A=Il(A,ue,E)}return Qn(A,A,_)}_makeGlobeTileDebugBorderBuffer(r,s,u,p,_,b){const E=new Ot,A=new Fo,I=new nt,R=(N,H,Z,J,ue)=>{const me=(Z-N)/(ue-1),Ie=(J-H)/(ue-1),ye=E.length;for(let Me=0;Me<ue;Me++){const Re=N+Me*me,Le=H+Me*Ie;E.emplaceBack(Re,Le);const lt=this._globePoint(Re,Le,s,u,p,_,b);I.emplaceBack(lt[0],lt[1],lt[2]),A.emplaceBack(ye+Me)}},F=ur;R(0,0,F,0,16),R(F,0,F,F,16),R(F,F,0,F,16),R(0,F,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(A),this._tileDebugBuffer=r.createVertexBuffer(E,Dh.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(I,Zs.members),this._tileDebugSegments=hi.simpleSegment(0,0,E.length,A.length)}_makeGlobeTileDebugTextBuffer(r,s,u,p,_,b){const E=ur/4,A=new Ot,I=new sr,R=new nt,F=25;I.reserve(32),A.reserve(F),R.reserve(F);const N=(H,Z)=>F*H+Z;for(let H=0;H<F;H++){const Z=H*E;for(let J=0;J<F;J++){const ue=J*E;A.emplaceBack(ue,Z);const me=this._globePoint(ue,Z,s,u,p,_,b);R.emplaceBack(me[0],me[1],me[2])}}for(let H=0;H<4;H++)for(let Z=0;Z<4;Z++){const J=N(H,Z),ue=N(H,Z+1),me=N(H+1,Z),Ie=N(H+1,Z+1);I.emplaceBack(J,ue,me),I.emplaceBack(me,ue,Ie)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(I),this._tileDebugTextBuffer=r.createVertexBuffer(A,Dh.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(R,Zs.members),this._tileDebugTextSegments=hi.simpleSegment(0,0,F,32)}}class mD{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,s,u){const p=String(s);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][p]=this.stateChanges[r][p]||{},zt(this.stateChanges[r][p],u),this.deletedStates[r]===null){this.deletedStates[r]={};for(const _ in this.state[r])_!==p&&(this.deletedStates[r][_]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][p]===null){this.deletedStates[r][p]={};for(const _ in this.state[r][p])u[_]||(this.deletedStates[r][p][_]=null)}else for(const _ in u)this.deletedStates[r]&&this.deletedStates[r][p]&&this.deletedStates[r][p][_]===null&&delete this.deletedStates[r][p][_]}removeFeatureState(r,s,u){if(this.deletedStates[r]===null)return;const p=String(s);if(this.deletedStates[r]=this.deletedStates[r]||{},u&&s!==void 0)this.deletedStates[r][p]!==null&&(this.deletedStates[r][p]=this.deletedStates[r][p]||{},this.deletedStates[r][p][u]=null);else if(s!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][p])for(u in this.deletedStates[r][p]={},this.stateChanges[r][p])this.deletedStates[r][p][u]=null;else this.deletedStates[r][p]=null;else this.deletedStates[r]=null}getState(r,s){const u=String(s),p=zt({},(this.state[r]||{})[u],(this.stateChanges[r]||{})[u]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){const _=this.deletedStates[r][s];if(_===null)return{};for(const b in _)delete p[b]}return p}initializeTileState(r,s){r.setFeatureState(this.state,s)}coalesceChanges(r,s){const u={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const _={};for(const b in this.stateChanges[p])this.state[p][b]||(this.state[p][b]={}),zt(this.state[p][b],this.stateChanges[p][b]),_[b]=this.state[p][b];u[p]=_}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const _={};if(this.deletedStates[p]===null)for(const b in this.state[p])_[b]={},this.state[p][b]={};else for(const b in this.deletedStates[p]){if(this.deletedStates[p][b]===null)this.state[p][b]={};else if(this.state[p][b])for(const E of Object.keys(this.deletedStates[p][b]))delete this.state[p][b][E];_[b]=this.state[p][b]}u[p]=u[p]||{},zt(u[p],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(const p in r)r[p].setFeatureState(u,s)}}class $v{constructor(r){this.size=r,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(r,s){const u=this.toIdx(r,s);return{min:this.minimums[u],max:this.maximums[u]}}isLeaf(r,s){return this.leaves[this.toIdx(r,s)]}toIdx(r,s){return s*this.size+r}}function Vv(o,r,s,u){let p=0,_=Number.MAX_VALUE;for(let b=0;b<3;b++)if(Math.abs(u[b])<1e-15){if(s[b]<o[b]||s[b]>r[b])return null}else{const E=1/u[b];let A=(o[b]-s[b])*E,I=(r[b]-s[b])*E;if(A>I){const R=A;A=I,I=R}if(A>p&&(p=A),I<_&&(_=I),p>_)return null}return p}function qv(o,r,s,u,p,_,b,E,A,I,R){const F=u-o,N=p-r,H=_-s,Z=b-o,J=E-r,ue=A-s,me=R[1]*ue-R[2]*J,Ie=R[2]*Z-R[0]*ue,ye=R[0]*J-R[1]*Z,Me=F*me+N*Ie+H*ye;if(Math.abs(Me)<1e-15)return null;const Re=1/Me,Le=I[0]-o,lt=I[1]-r,it=I[2]-s,bt=(Le*me+lt*Ie+it*ye)*Re;if(bt<0||bt>1)return null;const Lt=lt*H-it*N,ht=it*F-Le*H,wt=Le*N-lt*F,St=(R[0]*Lt+R[1]*ht+R[2]*wt)*Re;return St<0||bt+St>1?null:(Z*Lt+J*ht+ue*wt)*Re}function Gv(o,r,s){return(o-r)/(s-r)}function Wv(o,r,s,u,p,_,b,E,A){const I=1<<s,R=_-u,F=b-p,N=(o+1)/I*R+u,H=(r+0)/I*F+p,Z=(r+1)/I*F+p;E[0]=(o+0)/I*R+u,E[1]=H,A[0]=N,A[1]=Z}class Hv{constructor(r){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=r,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const s=(function(_){const b=Math.ceil(Math.log2(_.dim/8)),E=[];let A=Math.ceil(Math.pow(2,b));const I=1/A,R=(H,Z,J,ue,me)=>{const Ie=ue?1:0,ye=(H+1)*J-Ie,Me=Z*J,Re=(Z+1)*J-Ie;me[0]=H*J,me[1]=Me,me[2]=ye,me[3]=Re};let F=new $v(A);const N=[];for(let H=0;H<A*A;H++){R(H%A,Math.floor(H/A),I,!1,N);const Z=D1(N[0],N[1],_),J=D1(N[2],N[1],_),ue=D1(N[2],N[3],_),me=D1(N[0],N[3],_);F.minimums.push(Math.min(Z,J,ue,me)),F.maximums.push(Math.max(Z,J,ue,me)),F.leaves.push(1)}for(E.push(F),A/=2;A>=1;A/=2){const H=E[E.length-1];F=new $v(A);for(let Z=0;Z<A*A;Z++){R(Z%A,Math.floor(Z/A),2,!0,N);const J=H.getElevation(N[0],N[1]),ue=H.getElevation(N[2],N[1]),me=H.getElevation(N[2],N[3]),Ie=H.getElevation(N[0],N[3]),ye=H.isLeaf(N[0],N[1]),Me=H.isLeaf(N[2],N[1]),Re=H.isLeaf(N[2],N[3]),Le=H.isLeaf(N[0],N[3]),lt=Math.min(J.min,ue.min,me.min,Ie.min),it=Math.max(J.max,ue.max,me.max,Ie.max),bt=ye&&Me&&Re&&Le;F.maximums.push(it),F.minimums.push(lt),F.leaves.push(it-lt<=5&&bt?1:0)}E.push(F)}return E})(this.dem),u=s.length-1,p=s[u];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(s,0,0,u,0)}raycastRoot(r,s,u,p,_,b,E=1){return Vv([r,s,-100],[u,p,this.maximums[0]*E],_,b)}raycast(r,s,u,p,_,b,E=1){if(!this.nodeCount)return null;const A=this.raycastRoot(r,s,u,p,_,b,E);if(A==null)return null;const I=[],R=[],F=[],N=[],H=[{idx:0,t:A,nodex:0,nodey:0,depth:0}];for(;H.length>0;){const{idx:Z,t:J,nodex:ue,nodey:me,depth:Ie}=H.pop();if(this.leaves[Z]){Wv(ue,me,Ie,r,s,u,p,F,N);const Me=1<<Ie,Re=(ue+0)/Me,Le=(ue+1)/Me,lt=(me+0)/Me,it=(me+1)/Me,bt=D1(Re,lt,this.dem)*E,Lt=D1(Le,lt,this.dem)*E,ht=D1(Le,it,this.dem)*E,wt=D1(Re,it,this.dem)*E,St=qv(F[0],F[1],bt,N[0],F[1],Lt,N[0],N[1],ht,_,b),It=qv(N[0],N[1],ht,F[0],N[1],wt,F[0],F[1],bt,_,b),Bt=Math.min(St!==null?St:Number.MAX_VALUE,It!==null?It:Number.MAX_VALUE);if(Bt!==Number.MAX_VALUE)return Bt;{const xt=g1([],_,b,J);if(Zv(bt,Lt,wt,ht,Gv(xt[0],F[0],N[0]),Gv(xt[1],F[1],N[1]))>=xt[2])return J}continue}let ye=0;for(let Me=0;Me<this._siblingOffset.length;Me++){Wv((ue<<1)+this._siblingOffset[Me][0],(me<<1)+this._siblingOffset[Me][1],Ie+1,r,s,u,p,F,N),F[2]=-100,N[2]=this.maximums[this.childOffsets[Z]+Me]*E;const Re=Vv(F,N,_,b);if(Re!=null){const Le=Re;I[Me]=Le;let lt=!1;for(let it=0;it<ye&&!lt;it++)Le>=I[R[it]]&&(R.splice(it,0,Me),lt=!0);lt||(R[ye]=Me),ye++}}for(let Me=0;Me<ye;Me++){const Re=R[Me];H.push({idx:this.childOffsets[Z]+Re,t:I[Re],nodex:(ue<<1)+this._siblingOffset[Re][0],nodey:(me<<1)+this._siblingOffset[Re][1],depth:Ie+1})}}return null}_addNode(r,s,u){return this.minimums.push(r),this.maximums.push(s),this.leaves.push(u),this.childOffsets.push(0),this.nodeCount++}_construct(r,s,u,p,_){if(r[p].isLeaf(s,u)===1)return;this.childOffsets[_]||(this.childOffsets[_]=this.nodeCount);const b=p-1,E=r[b];let A=0,I=0;for(let R=0;R<this._siblingOffset.length;R++){const F=2*s+this._siblingOffset[R][0],N=2*u+this._siblingOffset[R][1],H=E.getElevation(F,N),Z=E.isLeaf(F,N),J=this._addNode(H.min,H.max,Z);Z&&(A|=1<<R),I||(I=J)}for(let R=0;R<this._siblingOffset.length;R++)A&1<<R||this._construct(r,2*s+this._siblingOffset[R][0],2*u+this._siblingOffset[R][1],b,I+R)}}function Zv(o,r,s,u,p,_){return Xr(Xr(o,s,_),Xr(r,u,_),p)}function D1(o,r,s){const u=s.dim,p=$e(o*u-.5,0,u-1),_=$e(r*u-.5,0,u-1),b=Math.floor(p),E=Math.floor(_),A=Math.min(b+1,u-1),I=Math.min(E+1,u-1);return Zv(s.get(b,E),s.get(A,E),s.get(b,I),s.get(A,I),p-b,_-E)}const Xv={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function gD(o,r,s){return(256*o*256+256*r+s)/10-1e4}function yD(o,r,s){return 256*o+r+s/256-32768}class I5{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(r,s,u,p=!1,_=!1){if(this.uid=r,s.height!==s.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return Sr(`"${u}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=s.height;const b=this.dim=s.height-2,E=new Uint32Array(s.data.buffer);if(this.pixels=new Uint8Array(s.data.buffer),this.encoding=u||"mapbox",this.borderReady=p,!p){for(let A=0;A<b;A++)E[this._idx(-1,A)]=E[this._idx(0,A)],E[this._idx(b,A)]=E[this._idx(b-1,A)],E[this._idx(A,-1)]=E[this._idx(A,0)],E[this._idx(A,b)]=E[this._idx(A,b-1)];E[this._idx(-1,-1)]=E[this._idx(0,0)],E[this._idx(b,-1)]=E[this._idx(b-1,0)],E[this._idx(-1,b)]=E[this._idx(0,b-1)],E[this._idx(b,b)]=E[this._idx(b-1,b-1)],_&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Hv(this)}get(r,s,u=!1){u&&(r=$e(r,-1,this.dim),s=$e(s,-1,this.dim));const p=4*this._idx(r,s);return(this.encoding==="terrarium"?yD:gD)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(r){return Xv[r]}get unpackVector(){return Xv[this.encoding]}_idx(r,s){if(r<-1||r>=this.dim+1||s<-1||s>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(s+1)*this.stride+(r+1)}static pack(r,s){const u=[0,0,0,0],p=I5.getUnpackVector(s);let _=Math.floor((r+p[3])/p[2]);return u[2]=_%256,_=Math.floor(_/256),u[1]=_%256,_=Math.floor(_/256),u[0]=_,u}getPixels(){return new $o({width:this.stride,height:this.stride},this.pixels)}backfillBorder(r,s,u){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let p=s*this.dim,_=s*this.dim+this.dim,b=u*this.dim,E=u*this.dim+this.dim;switch(s){case-1:p=_-1;break;case 1:_=p+1}switch(u){case-1:b=E-1;break;case 1:E=b+1}const A=-s*this.dim,I=-u*this.dim;for(let R=b;R<E;R++)for(let F=p;F<_;F++){const N=4*this._idx(F,R),H=4*this._idx(F+A,R+I);this.pixels[N+0]=r.pixels[H+0],this.pixels[N+1]=r.pixels[H+1],this.pixels[N+2]=r.pixels[H+2],this.pixels[N+3]=r.pixels[H+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Zt(I5,"DEMData"),Zt(Hv,"DemMinMaxQuadTree",{omit:["dem"]});class _D{constructor(r,s){this.max=r,this.onRemove=s,this.reset()}reset(){for(const r in this.data)for(const s of this.data[r])s.timeout&&clearTimeout(s.timeout),this.onRemove(s.value);return this.data={},this.order=[],this}add(r,s,u){const p=r.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const _={value:s,timeout:void 0};if(u!==void 0&&(_.timeout=setTimeout((()=>{this.remove(r,_)}),u)),this.data[p].push(_),this.order.push(p),this.order.length>this.max){const b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const s=this.data[r].shift();return s.timeout&&clearTimeout(s.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),s.value}getByKey(r){const s=this.data[r];return s?s[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,s){if(!this.has(r))return this;const u=r.wrapped().key,p=s===void 0?0:this.data[u].indexOf(s),_=this.data[u][p];return this.data[u].splice(p,1),_.timeout&&clearTimeout(_.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(_.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const s=this._getAndRemoveByKey(this.order[0]);s&&this.onRemove(s)}return this}filter(r){const s=[];for(const u in this.data)for(const p of this.data[u])r(p.value)||s.push(p);for(const u of s)this.remove(u.value.tileID,u)}}class S0{constructor(r,s,u){this.func=r,this.mask=s,this.range=u}}S0.ReadOnly=!1,S0.ReadWrite=!0,S0.disabled=new S0(519,S0.ReadOnly,[0,1]);const gm=7680;class ym{constructor(r,s,u,p,_,b){this.test=r,this.ref=s,this.mask=u,this.fail=p,this.depthFail=_,this.pass=b}}ym.disabled=new ym({func:519,mask:0},0,0,gm,gm,gm);class Du{constructor(r,s,u){this.blendFunction=r,this.blendColor=s,this.mask=u}}Du.Replace=[1,0],Du.disabled=new Du(Du.Replace,xn.transparent,[!1,!1,!1,!1]),Du.unblended=new Du(Du.Replace,xn.transparent,[!0,!0,!0,!0]),Du.alphaBlended=new Du([1,771],xn.transparent,[!0,!0,!0,!0]);const _m=1029,vm=2305;class Ll{constructor(r,s,u){this.enable=r,this.mode=s,this.frontFace=u}}Ll.disabled=new Ll(!1,_m,vm),Ll.backCCW=new Ll(!0,_m,vm),Ll.backCW=new Ll(!0,_m,2304),Ll.frontCW=new Ll(!0,1028,2304),Ll.frontCCW=new Ll(!0,1028,vm);class Yh extends ui{constructor(r,s,u){super(),this.id=r,this._onlySymbols=u,s.on("data",(p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))})),s.on("error",(()=>{this._sourceErrored=!0})),this._source=s,this._tiles={},this._cache=new _D(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=s.minTileCacheSize,this._maxTileCacheSize=s.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new mD,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const s=this._tiles[r];if(s.state!=="loaded"&&s.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,s){return r.isSymbolTile=this._onlySymbols,this._source.loadTile(r,s)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r,(()=>{}))}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r,(()=>{}))}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const s in this._tiles){const u=this._tiles[s];u.upload(r),u.prepare(this.map.style.imageManager)}}getIds(){return At(this._tiles).map((r=>r.tileID)).sort(Kv).map((r=>r.key))}getRenderableIds(r){const s=[];for(const u in this._tiles)this._isIdRenderable(+u,r)&&s.push(this._tiles[u]);return r?s.sort(((u,p)=>{const _=u.tileID,b=p.tileID,E=new Ee(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),A=new Ee(b.canonical.x,b.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-b.overscaledZ||A.y-E.y||A.x-E.x})).map((u=>u.tileID.key)):s.map((u=>u.tileID)).sort(Kv).map((u=>u.key))}hasRenderableParent(r){const s=this.findLoadedParent(r,0);return!!s&&this._isIdRenderable(s.tileID.key)}_isIdRenderable(r,s){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(s||!this._tiles[r].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,s){const u=this._tiles[r];u&&(u.state!=="loading"&&(u.state=s),this._loadTile(u,this._tileLoaded.bind(this,u,r,s)))}_tileLoaded(r,s,u,p){if(p)if(r.state="errored",p.status!==404)this._source.fire(new en(p,{tile:r}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const _=this.map.painter.terrain;this.update(this.transform,_.getScaledDemTileSize(),!0),_.resetTileLookupCache(this.id)}else this.update(this.transform);else r.timeAdded=ki.now(),u==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(s,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new qr("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const s=this.getRenderableIds();for(let p=0;p<s.length;p++){const _=s[p];if(r.neighboringTiles&&r.neighboringTiles[_]){const b=this.getTileByID(_);u(r,b),u(b,r)}}function u(p,_){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let b=_.tileID.canonical.x-p.tileID.canonical.x;const E=_.tileID.canonical.y-p.tileID.canonical.y,A=Math.pow(2,p.tileID.canonical.z),I=_.tileID.key;b===0&&E===0||Math.abs(E)>1||(Math.abs(b)>1&&(Math.abs(b+A)===1?b+=A:Math.abs(b-A)===1&&(b-=A)),_.dem&&p.dem&&(p.dem.backfillBorder(_.dem,b,E),p.neighboringTiles&&p.neighboringTiles[I]&&(p.neighboringTiles[I].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,s,u,p){for(const _ in this._tiles){let b=this._tiles[_];if(p[_]||!b.hasData()||b.tileID.overscaledZ<=s||b.tileID.overscaledZ>u)continue;let E=b.tileID;for(;b&&b.tileID.overscaledZ>s+1;){const I=b.tileID.scaledTo(b.tileID.overscaledZ-1);b=this._tiles[I.key],b&&b.hasData()&&(E=I)}let A=E;for(;A.overscaledZ>s;)if(A=A.scaledTo(A.overscaledZ-1),r[A.key]){p[E.key]=E;break}}}findLoadedParent(r,s){if(r.key in this._loadedParentTiles){const u=this._loadedParentTiles[r.key];return u&&u.tileID.overscaledZ>=s?u:null}for(let u=r.overscaledZ-1;u>=s;u--){const p=r.scaledTo(u),_=this._getLoadedTile(p);if(_)return _}}_getLoadedTile(r){const s=this._tiles[r.key];return s&&s.hasData()?s:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,s){s=s||this._source.tileSize;const u=Math.ceil(r.width/s)+1,p=Math.ceil(r.height/s)+1,_=Math.floor(u*p*5),b=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,_):_,E=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,b):b;this._cache.setMaxSize(E)}handleWrapJump(r){const s=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,s){const u={};for(const p in this._tiles){const _=this._tiles[p];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+s),u[_.tileID.key]=_}this._tiles=u;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(r,s,u){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!u)return;let p;this.updateCacheSize(r,s),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=r.getVisibleUnwrappedCoordinates(this._source.tileID).map((E=>new sa(E.canonical.z,E.wrap,E.canonical.z,E.canonical.x,E.canonical.y))):(p=r.coveringTiles({tileSize:s||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!u,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter((E=>this._source.hasTile(E))))):p=[];const _=this._updateRetainedTiles(p);if(Yv(this._source.type)&&p.length!==0){const E={},A={},I=Object.keys(_);for(const F of I){const N=_[F],H=this._tiles[F];if(!H||H.fadeEndTime&&H.fadeEndTime<=ki.now())continue;const Z=this.findLoadedParent(N,Math.max(N.overscaledZ-Yh.maxOverzooming,this._source.minzoom));Z&&(this._addTile(Z.tileID),E[Z.tileID.key]=Z.tileID),A[F]=N}const R=p[p.length-1].overscaledZ;for(const F in this._tiles){const N=this._tiles[F];if(_[F]||!N.hasData())continue;let H=N.tileID;for(;H.overscaledZ>R;){H=H.scaledTo(H.overscaledZ-1);const Z=this._tiles[H.key];if(Z&&Z.hasData()&&A[H.key]){_[F]=N.tileID;break}}}for(const F in E)_[F]||(this._coveredTiles[F]=!0,_[F]=E[F])}for(const E in _)this._tiles[E].clearFadeHold();const b=(function(E,A){const I=[];for(const R in E)R in A||I.push(R);return I})(this._tiles,_);for(const E of b){const A=this._tiles[E];A.hasSymbolBuckets&&!A.holdingForFade()?A.setHoldDuration(this.map._fadeDuration):A.hasSymbolBuckets&&!A.symbolFadeFinished()||this._removeTile(+E)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const s={};if(r.length===0)return s;const u={},p=r.reduce(((I,R)=>Math.min(I,R.overscaledZ)),1/0),_=r[0].overscaledZ,b=Math.max(_-Yh.maxOverzooming,this._source.minzoom),E=Math.max(_+Yh.maxUnderzooming,this._source.minzoom),A={};for(const I of r){const R=this._addTile(I);s[I.key]=I,R.hasData()||p<this._source.maxzoom&&(A[I.key]=I)}this._retainLoadedChildren(A,p,E,s);for(const I of r){let R=this._tiles[I.key];if(R.hasData())continue;if(I.canonical.z>=this._source.maxzoom){const N=I.children(this._source.maxzoom)[0],H=this.getTile(N);if(H&&H.hasData()){s[N.key]=N;continue}}else{const N=I.children(this._source.maxzoom);if(s[N[0].key]&&s[N[1].key]&&s[N[2].key]&&s[N[3].key])continue}let F=R.wasRequested();for(let N=I.overscaledZ-1;N>=b;--N){const H=I.scaledTo(N);if(u[H.key]||(u[H.key]=!0,R=this.getTile(H),!R&&F&&(R=this._addTile(H)),R&&(s[H.key]=H,F=R.wasRequested(),R.hasData())))break}}return s}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const s=[];let u,p=this._tiles[r].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){u=this._loadedParentTiles[p.key];break}s.push(p.key);const _=p.scaledTo(p.overscaledZ-1);if(u=this._getLoadedTile(_),u)break;p=_}for(const _ of s)this._loadedParentTiles[_]=u}}_addTile(r){let s=this._tiles[r.key];if(s)return s;s=this._cache.getAndRemove(r),s&&(this._setTileReloadTimer(r.key,s),s.tileID=r,this._state.initializeTileState(s,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,s)));const u=!!s;if(!u){const p=this.map?this.map.painter:null;s=new mm(r,this._source.tileSize*r.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(s,this._tileLoaded.bind(this,s,r.key,s.state))}return s?(s.uses++,this._tiles[r.key]=s,u||this._source.fire(new qr("dataloading",{tile:s,coord:s.tileID,dataType:"source"})),s):null}_setTileReloadTimer(r,s){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const u=s.getExpiryTimeout();u&&(this._timers[r]=setTimeout((()=>{this._reloadTile(r,"expired"),delete this._timers[r]}),u))}_removeTile(r){const s=this._tiles[r];s&&(s.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),s.uses>0||(s.hasData()&&s.state!=="reloading"?this._cache.add(s.tileID,s,s.getExpiryTimeout()):(s.aborted=!0,this._abortTile(s),this._unloadTile(s))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,s,u){const p=[],_=this.transform;if(!_)return p;const b=_.projection.name==="globe",E=Cn(_.center.lng);for(const A in this._tiles){const I=this._tiles[A];if(u&&I.clearQueryDebugViz(),I.holdingForFade())continue;let R;if(b){const F=I.tileID.canonical;if(F.z===0){const N=[Math.abs($e(E,...bp(F,-1))-E),Math.abs($e(E,...bp(F,1))-E)];R=[0,2*N.indexOf(Math.min(...N))-1]}else{const N=[Math.abs($e(E,...bp(F,-1))-E),Math.abs($e(E,...bp(F,0))-E),Math.abs($e(E,...bp(F,1))-E)];R=[N.indexOf(Math.min(...N))-1]}}else R=[0];for(const F of R){const N=r.containsTile(I,_,s,F);N&&p.push(N)}}return p}getVisibleCoordinates(r){const s=this.getRenderableIds(r).map((u=>this._tiles[u].tileID));for(const u of s)u.projMatrix=this.transform.calculateProjMatrix(u.toUnwrapped());return s}hasTransition(){if(this._source.hasTransition())return!0;if(Yv(this._source.type))for(const r in this._tiles){const s=this._tiles[r];if(s.fadeEndTime!==void 0&&s.fadeEndTime>=ki.now())return!0}return!1}setFeatureState(r,s,u){this._state.updateState(r=r||"_geojsonTileLayer",s,u)}removeFeatureState(r,s,u){this._state.removeFeatureState(r=r||"_geojsonTileLayer",s,u)}getFeatureState(r,s){return this._state.getState(r=r||"_geojsonTileLayer",s)}setDependencies(r,s,u){const p=this._tiles[r];p&&p.setDependencies(s,u)}reloadTilesForDependencies(r,s){for(const u in this._tiles)this._tiles[u].hasDependency(r,s)&&this._reloadTile(+u,"reloading");this._cache.filter((u=>!u.hasDependency(r,s)))}_preloadTiles(r,s){if(!this._sourceLoaded){const E=()=>{this._sourceLoaded&&(this._source.off("data",E),this._preloadTiles(r,s))};return void this._source.on("data",E)}const u=new Map,p=Array.isArray(r)?r:[r],_=this.map.painter.terrain,b=this.usedForTerrain&&_?_.getScaledDemTileSize():this._source.tileSize;for(const E of p){const A=E.coveringTiles({tileSize:b,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const I of A)u.set(I.key,I);this.usedForTerrain&&E.updateElevation(!1)}We(Array.from(u.values()),((E,A)=>{const I=new mm(E,this._source.tileSize*E.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(I,(R=>{this._source.type==="raster-dem"&&I.dem&&this._backfillDEM(I),A(R,I)}))}),s)}}function Kv(o,r){const s=Math.abs(2*o.wrap)-+(o.wrap<0),u=Math.abs(2*r.wrap)-+(r.wrap<0);return o.overscaledZ-r.overscaledZ||u-s||r.canonical.y-o.canonical.y||r.canonical.x-o.canonical.x}function Yv(o){return o==="raster"||o==="image"||o==="video"||o==="custom"}function bp(o,r){const s=1<<o.z;return[o.x/s+r,(o.x+1)/s+r]}Yh.maxOverzooming=10,Yh.maxUnderzooming=3;class O5{constructor(r,s,u){this._demTile=r,this._dem=this._demTile.dem,this._scale=s,this._offset=u}static create(r,s,u){const p=u||r.findDEMTileFor(s);if(!p||!p.dem)return;const _=p.dem,b=p.tileID,E=1<<s.canonical.z-b.canonical.z;return new O5(p,p.tileSize/ur/E,[(s.canonical.x/E-b.canonical.x)*_.dim,(s.canonical.y/E-b.canonical.y)*_.dim])}tileCoordToPixel(r,s){const u=s*this._scale+this._offset[1],p=Math.floor(r*this._scale+this._offset[0]),_=Math.floor(u);return new Ee(p,_)}getElevationAt(r,s,u,p){const _=r*this._scale+this._offset[0],b=s*this._scale+this._offset[1],E=Math.floor(_),A=Math.floor(b),I=this._dem;return p=!!p,u?Xr(Xr(I.get(E,A,p),I.get(E,A+1,p),b-A),Xr(I.get(E+1,A,p),I.get(E+1,A+1,p),b-A),_-E):I.get(E,A,p)}getElevationAtPixel(r,s,u){return this._dem.get(r,s,!!u)}getMeterToDEM(r){return(1<<this._demTile.tileID.canonical.z)*fi(1,r)*this._dem.stride}}class Jv{constructor(r,s){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new Va(ur,16,0),this.featureIndexArray=new ni,this.promoteId=s}insert(r,s,u,p,_,b=0){const E=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,p,_,b);const A=this.grid;for(let I=0;I<s.length;I++){const R=s[I],F=[1/0,1/0,-1/0,-1/0];for(let N=0;N<R.length;N++){const H=R[N];F[0]=Math.min(F[0],H.x),F[1]=Math.min(F[1],H.y),F[2]=Math.max(F[2],H.x),F[3]=Math.max(F[3],H.y)}F[0]<ur&&F[1]<ur&&F[2]>=0&&F[3]>=0&&A.insert(E,F[0],F[1],F[2],F[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new vr(new y5(this.rawTileData)).layers,this.sourceLayerCoder=new Bv(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const r in this.vtLayers)this.vtFeatures[r]=[]}return this.vtLayers}query(r,s,u,p){this.loadVTLayers();const _=r.params||{},b=fu(_.filter),E=r.tileResult,A=r.transform,I=E.bufferedTilespaceBounds,R=this.grid.query(I.min.x,I.min.y,I.max.x,I.max.y,((Z,J,ue,me)=>s5(E.bufferedTilespaceGeometry,Z,J,ue,me)));R.sort(vD);let F=null;A.elevation&&R.length>0&&(F=O5.create(A.elevation,this.tileID));const N={};let H;for(let Z=0;Z<R.length;Z++){const J=R[Z];if(J===H)continue;H=J;const ue=this.featureIndexArray.get(J);let me=null;this.loadMatchingFeature(N,ue,b,_.layers,_.availableImages,s,u,p,((Ie,ye,Me,Re=0)=>(me||(me=Eo(Ie,this.tileID.canonical,r.tileTransform)),ye.queryIntersectsFeature(E,Ie,Me,me,this.z,r.transform,r.pixelPosMatrix,F,Re))))}return N}loadMatchingFeature(r,s,u,p,_,b,E,A,I){const{featureIndex:R,bucketIndex:F,sourceLayerIndex:N,layoutVertexArrayOffset:H}=s,Z=this.bucketLayerIDs[F];if(p&&!(function(Ie,ye){for(let Me=0;Me<Ie.length;Me++)if(ye.indexOf(Ie[Me])>=0)return!0;return!1})(p,Z))return;const J=this.sourceLayerCoder.decode(N),ue=this.vtLayers[J].feature(R);if(u.needGeometry){const Ie=Ys(ue,!0);if(!u.filter(new z(this.tileID.overscaledZ),Ie,this.tileID.canonical))return}else if(!u.filter(new z(this.tileID.overscaledZ),ue))return;const me=this.getId(ue,J);for(let Ie=0;Ie<Z.length;Ie++){const ye=Z[Ie];if(p&&p.indexOf(ye)<0)continue;const Me=b[ye];if(!Me)continue;let Re={};me!==void 0&&A&&(Re=A.getState(Me.sourceLayer||"_geojsonTileLayer",me));const Le=zt({},E[ye]);Le.paint=Qv(Le.paint,Me.paint,ue,Re,_),Le.layout=Qv(Le.layout,Me.layout,ue,Re,_);const lt=!I||I(ue,Me,Re,H);if(!lt)continue;const it=new Fv(ue,this.z,this.x,this.y,me);it.layer=Le;let bt=r[ye];bt===void 0&&(bt=r[ye]=[]),bt.push({featureIndex:R,feature:it,intersectionZ:lt})}}lookupSymbolFeatures(r,s,u,p,_,b,E,A){const I={};this.loadVTLayers();const R=fu(_);for(const F of r)this.loadMatchingFeature(I,{bucketIndex:u,sourceLayerIndex:p,featureIndex:F,layoutVertexArrayOffset:0},R,b,E,A,s);return I}loadFeature(r){const{featureIndex:s,sourceLayerIndex:u}=r;this.loadVTLayers();const p=this.sourceLayerCoder.decode(u),_=this.vtFeatures[p];if(_[s])return _[s];const b=this.vtLayers[p].feature(s);return _[s]=b,b}hasLayer(r){for(const s of this.bucketLayerIDs)for(const u of s)if(r===u)return!0;return!1}getId(r,s){let u=r.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[s];p!=null&&(u=r.properties[p]),typeof u=="boolean"&&(u=Number(u))}return u}}function Qv(o,r,s,u,p){return dt(o,((_,b)=>{const E=r instanceof pe?r.get(b):null;return E&&E.evaluate?E.evaluate(s,u,p):E}))}function vD(o,r){return r-o}Zt(Jv,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class ex{constructor(r,s){this.width=r,this.height=s,this.nextRow=0,this.image=new aa({width:r,height:s}),this.positions={},this.uploaded=!1}getDash(r,s){const u=this.getKey(r,s);return this.positions[u]}trim(){const r=this.width,s=this.height=yr(this.nextRow);this.image.resize({width:r,height:s})}getKey(r,s){return r.join(",")+s}getDashRanges(r,s,u){const p=[];let _=r.length%2==1?-r[r.length-1]*u:0,b=r[0]*u,E=!0;p.push({left:_,right:b,isDash:E,zeroLength:r[0]===0});let A=r[0];for(let I=1;I<r.length;I++){E=!E;const R=r[I];_=A*u,A+=R,b=A*u,p.push({left:_,right:b,isDash:E,zeroLength:R===0})}return p}addRoundDash(r,s,u){const p=s/2;for(let _=-u;_<=u;_++){const b=this.width*(this.nextRow+u+_);let E=0,A=r[E];for(let I=0;I<this.width;I++){I/A.right>1&&(A=r[++E]);const R=Math.abs(I-A.left),F=Math.abs(I-A.right),N=Math.min(R,F);let H;const Z=_/u*(p+1);if(A.isDash){const J=p-Math.abs(Z);H=Math.sqrt(N*N+J*J)}else H=p-Math.sqrt(N*N+Z*Z);this.image.data[b+I]=Math.max(0,Math.min(255,H+128))}}}addRegularDash(r,s){for(let A=r.length-1;A>=0;--A){const I=r[A],R=r[A+1];I.zeroLength?r.splice(A,1):R&&R.isDash===I.isDash&&(R.left=I.left,r.splice(A,1))}const u=r[0],p=r[r.length-1];u.isDash===p.isDash&&(u.left=p.left-this.width,p.right=u.right+this.width);const _=this.width*this.nextRow;let b=0,E=r[b];for(let A=0;A<this.width;A++){A/E.right>1&&(E=r[++b]);const I=Math.abs(A-E.left),R=Math.abs(A-E.right),F=Math.min(I,R);this.image.data[_+A]=Math.max(0,Math.min(255,(E.isDash?F:-F)+s+128))}}addDash(r,s){const u=this.getKey(r,s);if(this.positions[u])return this.positions[u];const p=s==="round",_=p?7:0,b=2*_+1;if(this.nextRow+b>this.height)return Sr("LineAtlas out of space"),null;r.length===0&&r.push(1);let E=0;for(let R=0;R<r.length;R++)r[R]<0&&(Sr("Negative value is found in line dasharray, replacing values with 0"),r[R]=0),E+=r[R];if(E!==0){const R=this.width/E,F=this.getDashRanges(r,this.width,R);p?this.addRoundDash(F,R,_):this.addRegularDash(F,s==="square"?.5*R:0)}const A=this.nextRow+_;this.nextRow+=b;const I={tl:[A,_],br:[E,0]};return this.positions[u]=I,I}}Zt(ex,"LineAtlas");const tx=1*Dl;class rx{constructor(r){const s={},u=[];for(const E in r){const A=r[E],I=s[E]={};for(const R in A.glyphs){const F=A.glyphs[+R];if(!F||F.bitmap.width===0||F.bitmap.height===0)continue;const N=F.metrics.localGlyph?tx:1,H={x:0,y:0,w:F.bitmap.width+2*N,h:F.bitmap.height+2*N};u.push(H),I[R]=H}}const{w:p,h:_}=nm(u),b=new aa({width:p||1,height:_||1});for(const E in r){const A=r[E];for(const I in A.glyphs){const R=A.glyphs[+I];if(!R||R.bitmap.width===0||R.bitmap.height===0)continue;const F=s[E][I],N=R.metrics.localGlyph?tx:1;aa.copy(R.bitmap,b,{x:0,y:0},{x:F.x+N,y:F.y+N},R.bitmap)}}this.image=b,this.positions=s}}Zt(rx,"GlyphAtlas");class xD{constructor(r){this.tileID=new sa(r.tileID.overscaledZ,r.tileID.wrap,r.tileID.canonical.z,r.tileID.canonical.x,r.tileID.canonical.y),this.tileZoom=r.tileZoom,this.uid=r.uid,this.zoom=r.zoom,this.canonical=r.tileID.canonical,this.pixelRatio=r.pixelRatio,this.tileSize=r.tileSize,this.source=r.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=r.showCollisionBoxes,this.collectResourceTiming=!!r.collectResourceTiming,this.returnDependencies=!!r.returnDependencies,this.promoteId=r.promoteId,this.enableTerrain=!!r.enableTerrain,this.isSymbolTile=r.isSymbolTile,this.tileTransform=Kh(r.tileID.canonical,r.projection),this.projection=r.projection}parse(r,s,u,p,_){this.status="parsing",this.data=r,this.collisionBoxArray=new pn;const b=new Bv(Object.keys(r.layers).sort()),E=new Jv(this.tileID,this.promoteId);E.bucketLayerIDs=[];const A={},I=new ex(256,256),R={featureIndex:E,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:I,availableImages:u},F=s.familiesBySource[this.source];for(const Re in F){const Le=r.layers[Re];if(!Le)continue;let lt=!1,it=!1;for(const ht of F[Re])ht[0].type==="symbol"?lt=!0:it=!0;if(this.isSymbolTile===!0&&!lt||this.isSymbolTile===!1&&!it)continue;Le.version===1&&Sr(`Vector tile source "${this.source}" layer "${Re}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const bt=b.encode(Re),Lt=[];for(let ht=0;ht<Le.length;ht++){const wt=Le.feature(ht),St=E.getId(wt,Re);Lt.push({feature:wt,id:St,index:ht,sourceLayerIndex:bt})}for(const ht of F[Re]){const wt=ht[0];this.isSymbolTile!==void 0&&wt.type==="symbol"!==this.isSymbolTile||wt.minzoom&&this.zoom<Math.floor(wt.minzoom)||wt.maxzoom&&this.zoom>=wt.maxzoom||wt.visibility!=="none"&&(xm(ht,this.zoom,u),(A[wt.id]=wt.createBucket({index:E.bucketLayerIDs.length,layers:ht,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:bt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:u})).populate(Lt,R,this.tileID.canonical,this.tileTransform),E.bucketLayerIDs.push(ht.map((St=>St.id))))}}let N,H,Z,J;I.trim();const ue={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},me=()=>{if(N)return _(N);if(H&&Z&&J){const Re=new rx(H),Le=new uv(Z,J);for(const lt in A){const it=A[lt];it instanceof I1?(xm(it.layers,this.zoom,u),Wk(it,H,Re.positions,Z,Le.iconPositions,this.showCollisionBoxes,u,this.tileID.canonical,this.tileZoom,this.projection)):it.hasPattern&&(it instanceof p5||it instanceof T||it instanceof up)&&(xm(it.layers,this.zoom,u),it.addFeatures(R,this.tileID.canonical,Le.patternPositions,u,this.tileTransform))}this.status="done",_(null,{buckets:At(A).filter((lt=>!lt.isEmpty())),featureIndex:E,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Re.image,lineAtlas:I,imageAtlas:Le,glyphMap:this.returnDependencies?H:null,iconMap:this.returnDependencies?Z:null,glyphPositions:this.returnDependencies?Re.positions:null})}},Ie=dt(R.glyphDependencies,(Re=>Object.keys(Re).map(Number)));Object.keys(Ie).length?p.send("getGlyphs",{uid:this.uid,stacks:Ie},((Re,Le)=>{N||(N=Re,H=Le,me())}),void 0,!1,ue):H={};const ye=Object.keys(R.iconDependencies);ye.length?p.send("getImages",{icons:ye,source:this.source,tileID:this.tileID,type:"icons"},((Re,Le)=>{N||(N=Re,Z=Le,me())}),void 0,!1,ue):Z={};const Me=Object.keys(R.patternDependencies);Me.length?p.send("getImages",{icons:Me,source:this.source,tileID:this.tileID,type:"patterns"},((Re,Le)=>{N||(N=Re,J=Le,me())}),void 0,!1,ue):J={},me()}}function xm(o,r,s){const u=new z(r);for(const p of o)p.recalculate(u,s)}class nx{constructor(r){this.entries={},this.scheduler=r}request(r,s,u,p){const _=this.entries[r]=this.entries[r]||{callbacks:[]};if(_.result){const[b,E]=_.result;return this.scheduler?this.scheduler.add((()=>{p(b,E)}),s):p(b,E),()=>{}}return _.callbacks.push(p),_.cancel||(_.cancel=u(((b,E)=>{_.result=[b,E];for(const A of _.callbacks)this.scheduler?this.scheduler.add((()=>{A(b,E)}),s):A(b,E);setTimeout((()=>delete this.entries[r]),3e3)}))),()=>{_.result||(_.callbacks=_.callbacks.filter((b=>b!==p)),_.callbacks.length||(_.cancel(),delete this.entries[r]))}}}function ix(o,r,s){const u=JSON.stringify(o.request);return o.data&&(this.deduped.entries[u]={result:[null,o.data]}),this.deduped.request(u,{type:"parseTile",isSymbolTile:o.isSymbolTile,zoom:o.tileZoom},(p=>{const _=ya(o.request,((b,E,A,I)=>{b?p(b):E&&p(null,{vectorTile:s?void 0:new vr(new y5(E)),rawData:E,cacheControl:A,expires:I})}));return()=>{_.cancel(),p()}}),r)}const ox=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class bm{static from(r){if(!(r instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,u]=new Uint8Array(r,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const p=u>>4;if(p!==1)throw new Error(`Got v${p} data when expected v1.`);const _=ox[15&u];if(!_)throw new Error("Unrecognized array type.");const[b]=new Uint16Array(r,2,1),[E]=new Uint32Array(r,4,1);return new bm(E,b,_,r)}constructor(r,s=64,u=Float64Array,p){if(isNaN(r)||r<0)throw new Error(`Unpexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=u,this.IndexArrayType=r<65536?Uint16Array:Uint32Array;const _=ox.indexOf(this.ArrayType),b=2*r*this.ArrayType.BYTES_PER_ELEMENT,E=r*this.IndexArrayType.BYTES_PER_ELEMENT,A=(8-E%8)%8;if(_<0)throw new Error(`Unexpected typed array class: ${u}.`);p&&p instanceof ArrayBuffer?(this.data=p,this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+E+A,2*r),this._pos=2*r,this._finished=!0):(this.data=new ArrayBuffer(8+b+E+A),this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+E+A,2*r),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+_]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=r)}add(r,s){const u=this._pos>>1;return this.ids[u]=u,this.coords[this._pos++]=r,this.coords[this._pos++]=s,u}finish(){const r=this._pos>>1;if(r!==this.numItems)throw new Error(`Added ${r} items when expected ${this.numItems}.`);return wm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(r,s,u,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:b,nodeSize:E}=this,A=[0,_.length-1,0],I=[];for(;A.length;){const R=A.pop()||0,F=A.pop()||0,N=A.pop()||0;if(F-N<=E){for(let ue=N;ue<=F;ue++){const me=b[2*ue],Ie=b[2*ue+1];me>=r&&me<=u&&Ie>=s&&Ie<=p&&I.push(_[ue])}continue}const H=N+F>>1,Z=b[2*H],J=b[2*H+1];Z>=r&&Z<=u&&J>=s&&J<=p&&I.push(_[H]),(R===0?r<=Z:s<=J)&&(A.push(N),A.push(H-1),A.push(1-R)),(R===0?u>=Z:p>=J)&&(A.push(H+1),A.push(F),A.push(1-R))}return I}within(r,s,u){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:p,coords:_,nodeSize:b}=this,E=[0,p.length-1,0],A=[],I=u*u;for(;E.length;){const R=E.pop()||0,F=E.pop()||0,N=E.pop()||0;if(F-N<=b){for(let ue=N;ue<=F;ue++)sx(_[2*ue],_[2*ue+1],r,s)<=I&&A.push(p[ue]);continue}const H=N+F>>1,Z=_[2*H],J=_[2*H+1];sx(Z,J,r,s)<=I&&A.push(p[H]),(R===0?r-u<=Z:s-u<=J)&&(E.push(N),E.push(H-1),E.push(1-R)),(R===0?r+u>=Z:s+u>=J)&&(E.push(H+1),E.push(F),E.push(1-R))}return A}}function wm(o,r,s,u,p,_){if(p-u<=s)return;const b=u+p>>1;ax(o,r,b,u,p,_),wm(o,r,s,u,b-1,1-_),wm(o,r,s,b+1,p,1-_)}function ax(o,r,s,u,p,_){for(;p>u;){if(p-u>600){const I=p-u+1,R=s-u+1,F=Math.log(I),N=.5*Math.exp(2*F/3),H=.5*Math.sqrt(F*N*(I-N)/I)*(R-I/2<0?-1:1);ax(o,r,s,Math.max(u,Math.floor(s-R*N/I+H)),Math.min(p,Math.floor(s+(I-R)*N/I+H)),_)}const b=r[2*s+_];let E=u,A=p;for(wp(o,r,u,s),r[2*p+_]>b&&wp(o,r,u,p);E<A;){for(wp(o,r,E,A),E++,A--;r[2*E+_]<b;)E++;for(;r[2*A+_]>b;)A--}r[2*u+_]===b?wp(o,r,u,A):(A++,wp(o,r,A,p)),A<=s&&(u=A+1),s<=A&&(p=A-1)}}function wp(o,r,s,u){Sm(o,s,u),Sm(r,2*s,2*u),Sm(r,2*s+1,2*u+1)}function Sm(o,r,s){const u=o[r];o[r]=o[s],o[s]=u}function sx(o,r,s,u){const p=o-s,_=r-u;return p*p+_*_}a.ARRAY_TYPE=so,a.AUTH_ERR_MSG=De,a.Aabb=uo,a.Actor=class{constructor(o,r,s){this.target=o,this.parent=r,this.mapId=s,this.callbacks={},this.cancelCallbacks={},cr(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=li()?o:w,this.scheduler=new dD}send(o,r,s,u,p=!1,_){const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);s&&(s.metadata=_,this.callbacks[b]=s);const E=Ii(this.globalScope)?void 0:[];return this.target.postMessage({id:b,type:o,hasCallback:!!s,targetMapId:u,mustQueue:p,sourceMapId:this.mapId,data:Sl(r,E)},E),{cancel:()=>{s&&delete this.callbacks[b],this.target.postMessage({id:b,type:"<cancel>",targetMapId:u,sourceMapId:this.mapId})}}}receive(o){const r=o.data,s=r.id;if(s&&(!r.targetMapId||this.mapId===r.targetMapId))if(r.type==="<cancel>"){const u=this.cancelCallbacks[s];delete this.cancelCallbacks[s],u&&u.cancel()}else if(r.mustQueue||li()){const u=this.callbacks[s];this.cancelCallbacks[s]=this.scheduler.add((()=>this.processTask(s,r)),u&&u.metadata||{type:"message"})}else this.processTask(s,r)}processTask(o,r){if(r.type==="<response>"){const s=this.callbacks[o];delete this.callbacks[o],s&&(r.error?s(Tl(r.error)):s(null,Tl(r.data)))}else{const s=Ii(this.globalScope)?void 0:[],u=r.hasCallback?(_,b)=>{delete this.cancelCallbacks[o],this.target.postMessage({id:o,type:"<response>",sourceMapId:this.mapId,error:_?Sl(_):null,data:Sl(b,s)},s)}:_=>{},p=Tl(r.data);if(this.parent[r.type])this.parent[r.type](r.sourceMapId,p,u);else if(this.parent.getWorkerSource){const _=r.type.split(".");this.parent.getWorkerSource(r.sourceMapId,_[0],p.source)[_[1]](p,u)}else u(new Error(`Could not find function ${r.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.CanonicalTileID=d5,a.Color=xn,a.ColorMode=Du,a.CullFaceMode=Ll,a.DEMData=I5,a.DataConstantProperty=Y,a.DedupedRequest=nx,a.DepthMode=S0,a.EXTENT=ur,a.Elevation=class{isDataAvailableAtPoint(o){const r=this._source();if(this.isUsingMockSource()||!r||o.y<0||o.y>1)return!1;const s=r.getSource().maxzoom,u=1<<s,p=Math.floor(o.x),_=Math.floor((o.x-p)*u),b=Math.floor(o.y*u),E=this.findDEMTileFor(new sa(s,p,s,_,b));return!(!E||!E.dem)}getAtPointOrZero(o,r=0){return this.getAtPoint(o,r)||0}getAtPoint(o,r,s=!0){if(this.isUsingMockSource())return null;r==null&&(r=null);const u=this._source();if(!u||o.y<0||o.y>1)return r;const p=u.getSource().maxzoom,_=1<<p,b=Math.floor(o.x),E=o.x-b,A=new sa(p,b,p,Math.floor(E*_),Math.floor(o.y*_)),I=this.findDEMTileFor(A);if(!I||!I.dem)return r;const R=I.dem,F=1<<I.tileID.canonical.z,N=(E*F-I.tileID.canonical.x)*R.dim,H=(o.y*F-I.tileID.canonical.y)*R.dim,Z=Math.floor(N),J=Math.floor(H);return(s?this.exaggeration():1)*Xr(Xr(R.get(Z,J),R.get(Z,J+1),H-J),Xr(R.get(Z+1,J),R.get(Z+1,J+1),H-J),N-Z)}getAtTileOffset(o,r,s){const u=1<<o.canonical.z;return this.getAtPointOrZero(new Eu(o.wrap+(o.canonical.x+r/ur)/u,(o.canonical.y+s/ur)/u))}getAtTileOffsetFunc(o,r,s,u){return p=>{const _=this.getAtTileOffset(o,p.x,p.y),b=u.upVector(o.canonical,p.x,p.y);return qn(b,b,_*u.upVectorScale(o.canonical,r,s).metersToTile),b}}getForTilePoints(o,r,s,u){if(this.isUsingMockSource())return!1;const p=O5.create(this,o,u);return!!p&&(r.forEach((_=>{_[2]=this.exaggeration()*p.getElevationAt(_[0],_[1],s)})),!0)}getMinMaxForTile(o){if(this.isUsingMockSource())return null;const r=this.findDEMTileFor(o);if(!r||!r.dem)return null;const s=r.dem.tree,u=r.tileID,p=1<<o.canonical.z-u.canonical.z;let _=o.canonical.x/p-u.canonical.x,b=o.canonical.y/p-u.canonical.y,E=0;for(let A=0;A<o.canonical.z-u.canonical.z&&!s.leaves[E];A++){_*=2,b*=2;const I=2*Math.floor(b)+Math.floor(_);E=s.childOffsets[E]+I,_%=1,b%=1}return{min:this.exaggeration()*s.minimums[E],max:this.exaggeration()*s.maximums[E]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(o,r,s){throw new Error("Pure virtual method called.")}pointCoordinate(o){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(o){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},a.ErrorEvent=en,a.EvaluationParameters=z,a.Event=qr,a.Evented=ui,a.FillExtrusionBucket=up,a.Frustum=Qf,a.FrustumCorners=Lh,a.GLOBE_RADIUS=Xs,a.GLOBE_SCALE_MATCH_LATITUDE=45,a.GLOBE_ZOOM_THRESHOLD_MAX=co,a.GLOBE_ZOOM_THRESHOLD_MIN=yc,a.GlobeSharedBuffers=class{constructor(o){this._createGrid(o),this._createPoles(o)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const o of this._poleSegments)o.destroy();for(const o of this._gridSegments)o.withSkirts.destroy(),o.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const o of this._wireframeSegments)o.destroy()}}_fillGridMeshWithLods(o,r){const s=new Ot,u=new sr,p=[],_=o+1+2,b=r[0]+1,E=r[0]+1+(1+r.length),A=(I,R,F)=>{let N=I===_-1?I-2:I===0?I:I-1;return N+=F?24575:0,[N,R]};for(let I=0;I<_;++I)s.emplaceBack(...A(I,0,!0));for(let I=0;I<b;++I)for(let R=0;R<_;++R)s.emplaceBack(...A(R,I,(R===0||R===_-1)&&!0));for(let I=0;I<r.length;++I){const R=r[I];for(let F=0;F<_;++F)s.emplaceBack(...A(F,R,!0))}for(let I=0;I<r.length;++I){const R=u.length,F=r[I]+1+2,N=new sr;for(let J=0;J<F-1;J++){const ue=J===F-2,me=ue?_*(E-r.length+I-J):_;for(let Ie=0;Ie<_-1;Ie++){const ye=J*_+Ie;J===0||ue||Ie===0||Ie===_-2?(N.emplaceBack(ye+1,ye,ye+me),N.emplaceBack(ye+me,ye+me+1,ye+1)):(u.emplaceBack(ye+1,ye,ye+me),u.emplaceBack(ye+me,ye+me+1,ye+1))}}const H=hi.simpleSegment(0,R,s.length,u.length-R);for(let J=0;J<N.uint16.length;J+=3)u.emplaceBack(N.uint16[J],N.uint16[J+1],N.uint16[J+2]);const Z=hi.simpleSegment(0,R,s.length,u.length-R);p.push({withoutSkirts:H,withSkirts:Z})}return{vertices:s,indices:u,segments:p}}_createGrid(o){const r=this._fillGridMeshWithLods(Ks,Fi);this._gridSegments=r.segments,this._gridBuffer=o.createVertexBuffer(r.vertices,Dh.members),this._gridIndexBuffer=o.createIndexBuffer(r.indices,!0)}_createPoles(o){const r=new sr;for(let p=0;p<=Ks;p++)r.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=o.createIndexBuffer(r,!0);const s=new Qr,u=new Qr;this._poleSegments=[];for(let p=0,_=0;p<yc;p++){const b=360/(1<<p);s.emplaceBack(0,-Xs,0,.5,0),u.emplaceBack(0,-Xs,0,.5,1);for(let E=0;E<=Ks;E++){const A=E/Ks,I=Xr(0,b,A),[R,F,N]=vi(a5,H6,I,Xs);s.emplaceBack(R,F,N,A,0),u.emplaceBack(R,F,N,A,1)}this._poleSegments.push(hi.simpleSegment(_,0,66,64)),_+=66}this._poleNorthVertexBuffer=o.createVertexBuffer(s,kh,!1),this._poleSouthVertexBuffer=o.createVertexBuffer(u,kh,!1)}getGridBuffers(o,r){return[this._gridBuffer,this._gridIndexBuffer,r?this._gridSegments[o].withSkirts:this._gridSegments[o].withoutSkirts]}getPoleBuffers(o){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[o]]}getWirefameBuffers(o,r){if(!this._wireframeSegments){const s=new Yn,u=Ks,p=u+1+2,_=1;this._wireframeSegments=[];for(let b=0,E=0;b<Fi.length;b++){const A=Fi[b];for(let R=_;R<A+_;R++)for(let F=_;F<u+_;F++){const N=R*p+F;s.emplaceBack(N,N+1),s.emplaceBack(N,N+p),s.emplaceBack(N,N+p+1)}const I=A*u*3;this._wireframeSegments.push(hi.simpleSegment(0,E,(A+1)*p,I)),E+=I}this._wireframeIndexBuffer=o.createIndexBuffer(s)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[r]]}},a.GlyphManager=_0,a.ImagePosition=im,a.KDBush=bm,a.LivePerformanceUtils=nn,a.LngLat=pr,a.LngLatBounds=Ml,a.LocalGlyphMode=sm,a.MAX_MERCATOR_LATITUDE=ii,a.MercatorCoordinate=Eu,a.ONE_EM=ho,a.OverscaledTileID=sa,a.PerformanceMarkers=rn,a.Point=Ee,a.Properties=ve,a.RGBAImage=$o,a.Ray=Jf,a.RequestManager=class{constructor(o,r,s){this._transformRequestFn=o,this._customAccessToken=r,this._silenceAuthErrors=!!s,this._createSkuToken()}_createSkuToken(){const o=(function(){let r="";for(let s=0;s<10;s++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",ee,r].join(""),tokenExpiresAt:Date.now()+432e5}})();this._skuToken=o.token,this._skuTokenExpiresAt=o.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(o,r){return this._transformRequestFn&&this._transformRequestFn(o,r)||{url:o}}normalizeStyleURL(o,r){if(!He(o))return o;const s=ge(o);return s.path=`/styles/v1${s.path}`,this._makeAPIURL(s,this._customAccessToken||r)}normalizeGlyphsURL(o,r){if(!He(o))return o;const s=ge(o);return s.path=`/fonts/v1${s.path}`,this._makeAPIURL(s,this._customAccessToken||r)}normalizeSourceURL(o,r,s,u){if(!He(o))return o;const p=ge(o);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),s&&p.params.push(`language=${s}`),u&&p.params.push(`worldview=${u}`),this._makeAPIURL(p,this._customAccessToken||r)}normalizeSpriteURL(o,r,s,u){const p=ge(o);return He(o)?(p.path=`/styles/v1${p.path}/sprite${r}${s}`,this._makeAPIURL(p,this._customAccessToken||u)):(p.path+=`${r}${s}`,xe(p))}normalizeTileURL(o,r,s){if(this._isSkuTokenExpired()&&this._createSkuToken(),o&&!He(o))return o;const u=ge(o);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${r||s&&u.authority!=="raster"&&s===512?"@2x":""}${j.supported?".webp":"$1"}`),u.authority==="raster"?u.path=`/${L.RASTER_URL_PREFIX}${u.path}`:(u.path=u.path.replace(/^.+\/v4\//,"/"),u.path=`/${L.TILE_URL_VERSION}${u.path}`);const p=this._customAccessToken||(function(_){for(const b of _){const E=b.match(/^access_token=(.*)$/);if(E)return E[1]}return null})(u.params)||L.ACCESS_TOKEN;return L.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&u.params.push(`sku=${this._skuToken}`),this._makeAPIURL(u,p)}canonicalizeTileURL(o,r){const s=ge(o);if(!s.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!s.path.match(/\.[\w]+$/))return o;let u="mapbox://";s.path.match(/^\/raster\/v1\//)?u+=`raster/${s.path.replace(`/${L.RASTER_URL_PREFIX}/`,"")}`:u+=`tiles/${s.path.replace(`/${L.TILE_URL_VERSION}/`,"")}`;let p=s.params;return r&&(p=p.filter((_=>!_.match(/^access_token=/)))),p.length&&(u+=`?${p.join("&")}`),u}canonicalizeTileset(o,r){const s=!!r&&He(r),u=[];for(const p of o.tiles||[])rt(p)?u.push(this.canonicalizeTileURL(p,s)):u.push(p);return u}_makeAPIURL(o,r){const s="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",u=ge(L.API_URL);if(o.protocol=u.protocol,o.authority=u.authority,o.protocol==="http"){const p=o.params.indexOf("secure");p>=0&&o.params.splice(p,1)}if(u.path!=="/"&&(o.path=`${u.path}${o.path}`),!L.REQUIRE_ACCESS_TOKEN)return xe(o);if(r=r||L.ACCESS_TOKEN,!this._silenceAuthErrors){if(!r)throw new Error(`An API access token is required to use Mapbox GL. ${s}`);if(r[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${s}`)}return o.params=o.params.filter((p=>p.indexOf("access_token")===-1)),o.params.push(`access_token=${r||""}`),xe(o)}},a.ResourceType=pa,a.SegmentVector=hi,a.SourceCache=Yh,a.StencilMode=ym,a.StructArrayLayout1ui2=Fo,a.StructArrayLayout2f1f2i16=dr,a.StructArrayLayout2i4=Ot,a.StructArrayLayout2ui4=Yn,a.StructArrayLayout3f12=Nr,a.StructArrayLayout3ui6=sr,a.StructArrayLayout4i8=_t,a.StructArrayLayout5f20=Qr,a.Texture=xp,a.Tile=mm,a.Transitionable=X,a.Uniform1f=Ph,a.Uniform1i=class extends Gs{constructor(o){super(o),this.current=0}set(o,r,s){this.fetchUniformLocation(o,r)&&this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))}},a.Uniform2f=class extends Gs{constructor(o){super(o),this.current=[0,0]}set(o,r,s){this.fetchUniformLocation(o,r)&&(s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1])))}},a.Uniform3f=class extends Gs{constructor(o){super(o),this.current=[0,0,0]}set(o,r,s){this.fetchUniformLocation(o,r)&&(s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2])))}},a.Uniform4f=Ld,a.UniformColor=Rd,a.UniformMatrix2f=class extends Gs{constructor(o){super(o),this.current=H3}set(o,r,s){if(this.fetchUniformLocation(o,r)){for(let u=0;u<4;u++)if(s[u]!==this.current[u]){this.current=s,this.gl.uniformMatrix2fv(this.location,!1,s);break}}}},a.UniformMatrix3f=class extends Gs{constructor(o){super(o),this.current=W3}set(o,r,s){if(this.fetchUniformLocation(o,r)){for(let u=0;u<9;u++)if(s[u]!==this.current[u]){this.current=s,this.gl.uniformMatrix3fv(this.location,!1,s);break}}}},a.UniformMatrix4f=class extends Gs{constructor(o){super(o),this.current=G3}set(o,r,s){if(this.fetchUniformLocation(o,r)){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(let u=1;u<16;u++)if(s[u]!==this.current[u]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}}}},a.UnwrappedTileID=Z_,a.ValidationError=Wt,a.VectorTileFeature=Pr,a.VectorTileWorkerSource=class extends ui{constructor(o,r,s,u,p){super(),this.actor=o,this.layerIndex=r,this.availableImages=s,this.loadVectorData=p||ix,this.loading={},this.loaded={},this.deduped=new nx(o.scheduler),this.isSpriteLoaded=u,this.scheduler=o.scheduler}loadTile(o,r){const s=o.uid,u=o&&o.request,p=u&&u.collectResourceTiming,_=this.loading[s]=new xD(o);_.abort=this.loadVectorData(o,((b,E)=>{const A=!this.loading[s];if(delete this.loading[s],A||b||!E)return _.status="done",A||(this.loaded[s]=_),r(b);const I=E.rawData,R={};E.expires&&(R.expires=E.expires),E.cacheControl&&(R.cacheControl=E.cacheControl),_.vectorTile=E.vectorTile||new vr(new y5(I));const F=()=>{_.parse(_.vectorTile,this.layerIndex,this.availableImages,this.actor,((N,H)=>{if(N||!H)return r(N);const Z={};if(p){const J=ts(u);J.length>0&&(Z.resourceTiming=JSON.parse(JSON.stringify(J)))}r(null,zt({rawTileData:I.slice(0)},H,R,Z))}))};this.isSpriteLoaded?F():this.once("isSpriteLoaded",(()=>{this.scheduler?this.scheduler.add(F,{type:"parseTile",isSymbolTile:o.isSymbolTile,zoom:o.tileZoom}):F()})),this.loaded=this.loaded||{},this.loaded[s]=_}))}reloadTile(o,r){const s=this.loaded,u=o.uid,p=this;if(s&&s[u]){const _=s[u];_.showCollisionBoxes=o.showCollisionBoxes,_.enableTerrain=!!o.enableTerrain,_.projection=o.projection,_.tileTransform=Kh(o.tileID.canonical,o.projection);const b=(E,A)=>{const I=_.reloadCallback;I&&(delete _.reloadCallback,_.parse(_.vectorTile,p.layerIndex,this.availableImages,p.actor,I)),r(E,A)};_.status==="parsing"?_.reloadCallback=b:_.status==="done"&&(_.vectorTile?_.parse(_.vectorTile,this.layerIndex,this.availableImages,this.actor,b):b())}}abortTile(o,r){const s=o.uid,u=this.loading[s];u&&(u.abort&&u.abort(),delete this.loading[s]),r()}removeTile(o,r){const s=this.loaded,u=o.uid;s&&s[u]&&delete s[u],r()}},a.WritingMode=vs,a.ZoomDependentExpression=Fs,a.add=Hs,a.addDynamicAttributes=A5,a.adjoint=function(o,r){var s=r[0],u=r[1],p=r[2],_=r[3],b=r[4],E=r[5],A=r[6],I=r[7],R=r[8];return o[0]=b*R-E*I,o[1]=p*I-u*R,o[2]=u*E-p*b,o[3]=E*A-_*R,o[4]=s*R-p*A,o[5]=p*_-s*E,o[6]=_*I-b*A,o[7]=u*A-s*I,o[8]=s*b-u*_,o},a.asyncAll=We,a.bezier=Ue,a.bindAll=cr,a.boundsAttributes=Nv,a.bufferConvexPolygon=function(o,r){const s=[];for(let u=0;u<o.length;u++){const p=Pe(u-1,-1,o.length-1),_=Pe(u+1,-1,o.length-1),b=o[u],E=o[_],A=o[p].sub(b).unit(),I=E.sub(b).unit(),R=I.angleWithSep(A.x,A.y),F=A.add(I).unit().mult(-1*r/Math.sin(R/2));s.push(b.add(F))}return s},a.cacheEntryPossiblyAdded=function(o){io++,io>Ra&&(o.getActor().send("enforceCacheSizeLimit",Ps),io=0)},a.calculateGlobeLabelMatrix=function(o,r){const{x:s,y:u}=o.point,p=ms(s,u,o.worldSize/o._pixelsPerMercatorPixel,0,0);return Cl(p,p,e0(Ia(r)))},a.calculateGlobeMatrix=function(o){const{x:r,y:s}=o.point,{lng:u,lat:p}=o._center;return ms(r,s,o.worldSize,u,p)},a.calculateGlobeMercatorMatrix=function(o){const r=o.pixelsPerMeter,s=r/fi(1,o.center.lat),u=ps(new Float64Array(16));return bu(u,u,[o.point.x,o.point.y,0]),wu(u,u,[s,s,r]),Float32Array.from(u)},a.circumferenceAtLatitude=ji,a.clamp=$e,a.clearTileCache=function(o){if(!Wo())return;const r=w.caches.delete(Wi);o&&r.catch(o).then((()=>o()))},a.clipLine=wv,a.clone=function(o){var r=new so(16);return r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=o[3],r[4]=o[4],r[5]=o[5],r[6]=o[6],r[7]=o[7],r[8]=o[8],r[9]=o[9],r[10]=o[10],r[11]=o[11],r[12]=o[12],r[13]=o[13],r[14]=o[14],r[15]=o[15],r},a.clone$1=Mr,a.collisionCircleLayout=_k,a.config=L,a.conjugate=function(o,r){return o[0]=-r[0],o[1]=-r[1],o[2]=-r[2],o[3]=r[3],o},a.create=function(){var o=new so(16);return so!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},a.create$1=J3,a.createExpression=_n,a.createLayout=Xe,a.createStyleLayer=function(o){return o.type==="custom"?new uD(o):new hD[o.type](o)},a.cross=Hf,a.degToRad=Ge,a.distance=function(o,r){return Math.hypot(r[0]-o[0],r[1]-o[1],r[2]-o[2])},a.div=function(o,r,s){return o[0]=r[0]/s[0],o[1]=r[1]/s[1],o[2]=r[2]/s[2],o},a.dot=Ma,a.earthRadius=Tu,a.ease=ke,a.easeCubicInOut=ze,a.ecefToLatLng=function([o,r,s]){const u=Math.hypot(o,r,s),p=Math.atan2(o,s),_=.5*Math.PI-Math.acos(-r/u);return new pr(Te(p),Te(_))},a.emitValidationErrors=ao,a.endsWith=Cr,a.enforceCacheSizeLimit=function(o){Hi(),Hn&&Hn.then((r=>{r.keys().then((s=>{for(let u=0;u<s.length-o;u++)r.delete(s[u])}))}))},a.evaluateSizeForFeature=m5,a.evaluateSizeForZoom=p0,a.evaluateVariableOffset=Av,a.evented=S,a.exactEquals=function(o,r){return o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]&&o[3]===r[3]},a.exactEquals$1=function(o,r){return o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]},a.exported=ki,a.exported$1=j,a.extend=zt,a.extend$1=Hr,a.fillExtrusionHeightLift=G_,a.filterObject=Zr,a.fromMat4=function(o,r){return o[0]=r[0],o[1]=r[1],o[2]=r[2],o[3]=r[4],o[4]=r[5],o[5]=r[6],o[6]=r[8],o[7]=r[9],o[8]=r[10],o},a.fromQuat=function(o,r){var s=r[0],u=r[1],p=r[2],_=r[3],b=s+s,E=u+u,A=p+p,I=s*b,R=u*b,F=u*E,N=p*b,H=p*E,Z=p*A,J=_*b,ue=_*E,me=_*A;return o[0]=1-F-Z,o[1]=R+me,o[2]=N-ue,o[3]=0,o[4]=R-me,o[5]=1-I-Z,o[6]=H+J,o[7]=0,o[8]=N+ue,o[9]=H-J,o[10]=1-I-F,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},a.fromRotation=function(o,r){var s=Math.sin(r),u=Math.cos(r);return o[0]=u,o[1]=s,o[2]=0,o[3]=-s,o[4]=u,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o},a.fromScaling=Gf,a.furthestTileCorner=function(o){const r=Math.round((o+45+360)%360/90)%4;return Se[r]},a.getAABBPointSquareDist=function(o,r,s){let u=0;for(let p=0;p<2;++p){const _=s?s[p]:0;o[p]>_&&(u+=(o[p]-_)*(o[p]-_)),r[p]<_&&(u+=(_-r[p])*(_-r[p]))}return u},a.getAnchorAlignment=am,a.getAnchorJustification=um,a.getBounds=function(o){let r=1/0,s=1/0,u=-1/0,p=-1/0;for(const _ of o)r=Math.min(r,_.x),s=Math.min(s,_.y),u=Math.max(u,_.x),p=Math.max(p,_.y);return{min:new Ee(r,s),max:new Ee(u,p)}},a.getColumn=gi,a.getDefaultExportFromCjs=oe,a.getGridMatrix=function(o,r,s,u){const p=r.getNorth(),_=r.getSouth(),b=r.getWest(),E=r.getEast(),A=1<<o.z,I=E-b,R=p-_,F=I/Ks,N=-R/Fi[s],H=[0,F,0,N,0,0,p,b,0];if(o.z>0){const Z=180/u;Q3(H,H,[Z/I+1,0,0,0,Z/R+1,0,-.5*Z/F,.5*Z/N,1])}return H[2]=A,H[5]=o.x,H[8]=o.y,H},a.getImage=we,a.getJSON=function(o,r){return ga(zt(o,{type:"json"}),r)},a.getLatitudinalLod=function(o){const r=ii-5;o=$e(o,-r,r)/r*90;const s=Math.pow(Math.abs(Math.sin(Ge(o))),3);return Math.round(s*(Fi.length-1))},a.getMapSessionAPI=Tr,a.getPerformanceMeasurement=ts,a.getProjection=Rv,a.getRTLTextPluginStatus=P,a.getReferrer=Ho,a.getTilePoint=function(o,{x:r,y:s},u=0){return new Ee(((r-u)*o.scale-o.x)*ur,(s*o.scale-o.y)*ur)},a.getTileVec3=function(o,r,s=0){return gc(((r.x-s)*o.scale-o.x)*ur,(r.y*o.scale-o.y)*ur,w1(r.z,r.y))},a.getVideo=function(o,r){const s=w.document.createElement("video");s.muted=!0,s.onloadstart=function(){r(null,s)};for(let u=0;u<o.length;u++){const p=w.document.createElement("source");_a(o[u])||(s.crossOrigin="Anonymous"),p.src=o[u],s.appendChild(p)}return{cancel:()=>{}}},a.globeCenterToScreenPoint=function(o){const r=[0,0,0],s=ps(new Float64Array(16));return Cl(s,o.pixelMatrix,o.globeMatrix),Qn(r,r,s),new Ee(r[0],r[1])},a.globeDenormalizeECEF=e0,a.globeECEFOrigin=function(o,r){const s=[0,0,0];return Qn(s,s,jo(Ia(r.canonical))),Qn(s,s,o),s},a.globeMetersToEcef=v1,a.globeNormalizeECEF=jo,a.globePixelsToTileUnits=function(o,r){return ur/(512*Math.pow(2,o))*zh(Ia(r))},a.globePoleMatrixForTile=function(o,r,s){const u=ps(new Float64Array(16)),p=(r/(1<<o)-.5)*Math.PI*2;return Mh(u,s.globeMatrix,p),Float32Array.from(u)},a.globeTileBounds=Ia,a.globeTiltAtLngLat=Hd,a.globeToMercatorTransition=b1,a.globeUseCustomAntiAliasing=function(o,r,s){const u=b1(s.zoom),p=o.style.map._antialias,_=!!r.extStandardDerivatives,b=r.extStandardDerivativesForceOff||o.terrain&&o.terrain.exaggeration()>0;return u===0&&!p&&!b&&_},a.identity=ps,a.identity$1=Oh,a.invert=Aa,a.isFullscreen=function(){return!!w.document.fullscreenElement||!!w.document.webkitFullscreenElement},a.isLngLatBehindGlobe=t0,a.isMapAuthenticated=function(o){return dn.has(o)},a.isMapboxURL=He,a.isSafariWithAntialiasingBug=function(o){const r=o.navigator?o.navigator.userAgent:null;return!!Ii(o)&&r&&(r.match("Version/15.4")||r.match("Version/15.5")||r.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.latFromMercatorY=ln,a.latLngToECEF=To,a.len=r5,a.length=m1,a.length$1=function(o){return Math.hypot(o[0],o[1],o[2],o[3])},a.lngFromMercatorX=Ki,a.loadVectorTile=ix,a.makeRequest=ga,a.mapValue=function(o,r,s,u,p){return $e((o-r)/(s-r)*(p-u)+u,u,p)},a.mercatorScale=Bh,a.mercatorXfromLng=Cn,a.mercatorYfromLat=Xn,a.mercatorZfromAltitude=fi,a.mul=jd,a.mul$1=t5,a.multiply=Cl,a.multiply$1=Q3,a.multiply$2=Nd,a.nextPowerOfTwo=yr,a.normalize=lo,a.normalize$1=$d,a.normalize$2=Kf,a.number=Xr,a.ortho=function(o,r,s,u,p,_,b){var E=1/(r-s),A=1/(u-p),I=1/(_-b);return o[0]=-2*E,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*A,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*I,o[11]=0,o[12]=(r+s)*E,o[13]=(p+u)*A,o[14]=(b+_)*I,o[15]=1,o},a.pbf=tv,a.perspective=function(o,r,s,u,p){var _,b=1/Math.tan(r/2);return o[0]=b/s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=b,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,p!=null&&p!==1/0?(o[10]=(p+u)*(_=1/(u-p)),o[14]=2*p*u*_):(o[10]=-1,o[14]=-2*u),o},a.pick=function(o,r){const s={};for(let u=0;u<r.length;u++){const p=r[u];p in o&&(s[p]=o[p])}return s},a.plugin=D,a.pointGeometry=be,a.polesInViewport=function(o){const r=ps(new Float64Array(16));Cl(r,o.pixelMatrix,o.globeMatrix);const s=[0,Wa,0],u=[0,ir,0];return Qn(s,s,r),Qn(u,u,r),[s[0]>0&&s[0]<=o.width&&s[1]>0&&s[1]<=o.height&&!t0(o,new pr(o.center.lat,90)),u[0]>0&&u[0]<=o.width&&u[1]>0&&u[1]<=o.height&&!t0(o,new pr(o.center.lat,-90))]},a.polygonContainsPoint=Ol,a.polygonIntersectsBox=s5,a.polygonIntersectsPolygon=n0,a.polygonizeBounds=function(o,r,s=0,u=!0){const p=new Ee(s,s),_=o.sub(p),b=r.add(p),E=[_,new Ee(b.x,_.y),b,new Ee(_.x,b.y)];return u&&E.push(_.clone()),E},a.posAttributes=Dh,a.postMapLoadEvent=Qt,a.postPerformanceEvent=Jt,a.postTurnstileEvent=qt,a.potpack=nm,a.prevPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.floor(Math.log(o)/Math.LN2))},a.radToDeg=Te,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.registerForPluginStateChange=function(o){return o({pluginStatus:g,pluginURL:l}),S.on("pluginStateChange",o),o},a.removeAuthState=function(o){dn.delete(o)},a.renderColorRamp=rp,a.resample=No,a.rotateX=qf,a.rotateX$1=n5,a.rotateY=Mh,a.rotateY$1=Ud,a.rotateZ=function(o,r,s){var u=Math.sin(s),p=Math.cos(s),_=r[0],b=r[1],E=r[2],A=r[3],I=r[4],R=r[5],F=r[6],N=r[7];return r!==o&&(o[8]=r[8],o[9]=r[9],o[10]=r[10],o[11]=r[11],o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o[0]=_*p+I*u,o[1]=b*p+R*u,o[2]=E*p+F*u,o[3]=A*p+N*u,o[4]=I*p-_*u,o[5]=R*p-b*u,o[6]=F*p-E*u,o[7]=N*p-A*u,o},a.rotateZ$1=function(o,r,s){s*=.5;var u=r[0],p=r[1],_=r[2],b=r[3],E=Math.sin(s),A=Math.cos(s);return o[0]=u*A+p*E,o[1]=p*A-u*E,o[2]=_*A+b*E,o[3]=b*A-_*E,o},a.scale=wu,a.scale$1=Xf,a.scale$2=qn,a.scaleAndAdd=g1,a.set=function(o,r,s,u){return o[0]=r,o[1]=s,o[2]=u,o},a.setCacheLimits=function(o,r){Ps=o,Ra=r},a.setColumn=function(o,r,s){o[4*r+0]=s[0],o[4*r+1]=s[1],o[4*r+2]=s[2],o[4*r+3]=s[3]},a.setRTLTextPlugin=function(o,r,s=!1){if(g===Ea||g===fs||g===f1)throw new Error("setRTLTextPlugin cannot be called multiple times.");l=ki.resolveURL(o),g=Ea,Vs=r,v(),s||k()},a.smoothstep=ft,a.spec=gt,a.squaredLength=function(o){var r=o[0],s=o[1],u=o[2];return r*r+s*s+u*u},a.storeAuthState=function(o,r){r?dn.add(o):dn.delete(o)},a.sub=Ca,a.subtract=Wf,a.symbolSize=vk,a.tileAABB=function(o,r,s,u,p,_,b,E,A){if(A.name==="globe")return o5(o,r,new d5(s,u,p));const I=Kh({z:s,x:u,y:p},A);return new uo([(_+I.x/I.scale)*r,r*(I.y/I.scale),b],[(_+I.x2/I.scale)*r,r*(I.y2/I.scale),E])},a.tileCornersToBounds=x1,a.tileTransform=Kh,a.transformMat3=function(o,r,s){var u=r[0],p=r[1],_=r[2];return o[0]=u*s[0]+p*s[3]+_*s[6],o[1]=u*s[1]+p*s[4]+_*s[7],o[2]=u*s[2]+p*s[5]+_*s[8],o},a.transformMat4=Qn,a.transformMat4$1=Su,a.transformQuat=Zf,a.transitionTileAABBinECEF=qd,a.translate=bu,a.transpose=function(o,r){if(o===r){var s=r[1],u=r[2],p=r[5];o[1]=r[3],o[2]=r[6],o[3]=s,o[5]=r[7],o[6]=u,o[7]=p}else o[0]=r[0],o[1]=r[3],o[2]=r[6],o[3]=r[1],o[4]=r[4],o[5]=r[7],o[6]=r[2],o[7]=r[5],o[8]=r[8];return o},a.triggerPluginCompletionEvent=f,a.uniqueId=fr,a.updateGlobeVertexNormal=function(o,r,s,u,p){const _=5*r+2;o.float32[_+0]=s,o.float32[_+1]=u,o.float32[_+2]=p},a.validateCustomStyleLayer=function(o){const r=[],s=o.id;return s===void 0&&r.push({message:`layers.${s}: missing required property "id"`}),o.render===void 0&&r.push({message:`layers.${s}: missing required method "render"`}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&r.push({message:`layers.${s}: property "renderingMode" must be either "2d" or "3d"`}),r},a.validateFilter=o=>Vi(bo(o)),a.validateFog=o=>Vi(cs(o)),a.validateLayer=o=>Vi(Nf(o)),a.validateLight=o=>Vi(c1(o)),a.validateSource=o=>Vi(bl(o)),a.validateStyle=$i,a.validateTerrain=o=>Vi(Ns(o)),a.values=At,a.vectorTile=yt,a.version=M,a.warnOnce=Sr,a.window=w,a.wrap=Pe})),y(["./shared"],(function(a){function w(Ae){if(typeof Ae=="number"||typeof Ae=="boolean"||typeof Ae=="string"||Ae==null)return JSON.stringify(Ae);if(Array.isArray(Ae)){let ae="[";for(const we of Ae)ae+=`${w(we)},`;return`${ae}]`}let ie="{";for(const ae of Object.keys(Ae).sort())ie+=`${ae}:${w(Ae[ae])},`;return`${ie}}`}function M(Ae){let ie="";for(const ae of a.refProperties)ie+=`/${w(Ae[ae])}`;return ie}class C{constructor(ie){this.keyCache={},ie&&this.replace(ie)}replace(ie){this._layerConfigs={},this._layers={},this.update(ie,[])}update(ie,ae){for(const De of ie)this._layerConfigs[De.id]=De,(this._layers[De.id]=a.createStyleLayer(De)).compileFilter(),this.keyCache[De.id]&&delete this.keyCache[De.id];for(const De of ae)delete this.keyCache[De],delete this._layerConfigs[De],delete this._layers[De];this.familiesBySource={};const we=(function(De,He){const rt={};for(let qe=0;qe<De.length;qe++){const ct=He&&He[De[qe].id]||M(De[qe]);He&&(He[De[qe].id]=ct);let kt=rt[ct];kt||(kt=rt[ct]=[]),kt.push(De[qe])}const et=[];for(const qe in rt)et.push(rt[qe]);return et})(a.values(this._layerConfigs),this.keyCache);for(const De of we){const He=De.map((ge=>this._layers[ge.id])),rt=He[0];if(rt.visibility==="none")continue;const et=rt.source||"";let qe=this.familiesBySource[et];qe||(qe=this.familiesBySource[et]={});const ct=rt.sourceLayer||"_geojsonTileLayer";let kt=qe[ct];kt||(kt=qe[ct]=[]),kt.push(He)}}}class L{loadTile(ie,ae){const{uid:we,encoding:De,rawImageData:He,padding:rt,buildQuadTree:et}=ie,qe=a.window.ImageBitmap&&He instanceof a.window.ImageBitmap?this.getImageData(He,rt):He;ae(null,new a.DEMData(we,qe,De,rt<1,et))}getImageData(ie,ae){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ie.width,ie.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=ie.width,this.offscreenCanvas.height=ie.height,this.offscreenCanvasContext.drawImage(ie,0,0,ie.width,ie.height);const we=this.offscreenCanvasContext.getImageData(-ae,-ae,ie.width+2*ae,ie.height+2*ae);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),we}}function j(Ae,ie){if(Ae.length!==0){W(Ae[0],ie);for(var ae=1;ae<Ae.length;ae++)W(Ae[ae],!ie)}}function W(Ae,ie){for(var ae=0,we=0,De=0,He=Ae.length,rt=He-1;De<He;rt=De++){var et=(Ae[De][0]-Ae[rt][0])*(Ae[rt][1]+Ae[De][1]),qe=ae+et;we+=Math.abs(ae)>=Math.abs(et)?ae-qe+et:et-qe+ae,ae=qe}ae+we>=0!=!!ie&&Ae.reverse()}var q=a.getDefaultExportFromCjs((function Ae(ie,ae){var we,De=ie&&ie.type;if(De==="FeatureCollection")for(we=0;we<ie.features.length;we++)Ae(ie.features[we],ae);else if(De==="GeometryCollection")for(we=0;we<ie.geometries.length;we++)Ae(ie.geometries[we],ae);else if(De==="Feature")Ae(ie.geometry,ae);else if(De==="Polygon")j(ie.coordinates,ae);else if(De==="MultiPolygon")for(we=0;we<ie.coordinates.length;we++)j(ie.coordinates[we],ae);return ie}));const U=a.VectorTileFeature.prototype.toGeoJSON;var Q={exports:{}},re=a.pointGeometry,ee=a.vectorTile.VectorTileFeature,oe=K;function K(Ae,ie){this.options=ie||{},this.features=Ae,this.length=Ae.length}function ne(Ae,ie){this.id=typeof Ae.id=="number"?Ae.id:void 0,this.type=Ae.type,this.rawGeometry=Ae.type===1?[Ae.geometry]:Ae.geometry,this.properties=Ae.tags,this.extent=ie||4096}K.prototype.feature=function(Ae){return new ne(this.features[Ae],this.options.extent)},ne.prototype.loadGeometry=function(){var Ae=this.rawGeometry;this.geometry=[];for(var ie=0;ie<Ae.length;ie++){for(var ae=Ae[ie],we=[],De=0;De<ae.length;De++)we.push(new re(ae[De][0],ae[De][1]));this.geometry.push(we)}return this.geometry},ne.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ae=this.geometry,ie=1/0,ae=-1/0,we=1/0,De=-1/0,He=0;He<Ae.length;He++)for(var rt=Ae[He],et=0;et<rt.length;et++){var qe=rt[et];ie=Math.min(ie,qe.x),ae=Math.max(ae,qe.x),we=Math.min(we,qe.y),De=Math.max(De,qe.y)}return[ie,we,ae,De]},ne.prototype.toGeoJSON=ee.prototype.toGeoJSON;var te=a.pbf,be=oe;function Ce(Ae){var ie=new te;return(function(ae,we){for(var De in ae.layers)we.writeMessage(3,Ee,ae.layers[De])})(Ae,ie),ie.finish()}function Ee(Ae,ie){var ae;ie.writeVarintField(15,Ae.version||1),ie.writeStringField(1,Ae.name||""),ie.writeVarintField(5,Ae.extent||4096);var we={keys:[],values:[],keycache:{},valuecache:{}};for(ae=0;ae<Ae.length;ae++)we.feature=Ae.feature(ae),ie.writeMessage(2,je,we);var De=we.keys;for(ae=0;ae<De.length;ae++)ie.writeStringField(3,De[ae]);var He=we.values;for(ae=0;ae<He.length;ae++)ie.writeMessage(4,ze,He[ae])}function je(Ae,ie){var ae=Ae.feature;ae.id!==void 0&&ie.writeVarintField(1,ae.id),ie.writeMessage(2,Ye,Ae),ie.writeVarintField(3,ae.type),ie.writeMessage(4,Se,ae)}function Ye(Ae,ie){var ae=Ae.feature,we=Ae.keys,De=Ae.values,He=Ae.keycache,rt=Ae.valuecache;for(var et in ae.properties){var qe=ae.properties[et],ct=He[et];if(qe!==null){ct===void 0&&(we.push(et),He[et]=ct=we.length-1),ie.writeVarint(ct);var kt=typeof qe;kt!=="string"&&kt!=="boolean"&&kt!=="number"&&(qe=JSON.stringify(qe));var ge=kt+":"+qe,xe=rt[ge];xe===void 0&&(De.push(qe),rt[ge]=xe=De.length-1),ie.writeVarint(xe)}}}function Ge(Ae,ie){return(ie<<3)+(7&Ae)}function Te(Ae){return Ae<<1^Ae>>31}function Se(Ae,ie){for(var ae=Ae.loadGeometry(),we=Ae.type,De=0,He=0,rt=ae.length,et=0;et<rt;et++){var qe=ae[et],ct=1;we===1&&(ct=qe.length),ie.writeVarint(Ge(1,ct));for(var kt=we===3?qe.length-1:qe.length,ge=0;ge<kt;ge++){ge===1&&we!==1&&ie.writeVarint(Ge(2,kt-1));var xe=qe[ge].x-De,Qe=qe[ge].y-He;ie.writeVarint(Te(xe)),ie.writeVarint(Te(Qe)),De+=xe,He+=Qe}we===3&&ie.writeVarint(Ge(7,1))}}function ze(Ae,ie){var ae=typeof Ae;ae==="string"?ie.writeStringField(1,Ae):ae==="boolean"?ie.writeBooleanField(7,Ae):ae==="number"&&(Ae%1!=0?ie.writeDoubleField(3,Ae):Ae<0?ie.writeSVarintField(6,Ae):ie.writeVarintField(5,Ae))}Q.exports=Ce,Q.exports.fromVectorTileJs=Ce,Q.exports.fromGeojsonVt=function(Ae,ie){ie=ie||{};var ae={};for(var we in Ae)ae[we]=new be(Ae[we].features,ie),ae[we].name=we,ae[we].version=ie.version,ae[we].extent=ie.extent;return Ce({layers:ae})},Q.exports.GeoJSONWrapper=be;var Ue=a.getDefaultExportFromCjs(Q.exports);const ke={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ae=>Ae},$e=Math.fround||(ft=new Float32Array(1),Ae=>(ft[0]=+Ae,ft[0]));var ft;const Pe=3,We=5,At=6;class zt{constructor(ie){this.options=Object.assign(Object.create(ke),ie),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ie){const{log:ae,minZoom:we,maxZoom:De}=this.options;ae&&console.time("total time");const He=`prepare ${ie.length} points`;ae&&console.time(He),this.points=ie;const rt=[];for(let qe=0;qe<ie.length;qe++){const ct=ie[qe];if(!ct.geometry)continue;const[kt,ge]=ct.geometry.coordinates,xe=$e(wr(kt)),Qe=$e(yr(ge));rt.push(xe,Qe,1/0,qe,-1,1),this.options.reduce&&rt.push(0)}let et=this.trees[De+1]=this._createTree(rt);ae&&console.timeEnd(He);for(let qe=De;qe>=we;qe--){const ct=+Date.now();et=this.trees[qe]=this._createTree(this._cluster(et,qe)),ae&&console.log("z%d: %d clusters in %dms",qe,et.numItems,+Date.now()-ct)}return ae&&console.timeEnd("total time"),this}getClusters(ie,ae){let we=((ie[0]+180)%360+360)%360-180;const De=Math.max(-90,Math.min(90,ie[1]));let He=ie[2]===180?180:((ie[2]+180)%360+360)%360-180;const rt=Math.max(-90,Math.min(90,ie[3]));if(ie[2]-ie[0]>=360)we=-180,He=180;else if(we>He){const ge=this.getClusters([we,De,180,rt],ae),xe=this.getClusters([-180,De,He,rt],ae);return ge.concat(xe)}const et=this.trees[this._limitZoom(ae)],qe=et.range(wr(we),yr(rt),wr(He),yr(De)),ct=et.data,kt=[];for(const ge of qe){const xe=this.stride*ge;kt.push(ct[xe+We]>1?nr(ct,xe,this.clusterProps):this.points[ct[xe+Pe]])}return kt}getChildren(ie){const ae=this._getOriginId(ie),we=this._getOriginZoom(ie),De="No cluster with the specified id.",He=this.trees[we];if(!He)throw new Error(De);const rt=He.data;if(ae*this.stride>=rt.length)throw new Error(De);const et=this.options.radius/(this.options.extent*Math.pow(2,we-1)),qe=He.within(rt[ae*this.stride],rt[ae*this.stride+1],et),ct=[];for(const kt of qe){const ge=kt*this.stride;rt[ge+4]===ie&&ct.push(rt[ge+We]>1?nr(rt,ge,this.clusterProps):this.points[rt[ge+Pe]])}if(ct.length===0)throw new Error(De);return ct}getLeaves(ie,ae,we){const De=[];return this._appendLeaves(De,ie,ae=ae||10,we=we||0,0),De}getTile(ie,ae,we){const De=this.trees[this._limitZoom(ie)],He=Math.pow(2,ie),{extent:rt,radius:et}=this.options,qe=et/rt,ct=(we-qe)/He,kt=(we+1+qe)/He,ge={features:[]};return this._addTileFeatures(De.range((ae-qe)/He,ct,(ae+1+qe)/He,kt),De.data,ae,we,He,ge),ae===0&&this._addTileFeatures(De.range(1-qe/He,ct,1,kt),De.data,He,we,He,ge),ae===He-1&&this._addTileFeatures(De.range(0,ct,qe/He,kt),De.data,-1,we,He,ge),ge.features.length?ge:null}getClusterExpansionZoom(ie){let ae=this._getOriginZoom(ie)-1;for(;ae<=this.options.maxZoom;){const we=this.getChildren(ie);if(ae++,we.length!==1)break;ie=we[0].properties.cluster_id}return ae}_appendLeaves(ie,ae,we,De,He){const rt=this.getChildren(ae);for(const et of rt){const qe=et.properties;if(qe&&qe.cluster?He+qe.point_count<=De?He+=qe.point_count:He=this._appendLeaves(ie,qe.cluster_id,we,De,He):He<De?He++:ie.push(et),ie.length===we)break}return He}_createTree(ie){const ae=new a.KDBush(ie.length/this.stride|0,this.options.nodeSize,Float32Array);for(let we=0;we<ie.length;we+=this.stride)ae.add(ie[we],ie[we+1]);return ae.finish(),ae.data=ie,ae}_addTileFeatures(ie,ae,we,De,He,rt){for(const et of ie){const qe=et*this.stride,ct=ae[qe+We]>1;let kt,ge,xe;if(ct)kt=fr(ae,qe,this.clusterProps),ge=ae[qe],xe=ae[qe+1];else{const Tt=this.points[ae[qe+Pe]];kt=Tt.properties;const[jt,qt]=Tt.geometry.coordinates;ge=wr(jt),xe=yr(qt)}const Qe={type:1,geometry:[[Math.round(this.options.extent*(ge*He-we)),Math.round(this.options.extent*(xe*He-De))]],tags:kt};let mt;mt=ct||this.options.generateId?ae[qe+Pe]:this.points[ae[qe+Pe]].id,mt!==void 0&&(Qe.id=mt),rt.features.push(Qe)}}_limitZoom(ie){return Math.max(this.options.minZoom,Math.min(Math.floor(+ie),this.options.maxZoom+1))}_cluster(ie,ae){const{radius:we,extent:De,reduce:He,minPoints:rt}=this.options,et=we/(De*Math.pow(2,ae)),qe=ie.data,ct=[],kt=this.stride;for(let ge=0;ge<qe.length;ge+=kt){if(qe[ge+2]<=ae)continue;qe[ge+2]=ae;const xe=qe[ge],Qe=qe[ge+1],mt=ie.within(qe[ge],qe[ge+1],et),Tt=qe[ge+We];let jt=Tt;for(const qt of mt){const Gt=qt*kt;qe[Gt+2]>ae&&(jt+=qe[Gt+We])}if(jt>Tt&&jt>=rt){let qt,Gt=xe*Tt,Qt=Qe*Tt,er=-1;const Jt=((ge/kt|0)<<5)+(ae+1)+this.points.length;for(const Er of mt){const Tr=Er*kt;if(qe[Tr+2]<=ae)continue;qe[Tr+2]=ae;const dn=qe[Tr+We];Gt+=qe[Tr]*dn,Qt+=qe[Tr+1]*dn,qe[Tr+4]=Jt,He&&(qt||(qt=this._map(qe,ge,!0),er=this.clusterProps.length,this.clusterProps.push(qt)),He(qt,this._map(qe,Tr)))}qe[ge+4]=Jt,ct.push(Gt/jt,Qt/jt,1/0,Jt,-1,jt),He&&ct.push(er)}else{for(let qt=0;qt<kt;qt++)ct.push(qe[ge+qt]);if(jt>1)for(const qt of mt){const Gt=qt*kt;if(!(qe[Gt+2]<=ae)){qe[Gt+2]=ae;for(let Qt=0;Qt<kt;Qt++)ct.push(qe[Gt+Qt])}}}}return ct}_getOriginId(ie){return ie-this.points.length>>5}_getOriginZoom(ie){return(ie-this.points.length)%32}_map(ie,ae,we){if(ie[ae+We]>1){const rt=this.clusterProps[ie[ae+At]];return we?Object.assign({},rt):rt}const De=this.points[ie[ae+Pe]].properties,He=this.options.map(De);return we&&He===De?Object.assign({},He):He}}function nr(Ae,ie,ae){return{type:"Feature",id:Ae[ie+Pe],properties:fr(Ae,ie,ae),geometry:{type:"Point",coordinates:[(we=Ae[ie],360*(we-.5)),Nt(Ae[ie+1])]}};var we}function fr(Ae,ie,ae){const we=Ae[ie+We],De=we>=1e4?`${Math.round(we/1e3)}k`:we>=1e3?Math.round(we/100)/10+"k":we,He=Ae[ie+At],rt=He===-1?{}:Object.assign({},ae[He]);return Object.assign(rt,{cluster:!0,cluster_id:Ae[ie+Pe],point_count:we,point_count_abbreviated:De})}function wr(Ae){return Ae/360+.5}function yr(Ae){const ie=Math.sin(Ae*Math.PI/180),ae=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return ae<0?0:ae>1?1:ae}function Nt(Ae){const ie=(180-360*Ae)*Math.PI/180;return 360*Math.atan(Math.exp(ie))/Math.PI-90}function cr(Ae,ie,ae,we){for(var De,He=we,rt=ae-ie>>1,et=ae-ie,qe=Ae[ie],ct=Ae[ie+1],kt=Ae[ae],ge=Ae[ae+1],xe=ie+3;xe<ae;xe+=3){var Qe=Cr(Ae[xe],Ae[xe+1],qe,ct,kt,ge);if(Qe>He)De=xe,He=Qe;else if(Qe===He){var mt=Math.abs(xe-rt);mt<et&&(De=xe,et=mt)}}He>we&&(De-ie>3&&cr(Ae,ie,De,we),Ae[De+2]=He,ae-De>3&&cr(Ae,De,ae,we))}function Cr(Ae,ie,ae,we,De,He){var rt=De-ae,et=He-we;if(rt!==0||et!==0){var qe=((Ae-ae)*rt+(ie-we)*et)/(rt*rt+et*et);qe>1?(ae=De,we=He):qe>0&&(ae+=rt*qe,we+=et*qe)}return(rt=Ae-ae)*rt+(et=ie-we)*et}function dt(Ae,ie,ae,we){var De={id:Ae===void 0?null:Ae,type:ie,geometry:ae,tags:we,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return(function(He){var rt=He.geometry,et=He.type;if(et==="Point"||et==="MultiPoint"||et==="LineString")Zr(He,rt);else if(et==="Polygon"||et==="MultiLineString")for(var qe=0;qe<rt.length;qe++)Zr(He,rt[qe]);else if(et==="MultiPolygon")for(qe=0;qe<rt.length;qe++)for(var ct=0;ct<rt[qe].length;ct++)Zr(He,rt[qe][ct])})(De),De}function Zr(Ae,ie){for(var ae=0;ae<ie.length;ae+=3)Ae.minX=Math.min(Ae.minX,ie[ae]),Ae.minY=Math.min(Ae.minY,ie[ae+1]),Ae.maxX=Math.max(Ae.maxX,ie[ae]),Ae.maxY=Math.max(Ae.maxY,ie[ae+1])}function Mr(Ae,ie,ae,we){if(ie.geometry){var De=ie.geometry.coordinates,He=ie.geometry.type,rt=Math.pow(ae.tolerance/((1<<ae.maxZoom)*ae.extent),2),et=[],qe=ie.id;if(ae.promoteId?qe=ie.properties[ae.promoteId]:ae.generateId&&(qe=we||0),He==="Point")wn(De,et);else if(He==="MultiPoint")for(var ct=0;ct<De.length;ct++)wn(De[ct],et);else if(He==="LineString")Sr(De,et,rt,!1);else if(He==="MultiLineString"){if(ae.lineMetrics){for(ct=0;ct<De.length;ct++)Sr(De[ct],et=[],rt,!1),Ae.push(dt(qe,"LineString",et,ie.properties));return}yn(De,et,rt,!1)}else if(He==="Polygon")yn(De,et,rt,!0);else{if(He!=="MultiPolygon"){if(He==="GeometryCollection"){for(ct=0;ct<ie.geometry.geometries.length;ct++)Mr(Ae,{id:qe,geometry:ie.geometry.geometries[ct],properties:ie.properties},ae,we);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ct=0;ct<De.length;ct++){var kt=[];yn(De[ct],kt,rt,!0),et.push(kt)}}Ae.push(dt(qe,He,et,ie.properties))}}function wn(Ae,ie){ie.push(Gi(Ae[0])),ie.push(li(Ae[1])),ie.push(0)}function Sr(Ae,ie,ae,we){for(var De,He,rt=0,et=0;et<Ae.length;et++){var qe=Gi(Ae[et][0]),ct=li(Ae[et][1]);ie.push(qe),ie.push(ct),ie.push(0),et>0&&(rt+=we?(De*ct-qe*He)/2:Math.sqrt(Math.pow(qe-De,2)+Math.pow(ct-He,2))),De=qe,He=ct}var kt=ie.length-3;ie[2]=1,cr(ie,0,kt,ae),ie[kt+2]=1,ie.size=Math.abs(rt),ie.start=0,ie.end=ie.size}function yn(Ae,ie,ae,we){for(var De=0;De<Ae.length;De++){var He=[];Sr(Ae[De],He,ae,we),ie.push(He)}}function Gi(Ae){return Ae/360+.5}function li(Ae){var ie=Math.sin(Ae*Math.PI/180),ae=.5-.25*Math.log((1+ie)/(1-ie))/Math.PI;return ae<0?0:ae>1?1:ae}function Wn(Ae,ie,ae,we,De,He,rt,et){if(we/=ie,He>=(ae/=ie)&&rt<we)return Ae;if(rt<ae||He>=we)return null;for(var qe=[],ct=0;ct<Ae.length;ct++){var kt=Ae[ct],ge=kt.geometry,xe=kt.type,Qe=De===0?kt.minX:kt.minY,mt=De===0?kt.maxX:kt.maxY;if(Qe>=ae&&mt<we)qe.push(kt);else if(!(mt<ae||Qe>=we)){var Tt=[];if(xe==="Point"||xe==="MultiPoint")mi(ge,Tt,ae,we,De);else if(xe==="LineString")Ii(ge,Tt,ae,we,De,!1,et.lineMetrics);else if(xe==="MultiLineString")gi(ge,Tt,ae,we,De,!1);else if(xe==="Polygon")gi(ge,Tt,ae,we,De,!0);else if(xe==="MultiPolygon")for(var jt=0;jt<ge.length;jt++){var qt=[];gi(ge[jt],qt,ae,we,De,!0),qt.length&&Tt.push(qt)}if(Tt.length){if(et.lineMetrics&&xe==="LineString"){for(jt=0;jt<Tt.length;jt++)qe.push(dt(kt.id,xe,Tt[jt],kt.tags));continue}xe!=="LineString"&&xe!=="MultiLineString"||(Tt.length===1?(xe="LineString",Tt=Tt[0]):xe="MultiLineString"),xe!=="Point"&&xe!=="MultiPoint"||(xe=Tt.length===3?"Point":"MultiPoint"),qe.push(dt(kt.id,xe,Tt,kt.tags))}}}return qe.length?qe:null}function mi(Ae,ie,ae,we,De){for(var He=0;He<Ae.length;He+=3){var rt=Ae[He+De];rt>=ae&&rt<=we&&(ie.push(Ae[He]),ie.push(Ae[He+1]),ie.push(Ae[He+2]))}}function Ii(Ae,ie,ae,we,De,He,rt){for(var et,qe,ct=Go(Ae),kt=De===0?Ps:Ra,ge=Ae.start,xe=0;xe<Ae.length-3;xe+=3){var Qe=Ae[xe],mt=Ae[xe+1],Tt=Ae[xe+2],jt=Ae[xe+3],qt=Ae[xe+4],Gt=De===0?Qe:mt,Qt=De===0?jt:qt,er=!1;rt&&(et=Math.sqrt(Math.pow(Qe-jt,2)+Math.pow(mt-qt,2))),Gt<ae?Qt>ae&&(qe=kt(ct,Qe,mt,jt,qt,ae),rt&&(ct.start=ge+et*qe)):Gt>we?Qt<we&&(qe=kt(ct,Qe,mt,jt,qt,we),rt&&(ct.start=ge+et*qe)):Wi(ct,Qe,mt,Tt),Qt<ae&&Gt>=ae&&(qe=kt(ct,Qe,mt,jt,qt,ae),er=!0),Qt>we&&Gt<=we&&(qe=kt(ct,Qe,mt,jt,qt,we),er=!0),!He&&er&&(rt&&(ct.end=ge+et*qe),ie.push(ct),ct=Go(Ae)),rt&&(ge+=et)}var Jt=Ae.length-3;Qe=Ae[Jt],mt=Ae[Jt+1],Tt=Ae[Jt+2],(Gt=De===0?Qe:mt)>=ae&&Gt<=we&&Wi(ct,Qe,mt,Tt),Jt=ct.length-3,He&&Jt>=3&&(ct[Jt]!==ct[0]||ct[Jt+1]!==ct[1])&&Wi(ct,ct[0],ct[1],ct[2]),ct.length&&ie.push(ct)}function Go(Ae){var ie=[];return ie.size=Ae.size,ie.start=Ae.start,ie.end=Ae.end,ie}function gi(Ae,ie,ae,we,De,He){for(var rt=0;rt<Ae.length;rt++)Ii(Ae[rt],ie,ae,we,De,He,!1)}function Wi(Ae,ie,ae,we){Ae.push(ie),Ae.push(ae),Ae.push(we)}function Ps(Ae,ie,ae,we,De,He){var rt=(He-ie)/(we-ie);return Ae.push(He),Ae.push(ae+(De-ae)*rt),Ae.push(1),rt}function Ra(Ae,ie,ae,we,De,He){var rt=(He-ae)/(De-ae);return Ae.push(ie+(we-ie)*rt),Ae.push(He),Ae.push(1),rt}function Hn(Ae,ie){for(var ae=[],we=0;we<Ae.length;we++){var De,He=Ae[we],rt=He.type;if(rt==="Point"||rt==="MultiPoint"||rt==="LineString")De=Ei(He.geometry,ie);else if(rt==="MultiLineString"||rt==="Polygon"){De=[];for(var et=0;et<He.geometry.length;et++)De.push(Ei(He.geometry[et],ie))}else if(rt==="MultiPolygon")for(De=[],et=0;et<He.geometry.length;et++){for(var qe=[],ct=0;ct<He.geometry[et].length;ct++)qe.push(Ei(He.geometry[et][ct],ie));De.push(qe)}ae.push(dt(He.id,rt,De,He.tags))}return ae}function Ei(Ae,ie){var ae=[];ae.size=Ae.size,Ae.start!==void 0&&(ae.start=Ae.start,ae.end=Ae.end);for(var we=0;we<Ae.length;we+=3)ae.push(Ae[we]+ie,Ae[we+1],Ae[we+2]);return ae}function Wo(Ae,ie){if(Ae.transformed)return Ae;var ae,we,De,He=1<<Ae.z,rt=Ae.x,et=Ae.y;for(ae=0;ae<Ae.features.length;ae++){var qe=Ae.features[ae],ct=qe.geometry,kt=qe.type;if(qe.geometry=[],kt===1)for(we=0;we<ct.length;we+=2)qe.geometry.push(Hi(ct[we],ct[we+1],ie,He,rt,et));else for(we=0;we<ct.length;we++){var ge=[];for(De=0;De<ct[we].length;De+=2)ge.push(Hi(ct[we][De],ct[we][De+1],ie,He,rt,et));qe.geometry.push(ge)}}return Ae.transformed=!0,Ae}function Hi(Ae,ie,ae,we,De,He){return[Math.round(ae*(Ae*we-De)),Math.round(ae*(ie*we-He))]}function As(Ae,ie,ae,we,De){for(var He=ie===De.maxZoom?0:De.tolerance/((1<<ie)*De.extent),rt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ae,y:we,z:ie,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},et=0;et<Ae.length;et++){rt.numFeatures++,io(rt,Ae[et],He,De);var qe=Ae[et].minX,ct=Ae[et].minY,kt=Ae[et].maxX,ge=Ae[et].maxY;qe<rt.minX&&(rt.minX=qe),ct<rt.minY&&(rt.minY=ct),kt>rt.maxX&&(rt.maxX=kt),ge>rt.maxY&&(rt.maxY=ge)}return rt}function io(Ae,ie,ae,we){var De=ie.geometry,He=ie.type,rt=[];if(He==="Point"||He==="MultiPoint")for(var et=0;et<De.length;et+=3)rt.push(De[et]),rt.push(De[et+1]),Ae.numPoints++,Ae.numSimplified++;else if(He==="LineString")pa(rt,De,Ae,ae,!1,!1);else if(He==="MultiLineString"||He==="Polygon")for(et=0;et<De.length;et++)pa(rt,De[et],Ae,ae,He==="Polygon",et===0);else if(He==="MultiPolygon")for(var qe=0;qe<De.length;qe++){var ct=De[qe];for(et=0;et<ct.length;et++)pa(rt,ct[et],Ae,ae,!0,et===0)}if(rt.length){var kt=ie.tags||null;if(He==="LineString"&&we.lineMetrics){for(var ge in kt={},ie.tags)kt[ge]=ie.tags[ge];kt.mapbox_clip_start=De.start/De.size,kt.mapbox_clip_end=De.end/De.size}var xe={geometry:rt,type:He==="Polygon"||He==="MultiPolygon"?3:He==="LineString"||He==="MultiLineString"?2:1,tags:kt};ie.id!==null&&(xe.id=ie.id),Ae.features.push(xe)}}function pa(Ae,ie,ae,we,De,He){var rt=we*we;if(we>0&&ie.size<(De?rt:we))ae.numPoints+=ie.length/3;else{for(var et=[],qe=0;qe<ie.length;qe+=3)(we===0||ie[qe+2]>rt)&&(ae.numSimplified++,et.push(ie[qe]),et.push(ie[qe+1])),ae.numPoints++;De&&(function(ct,kt){for(var ge=0,xe=0,Qe=ct.length,mt=Qe-2;xe<Qe;mt=xe,xe+=2)ge+=(ct[xe]-ct[mt])*(ct[xe+1]+ct[mt+1]);if(ge>0===kt)for(xe=0,Qe=ct.length;xe<Qe/2;xe+=2){var Tt=ct[xe],jt=ct[xe+1];ct[xe]=ct[Qe-2-xe],ct[xe+1]=ct[Qe-1-xe],ct[Qe-2-xe]=Tt,ct[Qe-1-xe]=jt}})(et,He),Ae.push(et)}}function ma(Ae,ie){var ae=(ie=this.options=(function(De,He){for(var rt in He)De[rt]=He[rt];return De})(Object.create(this.options),ie)).debug;if(ae&&console.time("preprocess data"),ie.maxZoom<0||ie.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ie.promoteId&&ie.generateId)throw new Error("promoteId and generateId cannot be used together.");var we=(function(De,He){var rt=[];if(De.type==="FeatureCollection")for(var et=0;et<De.features.length;et++)Mr(rt,De.features[et],He,et);else Mr(rt,De.type==="Feature"?De:{geometry:De},He);return rt})(Ae,ie);this.tiles={},this.tileCoords=[],ae&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ie.indexMaxZoom,ie.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),we=(function(De,He){var rt=He.buffer/He.extent,et=De,qe=Wn(De,1,-1-rt,rt,0,-1,2,He),ct=Wn(De,1,1-rt,2+rt,0,-1,2,He);return(qe||ct)&&(et=Wn(De,1,-rt,1+rt,0,-1,2,He)||[],qe&&(et=Hn(qe,1).concat(et)),ct&&(et=et.concat(Hn(ct,-1)))),et})(we,ie),we.length&&this.splitTile(we,0,0,0),ae&&(we.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ho(Ae,ie,ae){return 32*((1<<Ae)*ae+ie)+Ae}function ga(Ae,ie){const ae=Ae.tileID.canonical;if(!this._geoJSONIndex)return ie(null,null);const we=this._geoJSONIndex.getTile(ae.z,ae.x,ae.y);if(!we)return ie(null,null);const De=new class{constructor(rt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=rt.length,this._features=rt}feature(rt){return new class{constructor(et){this._feature=et,this.extent=a.EXTENT,this.type=et.type,this.properties=et.tags,"id"in et&&!isNaN(et.id)&&(this.id=parseInt(et.id,10))}loadGeometry(){if(this._feature.type===1){const et=[];for(const qe of this._feature.geometry)et.push([new a.Point(qe[0],qe[1])]);return et}{const et=[];for(const qe of this._feature.geometry){const ct=[];for(const kt of qe)ct.push(new a.Point(kt[0],kt[1]));et.push(ct)}return et}}toGeoJSON(et,qe,ct){return U.call(this,et,qe,ct)}}(this._features[rt])}}(we.features);let He=Ue(De);He.byteOffset===0&&He.byteLength===He.buffer.byteLength||(He=new Uint8Array(He)),ie(null,{vectorTile:De,rawData:He.buffer})}ma.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ma.prototype.splitTile=function(Ae,ie,ae,we,De,He,rt){for(var et=[Ae,ie,ae,we],qe=this.options,ct=qe.debug;et.length;){we=et.pop(),ae=et.pop(),ie=et.pop(),Ae=et.pop();var kt=1<<ie,ge=Ho(ie,ae,we),xe=this.tiles[ge];if(!xe&&(ct>1&&console.time("creation"),xe=this.tiles[ge]=As(Ae,ie,ae,we,qe),this.tileCoords.push({z:ie,x:ae,y:we}),ct)){ct>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ie,ae,we,xe.numFeatures,xe.numPoints,xe.numSimplified),console.timeEnd("creation"));var Qe="z"+ie;this.stats[Qe]=(this.stats[Qe]||0)+1,this.total++}if(xe.source=Ae,De){if(ie===qe.maxZoom||ie===De)continue;var mt=1<<De-ie;if(ae!==Math.floor(He/mt)||we!==Math.floor(rt/mt))continue}else if(ie===qe.indexMaxZoom||xe.numPoints<=qe.indexMaxPoints)continue;if(xe.source=null,Ae.length!==0){ct>1&&console.time("clipping");var Tt,jt,qt,Gt,Qt,er,Jt=.5*qe.buffer/qe.extent,Er=.5-Jt,Tr=.5+Jt,dn=1+Jt;Tt=jt=qt=Gt=null,Qt=Wn(Ae,kt,ae-Jt,ae+Tr,0,xe.minX,xe.maxX,qe),er=Wn(Ae,kt,ae+Er,ae+dn,0,xe.minX,xe.maxX,qe),Ae=null,Qt&&(Tt=Wn(Qt,kt,we-Jt,we+Tr,1,xe.minY,xe.maxY,qe),jt=Wn(Qt,kt,we+Er,we+dn,1,xe.minY,xe.maxY,qe),Qt=null),er&&(qt=Wn(er,kt,we-Jt,we+Tr,1,xe.minY,xe.maxY,qe),Gt=Wn(er,kt,we+Er,we+dn,1,xe.minY,xe.maxY,qe),er=null),ct>1&&console.timeEnd("clipping"),et.push(Tt||[],ie+1,2*ae,2*we),et.push(jt||[],ie+1,2*ae,2*we+1),et.push(qt||[],ie+1,2*ae+1,2*we),et.push(Gt||[],ie+1,2*ae+1,2*we+1)}}},ma.prototype.getTile=function(Ae,ie,ae){var we=this.options,De=we.extent,He=we.debug;if(Ae<0||Ae>24)return null;var rt=1<<Ae,et=Ho(Ae,ie=(ie%rt+rt)%rt,ae);if(this.tiles[et])return Wo(this.tiles[et],De);He>1&&console.log("drilling down to z%d-%d-%d",Ae,ie,ae);for(var qe,ct=Ae,kt=ie,ge=ae;!qe&&ct>0;)ct--,kt=Math.floor(kt/2),ge=Math.floor(ge/2),qe=this.tiles[Ho(ct,kt,ge)];return qe&&qe.source?(He>1&&console.log("found parent tile z%d-%d-%d",ct,kt,ge),He>1&&console.time("drilling down"),this.splitTile(qe.source,ct,kt,ge,Ae,ie,ae),He>1&&console.timeEnd("drilling down"),this.tiles[et]?Wo(this.tiles[et],De):null):null};class ya extends a.VectorTileWorkerSource{constructor(ie,ae,we,De,He){super(ie,ae,we,De,ga),He&&(this.loadGeoJSON=He)}loadData(ie,ae){const we=ie&&ie.request,De=we&&we.collectResourceTiming;this.loadGeoJSON(ie,((He,rt)=>{if(He||!rt)return ae(He);if(typeof rt!="object")return ae(new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`));{q(rt,!0);try{if(ie.filter){const qe=a.createExpression(ie.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(qe.result==="error")throw new Error(qe.value.map((kt=>`${kt.key}: ${kt.message}`)).join(", "));rt={type:"FeatureCollection",features:rt.features.filter((kt=>qe.value.evaluate({zoom:0},kt)))}}this._geoJSONIndex=ie.cluster?new zt((function({superclusterOptions:qe,clusterProperties:ct}){if(!ct||!qe)return qe;const kt={},ge={},xe={accumulated:null,zoom:0},Qe={properties:null},mt=Object.keys(ct);for(const Tt of mt){const[jt,qt]=ct[Tt],Gt=a.createExpression(qt),Qt=a.createExpression(typeof jt=="string"?[jt,["accumulated"],["get",Tt]]:jt);kt[Tt]=Gt.value,ge[Tt]=Qt.value}return qe.map=Tt=>{Qe.properties=Tt;const jt={};for(const qt of mt)jt[qt]=kt[qt].evaluate(xe,Qe);return jt},qe.reduce=(Tt,jt)=>{Qe.properties=jt;for(const qt of mt)xe.accumulated=Tt[qt],Tt[qt]=ge[qt].evaluate(xe,Qe)},qe})(ie)).load(rt.features):(function(qe,ct){return new ma(qe,ct)})(rt,ie.geojsonVtOptions)}catch(qe){return ae(qe)}this.loaded={};const et={};if(De){const qe=a.getPerformanceMeasurement(we);qe&&(et.resourceTiming={},et.resourceTiming[ie.source]=JSON.parse(JSON.stringify(qe)))}ae(null,et)}}))}reloadTile(ie,ae){const we=this.loaded;return we&&we[ie.uid]?super.reloadTile(ie,ae):this.loadTile(ie,ae)}loadGeoJSON(ie,ae){if(ie.request)a.getJSON(ie.request,ae);else{if(typeof ie.data!="string")return ae(new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`));try{return ae(null,JSON.parse(ie.data))}catch{return ae(new Error(`Input data given to '${ie.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(ie,ae){try{ae(null,this._geoJSONIndex.getClusterExpansionZoom(ie.clusterId))}catch(we){ae(we)}}getClusterChildren(ie,ae){try{ae(null,this._geoJSONIndex.getChildren(ie.clusterId))}catch(we){ae(we)}}getClusterLeaves(ie,ae){try{ae(null,this._geoJSONIndex.getLeaves(ie.clusterId,ie.limit,ie.offset))}catch(we){ae(we)}}}class _a{constructor(ie){this.self=ie,this.actor=new a.Actor(ie,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.getProjection({name:"mercator"}),this.workerSourceTypes={vector:a.VectorTileWorkerSource,geojson:ya},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ae,we)=>{if(this.workerSourceTypes[ae])throw new Error(`Worker source with name "${ae}" already registered.`);this.workerSourceTypes[ae]=we},this.self.registerRTLTextPlugin=ae=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=ae.applyArabicShaping,a.plugin.processBidirectionalText=ae.processBidirectionalText,a.plugin.processStyledBidirectionalText=ae.processStyledBidirectionalText}}clearCaches(ie,ae,we){delete this.layerIndexes[ie],delete this.availableImages[ie],delete this.workerSources[ie],delete this.demWorkerSources[ie],we()}checkIfReady(ie,ae,we){we()}setReferrer(ie,ae){this.referrer=ae}spriteLoaded(ie,ae){this.isSpriteLoaded[ie]=ae;for(const we in this.workerSources[ie]){const De=this.workerSources[ie][we];for(const He in De)De[He]instanceof a.VectorTileWorkerSource&&(De[He].isSpriteLoaded=ae,De[He].fire(new a.Event("isSpriteLoaded")))}}setImages(ie,ae,we){this.availableImages[ie]=ae;for(const De in this.workerSources[ie]){const He=this.workerSources[ie][De];for(const rt in He)He[rt].availableImages=ae}we()}enableTerrain(ie,ae,we){this.terrain=ae,we()}setProjection(ie,ae){this.projections[ie]=a.getProjection(ae)}setLayers(ie,ae,we){this.getLayerIndex(ie).replace(ae),we()}updateLayers(ie,ae,we){this.getLayerIndex(ie).update(ae.layers,ae.removedIds),we()}loadTile(ie,ae,we){const De=this.enableTerrain?a.extend({enableTerrain:this.terrain},ae):ae;De.projection=this.projections[ie]||this.defaultProjection,this.getWorkerSource(ie,ae.type,ae.source).loadTile(De,we)}loadDEMTile(ie,ae,we){const De=this.enableTerrain?a.extend({buildQuadTree:this.terrain},ae):ae;this.getDEMWorkerSource(ie,ae.source).loadTile(De,we)}reloadTile(ie,ae,we){const De=this.enableTerrain?a.extend({enableTerrain:this.terrain},ae):ae;De.projection=this.projections[ie]||this.defaultProjection,this.getWorkerSource(ie,ae.type,ae.source).reloadTile(De,we)}abortTile(ie,ae,we){this.getWorkerSource(ie,ae.type,ae.source).abortTile(ae,we)}removeTile(ie,ae,we){this.getWorkerSource(ie,ae.type,ae.source).removeTile(ae,we)}removeSource(ie,ae,we){if(!this.workerSources[ie]||!this.workerSources[ie][ae.type]||!this.workerSources[ie][ae.type][ae.source])return;const De=this.workerSources[ie][ae.type][ae.source];delete this.workerSources[ie][ae.type][ae.source],De.removeSource!==void 0?De.removeSource(ae,we):we()}loadWorkerSource(ie,ae,we){try{this.self.importScripts(ae.url),we()}catch(De){we(De.toString())}}syncRTLPluginState(ie,ae,we){try{a.plugin.setState(ae);const De=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&De!=null){this.self.importScripts(De);const He=a.plugin.isParsed();we(He?void 0:new Error(`RTL Text Plugin failed to import scripts from ${De}`),He)}}catch(De){we(De.toString())}}getAvailableImages(ie){let ae=this.availableImages[ie];return ae||(ae=[]),ae}getLayerIndex(ie){let ae=this.layerIndexes[ie];return ae||(ae=this.layerIndexes[ie]=new C),ae}getWorkerSource(ie,ae,we){if(this.workerSources[ie]||(this.workerSources[ie]={}),this.workerSources[ie][ae]||(this.workerSources[ie][ae]={}),!this.workerSources[ie][ae][we]){const De={send:(He,rt,et,qe,ct,kt)=>{this.actor.send(He,rt,et,ie,ct,kt)},scheduler:this.actor.scheduler};this.workerSources[ie][ae][we]=new this.workerSourceTypes[ae](De,this.getLayerIndex(ie),this.getAvailableImages(ie),this.isSpriteLoaded[ie])}return this.workerSources[ie][ae][we]}getDEMWorkerSource(ie,ae){return this.demWorkerSources[ie]||(this.demWorkerSources[ie]={}),this.demWorkerSources[ie][ae]||(this.demWorkerSources[ie][ae]=new L),this.demWorkerSources[ie][ae]}enforceCacheSizeLimit(ie,ae){a.enforceCacheSizeLimit(ae)}getWorkerPerformanceMetrics(ie,ae,we){we(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new _a(self)),_a})),y(["./shared"],(function(a){function w(g,l){if(Array.isArray(g)){if(!Array.isArray(l)||g.length!==l.length)return!1;for(let f=0;f<g.length;f++)if(!w(g[f],l[f]))return!1;return!0}if(typeof g=="object"&&g!==null&&l!==null){if(typeof l!="object"||Object.keys(g).length!==Object.keys(l).length)return!1;for(const f in g)if(!w(g[f],l[f]))return!1;return!0}return g===l}var M=C;function C(g){return!(function(l){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?(function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var v,S,P=new Blob([""],{type:"text/javascript"}),k=URL.createObjectURL(P);try{S=new Worker(k),v=!0}catch{v=!1}return S&&S.terminate(),URL.revokeObjectURL(k),v})()?"Uint8ClampedArray"in window?ArrayBuffer.isView?(function(){var v=document.createElement("canvas");v.width=v.height=1;var S=v.getContext("2d");if(!S)return!1;var P=S.getImageData(0,0,1,1);return P&&P.width===v.width})()?(L[f=l&&l.failIfMajorPerformanceCaveat]===void 0&&(L[f]=(function(v){var S,P=(function(k){var D=document.createElement("canvas"),z=Object.create(C.webGLContextAttributes);return z.failIfMajorPerformanceCaveat=k,D.getContext("webgl",z)||D.getContext("experimental-webgl",z)})(v);if(!P)return!1;try{S=P.createShader(P.VERTEX_SHADER)}catch{return!1}return!(!S||P.isContextLost())&&(P.shaderSource(S,"void main() {}"),P.compileShader(S),P.getShaderParameter(S,P.COMPILE_STATUS)===!0)})(f)),L[f]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var f})(g)}var L={};function j(g,l,f){const v=a.window.document.createElement(g);return l!==void 0&&(v.className=l),f&&f.appendChild(v),v}function W(g,l,f){const v=a.window.document.createElementNS("http://www.w3.org/2000/svg",g);for(const S of Object.keys(l))v.setAttributeNS(null,S,l[S]);return f&&f.appendChild(v),v}C.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const q=a.window.document&&a.window.document.documentElement.style,U=q&&q.userSelect!==void 0?"userSelect":"WebkitUserSelect";let Q;function re(){q&&U&&(Q=q[U],q[U]="none")}function ee(){q&&U&&(q[U]=Q)}function oe(g){g.preventDefault(),g.stopPropagation(),a.window.removeEventListener("click",oe,!0)}function K(){a.window.addEventListener("click",oe,!0),a.window.setTimeout((()=>{a.window.removeEventListener("click",oe,!0)}),0)}function ne(g,l){const f=g.getBoundingClientRect();return Ce(g,f,l)}function te(g,l){const f=g.getBoundingClientRect(),v=[];for(let S=0;S<l.length;S++)v.push(Ce(g,f,l[S]));return v}function be(g){return a.window.InstallTrigger!==void 0&&g.button===2&&g.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:g.button}function Ce(g,l,f){const v=g.offsetWidth===l.width?1:g.offsetWidth/l.width;return new a.Point((f.clientX-l.left)*v,(f.clientY-l.top)*v)}function Ee(g,l){var f=l[0],v=l[1],S=l[2],P=l[3],k=f*P-S*v;return k?(g[0]=P*(k=1/k),g[1]=-v*k,g[2]=-S*k,g[3]=f*k,g):null}function je(g){const{userImage:l}=g;return!!(l&&l.render&&l.render())&&(g.data.replace(new Uint8Array(l.data.buffer)),!0)}class Ye extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:f,callback:v}of this.requestors)this._notify(f,v);this.requestors=[]}}hasImage(l){return!!this.getImage(l)}getImage(l){return this.images[l]}addImage(l,f){this._validate(l,f)&&(this.images[l]=f)}_validate(l,f){let v=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),v=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),v=!1),this._validateContent(f.content,f)||(this.fire(new a.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),v=!1),v}_validateStretch(l,f){if(!l)return!0;let v=0;for(const S of l){if(S[0]<v||S[1]<S[0]||f<S[1])return!1;v=S[1]}return!0}_validateContent(l,f){return!(l&&(l.length!==4||l[0]<0||f.data.width<l[0]||l[1]<0||f.data.height<l[1]||l[2]<0||f.data.width<l[2]||l[3]<0||f.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,f){f.version=this.images[l].version+1,this.images[l]=f,this.updatedImages[l]=!0}removeImage(l){const f=this.images[l];delete this.images[l],delete this.patterns[l],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l,f){let v=!0;if(!this.isLoaded())for(const S of l)this.images[S]||(v=!1);this.isLoaded()||v?this._notify(l,f):this.requestors.push({ids:l,callback:f})}_notify(l,f){const v={};for(const S of l){this.images[S]||this.fire(new a.Event("styleimagemissing",{id:S}));const P=this.images[S];P?v[S]={data:P.data.clone(),pixelRatio:P.pixelRatio,sdf:P.sdf,version:P.version,stretchX:P.stretchX,stretchY:P.stretchY,content:P.content,hasRenderCallback:!!(P.userImage&&P.userImage.render)}:a.warnOnce(`Image "${S}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}f(null,v)}getPixelSize(){const{width:l,height:f}=this.atlasImage;return{width:l,height:f}}getPattern(l){const f=this.patterns[l],v=this.getImage(l);if(!v)return null;if(f&&f.position.version===v.version)return f.position;if(f)f.position.version=v.version;else{const S={w:v.data.width+2,h:v.data.height+2,x:0,y:0},P=new a.ImagePosition(S,v);this.patterns[l]={bin:S,position:P}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const f=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(l,this.atlasImage,f.RGBA),this.atlasTexture&&this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const P in this.patterns)l.push(this.patterns[P].bin);const{w:f,h:v}=a.potpack(l),S=this.atlasImage;S.resize({width:f||1,height:v||1});for(const P in this.patterns){const{bin:k}=this.patterns[P],D=k.x+1,z=k.y+1,V=this.images[P].data,$=V.width,X=V.height;a.RGBAImage.copy(V,S,{x:0,y:0},{x:D,y:z},{width:$,height:X}),a.RGBAImage.copy(V,S,{x:0,y:X-1},{x:D,y:z-1},{width:$,height:1}),a.RGBAImage.copy(V,S,{x:0,y:0},{x:D,y:z+X},{width:$,height:1}),a.RGBAImage.copy(V,S,{x:$-1,y:0},{x:D-1,y:z},{width:1,height:X}),a.RGBAImage.copy(V,S,{x:0,y:0},{x:D+$,y:z},{width:1,height:X})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const f of l){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const v=this.images[f];je(v)&&this.updateImage(f,v)}}}const Ge=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(g,l){return(function([f,v,S]){const P=a.degToRad(v+90),k=a.degToRad(S);return{x:f*Math.cos(P)*Math.sin(k),y:f*Math.sin(P)*Math.sin(k),z:f*Math.cos(k),azimuthal:v,polar:S}})(g.expression.evaluate(l))}interpolate(g,l,f){return{x:a.number(g.x,l.x,f),y:a.number(g.y,l.y,f),z:a.number(g.z,l.z,f),azimuthal:a.number(g.azimuthal,l.azimuthal,f),polar:a.number(g.polar,l.polar,f)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)});class Te extends a.Evented{constructor(l){super(),this._transitionable=new a.Transitionable(Ge),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,f={}){if(!this._validate(a.validateLight,l,f))for(const v in l){const S=l[v];a.endsWith(v,"-transition")?this._transitionable.setTransition(v.slice(0,-11),S):this._transitionable.setValue(v,S)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,f,v){return(!v||v.validate!==!1)&&a.emitValidationErrors(this,l.call(a.validateStyle,a.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}const Se=new a.Properties({source:new a.DataConstantProperty(a.spec.terrain.source),exaggeration:new a.DataConstantProperty(a.spec.terrain.exaggeration)});let ze=class extends a.Evented{constructor(g,l){super(),this._transitionable=new a.Transitionable(Se),this.set(g),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=l}get(){return this._transitionable.serialize()}set(g){for(const l in g){const f=g[l];a.endsWith(l,"-transition")?this._transitionable.setTransition(l.slice(0,-11),f):this._transitionable.setValue(l,f)}}updateTransitions(g){this._transitioning=this._transitionable.transitioned(g,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(g){this.properties=this._transitioning.possiblyEvaluate(g)}};function Ue(g,l,f,v){const S=a.smoothstep(45,65,f),[P,k]=ke(g,v),D=a.length(l);let z=1-Math.min(1,Math.exp((D-P)/(k-P)*-6));return z*=z*z,z=Math.min(1,1.00747*z),z*S*g.alpha}function ke(g,l){const f=.5/Math.tan(.5*l);return[g.range[0]+f,g.range[1]+f]}const $e=new a.Properties({range:new a.DataConstantProperty(a.spec.fog.range),color:new a.DataConstantProperty(a.spec.fog.color),"high-color":new a.DataConstantProperty(a.spec.fog["high-color"]),"space-color":new a.DataConstantProperty(a.spec.fog["space-color"]),"horizon-blend":new a.DataConstantProperty(a.spec.fog["horizon-blend"]),"star-intensity":new a.DataConstantProperty(a.spec.fog["star-intensity"])});class ft extends a.Evented{constructor(l,f){super(),this._transitionable=new a.Transitionable($e),this.set(l),this._transitioning=this._transitionable.untransitioned(),this._transform=f}get state(){const l=this._transform,f=l.projection.name==="globe",v=a.globeToMercatorTransition(l.zoom),S=this.properties.get("range"),P=[.5,3];return{range:f?[a.number(P[0],S[0],v),a.number(P[1],S[1],v)]:S,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(l,f={}){if(!this._validate(a.validateFog,l,f)){for(const v of Object.keys(a.spec.fog))l&&l[v]===void 0&&(l[v]=a.spec.fog[v].default);for(const v in l){const S=l[v];a.endsWith(v,"-transition")?this._transitionable.setTransition(v.slice(0,-11),S):this._transitionable.setValue(v,S)}}}getOpacity(l){if(!this._transform.projection.supportsFog)return 0;const f=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:a.smoothstep(45,65,l))*f.a}getOpacityAtLatLng(l,f){return this._transform.projection.supportsFog?(function(v,S,P){const k=a.MercatorCoordinate.fromLngLat(S),D=P.elevation?P.elevation.getAtPointOrZero(k):0,z=[k.x,k.y,D];return a.transformMat4(z,z,P.mercatorFogMatrix),Ue(v,z,P.pitch,P._fov)})(this.state,l,f):0}getFovAdjustedRange(l){return this._transform.projection.supportsFog?ke(this.state,l):[0,1]}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,f,v){return(!v||v.validate!==!1)&&a.emitValidationErrors(this,l.call(a.validateStyle,a.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class Pe{constructor(l,f){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const v=this.workerPool.acquire(this.id);for(let S=0;S<v.length;S++){const P=new Pe.Actor(v[S],f,this.id);P.name=`Worker ${S}`,this.actors.push(P)}this.ready=!1,this.broadcast("checkIfReady",null,(()=>{this.ready=!0}))}broadcast(l,f,v){a.asyncAll(this.actors,((S,P)=>{S.send(l,f,P)}),v=v||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((l=>{l.remove()})),this.actors=[],this.workerPool.release(this.id)}}function We(g,l,f){return l*(a.EXTENT/(g.tileSize*Math.pow(2,f-g.tileID.overscaledZ)))}Pe.Actor=a.Actor;class At{constructor(l,f,v,S){this.screenBounds=l,this.cameraPoint=f,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=v,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,S)}static createFromScreenPoints(l,f){let v,S;if(l instanceof a.Point||typeof l[0]=="number"){const P=a.Point.convert(l);v=[P],S=f.isPointAboveHorizon(P)}else{const P=a.Point.convert(l[0]),k=a.Point.convert(l[1]);v=[P,k],S=a.polygonizeBounds(P,k).every((D=>f.isPointAboveHorizon(D)))}return new At(v,f.getCameraPoint(),S,f)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(l){return a.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],l)}bufferedCameraGeometry(l){const f=this.screenBounds[0],v=this.screenBounds.length===1?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],S=a.polygonizeBounds(f,v,0,!1);return this.cameraPoint.y>v.y&&(this.cameraPoint.x>f.x&&this.cameraPoint.x<v.x?S.splice(3,0,this.cameraPoint):this.cameraPoint.x>=v.x?S[2]=this.cameraPoint:this.cameraPoint.x<=f.x&&(S[3]=this.cameraPoint)),a.bufferConvexPolygon(S,l)}bufferedCameraGeometryGlobe(l){const f=this.screenBounds[0],v=this.screenBounds.length===1?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],S=a.polygonizeBounds(f,v,l),P=this.cameraPoint.clone();switch(3*((P.y>f.y)+(P.y>v.y))+((P.x>f.x)+(P.x>v.x))){case 0:S[0]=P,S[4]=P.clone();break;case 1:S.splice(1,0,P);break;case 2:S[1]=P;break;case 3:S.splice(4,0,P);break;case 5:S.splice(2,0,P);break;case 6:S[3]=P;break;case 7:S.splice(3,0,P);break;case 8:S[2]=P}return S}containsTile(l,f,v,S=0){const P=l.queryPadding/f._pixelsPerMercatorPixel+1,k=v?this._bufferedCameraMercator(P,f):this._bufferedScreenMercator(P,f);let D=l.tileID.wrap+(k.unwrapped?S:0);const z=k.polygon.map((pe=>a.getTilePoint(l.tileTransform,pe,D)));if(!a.polygonIntersectsBox(z,0,0,a.EXTENT,a.EXTENT))return;D=l.tileID.wrap+(this.screenGeometryMercator.unwrapped?S:0);const V=this.screenGeometryMercator.polygon.map((pe=>a.getTileVec3(l.tileTransform,pe,D))),$=V.map((pe=>new a.Point(pe[0],pe[1]))),X=f.getFreeCameraOptions().position||new a.MercatorCoordinate(0,0,0),le=a.getTileVec3(l.tileTransform,X,D),he=V.map((pe=>{const Y=a.sub(pe,pe,le);return a.normalize(Y,Y),new a.Ray(le,Y)})),de=We(l,1,f.zoom)*f._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:$,tilespaceRays:he,bufferedTilespaceGeometry:z,bufferedTilespaceBounds:(fe=a.getBounds(z),fe.min.x=a.clamp(fe.min.x,0,a.EXTENT),fe.min.y=a.clamp(fe.min.y,0,a.EXTENT),fe.max.x=a.clamp(fe.max.x,0,a.EXTENT),fe.max.y=a.clamp(fe.max.y,0,a.EXTENT),fe),tile:l,tileID:l.tileID,pixelToTileUnitsFactor:de};var fe}_bufferedScreenMercator(l,f){const v=fr(l);if(this._screenRaycastCache[v])return this._screenRaycastCache[v];{let S;return S=f.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(l),f):{polygon:this.bufferedScreenGeometry(l).map((P=>f.pointCoordinate3D(P))),unwrapped:!0},this._screenRaycastCache[v]=S,S}}_bufferedCameraMercator(l,f){const v=fr(l);if(this._cameraRaycastCache[v])return this._cameraRaycastCache[v];{let S;return S=f.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(l),f):{polygon:this.bufferedCameraGeometry(l).map((P=>f.pointCoordinate3D(P))),unwrapped:!0},this._cameraRaycastCache[v]=S,S}}_projectAndResample(l,f){const v=(function(P,k){const D=a.multiply([],k.pixelMatrix,k.globeMatrix),z=[0,-a.GLOBE_RADIUS,0,1],V=[0,a.GLOBE_RADIUS,0,1],$=[0,0,0,1];a.transformMat4$1(z,z,D),a.transformMat4$1(V,V,D),a.transformMat4$1($,$,D);const X=new a.Point(z[0]/z[3],z[1]/z[3]),le=new a.Point(V[0]/V[3],V[1]/V[3]),he=a.polygonContainsPoint(P,X)&&z[3]<$[3],de=a.polygonContainsPoint(P,le)&&V[3]<$[3];if(!he&&!de)return null;const fe=(function(Fe,Ke,Xe){for(let at=1;at<Fe.length;at++){const Ot=nr(Ke.pointCoordinate3D(Fe[at-1]).x),nt=nr(Ke.pointCoordinate3D(Fe[at]).x);if(Xe<0){if(Ot<nt)return{idx:at,t:-Ot/(nt-1-Ot)}}else if(nt<Ot)return{idx:at,t:(1-Ot)/(nt+1-Ot)}}return null})(P,k,he?-1:1);if(!fe)return null;const{idx:pe,t:Y}=fe;let ce=pe>1?zt(P.slice(0,pe),k):[],_e=pe<P.length?zt(P.slice(pe),k):[];ce=ce.map((Fe=>new a.Point(nr(Fe.x),Fe.y))),_e=_e.map((Fe=>new a.Point(nr(Fe.x),Fe.y)));const ve=[...ce];ve.length===0&&ve.push(_e[_e.length-1]);const Be=a.number(ve[ve.length-1].y,(_e.length===0?ce[0]:_e[0]).y,Y);let Ne;return Ne=he?[new a.Point(0,Be),new a.Point(0,0),new a.Point(1,0),new a.Point(1,Be)]:[new a.Point(1,Be),new a.Point(1,1),new a.Point(0,1),new a.Point(0,Be)],ve.push(...Ne),_e.length===0?ve.push(ce[0]):ve.push(..._e),{polygon:ve.map((Fe=>new a.MercatorCoordinate(Fe.x,Fe.y))),unwrapped:!1}})(l,f);if(v)return v;const S=(function(P,k){let D=!1,z=-1/0,V=0;for(let X=0;X<P.length-1;X++)P[X].x>z&&(z=P[X].x,V=X);for(let X=0;X<P.length-1;X++){const le=(V+X)%(P.length-1),he=P[le],de=P[le+1];Math.abs(he.x-de.x)>.5&&(he.x<de.x?(he.x+=1,le===0&&(P[P.length-1].x+=1)):(de.x+=1,le+1===P.length-1&&(P[0].x+=1)),D=!0)}const $=a.mercatorXfromLng(k.center.lng);return D&&$<Math.abs($-1)&&P.forEach((X=>{X.x-=1})),{polygon:P,unwrapped:D}})(zt(l,f).map((P=>new a.Point(nr(P.x),P.y))),f);return{polygon:S.polygon.map((P=>new a.MercatorCoordinate(P.x,P.y))),unwrapped:S.unwrapped}}}function zt(g,l){return a.resample(g,(f=>{const v=l.pointCoordinate3D(f);f.x=v.x,f.y=v.y}),1/256)}function nr(g){return g<0?1+g%1:g%1}function fr(g){return 100*g|0}function wr(g,l,f,v,S){const P=function(k,D){if(k)return S(k);if(D){g.url&&D.tiles&&g.tiles&&delete g.tiles;const z=a.pick(a.extend(D,g),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);D.vector_layers&&(z.vectorLayers=D.vector_layers,z.vectorLayerIds=z.vectorLayers.map((V=>V.id))),z.tiles=l.canonicalizeTileset(z,g.url),S(null,z)}};return g.url?a.getJSON(l.transformRequest(l.normalizeSourceURL(g.url,null,f,v),a.ResourceType.Source),P):a.exported.frame((()=>P(null,g)))}class yr{constructor(l,f,v){this.bounds=a.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=f||0,this.maxzoom=v||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const f=Math.pow(2,l.z),v=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*f),S=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*f),P=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*f),k=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*f);return l.x>=v&&l.x<P&&l.y>=S&&l.y<k}}class Nt{constructor(l,f,v){this.context=l;const S=l.gl;this.buffer=S.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),S.bufferData(S.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||f.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const f=this.context.gl;this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const cr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Cr{constructor(l,f,v,S){this.length=f.length,this.attributes=v,this.itemSize=f.bytesPerElement,this.dynamicDraw=S,this.context=l;const P=l.gl;this.buffer=P.createBuffer(),l.bindVertexBuffer.set(this.buffer),P.bufferData(P.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?P.DYNAMIC_DRAW:P.STATIC_DRAW),this.dynamicDraw||f.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,f){for(let v=0;v<this.attributes.length;v++){const S=f.attributes[this.attributes[v].name];S!==void 0&&l.enableVertexAttribArray(S)}}setVertexAttribPointers(l,f,v){for(let S=0;S<this.attributes.length;S++){const P=this.attributes[S],k=f.attributes[P.name];k!==void 0&&l.vertexAttribPointer(k,P.components,l[cr[P.type]],!1,this.itemSize,P.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class dt{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Zr extends dt{getDefault(){return a.Color.transparent}set(l){const f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Mr extends dt{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class wn extends dt{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class Sr extends dt{getDefault(){return[!0,!0,!0,!0]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class yn extends dt{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class Gi extends dt{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class li extends dt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const f=this.current;(l.func!==f.func||l.ref!==f.ref||l.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class Wn extends dt{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class mi extends dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=l,this.dirty=!1}}class Ii extends dt{getDefault(){return[0,1]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class Go extends dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=l,this.dirty=!1}}class gi extends dt{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class Wi extends dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.BLEND):f.disable(f.BLEND),this.current=l,this.dirty=!1}}class Ps extends dt{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class Ra extends dt{getDefault(){return a.Color.transparent}set(l){const f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class Hn extends dt{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class Ei extends dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=l,this.dirty=!1}}class Wo extends dt{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class Hi extends dt{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}let As,io=class extends dt{getDefault(){return null}set(g){(g!==this.current||this.dirty)&&(this.gl.useProgram(g),this.current=g,this.dirty=!1)}};class pa extends dt{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class ma extends dt{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class Ho extends dt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class ga extends dt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class ya extends dt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class _a extends dt{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Ae extends dt{getDefault(){return null}set(l){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class ie extends dt{constructor(l){super(l),this.vao=l.extVertexArrayObject}getDefault(){return null}set(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class ae extends dt{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class we extends dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class De extends dt{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class He extends dt{constructor(l,f){super(l),this.context=l,this.parent=f}getDefault(){return null}}class rt extends He{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class et extends He{attachment(){return this.gl.DEPTH_ATTACHMENT}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,this.attachment(),f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class qe extends et{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ct{constructor(l,f,v,S){this.context=l,this.width=f,this.height=v;const P=this.framebuffer=l.gl.createFramebuffer();this.colorAttachment=new rt(l,P),S&&(this.depthAttachment=new et(l,P))}destroy(){const l=this.context.gl,f=this.colorAttachment.get();if(f&&l.deleteTexture(f),this.depthAttachment){const v=this.depthAttachment.get();v&&l.deleteRenderbuffer(v)}l.deleteFramebuffer(this.framebuffer)}}class kt{constructor(l,f=!1){if(this.gl=l,this.isWebGL2=f,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),f){const v=l;this.extVertexArrayObject={createVertexArrayOES:v.createVertexArray.bind(l),deleteVertexArrayOES:v.deleteVertexArray.bind(l),bindVertexArrayOES:v.bindVertexArray.bind(l)}}this.clearColor=new Zr(this),this.clearDepth=new Mr(this),this.clearStencil=new wn(this),this.colorMask=new Sr(this),this.depthMask=new yn(this),this.stencilMask=new Gi(this),this.stencilFunc=new li(this),this.stencilOp=new Wn(this),this.stencilTest=new mi(this),this.depthRange=new Ii(this),this.depthTest=new Go(this),this.depthFunc=new gi(this),this.blend=new Wi(this),this.blendFunc=new Ps(this),this.blendColor=new Ra(this),this.blendEquation=new Hn(this),this.cullFace=new Ei(this),this.cullFaceSide=new Wo(this),this.frontFace=new Hi(this),this.program=new io(this),this.activeTexture=new pa(this),this.viewport=new ma(this),this.bindFramebuffer=new Ho(this),this.bindRenderbuffer=new ga(this),this.bindTexture=new ya(this),this.bindVertexBuffer=new _a(this),this.bindElementBuffer=new Ae(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ie(this),this.pixelStoreUnpack=new ae(this),this.pixelStoreUnpackPremultiplyAlpha=new we(this),this.pixelStoreUnpackFlipY=new De(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=l.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=l.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=l.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),f||(this.extTextureHalfFloat=l.getExtension("OES_texture_half_float")),(f||this.extTextureHalfFloat&&l.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=f||l.getExtension("OES_standard_derivatives"),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,f){return new Nt(this,l,f)}createVertexBuffer(l,f,v){return new Cr(this,l,f,v)}createRenderbuffer(l,f,v){const S=this.gl,P=S.createRenderbuffer();return this.bindRenderbuffer.set(P),S.renderbufferStorage(S.RENDERBUFFER,l,f,v),this.bindRenderbuffer.set(null),P}createFramebuffer(l,f,v){return new ct(this,l,f,v)}clear({color:l,depth:f,stencil:v}){const S=this.gl;let P=0;l&&(P|=S.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(P|=S.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),v!==void 0&&(P|=S.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),S.clear(P)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){w(l.blendFunction,a.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class ge extends a.Evented{constructor(l,f,v,S){if(super(),this.id=l,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(f,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(S),this._tileWorkers={},this._deduped=new a.DedupedRequest}load(l){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"}));const f=Array.isArray(this.map._language)?this.map._language.join():this.map._language,v=this.map._worldview;this._tileJSONRequest=wr(this._options,this.map._requestManager,f,v,((S,P)=>{this._tileJSONRequest=null,this._loaded=!0,S?(f&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${f}`),v&&v.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${v}`),this.fire(new a.ErrorEvent(S))):P&&(a.extend(this,P),P.bounds&&(this.tileBounds=new yr(P.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(P.tiles,this.map._requestManager._customAccessToken),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),l&&l(S)}))}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>this.map.style._clearSource(this.id)))}setTiles(l){return this._options.tiles=l,this.reload(),this}setUrl(l){return this.url=l,this._options.url=l,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}loadTile(l,f){const v=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme)),S={request:this.map._requestManager.transformRequest(v,a.ResourceType.Tile),data:void 0,uid:l.uid,tileID:l.tileID,tileZoom:l.tileZoom,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:l.isSymbolTile};if(S.request.collectResourceTiming=this._collectResourceTiming,l.actor&&l.state!=="expired")l.state==="loading"?l.reloadCallback=f:l.request=l.actor.send("reloadTile",S,P.bind(this));else if(l.actor=this._tileWorkers[v]=this._tileWorkers[v]||this.dispatcher.getActor(),this.dispatcher.ready)l.request=l.actor.send("loadTile",S,P.bind(this),void 0,!0);else{const k=a.loadVectorTile.call({deduped:this._deduped},S,((D,z)=>{D||!z?P.call(this,D):(S.data={cacheControl:z.cacheControl,expires:z.expires,rawData:z.rawData.slice(0)},l.actor&&l.actor.send("loadTile",S,P.bind(this),void 0,!0))}),!0);l.request={cancel:k}}function P(k,D){return delete l.request,l.aborted?f(null):k&&k.status!==404?f(k):(D&&D.resourceTiming&&(l.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&l.setExpiryData(D),l.loadVectorData(D,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),f(null),void(l.reloadCallback&&(this.loadTile(l,l.reloadCallback),l.reloadCallback=null)))}}abortTile(l){l.request&&(l.request.cancel(),delete l.request),l.actor&&l.actor.send("abortTile",{uid:l.uid,type:this.type,source:this.id})}unloadTile(l){l.unloadVectorData(),l.actor&&l.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class xe extends a.Evented{constructor(l,f,v,S){super(),this.id=l,this.dispatcher=v,this.setEventedParent(S),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},f),a.extend(this,a.pick(f,["url","scheme","tileSize"]))}load(l){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=wr(this._options,this.map._requestManager,null,null,((f,v)=>{this._tileJSONRequest=null,this._loaded=!0,f?this.fire(new a.ErrorEvent(f)):v&&(a.extend(this,v),v.bounds&&(this.tileBounds=new yr(v.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(v.tiles),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),l&&l(f)}))}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}reload(){this.cancelTileJSONRequest(),this.load((()=>this.map.style._clearSource(this.id)))}setTiles(l){return this._options.tiles=l,this.reload(),this}setUrl(l){return this.url=l,this._options.url=l,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,f){const v=a.exported.devicePixelRatio>=2,S=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),v,this.tileSize);l.request=a.getImage(this.map._requestManager.transformRequest(S,a.ResourceType.Tile),((P,k,D,z)=>(delete l.request,l.aborted?(l.state="unloaded",f(null)):P?(l.state="errored",f(P)):k?(this.map._refreshExpiredTiles&&l.setExpiryData({cacheControl:D,expires:z}),l.setTexture(k,this.map.painter),l.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),void f(null)):f(null))))}static loadTileData(l,f,v){l.setTexture(f,v)}static unloadTileData(l,f){l.texture&&f.saveTileTexture(l.texture)}abortTile(l,f){l.request&&(l.request.cancel(),delete l.request),f()}unloadTile(l,f){l.texture&&this.map.painter.saveTileTexture(l.texture),f()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function Qe(g,l,f,v,S,P,k,D){const z=[g,f,S,l,v,P,1,1,1],V=[k,D,1],$=a.adjoint([],z),[X,le,he]=a.transformMat3(V,V,a.transpose($,$));return a.multiply$1(z,[X,0,0,0,le,0,0,0,he],z)}class mt extends a.Evented{constructor(l,f,v,S){super(),this.id=l,this.dispatcher=v,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(S),this.options=f,this._dirty=!1}load(l,f){this._loaded=f||!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),((v,S)=>{if(this._imageRequest=null,this._loaded=!0,v)this.fire(new a.ErrorEvent(v));else if(S){const{HTMLImageElement:P}=a.window;this.image=S instanceof P?a.exported.getImageData(S):S,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,l&&(this.coordinates=l),this._finishLoading()}}))}loaded(){return this._loaded}updateImage(l){return this.image&&l.url?(this._imageRequest&&l.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=l.url,this.load(l.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(l){this.coordinates=l,this._boundsArray=void 0;const f=l.map(a.MercatorCoordinate.fromLngLat);return this.tileID=(function(v){let S=1/0,P=1/0,k=-1/0,D=-1/0;for(const X of v)S=Math.min(S,X.x),P=Math.min(P,X.y),k=Math.max(k,X.x),D=Math.max(D,X.y);const z=Math.max(k-S,D-P),V=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),$=Math.pow(2,V);return new a.CanonicalTileID(V,Math.floor((S+k)/2*$),Math.floor((P+D)/2*$))})(f),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(l){for(const z in this.tiles){const V=this.tiles[z];V.state!=="loaded"&&(V.state="loaded",V.texture=this.texture)}if(this._boundsArray)return;const f=a.tileTransform(this.tileID,this.map.transform.projection),[v,S,P,k]=this.coordinates.map((z=>{const V=f.projection.project(z[0],z[1]);return a.getTilePoint(f,V)._round()}));this.perspectiveTransform=(function(z,V,$,X,le,he,de,fe,pe,Y){const ce=Qe(0,0,z,0,0,V,z,V),_e=Qe($,X,le,he,de,fe,pe,Y);return a.multiply$1(_e,a.adjoint(ce,ce),_e),[_e[6]/_e[8]*z/a.EXTENT,_e[7]/_e[8]*V/a.EXTENT]})(this.width,this.height,v.x,v.y,S.x,S.y,k.x,k.y,P.x,P.y);const D=this._boundsArray=new a.StructArrayLayout4i8;D.emplaceBack(v.x,v.y,0,0),D.emplaceBack(S.x,S.y,a.EXTENT,0),D.emplaceBack(k.x,k.y,0,a.EXTENT),D.emplaceBack(P.x,P.y,a.EXTENT,a.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=l.createVertexBuffer(D,a.boundsAttributes.members),this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,f=l.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new a.Texture(l,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(l)}loadTile(l,f){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},f(null)):(l.state="errored",f(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Tt={vector:ge,raster:xe,"raster-dem":class extends xe{constructor(g,l,f,v){super(g,l,f,v),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}loadTile(g,l){const f=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function v(S,P){S&&(g.state="errored",l(S)),P&&(g.dem=P,g.dem.onDeserialize(),g.needsHillshadePrepare=!0,g.needsDEMTextureUpload=!0,g.state="loaded",l(null))}g.request=a.getImage(this.map._requestManager.transformRequest(f,a.ResourceType.Tile),(function(S,P,k,D){if(delete g.request,g.aborted)g.state="unloaded",l(null);else if(S)g.state="errored",l(S);else if(P){this.map._refreshExpiredTiles&&g.setExpiryData({cacheControl:k,expires:D});const z=a.window.ImageBitmap&&P instanceof a.window.ImageBitmap&&(As==null&&(As=a.window.OffscreenCanvas&&new a.window.OffscreenCanvas(1,1).getContext("2d")&&typeof a.window.createImageBitmap=="function"),As),V=1-(P.width-a.prevPowerOfTwo(P.width))/2;V<1||g.neighboringTiles||(g.neighboringTiles=this._getNeighboringTiles(g.tileID));const $=z?P:a.exported.getImageData(P,V),X={uid:g.uid,coord:g.tileID,source:this.id,rawImageData:$,encoding:this.encoding,padding:V};g.actor&&g.state!=="expired"||(g.actor=this.dispatcher.getActor(),g.actor.send("loadDEMTile",X,v.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(g){const l=g.canonical,f=Math.pow(2,l.z),v=(l.x-1+f)%f,S=l.x===0?g.wrap-1:g.wrap,P=(l.x+1+f)%f,k=l.x+1===f?g.wrap+1:g.wrap,D={};return D[new a.OverscaledTileID(g.overscaledZ,S,l.z,v,l.y).key]={backfilled:!1},D[new a.OverscaledTileID(g.overscaledZ,k,l.z,P,l.y).key]={backfilled:!1},l.y>0&&(D[new a.OverscaledTileID(g.overscaledZ,S,l.z,v,l.y-1).key]={backfilled:!1},D[new a.OverscaledTileID(g.overscaledZ,g.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},D[new a.OverscaledTileID(g.overscaledZ,k,l.z,P,l.y-1).key]={backfilled:!1}),l.y+1<f&&(D[new a.OverscaledTileID(g.overscaledZ,S,l.z,v,l.y+1).key]={backfilled:!1},D[new a.OverscaledTileID(g.overscaledZ,g.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},D[new a.OverscaledTileID(g.overscaledZ,k,l.z,P,l.y+1).key]={backfilled:!1}),D}unloadTile(g){g.demTexture&&this.map.painter.saveTileTexture(g.demTexture),g.fbo&&(g.fbo.destroy(),delete g.fbo),g.dem&&delete g.dem,delete g.neighboringTiles,g.state="unloaded"}},geojson:class extends a.Evented{constructor(g,l,f,v){super(),this.id=g,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=f.getActor(),this.setEventedParent(v),this._data=l.data,this._options=a.extend({},l),this._collectResourceTiming=l.collectResourceTiming,l.maxzoom!==void 0&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;const S=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(l.buffer!==void 0?l.buffer:128)*S,tolerance:(l.tolerance!==void 0?l.tolerance:.375)*S,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:l.clusterMaxZoom!==void 0?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:a.EXTENT,radius:(l.clusterRadius!==void 0?l.clusterRadius:50)*S,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}onAdd(g){this.map=g,this.setData(this._data)}setData(g){return this._data=g,this._updateWorkerData(),this}getClusterExpansionZoom(g,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:g,source:this.id},l),this}getClusterChildren(g,l){return this.actor.send("geojson.getClusterChildren",{clusterId:g,source:this.id},l),this}getClusterLeaves(g,l,f,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:g,limit:l,offset:f},v),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.Event("dataloading",{dataType:"source"})),this._loaded=!1;const g=a.extend({},this.workerOptions),l=this._data;typeof l=="string"?(g.request=this.map._requestManager.transformRequest(a.exported.resolveURL(l),a.ResourceType.Source),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,g,((f,v)=>{if(this._loaded=!0,this._pendingLoad=null,f)this.fire(new a.ErrorEvent(f));else{const S={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&v&&v.resourceTiming&&v.resourceTiming[this.id]&&(S.resourceTiming=v.resourceTiming[this.id]),this.fire(new a.Event("data",S)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)}))}loaded(){return this._loaded}loadTile(g,l){const f=g.actor?"reloadTile":"loadTile";g.actor=this.actor,g.request=this.actor.send(f,{type:this.type,uid:g.uid,tileID:g.tileID,tileZoom:g.tileZoom,zoom:g.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((v,S)=>(delete g.request,g.unloadVectorData(),g.aborted?l(null):v?l(v):(g.loadVectorData(S,this.map.painter,f==="reloadTile"),l(null)))),void 0,f==="loadTile")}abortTile(g){g.request&&(g.request.cancel(),delete g.request),g.aborted=!0}unloadTile(g){g.unloadVectorData(),this.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends mt{constructor(g,l,f,v){super(g,l,f,v),this.roundZoom=!0,this.type="video",this.options=l}load(){this._loaded=!1;const g=this.options;this.urls=[];for(const l of g.urls)this.urls.push(this.map._requestManager.transformRequest(l,a.ResourceType.Source).url);a.getVideo(this.urls,((l,f)=>{this._loaded=!0,l?this.fire(new a.ErrorEvent(l)):f&&(this.video=f,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(g){if(this.video){const l=this.video.seekable;g<l.start(0)||g>l.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=g}}getVideo(){return this.video}onAdd(g){this.map||(this.map=g,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const g=this.map.painter.context,l=g.gl;this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(g,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(g)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:mt,canvas:class extends mt{constructor(g,l,f,v){super(g,l,f,v),l.coordinates?Array.isArray(l.coordinates)&&l.coordinates.length===4&&!l.coordinates.some((S=>!Array.isArray(S)||S.length!==2||S.some((P=>typeof P!="number"))))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${g}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${g}`,null,'missing required property "coordinates"'))),l.animate&&typeof l.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${g}`,null,'optional "animate" property must be a boolean value'))),l.canvas?typeof l.canvas=="string"||l.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${g}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${g}`,null,'missing required property "canvas"'))),this.options=l,this.animate=l.animate===void 0||l.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(g){this.map=g,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let g=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,g=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,g=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const l=this.map.painter.context;this.texture?(g||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(l,this.canvas,l.gl.RGBA,{premultiply:!0}),this._prepareData(l)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const g of[this.canvas.width,this.canvas.height])if(isNaN(g)||g<=0)return!0;return!1}},custom:class extends a.Evented{constructor(g,l,f,v){super(),this.id=g,this.type="custom",this._dataType="raster",this._dispatcher=f,this._implementation=l,this.setEventedParent(v),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new yr(this._implementation.bounds,this.minzoom,this.maxzoom)),l.update=this._update.bind(this),l.clearTiles=this._clearTiles.bind(this),l.coveringTiles=this._coveringTiles.bind(this),a.extend(this,a.pick(l,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(g){this._map=g,this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(g),this.load()}onRemove(g){this._implementation.onRemove&&this._implementation.onRemove(g)}hasTile(g){if(this._implementation.hasTile){const{x:l,y:f,z:v}=g.canonical;return this._implementation.hasTile({x:l,y:f,z:v})}return!this.tileBounds||this.tileBounds.contains(g.canonical)}loadTile(g,l){const{x:f,y:v,z:S}=g.tileID.canonical,P=new a.window.AbortController;g.request=Promise.resolve(this._implementation.loadTile({x:f,y:v,z:S},{signal:P.signal})).then((function(k){return delete g.request,g.aborted?(g.state="unloaded",l(null)):k===void 0?(g.state="errored",l(null)):k===null?(this.loadTileData(g,{width:this.tileSize,height:this.tileSize,data:null}),g.state="loaded",l(null)):(function(D){return D instanceof a.window.ImageData||D instanceof a.window.HTMLCanvasElement||D instanceof a.window.ImageBitmap||D instanceof a.window.HTMLImageElement})(k)?(this.loadTileData(g,k),g.state="loaded",void l(null)):(g.state="errored",l(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch((k=>{k.code!==20&&(g.state="errored",l(k))})),g.request.cancel=()=>P.abort()}loadTileData(g,l){xe.loadTileData(g,l,this._map.painter)}unloadTileData(g){xe.unloadTileData(g,this._map.painter)}unloadTile(g,l){if(this.unloadTileData(g),this._implementation.unloadTile){const{x:f,y:v,z:S}=g.tileID.canonical;this._implementation.unloadTile({x:f,y:v,z:S})}l()}abortTile(g,l){g.request&&g.request.cancel&&(g.request.cancel(),delete g.request),l()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((g=>({x:g.canonical.x,y:g.canonical.y,z:g.canonical.z})))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}}},jt=function(g,l,f,v){const S=new Tt[l.type](g,l,f,v);if(S.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${S.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],S),S};function qt(g,l){const f=a.identity([]);return a.scale(f,f,[.5*g.width,.5*-g.height,1]),a.translate(f,f,[1,-1,0]),a.multiply(f,f,g.calculateProjMatrix(l.toUnwrapped())),Float32Array.from(f)}function Gt(g,l,f,v,S,P,k,D=!1){const z=g.tilesIn(v,k,D);z.sort(er);const V=[];for(const X of z)V.push({wrappedTileID:X.tile.tileID.wrapped().key,queryResults:X.tile.queryRenderedFeatures(l,f,g._state,X,S,P,qt(g.transform,X.tile.tileID),D)});const $=(function(X){const le={},he={};for(const de of X){const fe=de.queryResults,pe=de.wrappedTileID,Y=he[pe]=he[pe]||{};for(const ce in fe){const _e=fe[ce],ve=Y[ce]=Y[ce]||{},Be=le[ce]=le[ce]||[];for(const Ne of _e)ve[Ne.featureIndex]||(ve[Ne.featureIndex]=!0,Be.push(Ne))}}return le})(V);for(const X in $)$[X].forEach((le=>{const he=le.feature,de=he.layer;de&&de.type!=="background"&&de.type!=="sky"&&(he.source=de.source,de["source-layer"]&&(he.sourceLayer=de["source-layer"]),he.state=he.id!==void 0?g.getFeatureState(de["source-layer"],he.id):{})}));return $}function Qt(g,l){const f=g.getRenderableIds().map((P=>g.getTileByID(P))),v=[],S={};for(let P=0;P<f.length;P++){const k=f[P],D=k.tileID.canonical.key;S[D]||(S[D]=!0,k.querySourceFeatures(v,l))}return v}function er(g,l){const f=g.tileID,v=l.tileID;return f.overscaledZ-v.overscaledZ||f.canonical.y-v.canonical.y||f.wrap-v.wrap||f.canonical.x-v.canonical.x}function Jt(){return Vs.workerClass!=null?new Vs.workerClass:new a.window.Worker(Vs.workerUrl)}const Er="mapboxgl_preloaded_worker_pool";class Tr{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<Tr.workerCount;)this.workers.push(new Jt);return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach((f=>{f.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Er]}numActive(){return Object.keys(this.active).length}}let dn;function rn(){return dn||(dn=new Tr),dn}function nn(g,l){const f={};for(const v in g)v!=="ref"&&(f[v]=g[v]);return a.refProperties.forEach((v=>{v in l&&(f[v]=l[v])})),f}function Rn(g){g=g.slice();const l=Object.create(null);for(let f=0;f<g.length;f++)l[g[f].id]=g[f];for(let f=0;f<g.length;f++)"ref"in g[f]&&(g[f]=nn(g[f],l[g[f].ref]));return g}Tr.workerCount=2;const $r={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function ts(g,l,f){f.push({command:$r.addSource,args:[g,l[g]]})}function oo(g,l,f){l.push({command:$r.removeSource,args:[g]}),f[g]=!0}function on(g,l,f,v){oo(g,f,v),ts(g,l,f)}function Ms(g,l,f){let v;for(v in g[f])if(g[f].hasOwnProperty(v)&&v!=="data"&&!w(g[f][v],l[f][v]))return!1;for(v in l[f])if(l[f].hasOwnProperty(v)&&v!=="data"&&!w(g[f][v],l[f][v]))return!1;return!0}function Oi(g,l,f,v,S,P){let k;for(k in l=l||{},g=g||{})g.hasOwnProperty(k)&&(w(g[k],l[k])||f.push({command:P,args:[v,k,l[k],S]}));for(k in l)l.hasOwnProperty(k)&&!g.hasOwnProperty(k)&&(w(g[k],l[k])||f.push({command:P,args:[v,k,l[k],S]}))}function ki(g){return g.id}function va(g,l){return g[l.id]=l,g}class Cs{constructor(l,f){this.reset(l,f)}reset(l,f){this.points=l||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=a.clamp(l,0,1);let f=1,v=this._distances[f];const S=l*this.paddedLength+this.padding;for(;v<S&&f<this._distances.length;)v=this._distances[++f];const P=f-1,k=this._distances[P],D=v-k,z=D>0?(S-k)/D:0;return this.points[P].mult(1-z).add(this.points[f].mult(z))}}class qr{constructor(l,f,v){const S=this.boxCells=[],P=this.circleCells=[];this.xCellCount=Math.ceil(l/v),this.yCellCount=Math.ceil(f/v);for(let k=0;k<this.xCellCount*this.yCellCount;k++)S.push([]),P.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=f,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,f,v,S,P){this._forEachCell(f,v,S,P,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(S),this.bboxes.push(P)}insertCircle(l,f,v,S){this._forEachCell(f-S,v-S,f+S,v+S,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(f),this.circles.push(v),this.circles.push(S)}_insertBoxCell(l,f,v,S,P,k){this.boxCells[P].push(k)}_insertCircleCell(l,f,v,S,P,k){this.circleCells[P].push(k)}_query(l,f,v,S,P,k){if(v<0||l>this.width||S<0||f>this.height)return!P&&[];const D=[];if(l<=0&&f<=0&&this.width<=v&&this.height<=S){if(P)return!0;for(let z=0;z<this.boxKeys.length;z++)D.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){const V=this.circles[3*z],$=this.circles[3*z+1],X=this.circles[3*z+2];D.push({key:this.circleKeys[z],x1:V-X,y1:$-X,x2:V+X,y2:$+X})}return k?D.filter(k):D}return this._forEachCell(l,f,v,S,this._queryCell,D,{hitTest:P,seenUids:{box:{},circle:{}}},k),P?D.length>0:D}_queryCircle(l,f,v,S,P){const k=l-v,D=l+v,z=f-v,V=f+v;if(D<0||k>this.width||V<0||z>this.height)return!S&&[];const $=[];return this._forEachCell(k,z,D,V,this._queryCellCircle,$,{hitTest:S,circle:{x:l,y:f,radius:v},seenUids:{box:{},circle:{}}},P),S?$.length>0:$}query(l,f,v,S,P){return this._query(l,f,v,S,!1,P)}hitTest(l,f,v,S,P){return this._query(l,f,v,S,!0,P)}hitTestCircle(l,f,v,S){return this._queryCircle(l,f,v,!0,S)}_queryCell(l,f,v,S,P,k,D,z){const V=D.seenUids,$=this.boxCells[P];if($!==null){const le=this.bboxes;for(const he of $)if(!V.box[he]){V.box[he]=!0;const de=4*he;if(l<=le[de+2]&&f<=le[de+3]&&v>=le[de+0]&&S>=le[de+1]&&(!z||z(this.boxKeys[he]))){if(D.hitTest)return k.push(!0),!0;k.push({key:this.boxKeys[he],x1:le[de],y1:le[de+1],x2:le[de+2],y2:le[de+3]})}}}const X=this.circleCells[P];if(X!==null){const le=this.circles;for(const he of X)if(!V.circle[he]){V.circle[he]=!0;const de=3*he;if(this._circleAndRectCollide(le[de],le[de+1],le[de+2],l,f,v,S)&&(!z||z(this.circleKeys[he]))){if(D.hitTest)return k.push(!0),!0;{const fe=le[de],pe=le[de+1],Y=le[de+2];k.push({key:this.circleKeys[he],x1:fe-Y,y1:pe-Y,x2:fe+Y,y2:pe+Y})}}}}}_queryCellCircle(l,f,v,S,P,k,D,z){const V=D.circle,$=D.seenUids,X=this.boxCells[P];if(X!==null){const he=this.bboxes;for(const de of X)if(!$.box[de]){$.box[de]=!0;const fe=4*de;if(this._circleAndRectCollide(V.x,V.y,V.radius,he[fe+0],he[fe+1],he[fe+2],he[fe+3])&&(!z||z(this.boxKeys[de])))return k.push(!0),!0}}const le=this.circleCells[P];if(le!==null){const he=this.circles;for(const de of le)if(!$.circle[de]){$.circle[de]=!0;const fe=3*de;if(this._circlesCollide(he[fe],he[fe+1],he[fe+2],V.x,V.y,V.radius)&&(!z||z(this.circleKeys[de])))return k.push(!0),!0}}}_forEachCell(l,f,v,S,P,k,D,z){const V=this._convertToXCellCoord(l),$=this._convertToYCellCoord(f),X=this._convertToXCellCoord(v),le=this._convertToYCellCoord(S);for(let he=V;he<=X;he++)for(let de=$;de<=le;de++)if(P.call(this,l,f,v,S,this.xCellCount*de+he,k,D,z))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,f,v,S,P,k){const D=S-l,z=P-f,V=v+k;return V*V>D*D+z*z}_circleAndRectCollide(l,f,v,S,P,k,D){const z=(k-S)/2,V=Math.abs(l-(S+z));if(V>z+v)return!1;const $=(D-P)/2,X=Math.abs(f-(P+$));if(X>$+v)return!1;if(V<=z||X<=$)return!0;const le=V-z,he=X-$;return le*le+he*he<=v*v}}const en={unknown:0,flipRequired:1,flipNotRequired:2},ui=Math.tan(85*Math.PI/180);function gt(g,l,f,v,S,P,k){const D=a.create();if(f)if(P.name==="globe"){const z=a.calculateGlobeLabelMatrix(S,l);a.multiply(D,D,z)}else{const z=Ee([],k);D[0]=z[0],D[1]=z[1],D[4]=z[2],D[5]=z[3],v||a.rotateZ(D,D,S.angle)}else a.multiply(D,S.labelPlaneMatrix,g);return D}function Hr(g,l,f,v,S,P,k){const D=gt(g,l,f,v,S,P,k);return P.name==="globe"&&f||(D[2]=D[6]=D[10]=D[14]=0),D}function Sn(g,l,f,v,S,P,k){if(f){if(P.name==="globe"){const D=gt(g,l,f,v,S,P,k);return a.invert(D,D),a.multiply(D,g,D),D}{const D=a.clone(g),z=a.identity([]);return z[0]=k[0],z[1]=k[1],z[4]=k[2],z[5]=k[3],a.multiply(D,D,z),v||a.rotateZ(D,D,-S.angle),D}}return S.glCoordMatrix}function ci(g,l,f,v){const S=[g,l,f,1];f?a.transformMat4$1(S,S,v):Or(S,S,v);const P=S[3];return S[0]/=P,S[1]/=P,S[2]/=P,S}function qc(g,l){return Math.min(.5+g/l*.5,1.5)}function Io(g,l){const f=g[0]/g[3],v=g[1]/g[3];return f>=-l[0]&&f<=l[0]&&v>=-l[1]&&v<=l[1]}function Gl(g,l,f,v,S,P,k,D,z,V){const $=f.transform,X=v?g.textSizeData:g.iconSizeData,le=a.evaluateSizeForZoom(X,f.transform.zoom),he=$.projection.name==="globe",de=[256/f.width*2+1,256/f.height*2+1],fe=v?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;fe.clear();let pe=null;he&&(pe=v?g.text.globeExtVertexArray:g.icon.globeExtVertexArray);const Y=g.lineVertexArray,ce=v?g.text.placedSymbolArray:g.icon.placedSymbolArray,_e=f.transform.width/f.transform.height;let ve,Be=!1;for(let Ne=0;Ne<ce.length;Ne++){const Fe=ce.get(Ne),{numGlyphs:Ke,writingMode:Xe}=Fe;if(Xe!==a.WritingMode.vertical||Be||ve===a.WritingMode.horizontal||(Be=!0),ve=Xe,(Fe.hidden||Xe===a.WritingMode.vertical)&&!Be){Oo(Ke,fe);continue}Be=!1;const at=new a.Point(Fe.tileAnchorX,Fe.tileAnchorY);let{x:Ot,y:nt,z:_t}=$.projection.projectTilePoint(at.x,at.y,V.canonical);if(z){const[xr,tr,dr]=z(at);Ot+=xr,nt+=tr,_t+=dr}const st=[Ot,nt,_t,1];if(a.transformMat4$1(st,st,l),!Io(st,de)){Oo(Ke,fe);continue}const Ct=qc(f.transform.cameraToCenterDistance,st[3]),ot=a.evaluateSizeForFeature(X,le,Fe),vt=k?ot/Ct:ot*Ct,Mt=ci(Ot,nt,_t,S);if(Mt[3]<=0){Oo(Ke,fe);continue}let Et={};const Dt=k?null:z,ar=Kt(Fe,vt,!1,D,l,S,P,g.glyphOffsetArray,Y,fe,pe,Mt,at,Et,_e,Dt,$.projection,V,k);Be=ar.useVertical,Dt&&ar.needsFlipping&&(Et={}),(ar.notEnoughRoom||Be||ar.needsFlipping&&Kt(Fe,vt,!0,D,l,S,P,g.glyphOffsetArray,Y,fe,pe,Mt,at,Et,_e,Dt,$.projection,V,k).notEnoughRoom)&&Oo(Ke,fe)}v?(g.text.dynamicLayoutVertexBuffer.updateData(fe),pe&&g.text.globeExtVertexBuffer.updateData(pe)):(g.icon.dynamicLayoutVertexBuffer.updateData(fe),pe&&g.icon.globeExtVertexBuffer.updateData(pe))}function Wl(g,l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe){const{lineStartIndex:pe,glyphStartIndex:Y,segment:ce}=D,_e=Y+D.numGlyphs,ve=pe+D.lineLength,Be=l.getoffsetX(Y),Ne=l.getoffsetX(_e-1),Fe=yo(g*Be,f,v,S,P,k,ce,pe,ve,z,V,$,X,le,!0,he,de,fe);if(!Fe)return null;const Ke=yo(g*Ne,f,v,S,P,k,ce,pe,ve,z,V,$,X,le,!0,he,de,fe);return Ke?{first:Fe,last:Ke}:null}function rs(g,l,f,v){return g===a.WritingMode.horizontal&&Math.abs(v)>Math.abs(f)?{useVertical:!0}:g===a.WritingMode.vertical?v>0?{needsFlipping:!0}:null:l!==en.unknown&&(function(S,P){return S===0||Math.abs(P/S)>ui})(f,v)?l===en.flipRequired?{needsFlipping:!0}:null:f<0?{needsFlipping:!0}:null}function Kt(g,l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe,pe,Y,ce){const _e=l/24,ve=g.lineOffsetX*_e,Be=g.lineOffsetY*_e,{lineStartIndex:Ne,glyphStartIndex:Fe,numGlyphs:Ke,segment:Xe,writingMode:at,flipState:Ot}=g,nt=Ne+g.lineLength,_t=st=>{if($){const[Mt,Et,Dt]=st.up,ar=V.length;a.updateGlobeVertexNormal($,ar+0,Mt,Et,Dt),a.updateGlobeVertexNormal($,ar+1,Mt,Et,Dt),a.updateGlobeVertexNormal($,ar+2,Mt,Et,Dt),a.updateGlobeVertexNormal($,ar+3,Mt,Et,Dt)}const[Ct,ot,vt]=st.point;a.addDynamicAttributes(V,Ct,ot,vt,st.angle)};if(Ke>1){const st=Wl(_e,D,ve,Be,f,X,le,g,z,P,he,fe,!1,pe,Y,ce);if(!st)return{notEnoughRoom:!0};if(v&&!f){let[Ct,ot,vt]=st.first.point,[Mt,Et,Dt]=st.last.point;[Ct,ot]=ci(Ct,ot,vt,k),[Mt,Et]=ci(Mt,Et,Dt,k);const ar=rs(at,Ot,(Mt-Ct)*de,Et-ot);if(g.flipState=ar&&ar.needsFlipping?en.flipRequired:en.flipNotRequired,ar)return ar}_t(st.first);for(let Ct=Fe+1;Ct<Fe+Ke-1;Ct++){const ot=yo(_e*D.getoffsetX(Ct),ve,Be,f,X,le,Xe,Ne,nt,z,P,he,fe,!1,!1,pe,Y,ce);if(!ot)return V.length-=4*(Ct-Fe),{notEnoughRoom:!0};_t(ot)}_t(st.last)}else{if(v&&!f){const Ct=ci(le.x,le.y,0,S),ot=Ne+Xe+1,vt=new a.Point(z.getx(ot),z.gety(ot)),Mt=ci(vt.x,vt.y,0,S),Et=Mt[3]>0?Mt:jr(le,vt,Ct,1,S,void 0,pe,Y.canonical),Dt=rs(at,Ot,(Et[0]-Ct[0])*de,Et[1]-Ct[1]);if(g.flipState=Dt&&Dt.needsFlipping?en.flipRequired:en.flipNotRequired,Dt)return Dt}const st=yo(_e*D.getoffsetX(Fe),ve,Be,f,X,le,Xe,Ne,nt,z,P,he,fe,!1,!1,pe,Y,ce);if(!st)return{notEnoughRoom:!0};_t(st)}return{}}function Gr(g,l,f,v,S){const{x:P,y:k,z:D}=v.projectTilePoint(g.x,g.y,l);if(!S)return ci(P,k,D,f);const[z,V,$]=S(g);return ci(P+z,k+V,D+$,f)}function jr(g,l,f,v,S,P,k,D){const z=Gr(g.sub(l)._unit()._add(g),D,S,k,P);return a.sub(z,f,z),a.normalize(z,z),a.scaleAndAdd(z,f,z,v)}function yo(g,l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe,pe,Y){const ce=v?g-l:g+l;let _e=ce>0?1:-1,ve=0;v&&(_e*=-1,ve=Math.PI),_e<0&&(ve+=Math.PI);let Be=D+k+(_e>0?0:1)|0,Ne=S,Fe=S,Ke=0,Xe=0;const at=Math.abs(ce),Ot=[],nt=[];let _t=P,st=_t;const Ct=()=>jr(st,_t,Fe,at-Ke+1,$,le,fe,pe.canonical);for(;Ke+Xe<=at;){if(Be+=_e,Be<D||Be>=z)return null;if(Fe=Ne,st=_t,Ot.push(Fe),he&&nt.push(st),_t=new a.Point(V.getx(Be),V.gety(Be)),Ne=X[Be],!Ne){const dr=Gr(_t,pe.canonical,$,fe,le);Ne=dr[3]>0?X[Be]=dr:Ct()}Ke+=Xe,Xe=a.distance(Fe,Ne)}de&&le&&(X[Be]&&(Ne=Ct(),Xe=a.distance(Fe,Ne)),X[Be]=Ne);const ot=(at-Ke)/Xe,vt=_t.sub(st)._mult(ot)._add(st),Mt=a.sub([],Ne,Fe),Et=a.scaleAndAdd([],Fe,Mt,ot);let Dt=[0,0,1],ar=Mt[0],xr=Mt[1];if(Y&&(Dt=fe.upVector(pe.canonical,vt.x,vt.y),Dt[0]!==0||Dt[1]!==0||Dt[2]!==1)){const dr=[Dt[2],0,-Dt[0]],Rr=a.cross([],Dt,dr);a.normalize(dr,dr),a.normalize(Rr,Rr),ar=a.dot(Mt,dr),xr=a.dot(Mt,Rr)}if(f){const dr=a.cross([],Dt,Mt);a.normalize(dr,dr),a.scaleAndAdd(Et,Et,dr,f*_e)}const tr=ve+Math.atan2(xr,ar);return Ot.push(Et),he&&nt.push(vt),{point:Et,angle:tr,path:Ot,tilePath:nt,up:Dt}}function Oo(g,l){const f=l.length,v=f+4*g;l.resize(v),l.float32.fill(-1/0,4*f,4*v)}function Or(g,l,f){const v=l[0],S=l[1];return g[0]=f[0]*v+f[4]*S+f[12],g[1]=f[1]*v+f[5]*S+f[13],g[3]=f[3]*v+f[7]*S+f[15],g}const ko=100;class ul{constructor(l,f,v=new qr(l.width+200,l.height+200,25),S=new qr(l.width+200,l.height+200,25)){this.transform=l,this.grid=v,this.ignoredGrid=S,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+ko,this.screenBottomBoundary=l.height+ko,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.fogState=f}placeCollisionBox(l,f,v,S,P,k,D,z){let V=v.projectedAnchorX,$=v.projectedAnchorY,X=v.projectedAnchorZ;const le=v.elevation,he=v.tileID,de=l.getProjection();if(le&&he){const[Ne,Fe,Ke]=de.upVector(he.canonical,v.tileAnchorX,v.tileAnchorY),Xe=de.upVectorScale(he.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;V+=Ne*le*Xe,$+=Fe*le*Xe,X+=Ke*le*Xe}const fe=this.projectAndGetPerspectiveRatio(D,V,$,X,v.tileID,de.name==="globe"||!!le||this.transform.pitch>0,de),pe=k*fe.perspectiveRatio,Y=(v.x1*f+S.x-v.padding)*pe+fe.point.x,ce=(v.y1*f+S.y-v.padding)*pe+fe.point.y,_e=(v.x2*f+S.x+v.padding)*pe+fe.point.x,ve=(v.y2*f+S.y+v.padding)*pe+fe.point.y,Be=fe.perspectiveRatio<=.55||fe.occluded;return!this.isInsideGrid(Y,ce,_e,ve)||!P&&this.grid.hitTest(Y,ce,_e,ve,z)||Be?{box:[],offscreen:!1,occluded:fe.occluded}:{box:[Y,ce,_e,ve],offscreen:this.isOffscreen(Y,ce,_e,ve),occluded:!1}}placeCollisionCircles(l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe){const pe=[],Y=this.transform.elevation,ce=l.getProjection(),_e=Y?Y.getAtTileOffsetFunc(fe,this.transform.center.lat,this.transform.worldSize,ce):null,ve=new a.Point(v.tileAnchorX,v.tileAnchorY);let{x:Be,y:Ne,z:Fe}=ce.projectTilePoint(ve.x,ve.y,fe.canonical);if(_e){const[vt,Mt,Et]=_e(ve);Be+=vt,Ne+=Mt,Fe+=Et}const Ke=ce.name==="globe",Xe=this.projectAndGetPerspectiveRatio(D,Be,Ne,Fe,fe,Ke||!!Y||this.transform.pitch>0,ce),{perspectiveRatio:at}=Xe,Ot=(X?k/at:k*at)/a.ONE_EM,nt=ci(Be,Ne,Fe,z),_t=Xe.signedDistanceFromCamera>0?Wl(Ot,P,v.lineOffsetX*Ot,v.lineOffsetY*Ot,!1,nt,ve,v,S,z,{},Y&&!X?_e:null,X&&!!Y,ce,fe,X):null;let st=!1,Ct=!1,ot=!0;if(_t&&!Xe.occluded){const vt=.5*he*at+de,Mt=new a.Point(-100,-100),Et=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Dt=new Cs,{first:ar,last:xr}=_t,tr=ar.path.length;let dr=[];for(let sr=tr-1;sr>=1;sr--)dr.push(ar.path[sr]);for(let sr=1;sr<xr.path.length;sr++)dr.push(xr.path[sr]);const Rr=2.5*vt;V&&(dr=dr.map((([sr,Vr,an],sn)=>(_e&&!Ke&&(an=_e(sn<tr-1?ar.tilePath[tr-1-sn]:xr.tilePath[sn-tr+2])[2]),ci(sr,Vr,an,V)))),dr.some((sr=>sr[3]<=0))&&(dr=[]));let Nr=[];if(dr.length>0){let sr=1/0,Vr=-1/0,an=1/0,sn=-1/0;for(const Qr of dr)sr=Math.min(sr,Qr[0]),an=Math.min(an,Qr[1]),Vr=Math.max(Vr,Qr[0]),sn=Math.max(sn,Qr[1]);Vr>=Mt.x&&sr<=Et.x&&sn>=Mt.y&&an<=Et.y&&(Nr=[dr.map((Qr=>new a.Point(Qr[0],Qr[1])))],(sr<Mt.x||Vr>Et.x||an<Mt.y||sn>Et.y)&&(Nr=a.clipLine(Nr,Mt.x,Mt.y,Et.x,Et.y)))}for(const sr of Nr){Dt.reset(sr,.25*vt);let Vr=0;Vr=Dt.length<=.5*vt?1:Math.ceil(Dt.paddedLength/Rr)+1;for(let an=0;an<Vr;an++){const sn=an/Math.max(Vr-1,1),Qr=Dt.lerp(sn),zi=Qr.x+ko,Yn=Qr.y+ko;pe.push(zi,Yn,vt,0);const Fo=zi-vt,ra=Yn-vt,Ir=zi+vt,pn=Yn+vt;if(ot=ot&&this.isOffscreen(Fo,ra,Ir,pn),Ct=Ct||this.isInsideGrid(Fo,ra,Ir,pn),!f&&this.grid.hitTestCircle(zi,Yn,vt,le)&&(st=!0,!$))return{circles:[],offscreen:!1,collisionDetected:st,occluded:!1}}}}return{circles:!$&&st||!Ct?[]:pe,offscreen:ot,collisionDetected:st,occluded:Xe.occluded}}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let v=1/0,S=1/0,P=-1/0,k=-1/0;for(const $ of l){const X=new a.Point($.x+ko,$.y+ko);v=Math.min(v,X.x),S=Math.min(S,X.y),P=Math.max(P,X.x),k=Math.max(k,X.y),f.push(X)}const D=this.grid.query(v,S,P,k).concat(this.ignoredGrid.query(v,S,P,k)),z={},V={};for(const $ of D){const X=$.key;if(z[X.bucketInstanceId]===void 0&&(z[X.bucketInstanceId]={}),z[X.bucketInstanceId][X.featureIndex])continue;const le=[new a.Point($.x1,$.y1),new a.Point($.x2,$.y1),new a.Point($.x2,$.y2),new a.Point($.x1,$.y2)];a.polygonIntersectsPolygon(f,le)&&(z[X.bucketInstanceId][X.featureIndex]=!0,V[X.bucketInstanceId]===void 0&&(V[X.bucketInstanceId]=[]),V[X.bucketInstanceId].push(X.featureIndex))}return V}insertCollisionBox(l,f,v,S,P){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:S,collisionGroupID:P},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,f,v,S,P){const k=f?this.ignoredGrid:this.grid,D={bucketInstanceId:v,featureIndex:S,collisionGroupID:P};for(let z=0;z<l.length;z+=4)k.insertCircle(D,l[z],l[z+1],l[z+2])}projectAndGetPerspectiveRatio(l,f,v,S,P,k,D){const z=[f,v,S,1];let V=!1;S||this.transform.pitch>0?(a.transformMat4$1(z,z,l),this.fogState&&P&&D.name!=="globe"&&(V=(function(le,he,de,fe,pe,Y){const ce=Y.calculateFogTileMatrix(pe),_e=[he,de,fe];return a.transformMat4(_e,_e,ce),Ue(le,_e,Y.pitch,Y._fov)})(this.fogState,f,v,S,P.toUnwrapped(),this.transform)>.9)):Or(z,z,l);const $=z[3];return{point:new a.Point((z[0]/$+1)/2*this.transform.width+ko,(-z[1]/$+1)/2*this.transform.height+ko),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(D)/$*.5,1.5),signedDistanceFromCamera:$,occluded:k&&z[2]>$||V}}isOffscreen(l,f,v,S){return v<ko||l>=this.screenRightBoundary||S<ko||f>this.screenBottomBoundary}isInsideGrid(l,f,v,S){return v>=0&&l<this.gridRightBoundary&&S>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const l=a.identity([]);return a.translate(l,l,[-100,-100,0]),l}}function tn(g,l,f){const v=l.createTileMatrix(g,g.worldSize,f.toUnwrapped());return a.multiply(new Float32Array(16),g.projMatrix,v)}function Do(g,l,f){if(l.projection.name===f.projection.name)return g.projMatrix;const v=f.clone();return v.setProjection(l.projection),tn(v,l.getProjection(),g)}function Mn(g,l,f){return l.name===f.projection.name?g.projMatrix:tn(f,l,g)}class Gc{constructor(l,f,v,S){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?f:-f))):S&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class za{constructor(l,f,v,S,P,k=!1){this.text=new Gc(l?l.text:null,f,v,P),this.icon=new Gc(l?l.icon:null,f,S,P),this.clipped=k}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Hl{constructor(l,f,v,S=!1){this.text=l,this.icon=f,this.skipFade=v,this.clipped=S}}class Zl{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class $u{constructor(l,f,v,S,P){this.bucketInstanceId=l,this.featureIndex=f,this.sourceLayerIndex=v,this.bucketIndex=S,this.tileID=P}}class Vu{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const f=++this.maxGroupID;this.collisionGroups[l]={ID:f,predicate:v=>v.collisionGroupID===f}}return this.collisionGroups[l]}}function Zo(g,l,f,v,S){const{horizontalAlign:P,verticalAlign:k}=a.getAnchorAlignment(g),D=-(P-.5)*l,z=-(k-.5)*f,V=a.evaluateVariableOffset(g,v);return new a.Point(D+V[0]*S,z+V[1]*S)}function Xo(g,l,f,v,S){const P=new a.Point(g,l);return f&&P._rotate(v?S:-S),P}class xa{constructor(l,f,v,S,P){this.transform=l.clone(),this.projection=l.projection.name,this.collisionIndex=new ul(this.transform,P),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new Vu(v),this.collisionCircleArrays={},this.prevPlacement=S,S&&(S.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,f,v,S){const P=v.getBucket(f),k=v.latestFeatureIndex;if(!P||!k||f.id!==P.layerIds[0])return;const D=P.layers[0].layout,z=v.collisionBoxArray,V=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),$=v.tileSize/a.EXTENT,X=v.tileID.toUnwrapped();this.transform.setProjection(P.projection);const le=(he=v.tileID,de=P.getProjection(),fe=this.transform,de.name===this.projection?fe.calculateProjMatrix(he.toUnwrapped()):tn(fe,de,he));var he,de,fe;const pe=D.get("text-pitch-alignment")==="map",Y=D.get("text-rotation-alignment")==="map";f.compileFilter();const ce=f.dynamicFilter(),_e=f.dynamicFilterNeedsFeature(),ve=this.transform.calculatePixelsToTileUnitsMatrix(v),Be=Hr(le,v.tileID.canonical,pe,Y,this.transform,P.getProjection(),ve);let Ne=null;if(pe){const Xe=Sn(le,v.tileID.canonical,pe,Y,this.transform,P.getProjection(),ve);Ne=a.multiply([],this.transform.labelPlaneMatrix,Xe)}let Fe=null;ce&&v.latestFeatureIndex&&(Fe={unwrappedTileID:X,dynamicFilter:ce,dynamicFilterNeedsFeature:_e,featureIndex:v.latestFeatureIndex}),this.retainedQueryData[P.bucketInstanceId]=new $u(P.bucketInstanceId,k,P.sourceLayerIndex,P.index,v.tileID);const Ke={bucket:P,layout:D,posMatrix:le,textLabelPlaneMatrix:Be,labelToScreenMatrix:Ne,clippingData:Fe,scale:V,textPixelRatio:$,holdingForFade:v.holdingForFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(P.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.evaluateSizeForZoom(P.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(P.sourceID)};if(S)for(const Xe of P.sortKeyRanges){const{sortKey:at,symbolInstanceStart:Ot,symbolInstanceEnd:nt}=Xe;l.push({sortKey:at,symbolInstanceStart:Ot,symbolInstanceEnd:nt,parameters:Ke})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:P.symbolInstances.length,parameters:Ke})}attemptAnchorPlacement(l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe,pe,Y,ce){const{textOffset0:_e,textOffset1:ve,crossTileID:Be}=le,Ne=[_e,ve],Fe=Zo(l,v,S,Ne,P),Ke=this.collisionIndex.placeCollisionBox(de,P,f,Xo(Fe.x,Fe.y,k,D,this.transform.angle),X,z,V,$.predicate);if(pe){const Xe=de.getSymbolInstanceIconSize(ce,this.transform.zoom,le.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(de,Xe,pe,Xo(Fe.x,Fe.y,k,D,this.transform.angle),X,z,V,$.predicate).box.length===0)return}if(Ke.box.length>0){let Xe;return this.prevPlacement&&this.prevPlacement.variableOffsets[Be]&&this.prevPlacement.placements[Be]&&this.prevPlacement.placements[Be].text&&(Xe=this.prevPlacement.variableOffsets[Be].anchor),this.variableOffsets[Be]={textOffset:Ne,width:v,height:S,anchor:l,textScale:P,prevAnchor:Xe},this.markUsedJustification(de,l,le,fe),de.allowVerticalPlacement&&(this.markUsedOrientation(de,fe,le),this.placedOrientations[Be]=fe),{shift:Fe,placedGlyphBoxes:Ke}}}placeLayerBucketPart(l,f,v,S){const{bucket:P,layout:k,posMatrix:D,textLabelPlaneMatrix:z,labelToScreenMatrix:V,clippingData:$,textPixelRatio:X,holdingForFade:le,collisionBoxArray:he,partiallyEvaluatedTextSize:de,partiallyEvaluatedIconSize:fe,collisionGroup:pe}=l.parameters,Y=k.get("text-optional"),ce=k.get("icon-optional"),_e=k.get("text-allow-overlap"),ve=k.get("icon-allow-overlap"),Be=k.get("text-rotation-alignment")==="map",Ne=k.get("text-pitch-alignment")==="map",Fe=k.get("icon-text-fit")!=="none",Ke=k.get("symbol-z-order")==="viewport-y";this.transform.setProjection(P.projection);let Xe=_e&&(ve||!P.hasIconData()||ce),at=ve&&(_e||!P.hasTextData()||Y);!P.collisionArrays&&he&&P.deserializeCollisionBoxes(he),v&&S&&P.updateCollisionDebugBuffers(this.transform.zoom,he);const Ot=(nt,_t,st)=>{const{crossTileID:Ct,numVerticalGlyphVertices:ot}=nt;if($){const Ir={zoom:this.transform.zoom,pitch:this.transform.pitch};let pn=null;if($.dynamicFilterNeedsFeature){const Jr=this.retainedQueryData[P.bucketInstanceId];pn=$.featureIndex.loadFeature({featureIndex:nt.featureIndex,bucketIndex:Jr.bucketIndex,sourceLayerIndex:Jr.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,$.dynamicFilter)(Ir,pn,this.retainedQueryData[P.bucketInstanceId].tileID.canonical,new a.Point(nt.tileAnchorX,nt.tileAnchorY),this.transform.calculateDistanceTileData($.unwrappedTileID)))return this.placements[Ct]=new Hl(!1,!1,!1,!0),void f.add(Ct)}if(f.has(Ct))return;if(le)return void(this.placements[Ct]=new Hl(!1,!1,!1));let vt=!1,Mt=!1,Et=!0,Dt=!1,ar=!1,xr=null,tr={box:null,offscreen:null,occluded:null},dr={box:null},Rr=null,Nr=null,sr=null,Vr=0,an=0,sn=0;st.textFeatureIndex?Vr=st.textFeatureIndex:nt.useRuntimeCollisionCircles&&(Vr=nt.featureIndex),st.verticalTextFeatureIndex&&(an=st.verticalTextFeatureIndex);const Qr=Ir=>{Ir.tileID=this.retainedQueryData[P.bucketInstanceId].tileID;const pn=this.transform.elevation;(pn||Ir.elevation)&&(Ir.elevation=pn?pn.getAtTileOffset(Ir.tileID,Ir.tileAnchorX,Ir.tileAnchorY):0)},zi=st.textBox;if(zi){Qr(zi);const Ir=Jr=>{let Jn=a.WritingMode.horizontal;if(P.allowVerticalPlacement&&!Jr&&this.prevPlacement){const Bi=this.prevPlacement.placedOrientations[Ct];Bi&&(this.placedOrientations[Ct]=Bi,Jn=Bi,this.markUsedOrientation(P,Jn,nt))}return Jn},pn=(Jr,Jn)=>{if(P.allowVerticalPlacement&&ot>0&&st.verticalTextBox){for(const Bi of P.writingModes)if(Bi===a.WritingMode.vertical?(tr=Jn(),dr=tr):tr=Jr(),tr&&tr.box&&tr.box.length)break}else tr=Jr()};if(k.get("text-variable-anchor")){let Jr=k.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ct]){const bn=this.prevPlacement.variableOffsets[Ct];Jr.indexOf(bn.anchor)>0&&(Jr=Jr.filter((yi=>yi!==bn.anchor)),Jr.unshift(bn.anchor))}const Jn=(bn,yi,Bn)=>{const Vn=P.getSymbolInstanceTextSize(de,nt,this.transform.zoom,_t),ni=(bn.x2-bn.x1)*Vn+2*bn.padding,na=(bn.y2-bn.y1)*Vn+2*bn.padding,ia=Fe&&!ve?yi:null;ia&&Qr(ia);let Pa={box:[],offscreen:!1,occluded:!1};const d1=_e?2*Jr.length:Jr.length;for(let _i=0;_i<d1;++_i){const dc=this.attemptAnchorPlacement(Jr[_i%Jr.length],bn,ni,na,Vn,Be,Ne,X,D,pe,_i>=Jr.length,nt,_t,P,Bn,ia,de,fe);if(dc&&(Pa=dc.placedGlyphBoxes,Pa&&Pa.box&&Pa.box.length)){vt=!0,xr=dc.shift;break}}return Pa};pn((()=>Jn(zi,st.iconBox,a.WritingMode.horizontal)),(()=>{const bn=st.verticalTextBox;return bn&&Qr(bn),P.allowVerticalPlacement&&!(tr&&tr.box&&tr.box.length)&&ot>0&&bn?Jn(bn,st.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),tr&&(vt=tr.box,Et=tr.offscreen,Dt=tr.occluded);const Bi=Ir(!(!tr||!tr.box));if(!vt&&this.prevPlacement){const bn=this.prevPlacement.variableOffsets[Ct];bn&&(this.variableOffsets[Ct]=bn,this.markUsedJustification(P,bn.anchor,nt,Bi))}}else{const Jr=(Jn,Bi)=>{const bn=P.getSymbolInstanceTextSize(de,nt,this.transform.zoom,_t),yi=this.collisionIndex.placeCollisionBox(P,bn,Jn,new a.Point(0,0),_e,X,D,pe.predicate);return yi&&yi.box&&yi.box.length&&(this.markUsedOrientation(P,Bi,nt),this.placedOrientations[Ct]=Bi),yi};pn((()=>Jr(zi,a.WritingMode.horizontal)),(()=>{const Jn=st.verticalTextBox;return P.allowVerticalPlacement&&ot>0&&Jn?(Qr(Jn),Jr(Jn,a.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),Ir(!!(tr&&tr.box&&tr.box.length))}}if(Rr=tr,vt=Rr&&Rr.box&&Rr.box.length>0,Et=Rr&&Rr.offscreen,Dt=Rr&&Rr.occluded,nt.useRuntimeCollisionCircles){const Ir=P.text.placedSymbolArray.get(nt.centerJustifiedTextSymbolIndex>=0?nt.centerJustifiedTextSymbolIndex:nt.verticalPlacedTextSymbolIndex),pn=a.evaluateSizeForFeature(P.textSizeData,de,Ir),Jr=k.get("text-padding");Nr=this.collisionIndex.placeCollisionCircles(P,_e,Ir,P.lineVertexArray,P.glyphOffsetArray,pn,D,z,V,v,Ne,pe.predicate,nt.collisionCircleDiameter*pn/a.ONE_EM,Jr,this.retainedQueryData[P.bucketInstanceId].tileID),vt=_e||Nr.circles.length>0&&!Nr.collisionDetected,Et=Et&&Nr.offscreen,Dt=Nr.occluded}if(st.iconFeatureIndex&&(sn=st.iconFeatureIndex),st.iconBox){const Ir=pn=>{Qr(pn);const Jr=Fe&&xr?Xo(xr.x,xr.y,Be,Ne,this.transform.angle):new a.Point(0,0),Jn=P.getSymbolInstanceIconSize(fe,this.transform.zoom,nt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(P,Jn,pn,Jr,ve,X,D,pe.predicate)};dr&&dr.box&&dr.box.length&&st.verticalIconBox?(sr=Ir(st.verticalIconBox),Mt=sr.box.length>0):(sr=Ir(st.iconBox),Mt=sr.box.length>0),Et=Et&&sr.offscreen,ar=sr.occluded}const Yn=Y||nt.numHorizontalGlyphVertices===0&&ot===0,Fo=ce||nt.numIconVertices===0;if(Yn||Fo?Fo?Yn||(Mt=Mt&&vt):vt=Mt&&vt:Mt=vt=Mt&&vt,vt&&Rr&&Rr.box&&this.collisionIndex.insertCollisionBox(Rr.box,k.get("text-ignore-placement"),P.bucketInstanceId,dr&&dr.box&&an?an:Vr,pe.ID),Mt&&sr&&this.collisionIndex.insertCollisionBox(sr.box,k.get("icon-ignore-placement"),P.bucketInstanceId,sn,pe.ID),Nr&&(vt&&this.collisionIndex.insertCollisionCircles(Nr.circles,k.get("text-ignore-placement"),P.bucketInstanceId,Vr,pe.ID),v)){const Ir=P.bucketInstanceId;let pn=this.collisionCircleArrays[Ir];pn===void 0&&(pn=this.collisionCircleArrays[Ir]=new Zl);for(let Jr=0;Jr<Nr.circles.length;Jr+=4)pn.circles.push(Nr.circles[Jr+0]),pn.circles.push(Nr.circles[Jr+1]),pn.circles.push(Nr.circles[Jr+2]),pn.circles.push(Nr.collisionDetected?1:0)}const ra=P.projection.name!=="globe";Xe=Xe&&(ra||!Dt),at=at&&(ra||!ar),this.placements[Ct]=new Hl(vt||Xe,Mt||at,Et||P.justReloaded),f.add(Ct)};if(Ke){const nt=P.getSortedSymbolIndexes(this.transform.angle);for(let _t=nt.length-1;_t>=0;--_t){const st=nt[_t];Ot(P.symbolInstances.get(st),st,P.collisionArrays[st])}}else for(let nt=l.symbolInstanceStart;nt<l.symbolInstanceEnd;nt++)Ot(P.symbolInstances.get(nt),nt,P.collisionArrays[nt]);if(v&&P.bucketInstanceId in this.collisionCircleArrays){const nt=this.collisionCircleArrays[P.bucketInstanceId];a.invert(nt.invProjMatrix,D),nt.viewportMatrix=this.collisionIndex.getViewportMatrix()}P.justReloaded=!1}markUsedJustification(l,f,v,S){const{leftJustifiedTextSymbolIndex:P,centerJustifiedTextSymbolIndex:k,rightJustifiedTextSymbolIndex:D,verticalPlacedTextSymbolIndex:z,crossTileID:V}=v,$=a.getAnchorJustification(f),X=S===a.WritingMode.vertical?z:$==="left"?P:$==="center"?k:$==="right"?D:-1;P>=0&&(l.text.placedSymbolArray.get(P).crossTileID=X>=0&&P!==X?0:V),k>=0&&(l.text.placedSymbolArray.get(k).crossTileID=X>=0&&k!==X?0:V),D>=0&&(l.text.placedSymbolArray.get(D).crossTileID=X>=0&&D!==X?0:V),z>=0&&(l.text.placedSymbolArray.get(z).crossTileID=X>=0&&z!==X?0:V)}markUsedOrientation(l,f,v){const S=f===a.WritingMode.horizontal||f===a.WritingMode.horizontalOnly?f:0,P=f===a.WritingMode.vertical?f:0,{leftJustifiedTextSymbolIndex:k,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:z,verticalPlacedTextSymbolIndex:V}=v,$=l.text.placedSymbolArray;k>=0&&($.get(k).placedOrientation=S),D>=0&&($.get(D).placedOrientation=S),z>=0&&($.get(z).placedOrientation=S),V>=0&&($.get(V).placedOrientation=P)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let v=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const S=f?f.symbolFadeChange(l):1,P=f?f.opacities:{},k=f?f.variableOffsets:{},D=f?f.placedOrientations:{};for(const z in this.placements){const V=this.placements[z],$=P[z];$?(this.opacities[z]=new za($,S,V.text,V.icon,null,V.clipped),v=v||V.text!==$.text.placed||V.icon!==$.icon.placed):(this.opacities[z]=new za(null,S,V.text,V.icon,V.skipFade,V.clipped),v=v||V.text||V.icon)}for(const z in P){const V=P[z];if(!this.opacities[z]){const $=new za(V,S,!1,!1);$.isHidden()||(this.opacities[z]=$,v=v||V.text.placed||V.icon.placed)}}for(const z in k)this.variableOffsets[z]||!this.opacities[z]||this.opacities[z].isHidden()||(this.variableOffsets[z]=k[z]);for(const z in D)this.placedOrientations[z]||!this.opacities[z]||this.opacities[z].isHidden()||(this.placedOrientations[z]=D[z]);v?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:l)}updateLayerOpacities(l,f){const v=new Set;for(const S of f){const P=S.getBucket(l);P&&S.latestFeatureIndex&&l.id===P.layerIds[0]&&this.updateBucketOpacities(P,v,S.collisionBoxArray)}}updateBucketOpacities(l,f,v){l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const S=l.layers[0].layout,P=!!l.layers[0].dynamicFilter(),k=new za(null,0,!1,!1,!0),D=S.get("text-allow-overlap"),z=S.get("icon-allow-overlap"),V=S.get("text-variable-anchor"),$=S.get("text-rotation-alignment")==="map",X=S.get("text-pitch-alignment")==="map",le=S.get("icon-text-fit")!=="none",he=new za(null,0,D&&(z||!l.hasIconData()||S.get("icon-optional")),z&&(D||!l.hasTextData()||S.get("text-optional")),!0);!l.collisionArrays&&v&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(v);const de=(pe,Y,ce)=>{for(let _e=0;_e<Y/4;_e++)pe.opacityVertexArray.emplaceBack(ce)};let fe=0;for(let pe=0;pe<l.symbolInstances.length;pe++){const Y=l.symbolInstances.get(pe),{numHorizontalGlyphVertices:ce,numVerticalGlyphVertices:_e,crossTileID:ve,numIconVertices:Be}=Y,Ne=f.has(ve);let Fe=this.opacities[ve];Ne?Fe=k:Fe||(Fe=he,this.opacities[ve]=Fe),f.add(ve);const Ke=ce>0||_e>0,Xe=Be>0,at=this.placedOrientations[ve],Ot=at===a.WritingMode.vertical,nt=at===a.WritingMode.horizontal||at===a.WritingMode.horizontalOnly;if(!Ke&&!Xe||Fe.isHidden()||fe++,Ke){const _t=Is(Fe.text);de(l.text,ce,Ot?Zn:_t),de(l.text,_e,nt?Zn:_t);const st=Fe.text.isHidden(),{leftJustifiedTextSymbolIndex:Ct,centerJustifiedTextSymbolIndex:ot,rightJustifiedTextSymbolIndex:vt,verticalPlacedTextSymbolIndex:Mt}=Y,Et=l.text.placedSymbolArray,Dt=st||Ot?1:0;Ct>=0&&(Et.get(Ct).hidden=Dt),ot>=0&&(Et.get(ot).hidden=Dt),vt>=0&&(Et.get(vt).hidden=Dt),Mt>=0&&(Et.get(Mt).hidden=st||nt?1:0);const ar=this.variableOffsets[ve];ar&&this.markUsedJustification(l,ar.anchor,Y,at);const xr=this.placedOrientations[ve];xr&&(this.markUsedJustification(l,"left",Y,xr),this.markUsedOrientation(l,xr,Y))}if(Xe){const _t=Is(Fe.icon),{placedIconSymbolIndex:st,verticalPlacedIconSymbolIndex:Ct}=Y,ot=l.icon.placedSymbolArray,vt=Fe.icon.isHidden()?1:0;st>=0&&(de(l.icon,Be,Ot?Zn:_t),ot.get(st).hidden=vt),Ct>=0&&(de(l.icon,Y.numVerticalIconVertices,nt?Zn:_t),ot.get(Ct).hidden=vt)}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const _t=l.collisionArrays[pe];if(_t){let st=new a.Point(0,0),Ct=!0;if(_t.textBox||_t.verticalTextBox){if(V){const vt=this.variableOffsets[ve];vt?(st=Zo(vt.anchor,vt.width,vt.height,vt.textOffset,vt.textScale),$&&st._rotate(X?this.transform.angle:-this.transform.angle)):Ct=!1}P&&(Ct=!Fe.clipped),_t.textBox&&Ba(l.textCollisionBox.collisionVertexArray,Fe.text.placed,!Ct||Ot,st.x,st.y),_t.verticalTextBox&&Ba(l.textCollisionBox.collisionVertexArray,Fe.text.placed,!Ct||nt,st.x,st.y)}const ot=Ct&&!!(!nt&&_t.verticalIconBox);_t.iconBox&&Ba(l.iconCollisionBox.collisionVertexArray,Fe.icon.placed,ot,le?st.x:0,le?st.y:0),_t.verticalIconBox&&Ba(l.iconCollisionBox.collisionVertexArray,Fe.icon.placed,!ot,le?st.x:0,le?st.y:0)}}}if(l.fullyClipped=fe===0,l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.bucketInstanceId in this.collisionCircleArrays){const pe=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=pe.invProjMatrix,l.placementViewportMatrix=pe.viewportMatrix,l.collisionCircleArray=pe.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,f){const v=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*v>l}setStale(){this.stale=!0}}function Ba(g,l,f,v,S){g.emplaceBack(l?1:0,f?1:0,v||0,S||0),g.emplaceBack(l?1:0,f?1:0,v||0,S||0),g.emplaceBack(l?1:0,f?1:0,v||0,S||0),g.emplaceBack(l?1:0,f?1:0,v||0,S||0)}const Di=Math.pow(2,25),xn=Math.pow(2,24),J1=Math.pow(2,17),Wc=Math.pow(2,16),Li=Math.pow(2,9),Ko=Math.pow(2,8),Q1=Math.pow(2,1);function Is(g){if(g.opacity===0&&!g.placed)return 0;if(g.opacity===1&&g.placed)return 4294967295;const l=g.placed?1:0,f=Math.floor(127*g.opacity);return f*Di+l*xn+f*J1+l*Wc+f*Li+l*Ko+f*Q1+l}const Zn=0;class qu{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&l.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(l,f,v,S,P){const k=this._bucketParts;for(;this._currentTileIndex<l.length;)if(f.getBucketParts(k,S,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,P())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,k.sort(((D,z)=>D.sortKey-z.sortKey)));this._currentPartIndex<k.length;){const D=k[this._currentPartIndex];if(f.placeLayerBucketPart(D,this._seenCrossTileIDs,v,D.symbolInstanceStart===0),this._currentPartIndex++,P())return!0}return!1}}class cl{constructor(l,f,v,S,P,k,D,z){this.placement=new xa(l,P,k,D,z),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=S,this._done=!1}isDone(){return this._done}continuePlacement(l,f,v){const S=a.exported.now(),P=()=>{const k=a.exported.now()-S;return!this._forceFullPlacement&&k>2};for(;this._currentPlacementIndex>=0;){const k=f[l[this._currentPlacementIndex]],D=this.placement.collisionIndex.transform.zoom;if(k.type==="symbol"&&(!k.minzoom||k.minzoom<=D)&&(!k.maxzoom||k.maxzoom>D)){if(this._inProgressLayer||(this._inProgressLayer=new qu(k)),this._inProgressLayer.continuePlacement(v[k.source],this.placement,this._showCollisionBoxes,k,P))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const ba=512/a.EXTENT/2;class ri{constructor(l,f,v){this.tileID=l,this.bucketInstanceId=v,this.index=new a.KDBush(f.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const S=l.canonical.x*a.EXTENT,P=l.canonical.y*a.EXTENT;for(let k=0;k<f.length;k++){const{key:D,crossTileID:z,tileAnchorX:V,tileAnchorY:$}=f.get(k),X=Math.floor((S+V)*ba),le=Math.floor((P+$)*ba);this.index.add(X,le),this.keys.push(D),this.crossTileIDs.push(z)}this.index.finish()}findMatches(l,f,v){const S=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z),P=ba/Math.pow(2,f.canonical.z-this.tileID.canonical.z),k=f.canonical.x*a.EXTENT,D=f.canonical.y*a.EXTENT;for(let z=0;z<l.length;z++){const V=l.get(z);if(V.crossTileID)continue;const{key:$,tileAnchorX:X,tileAnchorY:le}=V,he=Math.floor((k+X)*P),de=Math.floor((D+le)*P),fe=this.index.range(he-S,de-S,he+S,de+S);for(const pe of fe){const Y=this.crossTileIDs[pe];if(this.keys[pe]===$&&!v.has(Y)){v.add(Y),V.crossTileID=Y;break}}}}}class Xl{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class eh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const f=Math.round((l-this.lng)/360);if(f!==0)for(const v in this.indexes){const S=this.indexes[v],P={};for(const k in S){const D=S[k];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+f),P[D.tileID.key]=D}this.indexes[v]=P}this.lng=l}addBucket(l,f,v){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let P=0;P<f.symbolInstances.length;P++)f.symbolInstances.get(P).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]=new Set);const S=this.usedCrossTileIDs[l.overscaledZ];for(const P in this.indexes){const k=this.indexes[P];if(Number(P)>l.overscaledZ)for(const D in k){const z=k[D];z.tileID.isChildOf(l)&&z.findMatches(f.symbolInstances,l,S)}else{const D=k[l.scaledTo(Number(P)).key];D&&D.findMatches(f.symbolInstances,l,S)}}for(let P=0;P<f.symbolInstances.length;P++){const k=f.symbolInstances.get(P);k.crossTileID||(k.crossTileID=v.generate(),S.add(k.crossTileID))}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new ri(l,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(l,f){for(const v of f.crossTileIDs)this.usedCrossTileIDs[l].delete(v)}removeStaleBuckets(l){let f=!1;for(const v in this.indexes){const S=this.indexes[v];for(const P in S)l[S[P].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,S[P]),delete S[P],f=!0)}return f}}class ns{constructor(){this.layerIndexes={},this.crossTileIDs=new Xl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,f,v,S){let P=this.layerIndexes[l.id];P===void 0&&(P=this.layerIndexes[l.id]=new eh);let k=!1;const D={};S.name!=="globe"&&P.handleWrapJump(v);for(const z of f){const V=z.getBucket(l);V&&l.id===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),P.addBucket(z.tileID,V,this.crossTileIDs)&&(k=!0),D[V.bucketInstanceId]=!0)}return P.removeStaleBuckets(D)&&(k=!0),k}pruneUnusedLayers(l){const f={};l.forEach((v=>{f[v]=!0}));for(const v in this.layerIndexes)f[v]||delete this.layerIndexes[v]}}const Fa=(g,l)=>a.emitValidationErrors(g,l&&l.filter((f=>f.identifier!=="source.canvas"))),hl=a.pick($r,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),th=a.pick($r,["setCenter","setZoom","setBearing","setPitch"]),Hc={version:8,layers:[],sources:{}},Lo={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Yo extends a.Evented{constructor(l,f={}){super(),this.map=l,this.dispatcher=new Pe(rn(),this),this.imageManager=new Ye,this.imageManager.setEventedParent(this),this.glyphManager=new a.GlyphManager(l._requestManager,f.localFontFamily?a.LocalGlyphMode.all:f.localIdeographFontFamily?a.LocalGlyphMode.ideographs:a.LocalGlyphMode.none,f.localFontFamily||f.localIdeographFontFamily),this.crossTileSymbolIndex=new ns,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const v=this;this._rtlTextPluginCallback=Yo.registerForPluginStateChange((S=>{v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:S.pluginStatus,pluginURL:S.pluginURL},((P,k)=>{if(a.triggerPluginCompletionEvent(P),k&&k.every((D=>D)))for(const D in v._sourceCaches){const z=v._sourceCaches[D],V=z.getSource().type;V!=="vector"&&V!=="geojson"||z.reload()}}))})),this.on("data",(S=>{if(S.dataType!=="source"||S.sourceDataType!=="metadata")return;const P=this.getSource(S.sourceId);if(P&&P.vectorLayerIds)for(const k in this._layers){const D=this._layers[k];D.source===P.id&&this._validateLayer(D)}}))}loadURL(l,f={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const v=typeof f.validate=="boolean"?f.validate:!a.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,f.accessToken);const S=this.map._requestManager.transformRequest(l,a.ResourceType.Style);this._request=a.getJSON(S,((P,k)=>{this._request=null,P?this.fire(new a.ErrorEvent(P)):k&&this._load(k,v)}))}loadJSON(l,f={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame((()=>{this._request=null,this._load(l,f.validate!==!1)}))}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Hc,!1)}_updateLayerCount(l,f){const v=f?1:-1;l.is3D()&&(this._num3DLayers+=v),l.type==="circle"&&(this._numCircleLayers+=v),l.type==="symbol"&&(this._numSymbolLayers+=v)}_load(l,f){if(f&&Fa(this,a.validateStyle(l)))return;this._loaded=!0,this.stylesheet=a.clone$1(l),this._updateMapProjection();for(const S in l.sources)this.addSource(S,l.sources[S],{validate:!1});this._changed=!1,l.sprite?this._loadSprite(l.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(l.glyphs);const v=Rn(this.stylesheet.layers);this._order=v.map((S=>S.id)),this._layers={},this._serializedLayers={};for(const S of v){const P=a.createStyleLayer(S);P.setEventedParent(this,{layer:{id:P.id}}),this._layers[P.id]=P,this._serializedLayers[P.id]=P.serialize(),this._updateLayerCount(P,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Te(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(l){l?this.stylesheet.projection=l:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(l){this._spriteRequest=(function(f,v,S){let P,k,D;const z=a.exported.devicePixelRatio>1?"@2x":"";let V=a.getJSON(v.transformRequest(v.normalizeSpriteURL(f,z,".json"),a.ResourceType.SpriteJSON),((le,he)=>{V=null,D||(D=le,P=he,X())})),$=a.getImage(v.transformRequest(v.normalizeSpriteURL(f,z,".png"),a.ResourceType.SpriteImage),((le,he)=>{$=null,D||(D=le,k=he,X())}));function X(){if(D)S(D);else if(P&&k){const le=a.exported.getImageData(k),he={};for(const de in P){const{width:fe,height:pe,x:Y,y:ce,sdf:_e,pixelRatio:ve,stretchX:Be,stretchY:Ne,content:Fe}=P[de],Ke=new a.RGBAImage({width:fe,height:pe});a.RGBAImage.copy(le,Ke,{x:Y,y:ce},{x:0,y:0},{width:fe,height:pe}),he[de]={data:Ke,pixelRatio:ve,sdf:_e,stretchX:Be,stretchY:Ne,content:Fe}}S(null,he)}}return{cancel(){V&&(V.cancel(),V=null),$&&($.cancel(),$=null)}}})(l,this.map._requestManager,((f,v)=>{if(this._spriteRequest=null,f)this.fire(new a.ErrorEvent(f));else if(v)for(const S in v)this.imageManager.addImage(S,v[S]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new a.Event("data",{dataType:"style"}))}))}_validateLayer(l){const f=this.getSource(l.source);if(!f)return;const v=l.sourceLayer;v&&(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(v)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${v}" does not exist on source "${f.id}" as specified by style layer "${l.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this._sourceCaches)if(!this._sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(l){const f=[];for(const v of l){const S=this._layers[v];S.type!=="custom"&&f.push(S.serialize())}return f}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const l in this._sourceCaches)if(this._sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(l){return!!this.terrain&&(typeof l.isLayerDraped=="function"?l.isLayerDraped():Lo[l.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(l){if(!this._loaded)return;const f=this._changed;if(this._changed){const S=Object.keys(this._updatedLayers),P=Object.keys(this._removedLayers);(S.length||P.length)&&this._updateWorkerLayers(S,P);for(const k in this._updatedSources){const D=this._updatedSources[k];D==="reload"?this._reloadSource(k):D==="clear"&&this._clearSource(k)}this._updateTilesForChangedImages();for(const k in this._updatedPaintProps)this._layers[k].updateTransitions(l);this.light.updateTransitions(l),this.fog&&this.fog.updateTransitions(l),this._resetUpdates()}const v={};for(const S in this._sourceCaches){const P=this._sourceCaches[S];v[S]=P.used,P.used=!1}for(const S of this._order){const P=this._layers[S];if(P.recalculate(l,this._availableImages),!P.isHidden(l.zoom)){const D=this._getLayerSourceCache(P);D&&(D.used=!0)}const k=this.map.painter;if(k){const D=P.getProgramIds();if(!D)continue;const z=P.getProgramConfiguration(l.zoom);for(const V of D)k.useProgram(V,z)}}for(const S in v){const P=this._sourceCaches[S];v[S]!==P.used&&P.getSource().fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:P.getSource().id}))}this.light.recalculate(l),this.terrain&&this.terrain.recalculate(l),this.fog&&this.fog.recalculate(l),this.z=l.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),f&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const f in this._sourceCaches)this._sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateWorkerLayers(l,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(l){if(this._checkLoaded(),Fa(this,a.validateStyle(l)))return!1;(l=a.clone$1(l)).layers=Rn(l.layers);const f=(function(S,P){if(!S)return[{command:$r.setStyle,args:[P]}];let k=[];try{if(!w(S.version,P.version))return[{command:$r.setStyle,args:[P]}];w(S.center,P.center)||k.push({command:$r.setCenter,args:[P.center]}),w(S.zoom,P.zoom)||k.push({command:$r.setZoom,args:[P.zoom]}),w(S.bearing,P.bearing)||k.push({command:$r.setBearing,args:[P.bearing]}),w(S.pitch,P.pitch)||k.push({command:$r.setPitch,args:[P.pitch]}),w(S.sprite,P.sprite)||k.push({command:$r.setSprite,args:[P.sprite]}),w(S.glyphs,P.glyphs)||k.push({command:$r.setGlyphs,args:[P.glyphs]}),w(S.transition,P.transition)||k.push({command:$r.setTransition,args:[P.transition]}),w(S.light,P.light)||k.push({command:$r.setLight,args:[P.light]}),w(S.fog,P.fog)||k.push({command:$r.setFog,args:[P.fog]}),w(S.projection,P.projection)||k.push({command:$r.setProjection,args:[P.projection]});const D={},z=[];(function(X,le,he,de){let fe;for(fe in le=le||{},X=X||{})X.hasOwnProperty(fe)&&(le.hasOwnProperty(fe)||oo(fe,he,de));for(fe in le){if(!le.hasOwnProperty(fe))continue;const pe=le[fe];X.hasOwnProperty(fe)?w(X[fe],pe)||(X[fe].type==="geojson"&&pe.type==="geojson"&&Ms(X,le,fe)?he.push({command:$r.setGeoJSONSourceData,args:[fe,pe.data]}):on(fe,le,he,de)):ts(fe,le,he)}})(S.sources,P.sources,z,D);const V=[];S.layers&&S.layers.forEach((X=>{X.source&&D[X.source]?k.push({command:$r.removeLayer,args:[X.id]}):V.push(X)}));let $=S.terrain;$&&D[$.source]&&(k.push({command:$r.setTerrain,args:[void 0]}),$=void 0),k=k.concat(z),w($,P.terrain)||k.push({command:$r.setTerrain,args:[P.terrain]}),(function(X,le,he){le=le||[];const de=(X=X||[]).map(ki),fe=le.map(ki),pe=X.reduce(va,{}),Y=le.reduce(va,{}),ce=de.slice(),_e=Object.create(null);let ve,Be,Ne,Fe,Ke,Xe,at;for(ve=0,Be=0;ve<de.length;ve++)Ne=de[ve],Y.hasOwnProperty(Ne)?Be++:(he.push({command:$r.removeLayer,args:[Ne]}),ce.splice(ce.indexOf(Ne,Be),1));for(ve=0,Be=0;ve<fe.length;ve++)Ne=fe[fe.length-1-ve],ce[ce.length-1-ve]!==Ne&&(pe.hasOwnProperty(Ne)?(he.push({command:$r.removeLayer,args:[Ne]}),ce.splice(ce.lastIndexOf(Ne,ce.length-Be),1)):Be++,Xe=ce[ce.length-ve],he.push({command:$r.addLayer,args:[Y[Ne],Xe]}),ce.splice(ce.length-ve,0,Ne),_e[Ne]=!0);for(ve=0;ve<fe.length;ve++)if(Ne=fe[ve],Fe=pe[Ne],Ke=Y[Ne],!_e[Ne]&&!w(Fe,Ke))if(w(Fe.source,Ke.source)&&w(Fe["source-layer"],Ke["source-layer"])&&w(Fe.type,Ke.type)){for(at in Oi(Fe.layout,Ke.layout,he,Ne,null,$r.setLayoutProperty),Oi(Fe.paint,Ke.paint,he,Ne,null,$r.setPaintProperty),w(Fe.filter,Ke.filter)||he.push({command:$r.setFilter,args:[Ne,Ke.filter]}),w(Fe.minzoom,Ke.minzoom)&&w(Fe.maxzoom,Ke.maxzoom)||he.push({command:$r.setLayerZoomRange,args:[Ne,Ke.minzoom,Ke.maxzoom]}),Fe)Fe.hasOwnProperty(at)&&at!=="layout"&&at!=="paint"&&at!=="filter"&&at!=="metadata"&&at!=="minzoom"&&at!=="maxzoom"&&(at.indexOf("paint.")===0?Oi(Fe[at],Ke[at],he,Ne,at.slice(6),$r.setPaintProperty):w(Fe[at],Ke[at])||he.push({command:$r.setLayerProperty,args:[Ne,at,Ke[at]]}));for(at in Ke)Ke.hasOwnProperty(at)&&!Fe.hasOwnProperty(at)&&at!=="layout"&&at!=="paint"&&at!=="filter"&&at!=="metadata"&&at!=="minzoom"&&at!=="maxzoom"&&(at.indexOf("paint.")===0?Oi(Fe[at],Ke[at],he,Ne,at.slice(6),$r.setPaintProperty):w(Fe[at],Ke[at])||he.push({command:$r.setLayerProperty,args:[Ne,at,Ke[at]]}))}else he.push({command:$r.removeLayer,args:[Ne]}),Xe=ce[ce.lastIndexOf(Ne)+1],he.push({command:$r.addLayer,args:[Ke,Xe]})})(V,P.layers,k)}catch(D){console.warn("Unable to compute style diff:",D),k=[{command:$r.setStyle,args:[P]}]}return k})(this.serialize(),l).filter((S=>!(S.command in th)));if(f.length===0)return!1;const v=f.filter((S=>!(S.command in hl)));if(v.length>0)throw new Error(`Unimplemented: ${v.map((S=>S.command)).join(", ")}.`);return f.forEach((S=>{S.command!=="setTransition"&&S.command!=="setProjection"&&this[S.command].apply(this,S.args)})),this.stylesheet=l,this._updateMapProjection(),!0}addImage(l,f){return this.getImage(l)?this.fire(new a.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(l,f),this._afterImageUpdated(l),this)}updateImage(l,f){this.imageManager.updateImage(l,f)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){return this.getImage(l)?(this.imageManager.removeImage(l),this._afterImageUpdated(l),this):this.fire(new a.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(l,f,v={}){if(this._checkLoaded(),this.getSource(l)!==void 0)throw new Error("There is already a source with this ID");if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(a.validateSource,`sources.${l}`,f,null,v))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const S=jt(l,f,this.dispatcher,this);S.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(l),source:S.serialize(),sourceId:l})));const P=k=>{const D=(k?"symbol:":"other:")+l,z=this._sourceCaches[D]=new a.SourceCache(D,S,k);(k?this._symbolSourceCaches:this._otherSourceCaches)[l]=z,z.style=this,z.onAdd(this.map)};P(!1),f.type!=="vector"&&f.type!=="geojson"||P(!0),S.onAdd&&S.onAdd(this.map),this._changed=!0}removeSource(l){this._checkLoaded();const f=this.getSource(l);if(!f)throw new Error("There is no source with this ID");for(const S in this._layers)if(this._layers[S].source===l)return this.fire(new a.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${S}" is using it.`)));if(this.terrain&&this.terrain.get().source===l)return this.fire(new a.ErrorEvent(new Error(`Source "${l}" cannot be removed while terrain is using it.`)));const v=this._getSourceCaches(l);for(const S of v)delete this._sourceCaches[S.id],delete this._updatedSources[S.id],S.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:S.getSource().id})),S.setEventedParent(null),S.clearTiles();return delete this._otherSourceCaches[l],delete this._symbolSourceCaches[l],f.setEventedParent(null),f.onRemove&&f.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(l,f){this._checkLoaded(),this.getSource(l).setData(f),this._changed=!0}getSource(l){const f=this._getSourceCache(l);return f&&f.getSource()}_getSources(){const l=[];for(const f in this._otherSourceCaches){const v=this._getSourceCache(f);v&&l.push(v.getSource())}return l}addLayer(l,f,v={}){this._checkLoaded();const S=l.id;if(this.getLayer(S))return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${S}" already exists on this map`)));let P;if(l.type==="custom"){if(Fa(this,a.validateCustomStyleLayer(l)))return;P=a.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource(S,l.source),l=a.clone$1(l),l=a.extend(l,{source:S})),this._validate(a.validateLayer,`layers.${S}`,l,{arrayIndex:-1},v))return;P=a.createStyleLayer(l),this._validateLayer(P),P.setEventedParent(this,{layer:{id:S}}),this._serializedLayers[P.id]=P.serialize(),this._updateLayerCount(P,!0)}const k=f?this._order.indexOf(f):this._order.length;if(f&&k===-1)return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${f}" does not exist on this map.`)));this._order.splice(k,0,S),this._layerOrderChanged=!0,this._layers[S]=P;const D=this._getLayerSourceCache(P);if(this._removedLayers[S]&&P.source&&D&&P.type!=="custom"){const z=this._removedLayers[S];delete this._removedLayers[S],z.type!==P.type?this._updatedSources[P.source]="clear":(this._updatedSources[P.source]="reload",D.pause())}this._updateLayer(P),P.onAdd&&P.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(l,f){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new a.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===f)return;const v=this._order.indexOf(l);this._order.splice(v,1);const S=f?this._order.indexOf(f):this._order.length;f&&S===-1?this.fire(new a.ErrorEvent(new Error(`Layer with id "${f}" does not exist on this map.`))):(this._order.splice(S,0,l),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(l){this._checkLoaded();const f=this._layers[l];if(!f)return void this.fire(new a.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be removed.`)));f.setEventedParent(null),this._updateLayerCount(f,!1);const v=this._order.indexOf(l);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=f,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],f.onRemove&&f.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(l){return this._layers[l]}hasLayer(l){return l in this._layers}hasLayerType(l){for(const f in this._layers)if(this._layers[f].type===l)return!0;return!1}setLayerZoomRange(l,f,v){this._checkLoaded();const S=this.getLayer(l);S?S.minzoom===f&&S.maxzoom===v||(f!=null&&(S.minzoom=f),v!=null&&(S.maxzoom=v),this._updateLayer(S)):this.fire(new a.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(l,f,v={}){this._checkLoaded();const S=this.getLayer(l);if(S){if(!w(S.filter,f))return f==null?(S.filter=void 0,void this._updateLayer(S)):void(this._validate(a.validateFilter,`layers.${S.id}.filter`,f,{layerType:S.type},v)||(S.filter=a.clone$1(f),this._updateLayer(S)))}else this.fire(new a.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be filtered.`)))}getFilter(l){const f=this.getLayer(l);return f&&a.clone$1(f.filter)}setLayoutProperty(l,f,v,S={}){this._checkLoaded();const P=this.getLayer(l);P?w(P.getLayoutProperty(f),v)||(P.setLayoutProperty(f,v,S),this._updateLayer(P)):this.fire(new a.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(l,f){const v=this.getLayer(l);if(v)return v.getLayoutProperty(f);this.fire(new a.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style.`)))}setPaintProperty(l,f,v,S={}){this._checkLoaded();const P=this.getLayer(l);P?w(P.getPaintProperty(f),v)||(P.setPaintProperty(f,v,S)&&this._updateLayer(P),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new a.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(l,f){const v=this.getLayer(l);return v&&v.getPaintProperty(f)}setFeatureState(l,f){this._checkLoaded();const v=l.source,S=l.sourceLayer,P=this.getSource(v);if(!P)return void this.fire(new a.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const k=P.type;if(k==="geojson"&&S)return void this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(k==="vector"&&!S)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));l.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided.")));const D=this._getSourceCaches(v);for(const z of D)z.setFeatureState(S,l.id,f)}removeFeatureState(l,f){this._checkLoaded();const v=l.source,S=this.getSource(v);if(!S)return void this.fire(new a.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const P=S.type,k=P==="vector"?l.sourceLayer:void 0;if(P==="vector"&&!k)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(f&&typeof l.id!="string"&&typeof l.id!="number")return void this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const D=this._getSourceCaches(v);for(const z of D)z.removeFeatureState(k,l.id,f)}getFeatureState(l){this._checkLoaded();const f=l.source,v=l.sourceLayer,S=this.getSource(f);if(S){if(S.type!=="vector"||v)return l.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(f)[0].getFeatureState(v,l.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const l={};for(const f in this._sourceCaches){const v=this._sourceCaches[f].getSource();l[v.id]||(l[v.id]=v.serialize())}return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:l,layers:this._serializeLayers(this._order)},(f=>f!==void 0))}_updateLayer(l){this._updatedLayers[l.id]=!0;const f=this._getLayerSourceCache(l);l.source&&!this._updatedSources[l.source]&&f&&f.getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",f.pause()),this._changed=!0,l.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(l){const f=k=>this._layers[k].type==="fill-extrusion",v={},S=[];for(let k=this._order.length-1;k>=0;k--){const D=this._order[k];if(f(D)){v[D]=k;for(const z of l){const V=z[D];if(V)for(const $ of V)S.push($)}}}S.sort(((k,D)=>D.intersectionZ-k.intersectionZ));const P=[];for(let k=this._order.length-1;k>=0;k--){const D=this._order[k];if(f(D))for(let z=S.length-1;z>=0;z--){const V=S[z].feature;if(v[V.layer.id]<k)break;P.push(V),S.pop()}else for(const z of l){const V=z[D];if(V)for(const $ of V)P.push($.feature)}}return P}queryRenderedFeatures(l,f,v){f&&f.filter&&this._validate(a.validateFilter,"queryRenderedFeatures.filter",f.filter,null,f);const S={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const z of f.layers){const V=this._layers[z];if(!V)return this.fire(new a.ErrorEvent(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];S[V.source]=!0}}const P=[];f.availableImages=this._availableImages;const k=f&&f.layers?f.layers.some((z=>{const V=this.getLayer(z);return V&&V.is3D()})):this.has3DLayers(),D=At.createFromScreenPoints(l,v);for(const z in this._sourceCaches){const V=this._sourceCaches[z].getSource().id;f.layers&&!S[V]||P.push(Gt(this._sourceCaches[z],this._layers,this._serializedLayers,D,f,v,k,!!this.map._showQueryGeometry))}return this.placement&&P.push((function(z,V,$,X,le,he,de){const fe={},pe=he.queryRenderedSymbols(X),Y=[];for(const ce of Object.keys(pe).map(Number))Y.push(de[ce]);Y.sort(er);for(const ce of Y){const _e=ce.featureIndex.lookupSymbolFeatures(pe[ce.bucketInstanceId],V,ce.bucketIndex,ce.sourceLayerIndex,le.filter,le.layers,le.availableImages,z);for(const ve in _e){const Be=fe[ve]=fe[ve]||[],Ne=_e[ve];Ne.sort(((Fe,Ke)=>{const Xe=ce.featureSortOrder;if(Xe){const at=Xe.indexOf(Fe.featureIndex);return Xe.indexOf(Ke.featureIndex)-at}return Ke.featureIndex-Fe.featureIndex}));for(const Fe of Ne)Be.push(Fe)}}for(const ce in fe)fe[ce].forEach((_e=>{const ve=_e.feature,Be=$(z[ce]);if(!Be)return;const Ne=Be.getFeatureState(ve.layer["source-layer"],ve.id);ve.source=ve.layer.source,ve.layer["source-layer"]&&(ve.sourceLayer=ve.layer["source-layer"]),ve.state=Ne}));return fe})(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),D.screenGeometry,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(P)}querySourceFeatures(l,f){f&&f.filter&&this._validate(a.validateFilter,"querySourceFeatures.filter",f.filter,null,f);const v=this._getSourceCaches(l);let S=[];for(const P of v)S=S.concat(Qt(P,f));return S}addSourceType(l,f,v){return Yo.getSourceType(l)?v(new Error(`A source type called "${l}" already exists.`)):(Yo.setSourceType(l,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:f.workerSourceURL},v):v(null,null))}getLight(){return this.light.getLight()}setLight(l,f={}){this._checkLoaded();const v=this.light.getLight();let S=!1;for(const k in l)if(!w(l[k],v[k])){S=!0;break}if(!S)return;const P=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(l,f),this.light.updateTransitions(P)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(l,f=1){if(this._checkLoaded(),!l)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let v=l;if(f===1){if(typeof v.source=="object"){const S="terrain-dem-src";this.addSource(S,v.source),v=a.clone$1(v),v=a.extend(v,{source:S})}if(this._validate(a.validateTerrain,"terrain",v))return}if(!this.terrain||this.terrain&&f!==this.terrain.drapeRenderMode){if(!v)return;this._createTerrain(v,f)}else{const S=this.terrain,P=S.get();for(const k of Object.keys(a.spec.terrain))!v.hasOwnProperty(k)&&a.spec.terrain[k].default&&(v[k]=a.spec.terrain[k].default);for(const k in v)if(!w(v[k],P[k])){S.set(v),this.stylesheet.terrain=v;const D=this._setTransitionParameters({duration:0});S.updateTransitions(D);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(l){const f=this.fog=new ft(l,this.map.transform);this.stylesheet.fog=l;const v=this._setTransitionParameters({duration:0});f.updateTransitions(v)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask((()=>{for(const l of this.map._markers)l._evaluateOpacity()}))}getFog(){return this.fog?this.fog.get():null}setFog(l){if(this._checkLoaded(),!l)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const f=this.fog,v=f.get();Object.keys(l).length===0&&f.set(l);for(const S in l)if(!w(l[S],v[S])){f.set(l),this.stylesheet.fog=l;const P=this._setTransitionParameters({duration:0});f.updateTransitions(P);break}}else this._createFog(l);this._markersNeedUpdate=!0}_setTransitionParameters(l){return{now:a.exported.now(),transition:a.extend(l,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const l=this._order.filter((v=>this.isLayerDraped(this._layers[v]))),f=this._order.filter((v=>!this.isLayerDraped(this._layers[v])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...l),this._drapedFirstOrder.push(...f)}_createTerrain(l,f){const v=this.terrain=new ze(l,f);this.stylesheet.terrain=l,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const S=this._setTransitionParameters({duration:0});v.updateTransitions(S)}_force3DLayerUpdate(){for(const l in this._layers){const f=this._layers[l];f.type==="fill-extrusion"&&this._updateLayer(f)}}_forceSymbolLayerUpdate(){for(const l in this._layers){const f=this._layers[l];f.type==="symbol"&&this._updateLayer(f)}}_validate(l,f,v,S,P={}){return(!P||P.validate!==!1)&&Fa(this,l.call(a.validateStyle,a.extend({key:f,style:this.serialize(),value:v,styleSpec:a.spec},S)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const l in this._layers)this._layers[l].setEventedParent(null);for(const l in this._sourceCaches)this._sourceCaches[l].clearTiles(),this._sourceCaches[l].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(l){const f=this._getSourceCaches(l);for(const v of f)v.clearTiles()}_reloadSource(l){const f=this._getSourceCaches(l);for(const v of f)v.resume(),v.reload()}_reloadSources(){for(const l of this._getSources())l.reload&&l.reload()}_updateSources(l){for(const f in this._sourceCaches)this._sourceCaches[f].update(l)}_generateCollisionBoxes(){for(const l in this._sourceCaches){const f=this._sourceCaches[l];f.resume(),f.reload()}}_updatePlacement(l,f,v,S,P=!1){let k=!1,D=!1;const z={};for(const V of this._order){const $=this._layers[V];if($.type!=="symbol")continue;if(!z[$.source]){const le=this._getLayerSourceCache($);if(!le)continue;z[$.source]=le.getRenderableIds(!0).map((he=>le.getTileByID(he))).sort(((he,de)=>de.tileID.overscaledZ-he.tileID.overscaledZ||(he.tileID.isLessThan(de.tileID)?-1:1)))}const X=this.crossTileSymbolIndex.addLayer($,z[$.source],l.center.lng,l.projection);k=k||X}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),P=P||this._layerOrderChanged||v===0,this._layerOrderChanged&&this.fire(new a.Event("neworder")),(P||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),l.zoom))&&(this.pauseablePlacement=new cl(l,this._order,P,f,v,S,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,z),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),D=!0),k&&this.pauseablePlacement.placement.setStale()),D||k)for(const V of this._order){const $=this._layers[V];$.type==="symbol"&&this.placement.updateLayerOpacities($,z[$.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const l in this._sourceCaches)this._sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,f,v){this.imageManager.getImages(f.icons,v),this._updateTilesForChangedImages();const S=P=>{P&&P.setDependencies(f.tileID.key,f.type,f.icons)};S(this._otherSourceCaches[f.source]),S(this._symbolSourceCaches[f.source])}getGlyphs(l,f,v){this.glyphManager.getGlyphs(f.stacks,v)}getResource(l,f,v){return a.makeRequest(f,v)}_getSourceCache(l){return this._otherSourceCaches[l]}_getLayerSourceCache(l){return l.type==="symbol"?this._symbolSourceCaches[l.source]:this._otherSourceCaches[l.source]}_getSourceCaches(l){const f=[];return this._otherSourceCaches[l]&&f.push(this._otherSourceCaches[l]),this._symbolSourceCaches[l]&&f.push(this._symbolSourceCaches[l]),f}_isSourceCacheLoaded(l){const f=this._getSourceCaches(l);return f.length===0?(this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${l}'`))),!1):f.every((v=>v.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Yo.getSourceType=function(g){return Tt[g]},Yo.setSourceType=function(g,l){Tt[g]=l},Yo.registerForPluginStateChange=a.registerForPluginStateChange;var Kl=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,Os="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Jo=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,ks=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,ja=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Zi={},wa={};const fl=[];Na(Kl,fl),Na(Jo,fl),Na(ks,fl),Na(ja,fl),Zi=Kr("",Jo),wa=Kr(ja,ks);const Yl=Kr(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Zc=Kl,Gu=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Wu={background:Kr(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Kr(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Kr(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Kr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Kr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Kr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Kr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Kr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Kr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Kr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Kr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Kr(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Kr(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Kr(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Kr(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Kr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Kr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Kr(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Kr(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Kr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Kr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Kr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Kr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Kr(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Kr(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Kr(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Os),skyboxGradient:Kr(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Os),skyboxCapture:Kr(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Kr(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Kr(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Na(g,l){const f=g.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let v of f)if(v=v.trim(),v[0]==="#"&&v.includes("if")&&!v.includes("endif")){v=v.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const S=v.split(" ");for(const P of S)l.includes(P)||l.push(P)}}function Kr(g,l){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=l.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),S={},P=[...fl];return Na(g,P),Na(l,P),{fragmentSource:g=g.replace(f,((k,D,z,V,$)=>(S[$]=!0,D==="define"?`
#ifndef HAS_UNIFORM_u_${$}
varying ${z} ${V} ${$};
#else
uniform ${z} ${V} u_${$};
#endif
`:`
#ifdef HAS_UNIFORM_u_${$}
    ${z} ${V} ${$} = u_${$};
#endif
`))),vertexSource:l=l.replace(f,((k,D,z,V,$)=>{const X=V==="float"?"vec2":"vec4",le=$.match(/color/)?"color":X;return S[$]?D==="define"?`
#ifndef HAS_UNIFORM_u_${$}
uniform lowp float u_${$}_t;
attribute ${z} ${X} a_${$};
varying ${z} ${V} ${$};
#else
uniform ${z} ${V} u_${$};
#endif
`:le==="vec4"?`
#ifndef HAS_UNIFORM_u_${$}
    ${$} = a_${$};
#else
    ${z} ${V} ${$} = u_${$};
#endif
`:`
#ifndef HAS_UNIFORM_u_${$}
    ${$} = unpack_mix_${le}(a_${$}, u_${$}_t);
#else
    ${z} ${V} ${$} = u_${$};
#endif
`:D==="define"?`
#ifndef HAS_UNIFORM_u_${$}
uniform lowp float u_${$}_t;
attribute ${z} ${X} a_${$};
#else
uniform ${z} ${V} u_${$};
#endif
`:le==="vec4"?`
#ifndef HAS_UNIFORM_u_${$}
    ${z} ${V} ${$} = a_${$};
#else
    ${z} ${V} ${$} = u_${$};
#endif
`:`
#ifndef HAS_UNIFORM_u_${$}
    ${z} ${V} ${$} = unpack_mix_${le}(a_${$}, u_${$}_t);
#else
    ${z} ${V} ${$} = u_${$};
#endif
`})),staticAttributes:v,usedDefines:P}}class Af{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(l,f,v,S,P,k,D){this.context=l;let z=this.boundPaintVertexBuffers.length!==S.length;for(let $=0;!z&&$<S.length;$++)this.boundPaintVertexBuffers[$]!==S[$]&&(z=!0);let V=this.boundDynamicVertexBuffers.length!==D.length;for(let $=0;!V&&$<D.length;$++)this.boundDynamicVertexBuffers[$]!==D[$]&&(V=!0);if(!l.extVertexArrayObject||!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==v||z||V||this.boundIndexBuffer!==P||this.boundVertexOffset!==k)this.freshBind(f,v,S,P,k,D);else{l.bindVertexArrayOES.set(this.vao);for(const $ of D)$&&$.bind();P&&P.dynamicDraw&&P.bind()}}freshBind(l,f,v,S,P,k){let D;const z=l.numAttributes,V=this.context,$=V.gl;if(V.extVertexArrayObject)this.vao&&this.destroy(),this.vao=V.extVertexArrayObject.createVertexArrayOES(),V.bindVertexArrayOES.set(this.vao),D=0,this.boundProgram=l,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=S,this.boundVertexOffset=P,this.boundDynamicVertexBuffers=k;else{D=V.currentNumAttributes||0;for(let X=z;X<D;X++)$.disableVertexAttribArray(X)}f.enableAttributes($,l),f.bind(),f.setVertexAttribPointers($,l,P);for(const X of v)X.enableAttributes($,l),X.bind(),X.setVertexAttribPointers($,l,P);for(const X of k)X&&(X.enableAttributes($,l),X.bind(),X.setVertexAttribPointers($,l,P));S&&S.bind(),V.currentNumAttributes=z}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function rh(g,l){const f=Math.pow(2,l.canonical.z),v=l.canonical.y;return[new a.MercatorCoordinate(0,v/f).toLngLat().lat,new a.MercatorCoordinate(0,(v+1)/f).toLngLat().lat]}function Mf(g,l,f,v,S,P,k){const D=g.context,z=D.gl,V=f.fbo;if(!V)return;g.prepareDrawTile();const $=g.useProgram("hillshade");D.activeTexture.set(z.TEXTURE0),z.bindTexture(z.TEXTURE_2D,V.colorAttachment.get());const X=((fe,pe,Y,ce)=>{const _e=Y.paint.get("hillshade-shadow-color"),ve=Y.paint.get("hillshade-highlight-color"),Be=Y.paint.get("hillshade-accent-color");let Ne=Y.paint.get("hillshade-illumination-direction")*(Math.PI/180);Y.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ne-=fe.transform.angle);const Fe=!fe.options.moving;return{u_matrix:ce||fe.transform.calculateProjMatrix(pe.tileID.toUnwrapped(),Fe),u_image:0,u_latrange:rh(0,pe.tileID),u_light:[Y.paint.get("hillshade-exaggeration"),Ne],u_shadow:_e,u_highlight:ve,u_accent:Be}})(g,f,v,g.terrain?l.projMatrix:null);g.prepareDrawProgram(D,$,l.toUnwrapped());const{tileBoundsBuffer:le,tileBoundsIndexBuffer:he,tileBoundsSegments:de}=g.getTileBoundsBuffers(f);$.draw(D,z.TRIANGLES,S,P,k,a.CullFaceMode.disabled,X,v.id,le,he,de)}function nh(g,l,f){if(!l.needsDEMTextureUpload)return;const v=g.context,S=v.gl;v.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||g.getTileTexture(f.stride);const P=f.getPixels();l.demTexture?l.demTexture.update(P,{premultiply:!1}):l.demTexture=new a.Texture(v,P,S.RGBA,{premultiply:!1}),l.needsDEMTextureUpload=!1}function Xc(g,l,f,v,S,P){const k=g.context,D=k.gl;if(!l.dem)return;const z=l.dem;if(k.activeTexture.set(D.TEXTURE1),nh(g,l,z),!l.demTexture)return;l.demTexture.bind(D.NEAREST,D.CLAMP_TO_EDGE);const V=z.dim;k.activeTexture.set(D.TEXTURE0);let $=l.fbo;if(!$){const de=new a.Texture(k,{width:V,height:V,data:null},D.RGBA);de.bind(D.LINEAR,D.CLAMP_TO_EDGE),$=l.fbo=k.createFramebuffer(V,V,!0),$.colorAttachment.set(de.texture)}k.bindFramebuffer.set($.framebuffer),k.viewport.set([0,0,V,V]);const{tileBoundsBuffer:X,tileBoundsIndexBuffer:le,tileBoundsSegments:he}=g.getMercatorTileBoundsBuffers();g.useProgram("hillshadePrepare").draw(k,D.TRIANGLES,v,S,P,a.CullFaceMode.disabled,((de,fe)=>{const pe=fe.stride,Y=a.create();return a.ortho(Y,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(Y,Y,[0,-a.EXTENT,0]),{u_matrix:Y,u_image:1,u_dimension:[pe,pe],u_zoom:de.overscaledZ,u_unpack:fe.unpackVector}})(l.tileID,z),f.id,X,le,he),l.needsHillshadePrepare=!1}const ih=g=>({u_matrix:new a.UniformMatrix4f(g),u_image0:new a.Uniform1i(g),u_skirt_height:new a.Uniform1f(g)}),Jl=(g,l)=>({u_matrix:g,u_image0:0,u_skirt_height:l}),Kc=(g,l,f,v,S,P,k,D,z,V,$,X,le,he,de)=>({u_proj_matrix:Float32Array.from(g),u_globe_matrix:l,u_normalize_matrix:Float32Array.from(v),u_merc_matrix:f,u_zoom_transition:S,u_merc_center:P,u_image0:0,u_frustum_tl:k,u_frustum_tr:D,u_frustum_br:z,u_frustum_bl:V,u_globe_pos:$,u_globe_radius:X,u_viewport:le,u_grid_matrix:de?Float32Array.from(de):new Float32Array(9),u_skirt_height:he});function Ql(g,l){return g!=null&&l!=null&&!(!g.hasData()||!l.hasData())&&g.demTexture!=null&&l.demTexture!=null&&g.tileID.key!==l.tileID.key}const is=new class{constructor(){this.operations={}}newMorphing(g,l,f,v,S){if(g in this.operations){const P=this.operations[g];P.to.tileID.key!==f.tileID.key&&(P.queued=f)}else this.operations[g]={startTime:v,phase:0,duration:S,from:l,to:f,queued:null}}getMorphValuesForProxy(g){if(!(g in this.operations))return null;const l=this.operations[g];return{from:l.from,to:l.to,phase:l.phase}}update(g){for(const l in this.operations){const f=this.operations[l];for(f.phase=(g-f.startTime)/f.duration;f.phase>=1||!this._validOp(f);)if(!this._nextOp(f,g)){delete this.operations[l];break}}}_nextOp(g,l){return!!g.queued&&(g.from=g.to,g.to=g.queued,g.queued=null,g.phase=0,g.startTime=l,!0)}_validOp(g){return g.from.hasData()&&g.to.hasData()}},Ds={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Yc(g){return 6*Math.pow(1.5,22-g)}function Cf(g,l){const f=1<<g.z;return!l&&(g.x===0||g.x===f-1)||g.y===0||g.y===f-1}const Hu=g=>({u_matrix:g});function oh(g,l,f,v,S){if(S>0){const P=a.exported.now(),k=(P-g.timeAdded)/S,D=l?(P-l.timeAdded)/S:-1,z=f.getSource(),V=v.coveringZoomLevel({tileSize:z.tileSize,roundZoom:z.roundZoom}),$=!l||Math.abs(l.tileID.overscaledZ-V)>Math.abs(g.tileID.overscaledZ-V),X=$&&g.refreshedUponExpiration?1:a.clamp($?k:1-D,0,1);return g.refreshedUponExpiration&&k>=1&&(g.refreshedUponExpiration=!1),l?{opacity:1,mix:1-X}:{opacity:X,mix:0}}return{opacity:1,mix:0}}class Zu extends a.SourceCache{constructor(l){const f={type:"raster-dem",maxzoom:l.transform.maxZoom},v=new Pe(rn(),null),S=jt("mock-dem",f,v,l.style);super("mock-dem",S,!1),S.setEventedParent(this),this._sourceLoaded=!0}_loadTile(l,f){l.state="loaded",f(null)}}class Jc extends a.SourceCache{constructor(l){const f=jt("proxy",{type:"geojson",maxzoom:l.transform.maxZoom},new Pe(rn(),null),l.style);super("proxy",f,!1),f.setEventedParent(this),this.map=this.getSource().map=l,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(l,f,v){if(l.freezeTileCoverage)return;this.transform=l;const S=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((P,k)=>{if(P[k.key]="",!this._tiles[k.key]){const D=new a.Tile(k,this._source.tileSize*k.overscaleFactor(),l.tileZoom);D.state="loaded",this._tiles[k.key]=D}return P}),{});for(const P in this._tiles)P in S||(this.freeFBO(P),this._tiles[P].unloadVectorData(),delete this._tiles[P])}freeFBO(l){const f=this.proxyCachedFBO[l];if(f!==void 0){const v=Object.values(f);this.renderCachePool.push(...v),delete this.proxyCachedFBO[l]}}deallocRenderCache(){this.renderCache.forEach((l=>l.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Qc extends a.OverscaledTileID{constructor(l,f,v){super(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,l.canonical.y),this.proxyTileKey=f,this.projMatrix=v}}class ah extends a.Elevation{constructor(l,f){super(),this.painter=l,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[v,S,P]=(function(z){const V=new a.StructArrayLayout2i4,$=new a.StructArrayLayout3ui6,X=131;V.reserve(17161),$.reserve(33800);const le=a.EXTENT/128,he=a.EXTENT+le/2,de=he+le;for(let pe=-le;pe<de;pe+=le)for(let Y=-le;Y<de;Y+=le){const ce=Y<0||Y>he||pe<0||pe>he?24575:0,_e=a.clamp(Math.round(Y),0,a.EXTENT),ve=a.clamp(Math.round(pe),0,a.EXTENT);V.emplaceBack(_e+ce,ve)}const fe=(pe,Y)=>{const ce=Y*X+pe;$.emplaceBack(ce+1,ce,ce+X),$.emplaceBack(ce+X,ce+X+1,ce+1)};for(let pe=1;pe<129;pe++)for(let Y=1;Y<129;Y++)fe(Y,pe);return[0,129].forEach((pe=>{for(let Y=0;Y<130;Y++)fe(Y,pe),fe(pe,Y)})),[V,$,32768]})(),k=l.context;this.gridBuffer=k.createVertexBuffer(v,a.posAttributes.members),this.gridIndexBuffer=k.createIndexBuffer(S),this.gridSegments=a.SegmentVector.simpleSegment(0,0,v.length,S.length),this.gridNoSkirtSegments=a.SegmentVector.simpleSegment(0,0,v.length,P),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Jc(f.map),this.orthoMatrix=a.create(),a.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,a.EXTENT,0,a.EXTENT,0,1);const D=k.gl;this._overlapStencilMode=new a.StencilMode({func:D.GEQUAL,mask:255},0,255,D.KEEP,D.KEEP,D.REPLACE),this._previousZoom=l.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=f,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Zu(f.map)}set style(l){l.on("data",this._onStyleDataEvent.bind(this)),l.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=l,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",(()=>{this._clearLineLayersFromRenderCache()}))}update(l,f,v){if(l&&l.terrain){this._style!==l&&(this.style=l),this.enabled=!0;const S=l.terrain.properties;this.sourceCache=l.terrain.drapeRenderMode===0?this._mockSourceCache:l._getSourceCache(S.get("source")),this._exaggeration=S.get("exaggeration");const P=()=>{this.sourceCache.used&&a.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const k=this.getScaledDemTileSize();this.sourceCache.update(f,k,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,P(),this._initializing=!0),P(),f.updateElevation(!0,v),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(f),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(l){this._findCoveringTileCache[l]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const l=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||l.efficiency!==100&&a.warnOnce(`Terrain render cache efficiency is not optimal (${l.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${l.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(l){l.coord&&l.dataType==="source"?this._clearRenderCacheForTile(l.sourceCacheId,l.coord):l.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const l in this._style._sourceCaches)this._style._sourceCaches[l].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((l=>l.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const l=2*this.proxySourceCache.getSource().tileSize;return[l,l]}set useVertexMorphing(l){this._useVertexMorphing=l}updateTileBinding(l){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const f=this.proxySourceCache,v=this.painter.transform;this._initializing&&(this._initializing=v._centerAltitude===0&&this.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(v.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const S=this.proxyCoords=f.getIds().map((z=>{const V=f.getTileByID(z).tileID;return V.projMatrix=v.calculateProjMatrix(V.toUnwrapped()),V}));(function(z,V){const $=V.transform.pointCoordinate(V.transform.getCameraPoint()),X=new a.Point($.x,$.y);z.sort(((le,he)=>{if(he.overscaledZ-le.overscaledZ)return he.overscaledZ-le.overscaledZ;const de=new a.Point(le.canonical.x+(1<<le.canonical.z)*le.wrap,le.canonical.y),fe=new a.Point(he.canonical.x+(1<<he.canonical.z)*he.wrap,he.canonical.y),pe=X.mult(1<<le.canonical.z);return pe.x-=.5,pe.y-=.5,pe.distSqr(de)-pe.distSqr(fe)}))})(S,this.painter),this._previousZoom=v.zoom;const P=this.proxyToSource||{};this.proxyToSource={},S.forEach((z=>{this.proxyToSource[z.key]={}})),this.terrainTileForTile={};const k=this._style._sourceCaches;for(const z in k){const V=k[z];if(!V.used||(V!==this.sourceCache&&this.resetTileLookupCache(V.id),this._setupProxiedCoordsForOrtho(V,l[z],P),V.usedForTerrain))continue;const $=l[z];V.getSource().reparseOverscaled&&this._assignTerrainTiles($)}this.proxiedCoords[f.id]=S.map((z=>new Qc(z,z.key,this.orthoMatrix))),this._assignTerrainTiles(S),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(P),this.renderingToTexture=!1,this._updateTimestamp=a.exported.now();const D={};this._visibleDemTiles=[];for(const z of this.proxyCoords){const V=this.terrainTileForTile[z.key];if(!V)continue;const $=V.tileID.key;$ in D||(this._visibleDemTiles.push(V),D[$]=$)}}_assignTerrainTiles(l){this._initializing||l.forEach((f=>{if(this.terrainTileForTile[f.key])return;const v=this._findTileCoveringTileID(f,this.sourceCache);v&&(this.terrainTileForTile[f.key]=v)}))}_prepareDEMTextures(){const l=this.painter.context,f=l.gl;for(const v in this.terrainTileForTile){const S=this.terrainTileForTile[v],P=S.dem;!P||S.demTexture&&!S.needsDEMTextureUpload||(l.activeTexture.set(f.TEXTURE1),nh(this.painter,S,P))}}_prepareDemTileUniforms(l,f,v,S){if(!f||f.demTexture==null)return!1;const P=l.tileID.canonical,k=Math.pow(2,f.tileID.canonical.z-P.z),D=S||"";return v[`u_dem_tl${D}`]=[P.x*k%1,P.y*k%1],v[`u_dem_scale${D}`]=k,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const l=this.painter.context,f=l.gl;if(!this._emptyDepthBufferTexture){const v=new a.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new a.Texture(l,v,f.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let l=0;const f=this._visibleDemTiles.reduce(((v,S)=>{if(!S.dem)return v;const P=S.dem.tree.minimums[0];return P>0&&l++,v+P}),0);return l?f/l:0}_updateEmptyDEMTexture(){const l=this.painter.context,f=l.gl;l.activeTexture.set(f.TEXTURE2);const v=this._getLoadedAreaMinimum(),S=new a.RGBAImage({width:1,height:1},new Uint8Array(a.DEMData.pack(v,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let P=this._emptyDEMTexture;return P?P.update(S,{premultiply:!1}):P=this._emptyDEMTexture=new a.Texture(l,S,f.RGBA,{premultiply:!1}),P}setupElevationDraw(l,f,v){const S=this.painter.context,P=S.gl,k=(D=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:a.DEMData.getUnpackVector(D),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var D;k.u_dem_size=this.sourceCache.getSource().tileSize,k.u_exaggeration=this.exaggeration();let z=null,V=null,$=1;if(v&&v.morphing&&this._useVertexMorphing){const X=v.morphing.srcDemTile,le=v.morphing.dstDemTile;$=v.morphing.phase,X&&le&&(this._prepareDemTileUniforms(l,X,k,"_prev")&&(V=X),this._prepareDemTileUniforms(l,le,k)&&(z=le))}if(V&&z?(S.activeTexture.set(P.TEXTURE2),z.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE,P.NEAREST),S.activeTexture.set(P.TEXTURE4),V.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE,P.NEAREST),k.u_dem_lerp=$):(z=this.terrainTileForTile[l.tileID.key],S.activeTexture.set(P.TEXTURE2),(this._prepareDemTileUniforms(l,z,k)?z.demTexture:this.emptyDEMTexture).bind(P.NEAREST,P.CLAMP_TO_EDGE)),S.activeTexture.set(P.TEXTURE3),v&&v.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE),this._depthFBO&&(k.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE),k.u_depth_size_inv=[1,1]),v&&v.useMeterToDem&&z){const X=(1<<z.tileID.canonical.z)*a.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;k.u_meter_to_dem=X}if(v&&v.labelPlaneMatrixInv&&(k.u_label_plane_matrix_inv=v.labelPlaneMatrixInv),f.setTerrainUniformValues(S,k),this.painter.transform.projection.name==="globe"){const X=this.globeUniformValues(this.painter.transform,l.tileID.canonical,v&&v.useDenormalizedUpVectorScale);f.setGlobeUniformValues(S,X)}}globeUniformValues(l,f,v){const S=l.projection;return{u_tile_tl_up:S.upVector(f,0,0),u_tile_tr_up:S.upVector(f,a.EXTENT,0),u_tile_br_up:S.upVector(f,a.EXTENT,a.EXTENT),u_tile_bl_up:S.upVector(f,0,a.EXTENT),u_tile_up_scale:v?a.globeMetersToEcef(1):S.upVectorScale(f,l.center.lat,l.worldSize).metersToTile}}renderToBackBuffer(l){const f=this.painter,v=this.painter.context;l.length!==0&&(v.bindFramebuffer.set(null),v.viewport.set([0,0,f.width,f.height]),f.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,(function(S,P,k,D,z){if(S.transform.projection.name==="globe")(function(V,$,X,le,he){const de=V.context,fe=de.gl;let pe,Y;const ce=V.options.showTerrainWireframe?2:0,_e=V.transform,ve=a.globeUseCustomAntiAliasing(V,de,_e),Be=(Ct,ot)=>{if(Y===Ct)return;const vt=[Ds[Ct],"PROJECTION_GLOBE_VIEW"];ve&&vt.push("CUSTOM_ANTIALIASING"),ot&&vt.push(Ds[ce]),pe=V.useProgram("globeRaster",null,vt),Y=Ct},Ne=V.colorModeForRenderPass(),Fe=new a.DepthMode(fe.LEQUAL,a.DepthMode.ReadWrite,V.depthRangeFor3D);is.update(he);const Ke=a.calculateGlobeMercatorMatrix(_e),Xe=[a.mercatorXfromLng(_e.center.lng),a.mercatorYfromLat(_e.center.lat)],at=ce?[!1,!0]:[!1],Ot=V.globeSharedBuffers,nt=[_e.width*a.exported.devicePixelRatio,_e.height*a.exported.devicePixelRatio],_t=Float32Array.from(_e.globeMatrix),st={useDenormalizedUpVectorScale:!0};if(at.forEach((Ct=>{const ot=V.transform,vt=Yc(ot.zoom)*$.exaggeration();Y=-1;const Mt=Ct?fe.LINES:fe.TRIANGLES;for(const Et of le){const Dt=X.getTile(Et),ar=a.StencilMode.disabled,xr=$.prevTerrainTileForTile[Et.key],tr=$.terrainTileForTile[Et.key];Ql(xr,tr)&&is.newMorphing(Et.key,xr,tr,he,250),de.activeTexture.set(fe.TEXTURE0),Dt.texture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE);const dr=is.getMorphValuesForProxy(Et.key),Rr=dr?1:0;dr&&a.extend$1(st,{morphing:{srcDemTile:dr.from,dstDemTile:dr.to,phase:a.easeCubicInOut(dr.phase)}});const Nr=a.tileCornersToBounds(Et.canonical),sr=a.getLatitudinalLod(Nr.getCenter().lat),Vr=a.getGridMatrix(Et.canonical,Nr,sr,ot.worldSize/ot._pixelsPerMercatorPixel),an=a.globeNormalizeECEF(a.globeTileBounds(Et.canonical)),sn=Kc(ot.projMatrix,_t,Ke,an,a.globeToMercatorTransition(ot.zoom),Xe,ot.frustumCorners.TL,ot.frustumCorners.TR,ot.frustumCorners.BR,ot.frustumCorners.BL,ot.globeCenterInViewSpace,ot.globeRadius,nt,vt,Vr);if(Be(Rr,Ct),$.setupElevationDraw(Dt,pe,st),V.prepareDrawProgram(de,pe,Et.toUnwrapped()),Ot){const[Qr,zi,Yn]=Ct?Ot.getWirefameBuffers(V.context,sr):Ot.getGridBuffers(sr,vt!==0);pe.draw(de,Mt,Fe,ar,Ne,a.CullFaceMode.backCCW,sn,"globe_raster",Qr,zi,Yn)}}})),Ot){const Ct=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];ve&&Ct.push("CUSTOM_ANTIALIASING"),pe=V.useProgram("globeRaster",null,Ct);for(const ot of le){const{x:vt,y:Mt,z:Et}=ot.canonical,Dt=Mt===0,ar=Mt===(1<<Et)-1,[xr,tr,dr,Rr]=Ot.getPoleBuffers(Et);if(Rr&&(Dt||ar)){const Nr=X.getTile(ot);de.activeTexture.set(fe.TEXTURE0),Nr.texture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE);let sr=a.globePoleMatrixForTile(Et,vt,_e);const Vr=a.globeNormalizeECEF(a.globeTileBounds(ot.canonical)),an=(sn,Qr)=>sn.draw(de,fe.TRIANGLES,Fe,a.StencilMode.disabled,Ne,a.CullFaceMode.disabled,Kc(_e.projMatrix,sr,sr,Vr,0,Xe,_e.frustumCorners.TL,_e.frustumCorners.TR,_e.frustumCorners.BR,_e.frustumCorners.BL,_e.globeCenterInViewSpace,_e.globeRadius,nt,0),"globe_pole_raster",Qr,dr,Rr);$.setupElevationDraw(Nr,pe,st),V.prepareDrawProgram(de,pe,ot.toUnwrapped()),Dt&&an(pe,xr),ar&&(sr=a.scale(a.create(),sr,[1,-1,1]),an(pe,tr))}}}})(S,P,k,D,z);else{const V=S.context,$=V.gl;let X,le;const he=S.options.showTerrainWireframe?2:0,de=(_e,ve)=>{if(le===_e)return;const Be=[Ds[_e]];ve&&Be.push(Ds[he]),X=S.useProgram("terrainRaster",null,Be),le=_e},fe=S.colorModeForRenderPass(),pe=new a.DepthMode($.LEQUAL,a.DepthMode.ReadWrite,S.depthRangeFor3D);is.update(z);const Y=S.transform,ce=Yc(Y.zoom)*P.exaggeration();(he?[!1,!0]:[!1]).forEach((_e=>{le=-1;const ve=_e?$.LINES:$.TRIANGLES,[Be,Ne]=_e?P.getWirefameBuffer():[P.gridIndexBuffer,P.gridSegments];for(const Fe of D){const Ke=k.getTile(Fe),Xe=a.StencilMode.disabled,at=P.prevTerrainTileForTile[Fe.key],Ot=P.terrainTileForTile[Fe.key];Ql(at,Ot)&&is.newMorphing(Fe.key,at,Ot,z,250),V.activeTexture.set($.TEXTURE0),Ke.texture.bind($.LINEAR,$.CLAMP_TO_EDGE,$.LINEAR_MIPMAP_NEAREST);const nt=is.getMorphValuesForProxy(Fe.key),_t=nt?1:0;let st;nt&&(st={morphing:{srcDemTile:nt.from,dstDemTile:nt.to,phase:a.easeCubicInOut(nt.phase)}});const Ct=Jl(Fe.projMatrix,Cf(Fe.canonical,Y.renderWorldCopies)?ce/10:ce);de(_t,_e),P.setupElevationDraw(Ke,X,st),S.prepareDrawProgram(V,X,Fe.toUnwrapped()),X.draw(V,ve,pe,Xe,fe,a.CullFaceMode.backCCW,Ct,"terrain_raster",P.gridBuffer,Be,Ne)}}))}})(f,this,this.proxySourceCache,l,this._updateTimestamp),this.renderingToTexture=!0,f.gpuTimingDeferredRenderEnd(),l.splice(0,l.length))}renderBatch(l){if(this._drapedRenderBatches.length===0)return l+1;this.renderingToTexture=!0;const f=this.painter,v=this.painter.context,S=this.proxySourceCache,P=this.proxiedCoords[S.id],k=this._drapedRenderBatches.shift(),D=[],z=f.style.order;let V=0;for(const $ of P){const X=S.getTileByID($.proxyTileKey),le=S.proxyCachedFBO[$.key]?S.proxyCachedFBO[$.key][l]:void 0,he=le!==void 0?S.renderCache[le]:this.pool[V++],de=le!==void 0;if(X.texture=he.tex,de&&!he.dirty){D.push(X.tileID);continue}let fe;v.bindFramebuffer.set(he.fb.framebuffer),this.renderedToTile=!1,he.dirty&&(v.clear({color:a.Color.transparent,stencil:0}),he.dirty=!1);for(let pe=k.start;pe<=k.end;++pe){const Y=f.style._layers[z[pe]];if(Y.isHidden(f.transform.zoom))continue;const ce=f.style._getLayerSourceCache(Y),_e=ce?this.proxyToSource[$.key][ce.id]:[$];if(!_e)continue;const ve=_e;v.viewport.set([0,0,he.fb.width,he.fb.height]),fe!==(ce?ce.id:null)&&(this._setupStencil(he,_e,Y,ce),fe=ce?ce.id:null),f.renderLayer(f,ce,Y,ve)}this.renderedToTile?(he.dirty=!0,D.push(X.tileID)):de||--V,V===5&&(V=0,this.renderToBackBuffer(D))}return this.renderToBackBuffer(D),this.renderingToTexture=!1,v.bindFramebuffer.set(null),v.viewport.set([0,0,f.width,f.height]),k.end+1}postRender(){}renderCacheEfficiency(l){const f=l.order.length;if(f===0)return{efficiency:100};let v,S=0,P=0,k=!1;for(let D=0;D<f;++D){const z=l._layers[l.order[D]];this._style.isLayerDraped(z)?(k&&++S,++P):k||(k=!0,v=z.id)}return P===0?{efficiency:100}:{efficiency:100*(1-S/P),firstUndrapedLayer:v}}getMinElevationBelowMSL(){let l=0;return this._visibleDemTiles.filter((f=>f.dem)).forEach((f=>{l=Math.min(l,f.dem.tree.minimums[0])})),l===0?l:(l-30)*this._exaggeration}raycast(l,f,v){if(!this._visibleDemTiles)return null;const S=this._visibleDemTiles.filter((P=>P.dem)).map((P=>{const k=P.tileID,D=1<<k.overscaledZ,{x:z,y:V}=k.canonical,$=z/D,X=(z+1)/D,le=V/D,he=(V+1)/D;return{minx:$,miny:le,maxx:X,maxy:he,t:P.dem.tree.raycastRoot($,le,X,he,l,f,v),tile:P}}));S.sort(((P,k)=>(P.t!==null?P.t:Number.MAX_VALUE)-(k.t!==null?k.t:Number.MAX_VALUE)));for(const P of S){if(P.t==null)return null;const k=P.tile.dem.tree.raycast(P.minx,P.miny,P.maxx,P.maxy,l,f,v);if(k!=null)return k}return null}_createFBO(){const l=this.painter.context,f=l.gl,v=this.drapeBufferSize;l.activeTexture.set(f.TEXTURE0);const S=new a.Texture(l,{width:v[0],height:v[1],data:null},f.RGBA);S.bind(f.LINEAR,f.CLAMP_TO_EDGE);const P=l.createFramebuffer(v[0],v[1],!1);return P.colorAttachment.set(S.texture),P.depthAttachment=new qe(l,P.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=l.createRenderbuffer(l.gl.DEPTH_STENCIL,v[0],v[1]),this._stencilRef=0,P.depthAttachment.set(this._sharedDepthStencil),l.clear({stencil:0})):P.depthAttachment.set(this._sharedDepthStencil),l.extTextureFilterAnisotropic&&!l.extTextureFilterAnisotropicForceOff&&f.texParameterf(f.TEXTURE_2D,l.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l.extTextureFilterAnisotropicMax),{fb:P,tex:S,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const l in this._style._sourceCaches)if(this._style._sourceCaches[l].hasTransition())return!0;return this._style.order.some((l=>{const f=this._style._layers[l],v=f.isHidden(this.painter.transform.zoom);return f.type==="custom"?!v&&f.shouldRedrape():!v&&f.hasTransition()}))}_clearLineLayersFromRenderCache(){let l=!1;for(const v of this._style._getSources())if(v instanceof ge){l=!0;break}if(!l)return;const f={};for(let v=0;v<this._style.order.length;++v){const S=this._style._layers[this._style.order[v]],P=this._style._getLayerSourceCache(S);if(P&&!f[P.id]&&!S.isHidden(this.painter.transform.zoom)&&S.type==="line"&&S.widthExpression()instanceof a.ZoomDependentExpression){f[P.id]=!0;for(const k of this.proxyCoords){const D=this.proxyToSource[k.key][P.id];if(D)for(const z of D)this._clearRenderCacheForTile(P.id,z)}}}}_clearRasterLayersFromRenderCache(){let l=!1;for(const v in this._style._sourceCaches)if(this._style._sourceCaches[v]._source instanceof xe){l=!0;break}if(!l)return;const f={};for(let v=0;v<this._style.order.length;++v){const S=this._style._layers[this._style.order[v]],P=this._style._getLayerSourceCache(S);if(!P||f[P.id]||S.isHidden(this.painter.transform.zoom)||S.type!=="raster")continue;const k=S.paint.get("raster-fade-duration");for(const D of this.proxyCoords){const z=this.proxyToSource[D.key][P.id];if(z)for(const V of z){const $=oh(P.getTile(V),P.findLoadedParent(V,0),P,this.painter.transform,k);($.opacity!==1||$.mix!==0)&&this._clearRenderCacheForTile(P.id,V)}}}}_setupDrapedRenderBatches(){const l=this._style.order,f=l.length;if(f===0)return;const v=[];let S,P=0,k=this._style._layers[l[P]];for(;!this._style.isLayerDraped(k)&&k.isHidden(this.painter.transform.zoom)&&++P<f;)k=this._style._layers[l[P]];for(;P<f;++P){const D=this._style._layers[l[P]];D.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(D)?S===void 0&&(S=P):S!==void 0&&(v.push({start:S,end:P-1}),S=void 0))}S!==void 0&&v.push({start:S,end:P-1}),this._drapedRenderBatches=v}_setupRenderCache(l){const f=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,f.renderCache.length>f.renderCachePool.length){const k=Object.values(f.proxyCachedFBO);f.proxyCachedFBO={};for(let D=0;D<k.length;++D){const z=Object.values(k[D]);f.renderCachePool.push(...z)}}return}this._clearRasterLayersFromRenderCache();const v=this.proxyCoords,S=this._tilesDirty;for(let k=v.length-1;k>=0;k--){const D=v[k];if(f.getTileByID(D.key),f.proxyCachedFBO[D.key]!==void 0){const z=l[D.key],V=this.proxyToSource[D.key];let $=0;for(const X in V){const le=V[X],he=z[X];if(!he||he.length!==le.length||le.some(((de,fe)=>de!==he[fe]||S[X]&&S[X].hasOwnProperty(de.key)))){$=-1;break}++$}for(const X in f.proxyCachedFBO[D.key])f.renderCache[f.proxyCachedFBO[D.key][X]].dirty=$<0||$!==Object.values(z).length}}const P=[...this._drapedRenderBatches];P.sort(((k,D)=>D.end-D.start-(k.end-k.start)));for(const k of P)for(const D of v){if(f.proxyCachedFBO[D.key])continue;let z=f.renderCachePool.pop();z===void 0&&f.renderCache.length<50&&(z=f.renderCache.length,f.renderCache.push(this._createFBO())),z!==void 0&&(f.proxyCachedFBO[D.key]={},f.proxyCachedFBO[D.key][k.start]=z,f.renderCache[z].dirty=!0)}this._tilesDirty={}}_setupStencil(l,f,v,S){if(!S||!this._sourceTilesOverlap[S.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const P=this.painter.context,k=P.gl;if(f.length<=1)return void(this._overlapStencilType=!1);let D;if(v.isTileClipped())D=f.length,this._overlapStencilMode.test={func:k.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(f[0].overscaledZ>f[f.length-1].overscaledZ))return void(this._overlapStencilType=!1);D=1,this._overlapStencilMode.test={func:k.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+D>255&&(P.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=D,this._overlapStencilMode.ref=this._stencilRef,v.isTileClipped()&&this._renderTileClippingMasks(f,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(l){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[l.key]),this._overlapStencilMode):a.StencilMode.disabled}_renderTileClippingMasks(l,f){const v=this.painter,S=this.painter.context,P=S.gl;v._tileClippingMaskIDs={},S.setColorMode(a.ColorMode.disabled),S.setDepthMode(a.DepthMode.disabled);const k=v.useProgram("clippingMask");for(const D of l){const z=v._tileClippingMaskIDs[D.key]=--f;k.draw(S,P.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:P.ALWAYS,mask:0},z,255,P.KEEP,P.KEEP,P.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,Hu(D.projMatrix),"$clipping",v.tileExtentBuffer,v.quadTriangleIndexBuffer,v.tileExtentSegments)}}pointCoordinate(l){const f=this.painter.transform;if(l.x<0||l.x>f.width||l.y<0||l.y>f.height)return null;const v=[l.x,l.y,1,1];a.transformMat4$1(v,v,f.pixelMatrixInverse),a.scale$1(v,v,1/v[3]),v[0]/=f.worldSize,v[1]/=f.worldSize;const S=f._camera.position,P=a.mercatorZfromAltitude(1,f.center.lat),k=[S[0],S[1],S[2]/P,0],D=a.subtract([],v.slice(0,3),k);a.normalize(D,D);const z=this.raycast(k,D,this._exaggeration);return z!==null&&z?(a.scaleAndAdd(k,k,D,z),k[3]=k[2],k[2]*=P,k):null}drawDepth(){const l=this.painter,f=l.context,v=this.proxySourceCache,S=Math.ceil(l.width),P=Math.ceil(l.height);if(!this._depthFBO||this._depthFBO.width===S&&this._depthFBO.height===P||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const k=f.gl,D=f.createFramebuffer(S,P,!0);f.activeTexture.set(k.TEXTURE0);const z=new a.Texture(f,{width:S,height:P,data:null},k.RGBA);z.bind(k.NEAREST,k.CLAMP_TO_EDGE),D.colorAttachment.set(z.texture);const V=f.createRenderbuffer(f.gl.DEPTH_COMPONENT16,S,P);D.depthAttachment.set(V),this._depthFBO=D,this._depthTexture=z}f.bindFramebuffer.set(this._depthFBO.framebuffer),f.viewport.set([0,0,S,P]),(function(k,D,z,V){if(k.transform.projection.name==="globe")return;const $=k.context,X=$.gl;$.clear({depth:1});const le=k.useProgram("terrainDepth"),he=new a.DepthMode(X.LESS,a.DepthMode.ReadWrite,k.depthRangeFor3D);for(const de of V){const fe=z.getTile(de),pe=Jl(de.projMatrix,0);D.setupElevationDraw(fe,le),le.draw($,X.TRIANGLES,he,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.backCCW,pe,"terrain_depth",D.gridBuffer,D.gridIndexBuffer,D.gridNoSkirtSegments)}})(l,this,v,this.proxyCoords)}_setupProxiedCoordsForOrtho(l,f,v){if(l.getSource()instanceof mt)return this._setupProxiedCoordsForImageSource(l,f,v);this._findCoveringTileCache[l.id]=this._findCoveringTileCache[l.id]||{};const S=this.proxiedCoords[l.id]=[],P=this.proxyCoords;for(let D=0;D<P.length;D++){const z=P[D],V=this._findTileCoveringTileID(z,l);if(V){const $=this._createProxiedId(z,V,v[z.key]&&v[z.key][l.id]);S.push($),this.proxyToSource[z.key][l.id]=[$]}}let k=!1;for(let D=0;D<f.length;D++){const z=l.getTile(f[D]);if(!z||!z.hasData())continue;const V=this._findTileCoveringTileID(z.tileID,this.proxySourceCache);if(V&&V.tileID.canonical.z!==z.tileID.canonical.z){const $=this.proxyToSource[V.tileID.key][l.id],X=this._createProxiedId(V.tileID,z,v[V.tileID.key]&&v[V.tileID.key][l.id]);$?$.splice($.length-1,0,X):this.proxyToSource[V.tileID.key][l.id]=[X],S.push(X),k=!0}}this._sourceTilesOverlap[l.id]=k}_setupProxiedCoordsForImageSource(l,f,v){if(!l.getSource().loaded())return;const S=this.proxiedCoords[l.id]=[],P=this.proxyCoords,k=l.getSource(),D=new a.Point(k.tileID.x,k.tileID.y)._div(1<<k.tileID.z),z=k.coordinates.map(a.MercatorCoordinate.fromLngLat).reduce((($,X)=>($.min.x=Math.min($.min.x,X.x-D.x),$.min.y=Math.min($.min.y,X.y-D.y),$.max.x=Math.max($.max.x,X.x-D.x),$.max.y=Math.max($.max.y,X.y-D.y),$)),{min:new a.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),V=($,X)=>{const le=$.wrap+$.canonical.x/(1<<$.canonical.z),he=$.canonical.y/(1<<$.canonical.z),de=a.EXTENT/(1<<$.canonical.z),fe=X.wrap+X.canonical.x/(1<<X.canonical.z),pe=X.canonical.y/(1<<X.canonical.z);return le+de<fe+z.min.x||le>fe+z.max.x||he+de<pe+z.min.y||he>pe+z.max.y};for(let $=0;$<P.length;$++){const X=P[$];for(let le=0;le<f.length;le++){const he=l.getTile(f[le]);if(!he||!he.hasData()||V(X,he.tileID))continue;const de=this._createProxiedId(X,he,v[X.key]&&v[X.key][l.id]),fe=this.proxyToSource[X.key][l.id];fe?fe.push(de):this.proxyToSource[X.key][l.id]=[de],S.push(de)}}}_createProxiedId(l,f,v){let S=this.orthoMatrix;if(v){const P=v.find((k=>k.key===f.tileID.key));if(P)return P}if(f.tileID.key!==l.key){const P=l.canonical.z-f.tileID.canonical.z;let k,D,z;S=a.create();const V=f.tileID.wrap-l.wrap<<l.overscaledZ;P>0?(k=a.EXTENT>>P,D=k*((f.tileID.canonical.x<<P)-l.canonical.x+V),z=k*((f.tileID.canonical.y<<P)-l.canonical.y)):(k=a.EXTENT<<-P,D=a.EXTENT*(f.tileID.canonical.x-(l.canonical.x+V<<-P)),z=a.EXTENT*(f.tileID.canonical.y-(l.canonical.y<<-P))),a.ortho(S,0,k,0,k,0,1),a.translate(S,S,[D,z,0])}return new Qc(f.tileID,l.key,S)}_findTileCoveringTileID(l,f){let v=f.getTile(l);if(v&&v.hasData())return v;const S=this._findCoveringTileCache[f.id],P=S[l.key];if(v=P?f.getTileByID(P):null,v&&v.hasData()||P===null)return v;let k=v?v.tileID:l,D=k.overscaledZ;const z=f.getSource().minzoom,V=[];if(!P){const X=f.getSource().maxzoom;if(l.canonical.z>=X){const le=l.canonical.z-X;f.getSource().reparseOverscaled?(D=Math.max(l.canonical.z+2,f.transform.tileZoom),k=new a.OverscaledTileID(D,l.wrap,X,l.canonical.x>>le,l.canonical.y>>le)):le!==0&&(D=X,k=new a.OverscaledTileID(D,l.wrap,X,l.canonical.x>>le,l.canonical.y>>le))}k.key!==l.key&&(V.push(k.key),v=f.getTile(k))}const $=X=>{V.forEach((le=>{S[le]=X})),V.length=0};for(D-=1;D>=z&&(!v||!v.hasData());D--){v&&$(v.tileID.key);const X=k.calculateScaledKey(D);if(v=f.getTileByID(X),v&&v.hasData())break;const le=S[X];if(le===null)break;le===void 0?V.push(X):v=f.getTileByID(le)}return $(v?v.tileID.key:null),v&&v.hasData()?v:null}findDEMTileFor(l){return this.enabled?this._findTileCoveringTileID(l,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(l,f){let v=this._tilesDirty[l];v||(v=this._tilesDirty[l]={}),v[f.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const l=(function(f){let v=0;const S=new a.StructArrayLayout2ui4,P=131;for(let k=1;k<129;k++){for(let D=1;D<129;D++)v=k*P+D,S.emplaceBack(v,v+1),S.emplaceBack(v,v+P),S.emplaceBack(v+1,v+P),k===128&&S.emplaceBack(v+P,v+P+1);S.emplaceBack(v+1,v+1+P)}return S})();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(l),this.wireframeSegments=a.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,l.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Xr{static cacheKey(l,f,v,S){let P=`${f}${S?S.cacheKey:""}`;for(const k of v)l.usedDefines.includes(k)&&(P+=`/${k}`);return P}constructor(l,f,v,S,P,k){const D=l.gl;this.program=D.createProgram();const z=(function(Y){const ce=[];for(let _e=0;_e<Y.length;_e++){if(Y[_e]===null)continue;const ve=Y[_e].split(" ");ce.push(ve.pop())}return ce})(v.staticAttributes),V=S?S.getBinderAttributes():[],$=z.concat(V);let X=S?S.defines():[];X=X.concat(k.map((Y=>`#define ${Y}`)));const le=l.isWebGL2?`#version 300 es
`:"",he=le+X.concat(l.extStandardDerivatives&&le.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(Gu):Gu,Gu,Zc,Yl.fragmentSource,wa.fragmentSource,v.fragmentSource).join(`
`),de=le+X.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Zc,Yl.vertexSource,wa.vertexSource,Zi.vertexSource,v.vertexSource).join(`
`),fe=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);D.shaderSource(fe,he),D.compileShader(fe),D.attachShader(this.program,fe);const pe=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(pe,de),D.compileShader(pe),D.attachShader(this.program,pe),this.attributes={},this.numAttributes=$.length;for(let Y=0;Y<this.numAttributes;Y++)$[Y]&&(D.bindAttribLocation(this.program,Y,$[Y]),this.attributes[$[Y]]=Y);D.linkProgram(this.program),D.deleteShader(pe),D.deleteShader(fe),this.fixedUniforms=P(l),this.binderUniforms=S?S.getUniforms(l):[],k.includes("TERRAIN")&&(this.terrainUniforms=(Y=>({u_dem:new a.Uniform1i(Y),u_dem_prev:new a.Uniform1i(Y),u_dem_unpack:new a.Uniform4f(Y),u_dem_tl:new a.Uniform2f(Y),u_dem_scale:new a.Uniform1f(Y),u_dem_tl_prev:new a.Uniform2f(Y),u_dem_scale_prev:new a.Uniform1f(Y),u_dem_size:new a.Uniform1f(Y),u_dem_lerp:new a.Uniform1f(Y),u_exaggeration:new a.Uniform1f(Y),u_depth:new a.Uniform1i(Y),u_depth_size_inv:new a.Uniform2f(Y),u_meter_to_dem:new a.Uniform1f(Y),u_label_plane_matrix_inv:new a.UniformMatrix4f(Y)}))(l)),k.includes("GLOBE")&&(this.globeUniforms=(Y=>({u_tile_tl_up:new a.Uniform3f(Y),u_tile_tr_up:new a.Uniform3f(Y),u_tile_br_up:new a.Uniform3f(Y),u_tile_bl_up:new a.Uniform3f(Y),u_tile_up_scale:new a.Uniform1f(Y)}))(l)),k.includes("FOG")&&(this.fogUniforms=(Y=>({u_fog_matrix:new a.UniformMatrix4f(Y),u_fog_range:new a.Uniform2f(Y),u_fog_color:new a.Uniform4f(Y),u_fog_horizon_blend:new a.Uniform1f(Y),u_fog_temporal_offset:new a.Uniform1f(Y),u_frustum_tl:new a.Uniform3f(Y),u_frustum_tr:new a.Uniform3f(Y),u_frustum_br:new a.Uniform3f(Y),u_frustum_bl:new a.Uniform3f(Y),u_globe_pos:new a.Uniform3f(Y),u_globe_radius:new a.Uniform1f(Y),u_globe_transition:new a.Uniform1f(Y),u_is_globe:new a.Uniform1i(Y),u_viewport:new a.Uniform2f(Y)}))(l))}}setTerrainUniformValues(l,f){if(!this.terrainUniforms)return;const v=this.terrainUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const S in f)v[S]&&v[S].set(this.program,S,f[S])}}setGlobeUniformValues(l,f){if(!this.globeUniforms)return;const v=this.globeUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const S in f)v[S]&&v[S].set(this.program,S,f[S])}}setFogUniformValues(l,f){if(!this.fogUniforms)return;const v=this.fogUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const S in f)v[S].set(this.program,S,f[S])}}draw(l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe){const pe=l.gl;if(this.failedToCreate)return;l.program.set(this.program),l.setDepthMode(v),l.setStencilMode(S),l.setColorMode(P),l.setCullFace(k);for(const ce of Object.keys(this.fixedUniforms))this.fixedUniforms[ce].set(this.program,ce,D[ce]);de&&de.setUniforms(this.program,l,this.binderUniforms,le,{zoom:he});const Y={[pe.LINES]:2,[pe.TRIANGLES]:3,[pe.LINE_STRIP]:1}[f];for(const ce of X.get()){const _e=ce.vaos||(ce.vaos={});(_e[z]||(_e[z]=new Af)).bind(l,this,V,de?de.getPaintVertexBuffers():[],$,ce.vertexOffset,fe||[]),pe.drawElements(f,ce.primitiveLength*Y,pe.UNSIGNED_SHORT,ce.primitiveOffset*Y*2)}}}function Xu(g,l){const f=Math.pow(2,l.tileID.overscaledZ),v=l.tileSize*Math.pow(2,g.transform.tileZoom)/f,S=v*(l.tileID.canonical.x+l.tileID.wrap*f),P=v*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_tile_units_to_pixels:1/We(l,1,g.transform.tileZoom),u_pixel_coord_upper:[S>>16,P>>16],u_pixel_coord_lower:[65535&S,65535&P]}}const If=a.create(),sh=(g,l,f,v,S,P,k,D,z,V,$)=>{const X=l.style.light,le=X.properties.get("position"),he=[le.x,le.y,le.z],de=a.create$1();X.properties.get("anchor")==="viewport"&&(a.fromRotation(de,-l.transform.angle),a.transformMat3(he,he,de));const fe=X.properties.get("color"),pe=l.transform,Y={u_matrix:g,u_lightpos:he,u_lightintensity:X.properties.get("intensity"),u_lightcolor:[fe.r,fe.g,fe.b],u_vertical_gradient:+f,u_opacity:v,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:If,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:S,u_edge_radius:P};return pe.projection.name==="globe"&&(Y.u_tile_id=[k.canonical.x,k.canonical.y,1<<k.canonical.z],Y.u_zoom_transition=z,Y.u_inv_rot_matrix=$,Y.u_merc_center=V,Y.u_up_dir=pe.projection.upVector(new a.CanonicalTileID(0,0,0),V[0]*a.EXTENT,V[1]*a.EXTENT),Y.u_height_lift=D),Y},Of=(g,l,f,v,S,P,k,D,z,V,$,X)=>{const le=sh(g,l,f,v,S,P,k,z,V,$,X),he={u_height_factor:-Math.pow(2,k.overscaledZ)/D.tileSize/8};return a.extend(le,Xu(l,D),he)},dl=g=>({u_matrix:g}),lh=(g,l,f)=>a.extend(dl(g),Xu(l,f)),Id=(g,l)=>({u_matrix:g,u_world:l}),uh=(g,l,f,v)=>a.extend(lh(g,l,f),{u_world:v}),Ku=a.create(),ch=(g,l,f,v,S,P)=>{const k=g.transform,D=k.projection.name==="globe";let z;if(P.paint.get("circle-pitch-alignment")==="map")if(D){const $=a.globePixelsToTileUnits(k.zoom,l.canonical)*k._pixelsPerMercatorPixel;z=Float32Array.from([$,0,0,$])}else z=k.calculatePixelsToTileUnitsMatrix(f);else z=new Float32Array([k.pixelsToGLUnits[0],0,0,k.pixelsToGLUnits[1]]);const V={u_camera_to_center_distance:k.cameraToCenterDistance,u_matrix:g.translatePosMatrix(l.projMatrix,f,P.paint.get("circle-translate"),P.paint.get("circle-translate-anchor")),u_device_pixel_ratio:a.exported.devicePixelRatio,u_extrude_scale:z,u_inv_rot_matrix:Ku,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(D){V.u_inv_rot_matrix=v,V.u_merc_center=S,V.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],V.u_zoom_transition=a.globeToMercatorTransition(k.zoom);const $=S[0]*a.EXTENT,X=S[1]*a.EXTENT;V.u_up_dir=k.projection.upVector(new a.CanonicalTileID(0,0,0),$,X)}return V},e1=g=>{const l=[];return g.paint.get("circle-pitch-alignment")==="map"&&l.push("PITCH_WITH_MAP"),g.paint.get("circle-pitch-scale")==="map"&&l.push("SCALE_WITH_MAP"),l},t1=(g,l,f,v)=>{const S=a.EXTENT/f.tileSize;return{u_matrix:g,u_camera_to_center_distance:l.getCameraToCenterDistance(v),u_extrude_scale:[l.pixelsToGLUnits[0]/S,l.pixelsToGLUnits[1]/S]}},Yu=(g,l,f=1)=>({u_matrix:g,u_color:l,u_overlay:0,u_overlay_scale:f}),hh=a.create(),fh=(g,l,f,v,S,P,k)=>{const D=g.transform,z=D.projection.name==="globe",V=z?a.globePixelsToTileUnits(D.zoom,l.canonical)*D._pixelsPerMercatorPixel:We(f,1,P),$={u_matrix:l.projMatrix,u_extrude_scale:V,u_intensity:k,u_inv_rot_matrix:hh,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(z){$.u_inv_rot_matrix=v,$.u_merc_center=S,$.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],$.u_zoom_transition=a.globeToMercatorTransition(D.zoom);const X=S[0]*a.EXTENT,le=S[1]*a.EXTENT;$.u_up_dir=D.projection.upVector(new a.CanonicalTileID(0,0,0),X,le)}return $},eu=(g,l,f,v,S,P,k)=>{const D=g.transform,z=D.calculatePixelsToTileUnitsMatrix(l);return{u_matrix:dh(g,l,f,v),u_pixels_to_tile_units:z,u_device_pixel_ratio:P,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:S,u_texsize:ru(f)?l.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:tu(l,g.transform),u_alpha_discard_threshold:0,u_trim_offset:k}},Ju=(g,l,f,v,S)=>{const P=g.transform;return{u_matrix:dh(g,l,f,v),u_texsize:l.imageAtlasTexture.size,u_pixels_to_tile_units:P.calculatePixelsToTileUnitsMatrix(l),u_device_pixel_ratio:S,u_image:0,u_tile_units_to_pixels:tu(l,P),u_units_to_pixels:[1/P.pixelsToGLUnits[0],1/P.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function tu(g,l){return 1/We(g,1,l.tileZoom)}function dh(g,l,f,v){return g.translatePosMatrix(v||l.tileID.projMatrix,l,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}function ru(g){const l=g.paint.get("line-dasharray").value;return l.value||l.kind!=="constant"}const r1=(g,l,f,v,S,P)=>{return{u_matrix:g,u_tl_parent:l,u_scale_parent:f,u_fade_t:v.mix,u_opacity:v.opacity*S.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:S.paint.get("raster-brightness-min"),u_brightness_high:S.paint.get("raster-brightness-max"),u_saturation_factor:(D=S.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(k=S.paint.get("raster-contrast"),k>0?1/(1-k):1+k),u_spin_weights:_o(S.paint.get("raster-hue-rotate")),u_perspective_transform:P};var k,D};function _o(g){g*=Math.PI/180;const l=Math.sin(g),f=Math.cos(g);return[(2*f+1)/3,(-Math.sqrt(3)*l-f+1)/3,(Math.sqrt(3)*l-f+1)/3]}const Ls=a.create(),ph=(g,l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe)=>{const pe=S.transform,Y={u_is_size_zoom_constant:+(g==="constant"||g==="source"),u_is_size_feature_constant:+(g==="constant"||g==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:pe.cameraToCenterDistance,u_rotate_symbol:+f,u_aspect_ratio:pe.width/pe.height,u_fade_change:S.options.fadeDuration?S.symbolFadeChange:1,u_matrix:P,u_label_plane_matrix:k,u_coord_matrix:D,u_is_text:+z,u_pitch_with_map:+v,u_texsize:V,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ls,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Ls,u_up_vector:[0,-1,0]};return fe.name==="globe"&&(Y.u_tile_id=[$.canonical.x,$.canonical.y,1<<$.canonical.z],Y.u_zoom_transition=X,Y.u_inv_rot_matrix=he,Y.u_merc_center=le,Y.u_camera_forward=pe._camera.forward(),Y.u_ecef_origin=a.globeECEFOrigin(pe.globeMatrix,$.toUnwrapped()),Y.u_tile_matrix=Float32Array.from(pe.globeMatrix),Y.u_up_vector=de),Y},pl=(g,l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe,pe)=>a.extend(ph(g,l,f,v,S,P,k,D,z,V,X,le,he,de,fe,pe),{u_gamma_scale:v?S.transform.cameraToCenterDistance*Math.cos(S.terrain?0:S.transform._pitch):1,u_device_pixel_ratio:a.exported.devicePixelRatio,u_is_halo:1}),kf=(g,l,f,v,S,P,k,D,z,V,$,X,le,he,de,fe)=>a.extend(pl(g,l,f,v,S,P,k,D,!0,z,!0,$,X,le,he,de,fe),{u_texsize_icon:V,u_texture_icon:1}),n1=(g,l,f)=>({u_matrix:g,u_opacity:l,u_color:f}),mh=(g,l,f,v,S)=>a.extend((function(P,k,D){const z=k.imageManager.getPattern(P.toString()),{width:V,height:$}=k.imageManager.getPixelSize(),X=Math.pow(2,D.tileID.overscaledZ),le=D.tileSize*Math.pow(2,k.transform.tileZoom)/X,he=le*(D.tileID.canonical.x+D.tileID.wrap*X),de=le*D.tileID.canonical.y;return{u_image:0,u_pattern_tl:z.tl,u_pattern_br:z.br,u_texsize:[V,$],u_pattern_size:z.displaySize,u_tile_units_to_pixels:1/We(D,1,k.transform.tileZoom),u_pixel_coord_upper:[he>>16,de>>16],u_pixel_coord_lower:[65535&he,65535&de]}})(v,f,S),{u_matrix:g,u_opacity:l}),Qu={fillExtrusion:g=>({u_matrix:new a.UniformMatrix4f(g),u_lightpos:new a.Uniform3f(g),u_lightintensity:new a.Uniform1f(g),u_lightcolor:new a.Uniform3f(g),u_vertical_gradient:new a.Uniform1f(g),u_opacity:new a.Uniform1f(g),u_edge_radius:new a.Uniform1f(g),u_ao:new a.Uniform2f(g),u_tile_id:new a.Uniform3f(g),u_zoom_transition:new a.Uniform1f(g),u_inv_rot_matrix:new a.UniformMatrix4f(g),u_merc_center:new a.Uniform2f(g),u_up_dir:new a.Uniform3f(g),u_height_lift:new a.Uniform1f(g)}),fillExtrusionPattern:g=>({u_matrix:new a.UniformMatrix4f(g),u_lightpos:new a.Uniform3f(g),u_lightintensity:new a.Uniform1f(g),u_lightcolor:new a.Uniform3f(g),u_vertical_gradient:new a.Uniform1f(g),u_height_factor:new a.Uniform1f(g),u_edge_radius:new a.Uniform1f(g),u_ao:new a.Uniform2f(g),u_tile_id:new a.Uniform3f(g),u_zoom_transition:new a.Uniform1f(g),u_inv_rot_matrix:new a.UniformMatrix4f(g),u_merc_center:new a.Uniform2f(g),u_up_dir:new a.Uniform3f(g),u_height_lift:new a.Uniform1f(g),u_image:new a.Uniform1i(g),u_texsize:new a.Uniform2f(g),u_pixel_coord_upper:new a.Uniform2f(g),u_pixel_coord_lower:new a.Uniform2f(g),u_tile_units_to_pixels:new a.Uniform1f(g),u_opacity:new a.Uniform1f(g)}),fill:g=>({u_matrix:new a.UniformMatrix4f(g)}),fillPattern:g=>({u_matrix:new a.UniformMatrix4f(g),u_image:new a.Uniform1i(g),u_texsize:new a.Uniform2f(g),u_pixel_coord_upper:new a.Uniform2f(g),u_pixel_coord_lower:new a.Uniform2f(g),u_tile_units_to_pixels:new a.Uniform1f(g)}),fillOutline:g=>({u_matrix:new a.UniformMatrix4f(g),u_world:new a.Uniform2f(g)}),fillOutlinePattern:g=>({u_matrix:new a.UniformMatrix4f(g),u_world:new a.Uniform2f(g),u_image:new a.Uniform1i(g),u_texsize:new a.Uniform2f(g),u_pixel_coord_upper:new a.Uniform2f(g),u_pixel_coord_lower:new a.Uniform2f(g),u_tile_units_to_pixels:new a.Uniform1f(g)}),circle:g=>({u_camera_to_center_distance:new a.Uniform1f(g),u_extrude_scale:new a.UniformMatrix2f(g),u_device_pixel_ratio:new a.Uniform1f(g),u_matrix:new a.UniformMatrix4f(g),u_inv_rot_matrix:new a.UniformMatrix4f(g),u_merc_center:new a.Uniform2f(g),u_tile_id:new a.Uniform3f(g),u_zoom_transition:new a.Uniform1f(g),u_up_dir:new a.Uniform3f(g)}),collisionBox:g=>({u_matrix:new a.UniformMatrix4f(g),u_camera_to_center_distance:new a.Uniform1f(g),u_extrude_scale:new a.Uniform2f(g)}),collisionCircle:g=>({u_matrix:new a.UniformMatrix4f(g),u_inv_matrix:new a.UniformMatrix4f(g),u_camera_to_center_distance:new a.Uniform1f(g),u_viewport_size:new a.Uniform2f(g)}),debug:g=>({u_color:new a.UniformColor(g),u_matrix:new a.UniformMatrix4f(g),u_overlay:new a.Uniform1i(g),u_overlay_scale:new a.Uniform1f(g)}),clippingMask:g=>({u_matrix:new a.UniformMatrix4f(g)}),heatmap:g=>({u_extrude_scale:new a.Uniform1f(g),u_intensity:new a.Uniform1f(g),u_matrix:new a.UniformMatrix4f(g),u_inv_rot_matrix:new a.UniformMatrix4f(g),u_merc_center:new a.Uniform2f(g),u_tile_id:new a.Uniform3f(g),u_zoom_transition:new a.Uniform1f(g),u_up_dir:new a.Uniform3f(g)}),heatmapTexture:g=>({u_image:new a.Uniform1i(g),u_color_ramp:new a.Uniform1i(g),u_opacity:new a.Uniform1f(g)}),hillshade:g=>({u_matrix:new a.UniformMatrix4f(g),u_image:new a.Uniform1i(g),u_latrange:new a.Uniform2f(g),u_light:new a.Uniform2f(g),u_shadow:new a.UniformColor(g),u_highlight:new a.UniformColor(g),u_accent:new a.UniformColor(g)}),hillshadePrepare:g=>({u_matrix:new a.UniformMatrix4f(g),u_image:new a.Uniform1i(g),u_dimension:new a.Uniform2f(g),u_zoom:new a.Uniform1f(g),u_unpack:new a.Uniform4f(g)}),line:g=>({u_matrix:new a.UniformMatrix4f(g),u_pixels_to_tile_units:new a.UniformMatrix2f(g),u_device_pixel_ratio:new a.Uniform1f(g),u_units_to_pixels:new a.Uniform2f(g),u_dash_image:new a.Uniform1i(g),u_gradient_image:new a.Uniform1i(g),u_image_height:new a.Uniform1f(g),u_texsize:new a.Uniform2f(g),u_tile_units_to_pixels:new a.Uniform1f(g),u_alpha_discard_threshold:new a.Uniform1f(g),u_trim_offset:new a.Uniform2f(g)}),linePattern:g=>({u_matrix:new a.UniformMatrix4f(g),u_texsize:new a.Uniform2f(g),u_pixels_to_tile_units:new a.UniformMatrix2f(g),u_device_pixel_ratio:new a.Uniform1f(g),u_image:new a.Uniform1i(g),u_units_to_pixels:new a.Uniform2f(g),u_tile_units_to_pixels:new a.Uniform1f(g),u_alpha_discard_threshold:new a.Uniform1f(g)}),raster:g=>({u_matrix:new a.UniformMatrix4f(g),u_tl_parent:new a.Uniform2f(g),u_scale_parent:new a.Uniform1f(g),u_fade_t:new a.Uniform1f(g),u_opacity:new a.Uniform1f(g),u_image0:new a.Uniform1i(g),u_image1:new a.Uniform1i(g),u_brightness_low:new a.Uniform1f(g),u_brightness_high:new a.Uniform1f(g),u_saturation_factor:new a.Uniform1f(g),u_contrast_factor:new a.Uniform1f(g),u_spin_weights:new a.Uniform3f(g),u_perspective_transform:new a.Uniform2f(g)}),symbolIcon:g=>({u_is_size_zoom_constant:new a.Uniform1i(g),u_is_size_feature_constant:new a.Uniform1i(g),u_size_t:new a.Uniform1f(g),u_size:new a.Uniform1f(g),u_camera_to_center_distance:new a.Uniform1f(g),u_rotate_symbol:new a.Uniform1i(g),u_aspect_ratio:new a.Uniform1f(g),u_fade_change:new a.Uniform1f(g),u_matrix:new a.UniformMatrix4f(g),u_label_plane_matrix:new a.UniformMatrix4f(g),u_coord_matrix:new a.UniformMatrix4f(g),u_is_text:new a.Uniform1i(g),u_pitch_with_map:new a.Uniform1i(g),u_texsize:new a.Uniform2f(g),u_tile_id:new a.Uniform3f(g),u_zoom_transition:new a.Uniform1f(g),u_inv_rot_matrix:new a.UniformMatrix4f(g),u_merc_center:new a.Uniform2f(g),u_camera_forward:new a.Uniform3f(g),u_tile_matrix:new a.UniformMatrix4f(g),u_up_vector:new a.Uniform3f(g),u_ecef_origin:new a.Uniform3f(g),u_texture:new a.Uniform1i(g)}),symbolSDF:g=>({u_is_size_zoom_constant:new a.Uniform1i(g),u_is_size_feature_constant:new a.Uniform1i(g),u_size_t:new a.Uniform1f(g),u_size:new a.Uniform1f(g),u_camera_to_center_distance:new a.Uniform1f(g),u_rotate_symbol:new a.Uniform1i(g),u_aspect_ratio:new a.Uniform1f(g),u_fade_change:new a.Uniform1f(g),u_matrix:new a.UniformMatrix4f(g),u_label_plane_matrix:new a.UniformMatrix4f(g),u_coord_matrix:new a.UniformMatrix4f(g),u_is_text:new a.Uniform1i(g),u_pitch_with_map:new a.Uniform1i(g),u_texsize:new a.Uniform2f(g),u_texture:new a.Uniform1i(g),u_gamma_scale:new a.Uniform1f(g),u_device_pixel_ratio:new a.Uniform1f(g),u_tile_id:new a.Uniform3f(g),u_zoom_transition:new a.Uniform1f(g),u_inv_rot_matrix:new a.UniformMatrix4f(g),u_merc_center:new a.Uniform2f(g),u_camera_forward:new a.Uniform3f(g),u_tile_matrix:new a.UniformMatrix4f(g),u_up_vector:new a.Uniform3f(g),u_ecef_origin:new a.Uniform3f(g),u_is_halo:new a.Uniform1i(g)}),symbolTextAndIcon:g=>({u_is_size_zoom_constant:new a.Uniform1i(g),u_is_size_feature_constant:new a.Uniform1i(g),u_size_t:new a.Uniform1f(g),u_size:new a.Uniform1f(g),u_camera_to_center_distance:new a.Uniform1f(g),u_rotate_symbol:new a.Uniform1i(g),u_aspect_ratio:new a.Uniform1f(g),u_fade_change:new a.Uniform1f(g),u_matrix:new a.UniformMatrix4f(g),u_label_plane_matrix:new a.UniformMatrix4f(g),u_coord_matrix:new a.UniformMatrix4f(g),u_is_text:new a.Uniform1i(g),u_pitch_with_map:new a.Uniform1i(g),u_texsize:new a.Uniform2f(g),u_texsize_icon:new a.Uniform2f(g),u_texture:new a.Uniform1i(g),u_texture_icon:new a.Uniform1i(g),u_gamma_scale:new a.Uniform1f(g),u_device_pixel_ratio:new a.Uniform1f(g),u_is_halo:new a.Uniform1i(g)}),background:g=>({u_matrix:new a.UniformMatrix4f(g),u_opacity:new a.Uniform1f(g),u_color:new a.UniformColor(g)}),backgroundPattern:g=>({u_matrix:new a.UniformMatrix4f(g),u_opacity:new a.Uniform1f(g),u_image:new a.Uniform1i(g),u_pattern_tl:new a.Uniform2f(g),u_pattern_br:new a.Uniform2f(g),u_texsize:new a.Uniform2f(g),u_pattern_size:new a.Uniform2f(g),u_pixel_coord_upper:new a.Uniform2f(g),u_pixel_coord_lower:new a.Uniform2f(g),u_tile_units_to_pixels:new a.Uniform1f(g)}),terrainRaster:ih,terrainDepth:ih,skybox:g=>({u_matrix:new a.UniformMatrix4f(g),u_sun_direction:new a.Uniform3f(g),u_cubemap:new a.Uniform1i(g),u_opacity:new a.Uniform1f(g),u_temporal_offset:new a.Uniform1f(g)}),skyboxGradient:g=>({u_matrix:new a.UniformMatrix4f(g),u_color_ramp:new a.Uniform1i(g),u_center_direction:new a.Uniform3f(g),u_radius:new a.Uniform1f(g),u_opacity:new a.Uniform1f(g),u_temporal_offset:new a.Uniform1f(g)}),skyboxCapture:g=>({u_matrix_3f:new a.UniformMatrix3f(g),u_sun_direction:new a.Uniform3f(g),u_sun_intensity:new a.Uniform1f(g),u_color_tint_r:new a.Uniform4f(g),u_color_tint_m:new a.Uniform4f(g),u_luminance:new a.Uniform1f(g)}),globeRaster:g=>({u_proj_matrix:new a.UniformMatrix4f(g),u_globe_matrix:new a.UniformMatrix4f(g),u_normalize_matrix:new a.UniformMatrix4f(g),u_merc_matrix:new a.UniformMatrix4f(g),u_zoom_transition:new a.Uniform1f(g),u_merc_center:new a.Uniform2f(g),u_image0:new a.Uniform1i(g),u_grid_matrix:new a.UniformMatrix3f(g),u_skirt_height:new a.Uniform1f(g),u_frustum_tl:new a.Uniform3f(g),u_frustum_tr:new a.Uniform3f(g),u_frustum_br:new a.Uniform3f(g),u_frustum_bl:new a.Uniform3f(g),u_globe_pos:new a.Uniform3f(g),u_globe_radius:new a.Uniform1f(g),u_viewport:new a.Uniform2f(g)}),globeAtmosphere:g=>({u_frustum_tl:new a.Uniform3f(g),u_frustum_tr:new a.Uniform3f(g),u_frustum_br:new a.Uniform3f(g),u_frustum_bl:new a.Uniform3f(g),u_horizon:new a.Uniform1f(g),u_transition:new a.Uniform1f(g),u_fadeout_range:new a.Uniform1f(g),u_color:new a.Uniform4f(g),u_high_color:new a.Uniform4f(g),u_space_color:new a.Uniform4f(g),u_star_intensity:new a.Uniform1f(g),u_star_density:new a.Uniform1f(g),u_star_size:new a.Uniform1f(g),u_temporal_offset:new a.Uniform1f(g),u_horizon_angle:new a.Uniform1f(g),u_rotation_matrix:new a.UniformMatrix4f(g)})};let ec;function nu(g,l,f,v,S,P,k){const D=g.context,z=D.gl,V=g.transform,$=g.useProgram("collisionBox"),X=[];let le=0,he=0;for(let ve=0;ve<v.length;ve++){const Be=v[ve],Ne=l.getTile(Be),Fe=Ne.getBucket(f);if(!Fe)continue;const Ke=Do(Be,Fe,V);let Xe=Ke;S[0]===0&&S[1]===0||(Xe=g.translatePosMatrix(Ke,Ne,S,P));const at=k?Fe.textCollisionBox:Fe.iconCollisionBox,Ot=Fe.collisionCircleArray;if(Ot.length>0){const nt=a.create(),_t=Xe;a.mul(nt,Fe.placementInvProjMatrix,V.glCoordMatrix),a.mul(nt,nt,Fe.placementViewportMatrix),X.push({circleArray:Ot,circleOffset:he,transform:_t,invTransform:nt,projection:Fe.getProjection()}),le+=Ot.length/4,he=le}at&&(g.terrain&&g.terrain.setupElevationDraw(Ne,$),$.draw(D,z.LINES,a.DepthMode.disabled,a.StencilMode.disabled,g.colorModeForRenderPass(),a.CullFaceMode.disabled,t1(Xe,V,Ne,Fe.getProjection()),f.id,at.layoutVertexBuffer,at.indexBuffer,at.segments,null,V.zoom,null,[at.collisionVertexBuffer,at.collisionVertexBufferExt]))}if(!k||!X.length)return;const de=g.useProgram("collisionCircle"),fe=new a.StructArrayLayout2f1f2i16;fe.resize(4*le),fe._trim();let pe=0;for(const ve of X)for(let Be=0;Be<ve.circleArray.length/4;Be++){const Ne=4*Be,Fe=ve.circleArray[Ne+0],Ke=ve.circleArray[Ne+1],Xe=ve.circleArray[Ne+2],at=ve.circleArray[Ne+3];fe.emplace(pe++,Fe,Ke,Xe,at,0),fe.emplace(pe++,Fe,Ke,Xe,at,1),fe.emplace(pe++,Fe,Ke,Xe,at,2),fe.emplace(pe++,Fe,Ke,Xe,at,3)}(!ec||ec.length<2*le)&&(ec=(function(ve){const Be=2*ve,Ne=new a.StructArrayLayout3ui6;Ne.resize(Be),Ne._trim();for(let Fe=0;Fe<Be;Fe++){const Ke=6*Fe;Ne.uint16[Ke+0]=4*Fe+0,Ne.uint16[Ke+1]=4*Fe+1,Ne.uint16[Ke+2]=4*Fe+2,Ne.uint16[Ke+3]=4*Fe+2,Ne.uint16[Ke+4]=4*Fe+3,Ne.uint16[Ke+5]=4*Fe+0}return Ne})(le));const Y=D.createIndexBuffer(ec,!0),ce=D.createVertexBuffer(fe,a.collisionCircleLayout.members,!0);for(const ve of X){const Be={u_matrix:ve.transform,u_inv_matrix:ve.invTransform,u_camera_to_center_distance:(_e=V).getCameraToCenterDistance(ve.projection),u_viewport_size:[_e.width,_e.height]};de.draw(D,z.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,g.colorModeForRenderPass(),a.CullFaceMode.disabled,Be,f.id,ce,Y,a.SegmentVector.simpleSegment(0,2*ve.circleOffset,ve.circleArray.length,ve.circleArray.length/2),null,V.zoom)}var _e;ce.destroy(),Y.destroy()}const gh=a.create();function yh({width:g,height:l,anchor:f,textOffset:v,textScale:S},P){const{horizontalAlign:k,verticalAlign:D}=a.getAnchorAlignment(f),z=-(k-.5)*g,V=-(D-.5)*l,$=a.evaluateVariableOffset(f,v);return new a.Point((z/S+$[0])*P,(V/S+$[1])*P)}function Od(g,l,f,v,S,P,k,D,z,V,$){const X=g.text.placedSymbolArray,le=g.text.dynamicLayoutVertexArray,he=g.icon.dynamicLayoutVertexArray,de={},fe=g.getProjection(),pe=Mn(D,fe,P),Y=P.elevation,ce=fe.upVectorScale(D.canonical,P.center.lat,P.worldSize).metersToTile;le.clear();for(let _e=0;_e<X.length;_e++){const ve=X.get(_e),{tileAnchorX:Be,tileAnchorY:Ne,numGlyphs:Fe}=ve,Ke=ve.hidden||!ve.crossTileID||g.allowVerticalPlacement&&!ve.placedOrientation?null:v[ve.crossTileID];if(Ke){let Xe=0,at=0,Ot=0;if(Y){const Dt=Y?Y.getAtTileOffset(D,Be,Ne):0,[ar,xr,tr]=fe.upVector(D.canonical,Be,Ne);Xe=Dt*ar*ce,at=Dt*xr*ce,Ot=Dt*tr*ce}let[nt,_t,st,Ct]=ci(ve.projectedAnchorX+Xe,ve.projectedAnchorY+at,ve.projectedAnchorZ+Ot,f?pe:k);const ot=qc(P.getCameraToCenterDistance(fe),Ct);let vt=S.evaluateSizeForFeature(g.textSizeData,V,ve)*ot/a.ONE_EM;f&&(vt*=g.tilePixelRatio/z);const Mt=yh(Ke,vt);f?({x:nt,y:_t,z:st}=fe.projectTilePoint(Be+Mt.x,Ne+Mt.y,D.canonical),[nt,_t,st]=ci(nt+Xe,_t+at,st+Ot,k)):(l&&Mt._rotate(-P.angle),nt+=Mt.x,_t+=Mt.y,st=0);const Et=g.allowVerticalPlacement&&ve.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let Dt=0;Dt<Fe;Dt++)a.addDynamicAttributes(le,nt,_t,st,Et);$&&ve.associatedIconIndex>=0&&(de[ve.associatedIconIndex]={x:nt,y:_t,z:st,angle:Et})}else Oo(Fe,le)}if($){he.clear();const _e=g.icon.placedSymbolArray;for(let ve=0;ve<_e.length;ve++){const Be=_e.get(ve),{numGlyphs:Ne}=Be,Fe=de[ve];if(Be.hidden||!Fe)Oo(Ne,he);else{const{x:Ke,y:Xe,z:at,angle:Ot}=Fe;for(let nt=0;nt<Ne;nt++)a.addDynamicAttributes(he,Ke,Xe,at,Ot)}}g.icon.dynamicLayoutVertexBuffer.updateData(he)}g.text.dynamicLayoutVertexBuffer.updateData(le)}function _h(g,l,f){return f.iconsInText&&l?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function Df(g,l,f,v,S,P,k,D,z,V,$,X){const le=g.context,he=le.gl,de=g.transform,fe=D==="map",pe=z==="map",Y=fe&&f.layout.get("symbol-placement")!=="point",ce=fe&&!pe&&!Y,_e=f.layout.get("symbol-sort-key").constantOr(1)!==void 0;let ve=!1;const Be=g.depthModeForSublayer(0,a.DepthMode.ReadOnly),Ne=[a.mercatorXfromLng(de.center.lng),a.mercatorYfromLat(de.center.lat)],Fe=f.layout.get("text-variable-anchor"),Ke=de.projection.name==="globe",Xe=[],at=[0,-1,0];let Ot=at;!Ke&&!de.mercatorFromTransition||fe||(Ot=(function(nt){const _t=nt._camera.getWorldToCamera(nt.worldSize,1),st=a.multiply([],_t,nt.globeMatrix);a.invert(st,st);const Ct=[0,0,0],ot=[0,1,0,0];return a.transformMat4$1(ot,ot,st),Ct[0]=ot[0],Ct[1]=ot[1],Ct[2]=ot[2],a.normalize(Ct,Ct),Ct})(de));for(const nt of v){const _t=l.getTile(nt),st=_t.getBucket(f);if(!st||st.projection.name==="mercator"&&Ke)continue;const Ct=S?st.text:st.icon;if(!Ct||st.fullyClipped||!Ct.segments.get().length)continue;const ot=Ct.programConfigurations.get(f.id),vt=S||st.sdfIcons,Mt=S?st.textSizeData:st.iconSizeData,Et=pe||de.pitch!==0,Dt=a.evaluateSizeForZoom(Mt,de.zoom);let ar,xr,tr,dr,Rr=[0,0],Nr=null;if(S)xr=_t.glyphAtlasTexture,tr=he.LINEAR,ar=_t.glyphAtlasTexture.size,st.iconsInText&&(Rr=_t.imageAtlasTexture.size,Nr=_t.imageAtlasTexture,dr=Et||g.options.rotating||g.options.zooming||Mt.kind==="composite"||Mt.kind==="camera"?he.LINEAR:he.NEAREST);else{const na=f.layout.get("icon-size").constantOr(0)!==1||st.iconsNeedLinear;xr=_t.imageAtlasTexture,tr=vt||g.options.rotating||g.options.zooming||na||Et?he.LINEAR:he.NEAREST,ar=_t.imageAtlasTexture.size}const sr=st.projection.name==="globe",Vr=sr?Ot:at,an=sr?a.globeToMercatorTransition(de.zoom):0,sn=Mn(nt,st.getProjection(),de),Qr=de.calculatePixelsToTileUnitsMatrix(_t),zi=gt(sn,_t.tileID.canonical,pe,fe,de,st.getProjection(),Qr),Yn=g.terrain&&pe&&Y?a.invert(a.create(),zi):gh,Fo=Sn(sn,_t.tileID.canonical,pe,fe,de,st.getProjection(),Qr),ra=Fe&&st.hasTextData(),Ir=f.layout.get("icon-text-fit")!=="none"&&ra&&st.hasIconData();if(Y){const na=de.elevation,ia=na?na.getAtTileOffsetFunc(nt,de.center.lat,de.worldSize,st.getProjection()):null,Pa=Hr(sn,_t.tileID.canonical,pe,fe,de,st.getProjection(),Qr);Gl(st,sn,g,S,Pa,Fo,pe,V,ia,nt)}const pn=Y||S&&Fe||Ir,Jr=g.translatePosMatrix(sn,_t,P,k),Jn=pn?gh:zi,Bi=g.translatePosMatrix(Fo,_t,P,k,!0),bn=st.getProjection().createInversionMatrix(de,nt.canonical),yi=[];g.terrainRenderModeElevated()&&pe&&yi.push("PITCH_WITH_MAP_TERRAIN"),sr&&yi.push("PROJECTION_GLOBE_VIEW"),pn&&yi.push("PROJECTED_POS_ON_VIEWPORT");const Bn=vt&&f.paint.get(S?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Vn;Vn=vt?st.iconsInText?kf(Mt.kind,Dt,ce,pe,g,Jr,Jn,Bi,ar,Rr,nt,an,Ne,bn,Vr,st.getProjection()):pl(Mt.kind,Dt,ce,pe,g,Jr,Jn,Bi,S,ar,!0,nt,an,Ne,bn,Vr,st.getProjection()):ph(Mt.kind,Dt,ce,pe,g,Jr,Jn,Bi,S,ar,nt,an,Ne,bn,Vr,st.getProjection());const ni={program:g.useProgram(_h(vt,S,st),ot,yi),buffers:Ct,uniformValues:Vn,atlasTexture:xr,atlasTextureIcon:Nr,atlasInterpolation:tr,atlasInterpolationIcon:dr,isSDF:vt,hasHalo:Bn,tile:_t,labelPlaneMatrixInv:Yn};if(_e&&st.canOverlap){ve=!0;const na=Ct.segments.get();for(const ia of na)Xe.push({segments:new a.SegmentVector([ia]),sortKey:ia.sortKey,state:ni})}else Xe.push({segments:Ct.segments,sortKey:0,state:ni})}ve&&Xe.sort(((nt,_t)=>nt.sortKey-_t.sortKey));for(const nt of Xe){const _t=nt.state;if(g.terrain&&g.terrain.setupElevationDraw(_t.tile,_t.program,{useDepthForOcclusion:!Ke,labelPlaneMatrixInv:_t.labelPlaneMatrixInv}),le.activeTexture.set(he.TEXTURE0),_t.atlasTexture.bind(_t.atlasInterpolation,he.CLAMP_TO_EDGE),_t.atlasTextureIcon&&(le.activeTexture.set(he.TEXTURE1),_t.atlasTextureIcon&&_t.atlasTextureIcon.bind(_t.atlasInterpolationIcon,he.CLAMP_TO_EDGE)),_t.isSDF){const st=_t.uniformValues;_t.hasHalo&&(st.u_is_halo=1,tc(_t.buffers,nt.segments,f,g,_t.program,Be,$,X,st)),st.u_is_halo=0}tc(_t.buffers,nt.segments,f,g,_t.program,Be,$,X,_t.uniformValues)}}function tc(g,l,f,v,S,P,k,D,z){const V=v.context,$=[g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer,g.globeExtVertexBuffer];S.draw(V,V.gl.TRIANGLES,P,k,D,a.CullFaceMode.disabled,z,f.id,g.layoutVertexBuffer,g.indexBuffer,l,f.paint,v.transform.zoom,g.programConfigurations.get(f.id),$)}function Qo(g,l,f,v,S,P,k){const D=g.context.gl,z=f.paint.get("fill-pattern"),V=z&&z.constantOr(1);let $,X,le,he,de;k?(X=V&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",$=D.LINES):(X=V?"fillPattern":"fill",$=D.TRIANGLES);for(const fe of v){const pe=l.getTile(fe);if(V&&!pe.patternsLoaded())continue;const Y=pe.getBucket(f);if(!Y)continue;g.prepareDrawTile();const ce=Y.programConfigurations.get(f.id),_e=g.useProgram(X,ce);V&&(g.context.activeTexture.set(D.TEXTURE0),pe.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),ce.updatePaintBuffers());const ve=z.constantOr(null);if(ve&&pe.imageAtlas){const Ne=pe.imageAtlas.patternPositions[ve.toString()];Ne&&ce.setConstantPatternPositions(Ne)}const Be=g.translatePosMatrix(fe.projMatrix,pe,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(k){he=Y.indexBuffer2,de=Y.segments2;const Ne=g.terrain&&g.terrain.renderingToTexture?g.terrain.drapeBufferSize:[D.drawingBufferWidth,D.drawingBufferHeight];le=X==="fillOutlinePattern"&&V?uh(Be,g,pe,Ne):Id(Be,Ne)}else he=Y.indexBuffer,de=Y.segments,le=V?lh(Be,g,pe):dl(Be);g.prepareDrawProgram(g.context,_e,fe.toUnwrapped()),_e.draw(g.context,$,S,g.stencilModeForClipping(fe),P,a.CullFaceMode.disabled,le,f.id,Y.layoutVertexBuffer,he,de,f.paint,g.transform.zoom,ce)}}function Rs(g,l,f,v,S,P,k){const D=g.context,z=D.gl,V=g.transform,$=f.paint.get("fill-extrusion-pattern"),X=$.constantOr(1),le=f.paint.get("fill-extrusion-opacity"),he=[f.paint.get("fill-extrusion-ambient-occlusion-intensity"),f.paint.get("fill-extrusion-ambient-occlusion-radius")],de=f.layout.get("fill-extrusion-edge-radius"),fe=de>0&&!f.paint.get("fill-extrusion-rounded-roof"),pe=fe?0:de,Y=V.projection.name==="globe"?a.fillExtrusionHeightLift():0,ce=V.projection.name==="globe",_e=ce?a.globeToMercatorTransition(V.zoom):0,ve=[a.mercatorXfromLng(V.center.lng),a.mercatorYfromLat(V.center.lat)],Be=[];ce&&Be.push("PROJECTION_GLOBE_VIEW"),he[0]>0&&Be.push("FAUX_AO"),fe&&Be.push("ZERO_ROOF_RADIUS");for(const Ne of v){const Fe=l.getTile(Ne),Ke=Fe.getBucket(f);if(!Ke||Ke.projection.name!==V.projection.name)continue;const Xe=Ke.programConfigurations.get(f.id),at=g.useProgram(X?"fillExtrusionPattern":"fillExtrusion",Xe,Be);if(g.terrain){const vt=g.terrain;if(g.style.terrainSetForDrapingOnly())vt.setupElevationDraw(Fe,at,{useMeterToDem:!0});else{if(!Ke.enableTerrain)continue;if(vt.setupElevationDraw(Fe,at,{useMeterToDem:!0}),vh(D,l,Ne,Ke,f,vt),!Ke.centroidVertexBuffer){const Mt=at.attributes.a_centroid_pos;Mt!==void 0&&z.vertexAttrib2f(Mt,0,0)}}}X&&(g.context.activeTexture.set(z.TEXTURE0),Fe.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),Xe.updatePaintBuffers());const Ot=$.constantOr(null);if(Ot&&Fe.imageAtlas){const vt=Fe.imageAtlas.patternPositions[Ot.toString()];vt&&Xe.setConstantPatternPositions(vt)}const nt=g.translatePosMatrix(Ne.projMatrix,Fe,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),_t=V.projection.createInversionMatrix(V,Ne.canonical),st=f.paint.get("fill-extrusion-vertical-gradient"),Ct=X?Of(nt,g,st,le,he,pe,Ne,Fe,Y,_e,ve,_t):sh(nt,g,st,le,he,pe,Ne,Y,_e,ve,_t);g.prepareDrawProgram(D,at,Ne.toUnwrapped());const ot=[];g.terrain&&ot.push(Ke.centroidVertexBuffer),ce&&ot.push(Ke.layoutVertexExtBuffer),at.draw(D,D.gl.TRIANGLES,S,P,k,a.CullFaceMode.backCCW,Ct,f.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,f.paint,g.transform.zoom,Xe,ot)}}function vh(g,l,f,v,S,P){const k=[Y=>{let ce=Y.canonical.x-1,_e=Y.wrap;return ce<0&&(ce=(1<<Y.canonical.z)-1,_e--),new a.OverscaledTileID(Y.overscaledZ,_e,Y.canonical.z,ce,Y.canonical.y)},Y=>{let ce=Y.canonical.x+1,_e=Y.wrap;return ce===1<<Y.canonical.z&&(ce=0,_e++),new a.OverscaledTileID(Y.overscaledZ,_e,Y.canonical.z,ce,Y.canonical.y)},Y=>new a.OverscaledTileID(Y.overscaledZ,Y.wrap,Y.canonical.z,Y.canonical.x,(Y.canonical.y===0?1<<Y.canonical.z:Y.canonical.y)-1),Y=>new a.OverscaledTileID(Y.overscaledZ,Y.wrap,Y.canonical.z,Y.canonical.x,Y.canonical.y===(1<<Y.canonical.z)-1?0:Y.canonical.y+1)],D=Y=>{const ce=l.getSource().minzoom,_e=Be=>{const Ne=l.getTileByID(Be);if(Ne&&Ne.hasData())return Ne.getBucket(S)},ve=[0,-1,1];for(const Be of ve){if(Y.overscaledZ+Be<ce)continue;const Ne=_e(Y.calculateScaledKey(Y.overscaledZ+Be));if(Ne)return Ne}},z=[0,0,0],V=(Y,ce)=>(z[0]=Math.min(Y.min.y,ce.min.y),z[1]=Math.max(Y.max.y,ce.max.y),z[2]=a.EXTENT-ce.min.x>Y.max.x?ce.min.x-a.EXTENT:Y.max.x,z),$=(Y,ce)=>(z[0]=Math.min(Y.min.x,ce.min.x),z[1]=Math.max(Y.max.x,ce.max.x),z[2]=a.EXTENT-ce.min.y>Y.max.y?ce.min.y-a.EXTENT:Y.max.y,z),X=[(Y,ce)=>V(Y,ce),(Y,ce)=>V(ce,Y),(Y,ce)=>$(Y,ce),(Y,ce)=>$(ce,Y)],le=new a.Point(0,0);let he,de,fe;const pe=(Y,ce,_e,ve,Be)=>{const Ne=[[ve?_e:Y,ve?Y:_e,0],[ve?_e:ce,ve?ce:_e,0]],Fe=Be<0?a.EXTENT+Be:Be,Ke=[ve?Fe:(Y+ce)/2,ve?(Y+ce)/2:Fe,0];return _e===0&&Be<0||_e!==0&&Be>0?P.getForTilePoints(fe,[Ke],!0,de):Ne.push(Ke),P.getForTilePoints(f,Ne,!0,he),Math.max(Ne[0][2],Ne[1][2],Ke[2])/P.exaggeration()};for(let Y=0;Y<4;Y++){const ce=(Y<2?1:5)-Y,_e=v.borders[Y];if(_e.length===0)continue;const ve=fe=k[Y](f),Be=D(ve);if(!(Be&&Be instanceof a.FillExtrusionBucket&&Be.enableTerrain)||v.borderDoneWithNeighborZ[Y]===Be.canonical.z&&Be.borderDoneWithNeighborZ[ce]===v.canonical.z||(de=P.findDEMTileFor(ve),!de||!de.dem))continue;if(!he){const Xe=P.findDEMTileFor(f);if(!Xe||!Xe.dem)return;he=Xe}const Ne=Be.borders[ce];let Fe=0;const Ke=Be.borderDoneWithNeighborZ[ce]!==v.canonical.z;if(v.canonical.z===Be.canonical.z){for(let Xe=0;Xe<_e.length;Xe++){const at=v.featuresOnBorder[_e[Xe]],Ot=at.borders[Y];let nt;for(;Fe<Ne.length&&(nt=Be.featuresOnBorder[Ne[Fe]],!(nt.borders[ce][1]>Ot[0]+3));)Ke&&Be.encodeCentroid(void 0,nt,!1),Fe++;if(nt&&Fe<Ne.length){const _t=Fe;let st=0;for(;!(nt.borders[ce][0]>Ot[1]-3)&&(st++,++Fe!==Ne.length);)nt=Be.featuresOnBorder[Ne[Fe]];if(nt=Be.featuresOnBorder[Ne[_t]],at.intersectsCount()>1||nt.intersectsCount()>1||st!==1){st!==1&&(Fe=_t),v.encodeCentroid(void 0,at,!1),Ke&&Be.encodeCentroid(void 0,nt,!1);continue}const Ct=X[Y](at,nt),ot=Y%2?a.EXTENT-1:0;le.x=pe(Ct[0],Math.min(a.EXTENT-1,Ct[1]),ot,Y<2,Ct[2]),le.y=0,v.encodeCentroid(le,at,!1),Ke&&Be.encodeCentroid(le,nt,!1)}else v.encodeCentroid(void 0,at,!1)}v.borderDoneWithNeighborZ[Y]=Be.canonical.z,v.needsCentroidUpdate=!0,Ke&&(Be.borderDoneWithNeighborZ[ce]=v.canonical.z,Be.needsCentroidUpdate=!0)}else{for(const Xe of _e)v.encodeCentroid(void 0,v.featuresOnBorder[Xe],!1);if(Ke){for(const Xe of Ne)Be.encodeCentroid(void 0,Be.featuresOnBorder[Xe],!1);Be.borderDoneWithNeighborZ[ce]=v.canonical.z,Be.needsCentroidUpdate=!0}v.borderDoneWithNeighborZ[Y]=Be.canonical.z,v.needsCentroidUpdate=!0}}(v.needsCentroidUpdate||!v.centroidVertexBuffer&&v.centroidVertexArray.length!==0)&&v.uploadCentroid(g)}const ml=new a.Color(1,0,0,1),Lf=new a.Color(0,1,0,1),Rf=new a.Color(0,0,1,1),xh=new a.Color(1,0,1,1),kd=new a.Color(0,1,1,1);function Dd(g,l,f){const v=g.context,S=g.transform,P=v.gl,k=S.projection.name==="globe",D=k?["PROJECTION_GLOBE_VIEW"]:null;let z=f.projMatrix;if(k&&a.globeToMercatorTransition(S.zoom)>0){const at=a.transitionTileAABBinECEF(f.canonical,S),Ot=a.globeDenormalizeECEF(at);z=a.multiply(new Float32Array(16),S.globeMatrix,Ot),a.multiply(z,S.projMatrix,z)}const V=g.useProgram("debug",null,D),$=l.getTileByID(f.key);g.terrain&&g.terrain.setupElevationDraw($,V);const X=a.DepthMode.disabled,le=a.StencilMode.disabled,he=g.colorModeForRenderPass(),de="$debug";v.activeTexture.set(P.TEXTURE0),g.emptyTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),k?$._makeGlobeTileDebugBuffers(g.context,S):$._makeDebugTileBoundsBuffers(g.context,S.projection);const fe=$._tileDebugBuffer||g.debugBuffer,pe=$._tileDebugIndexBuffer||g.debugIndexBuffer,Y=$._tileDebugSegments||g.debugSegments;V.draw(v,P.LINE_STRIP,X,le,he,a.CullFaceMode.disabled,Yu(z,a.Color.red),de,fe,pe,Y,null,null,null,[$._globeTileDebugBorderBuffer]);const ce=$.latestRawTileData,_e=Math.floor((ce&&ce.byteLength||0)/1024),ve=l.getTile(f).tileSize,Be=512/Math.min(ve,512)*(f.overscaledZ/S.zoom)*.5;let Ne=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Ne+=` => ${f.overscaledZ}`),Ne+=` ${_e}kb`,(function(at,Ot){at.initDebugOverlayCanvas();const nt=at.debugOverlayCanvas,_t=at.context.gl,st=at.debugOverlayCanvas.getContext("2d");st.clearRect(0,0,nt.width,nt.height),st.shadowColor="white",st.shadowBlur=2,st.lineWidth=1.5,st.strokeStyle="white",st.textBaseline="top",st.font="bold 36px Open Sans, sans-serif",st.fillText(Ot,5,5),st.strokeText(Ot,5,5),at.debugOverlayTexture.update(nt),at.debugOverlayTexture.bind(_t.LINEAR,_t.CLAMP_TO_EDGE)})(g,Ne);const Fe=$._tileDebugTextBuffer||g.debugBuffer,Ke=$._tileDebugTextIndexBuffer||g.quadTriangleIndexBuffer,Xe=$._tileDebugTextSegments||g.debugSegments;V.draw(v,P.TRIANGLES,X,le,a.ColorMode.alphaBlended,a.CullFaceMode.disabled,Yu(z,a.Color.transparent,Be),de,Fe,Ke,Xe,null,null,null,[$._globeTileDebugTextBuffer])}function gl(g,l,f,v){Ua(g,0,l+f/2,g.transform.width,f,v)}function iu(g,l,f,v){Ua(g,l-f/2,0,f,g.transform.height,v)}function Ua(g,l,f,v,S,P){const k=g.context,D=k.gl;D.enable(D.SCISSOR_TEST),D.scissor(l*a.exported.devicePixelRatio,f*a.exported.devicePixelRatio,v*a.exported.devicePixelRatio,S*a.exported.devicePixelRatio),k.clear({color:P}),D.disable(D.SCISSOR_TEST)}const i1=a.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:bh}=i1;function ea(g,l,f,v){g.emplaceBack(l,f,v)}class os{constructor(l){this.vertexArray=new a.StructArrayLayout3f12,this.indices=new a.StructArrayLayout3ui6,ea(this.vertexArray,-1,-1,1),ea(this.vertexArray,1,-1,1),ea(this.vertexArray,-1,1,1),ea(this.vertexArray,1,1,1),ea(this.vertexArray,-1,-1,-1),ea(this.vertexArray,1,-1,-1),ea(this.vertexArray,-1,1,-1),ea(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=l.createVertexBuffer(this.vertexArray,bh),this.indexBuffer=l.createIndexBuffer(this.indices),this.segment=a.SegmentVector.simpleSegment(0,0,36,12)}}function vo(g,l,f,v,S,P){const k=g.gl,D=l.paint.get("sky-atmosphere-color"),z=l.paint.get("sky-atmosphere-halo-color"),V=l.paint.get("sky-atmosphere-sun-intensity"),$=((X,le,he,de,fe)=>({u_matrix_3f:X,u_sun_direction:le,u_sun_intensity:he,u_color_tint_r:[de.r,de.g,de.b,de.a],u_color_tint_m:[fe.r,fe.g,fe.b,fe.a],u_luminance:5e-5}))(a.fromMat4(a.create$1(),v),S,V,D,z);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_CUBE_MAP_POSITIVE_X+P,l.skyboxTexture,0),f.draw(g,k.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.frontCW,$,"skyboxCapture",l.skyboxGeometry.vertexBuffer,l.skyboxGeometry.indexBuffer,l.skyboxGeometry.segment)}const ou=a.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class rc{constructor(l){const f=new a.StructArrayLayout5f20;f.emplaceBack(-1,1,1,0,0),f.emplaceBack(1,1,1,1,0),f.emplaceBack(1,-1,1,1,1),f.emplaceBack(-1,-1,1,0,1);const v=new a.StructArrayLayout3ui6;v.emplaceBack(0,1,2),v.emplaceBack(2,3,0),this.vertexBuffer=l.createVertexBuffer(f,ou.members),this.indexBuffer=l.createIndexBuffer(v),this.segments=a.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const zs={symbol:function(g,l,f,v,S){if(g.renderPass!=="translucent")return;const P=a.StencilMode.disabled,k=g.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&(function(D,z,V,$,X,le,he){const de=z.transform,fe=X==="map",pe=le==="map";for(const Y of D){const ce=$.getTile(Y),_e=ce.getBucket(V);if(!_e||!_e.text||!_e.text.segments.get().length)continue;const ve=a.evaluateSizeForZoom(_e.textSizeData,de.zoom),Be=Mn(Y,_e.getProjection(),de),Ne=de.calculatePixelsToTileUnitsMatrix(ce),Fe=gt(Be,ce.tileID.canonical,pe,fe,de,_e.getProjection(),Ne),Ke=V.layout.get("icon-text-fit")!=="none"&&_e.hasIconData();if(ve){const Xe=Math.pow(2,de.zoom-ce.tileID.overscaledZ);Od(_e,fe,pe,he,a.symbolSize,de,Fe,Y,Xe,ve,Ke)}}})(v,g,f,l,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),S),f.paint.get("icon-opacity").constantOr(1)!==0&&Df(g,l,f,v,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),P,k),f.paint.get("text-opacity").constantOr(1)!==0&&Df(g,l,f,v,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),P,k),l.map.showCollisionBoxes&&(nu(g,l,f,v,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),nu(g,l,f,v,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))},circle:function(g,l,f,v){if(g.renderPass!=="translucent")return;const S=f.paint.get("circle-opacity"),P=f.paint.get("circle-stroke-width"),k=f.paint.get("circle-stroke-opacity"),D=f.layout.get("circle-sort-key").constantOr(1)!==void 0;if(S.constantOr(1)===0&&(P.constantOr(1)===0||k.constantOr(1)===0))return;const z=g.context,V=z.gl,$=g.transform,X=g.depthModeForSublayer(0,a.DepthMode.ReadOnly),le=a.StencilMode.disabled,he=g.colorModeForRenderPass(),de=$.projection.name==="globe",fe=[a.mercatorXfromLng($.center.lng),a.mercatorYfromLat($.center.lat)],pe=[];for(let ce=0;ce<v.length;ce++){const _e=v[ce],ve=l.getTile(_e),Be=ve.getBucket(f);if(!Be||Be.projection.name!==$.projection.name)continue;const Ne=Be.programConfigurations.get(f.id),Fe=e1(f);de&&Fe.push("PROJECTION_GLOBE_VIEW");const Ke=g.useProgram("circle",Ne,Fe),Xe=Be.layoutVertexBuffer,at=Be.globeExtVertexBuffer,Ot=Be.indexBuffer,nt=$.projection.createInversionMatrix($,_e.canonical),_t={programConfiguration:Ne,program:Ke,layoutVertexBuffer:Xe,globeExtVertexBuffer:at,indexBuffer:Ot,uniformValues:ch(g,_e,ve,nt,fe,f),tile:ve};if(D){const st=Be.segments.get();for(const Ct of st)pe.push({segments:new a.SegmentVector([Ct]),sortKey:Ct.sortKey,state:_t})}else pe.push({segments:Be.segments,sortKey:0,state:_t})}D&&pe.sort(((ce,_e)=>ce.sortKey-_e.sortKey));const Y={useDepthForOcclusion:!de};for(const ce of pe){const{programConfiguration:_e,program:ve,layoutVertexBuffer:Be,globeExtVertexBuffer:Ne,indexBuffer:Fe,uniformValues:Ke,tile:Xe}=ce.state,at=ce.segments;g.terrain&&g.terrain.setupElevationDraw(Xe,ve,Y),g.prepareDrawProgram(z,ve,Xe.tileID.toUnwrapped()),ve.draw(z,V.TRIANGLES,X,le,he,a.CullFaceMode.disabled,Ke,f.id,Be,Fe,at,f.paint,$.zoom,_e,[Ne])}},heatmap:function(g,l,f,v){if(f.paint.get("heatmap-opacity")!==0)if(g.renderPass==="offscreen"){const S=g.context,P=S.gl,k=a.StencilMode.disabled,D=new a.ColorMode([P.ONE,P.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(he,de,fe,pe){const Y=he.gl,ce=de.width*pe,_e=de.height*pe;he.activeTexture.set(Y.TEXTURE1),he.viewport.set([0,0,ce,_e]);let ve=fe.heatmapFbo;if(!ve||ve&&(ve.width!==ce||ve.height!==_e)){ve&&ve.destroy();const Be=Y.createTexture();Y.bindTexture(Y.TEXTURE_2D,Be),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,Y.CLAMP_TO_EDGE),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,Y.CLAMP_TO_EDGE),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,Y.LINEAR),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,Y.LINEAR),ve=fe.heatmapFbo=he.createFramebuffer(ce,_e,!1),(function(Ne,Fe,Ke,Xe,at,Ot){const nt=Ne.gl;nt.texImage2D(nt.TEXTURE_2D,0,Ne.isWebGL2&&Ne.extRenderToTextureHalfFloat?nt.RGBA16F:nt.RGBA,at,Ot,0,nt.RGBA,Ne.extRenderToTextureHalfFloat?Ne.isWebGL2?nt.HALF_FLOAT:Ne.extTextureHalfFloat.HALF_FLOAT_OES:nt.UNSIGNED_BYTE,null),Xe.colorAttachment.set(Ke)})(he,0,Be,ve,ce,_e)}else Y.bindTexture(Y.TEXTURE_2D,ve.colorAttachment.get()),he.bindFramebuffer.set(ve.framebuffer)})(S,g,f,g.transform.projection.name==="globe"?.5:.25),S.clear({color:a.Color.transparent});const z=g.transform,V=z.projection.name==="globe",$=V?["PROJECTION_GLOBE_VIEW"]:null,X=V?a.CullFaceMode.frontCCW:a.CullFaceMode.disabled,le=[a.mercatorXfromLng(z.center.lng),a.mercatorYfromLat(z.center.lat)];for(let he=0;he<v.length;he++){const de=v[he];if(l.hasRenderableParent(de))continue;const fe=l.getTile(de),pe=fe.getBucket(f);if(!pe||pe.projection.name!==z.projection.name)continue;const Y=pe.programConfigurations.get(f.id),ce=g.useProgram("heatmap",Y,$),{zoom:_e}=g.transform;g.terrain&&g.terrain.setupElevationDraw(fe,ce),g.prepareDrawProgram(S,ce,de.toUnwrapped());const ve=z.projection.createInversionMatrix(z,de.canonical);ce.draw(S,P.TRIANGLES,a.DepthMode.disabled,k,D,X,fh(g,de,fe,ve,le,_e,f.paint.get("heatmap-intensity")),f.id,pe.layoutVertexBuffer,pe.indexBuffer,pe.segments,f.paint,g.transform.zoom,Y,V?[pe.globeExtVertexBuffer]:null)}S.viewport.set([0,0,g.width,g.height])}else g.renderPass==="translucent"&&(g.context.setColorMode(g.colorModeForRenderPass()),(function(S,P){const k=S.context,D=k.gl,z=P.heatmapFbo;if(!z)return;k.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,z.colorAttachment.get()),k.activeTexture.set(D.TEXTURE1);let V=P.colorRampTexture;V||(V=P.colorRampTexture=new a.Texture(k,P.colorRamp,D.RGBA)),V.bind(D.LINEAR,D.CLAMP_TO_EDGE),S.useProgram("heatmapTexture").draw(k,D.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,S.colorModeForRenderPass(),a.CullFaceMode.disabled,(($,X,le,he)=>({u_image:0,u_color_ramp:1,u_opacity:X.paint.get("heatmap-opacity")}))(0,P),P.id,S.viewportBuffer,S.quadTriangleIndexBuffer,S.viewportSegments,P.paint,S.transform.zoom)})(g,f))},line:function(g,l,f,v){if(g.renderPass!=="translucent")return;const S=f.paint.get("line-opacity"),P=f.paint.get("line-width");if(S.constantOr(1)===0||P.constantOr(1)===0)return;const k=g.depthModeForSublayer(0,a.DepthMode.ReadOnly),D=g.colorModeForRenderPass(),z=g.terrain&&g.terrain.renderingToTexture?1:a.exported.devicePixelRatio,V=f.paint.get("line-dasharray"),$=V.constantOr(1),X=f.layout.get("line-cap"),le=f.paint.get("line-pattern"),he=le.constantOr(1),de=f.paint.get("line-gradient"),fe=he?"linePattern":"line",pe=g.context,Y=pe.gl,ce=(ve=>{const Be=[];ru(ve)&&Be.push("RENDER_LINE_DASH"),ve.paint.get("line-gradient")&&Be.push("RENDER_LINE_GRADIENT");const Ne=ve.paint.get("line-trim-offset");Ne[0]===0&&Ne[1]===0||Be.push("RENDER_LINE_TRIM_OFFSET");const Fe=ve.paint.get("line-pattern").constantOr(1),Ke=ve.paint.get("line-opacity").constantOr(1)!==1;return!Fe&&Ke&&Be.push("RENDER_LINE_ALPHA_DISCARD"),Be})(f);let _e=ce.includes("RENDER_LINE_ALPHA_DISCARD");g.terrain&&g.terrain.clipOrMaskOverlapStencilType()&&(_e=!1);for(const ve of v){const Be=l.getTile(ve);if(he&&!Be.patternsLoaded())continue;const Ne=Be.getBucket(f);if(!Ne)continue;g.prepareDrawTile();const Fe=Ne.programConfigurations.get(f.id),Ke=g.useProgram(fe,Fe,ce),Xe=le.constantOr(null);if(Xe&&Be.imageAtlas){const vt=Be.imageAtlas.patternPositions[Xe.toString()];vt&&Fe.setConstantPatternPositions(vt)}const at=V.constantOr(null),Ot=X.constantOr(null);if(!he&&at&&Ot&&Be.lineAtlas){const vt=Be.lineAtlas.getDash(at,Ot);vt&&Fe.setConstantPatternPositions(vt)}let[nt,_t]=f.paint.get("line-trim-offset");(Ot==="round"||Ot==="square")&&nt!==_t&&(nt===0&&(nt-=1),_t===1&&(_t+=1));const st=g.terrain?ve.projMatrix:null,Ct=he?Ju(g,Be,f,st,z):eu(g,Be,f,st,Ne.lineClipsArray.length,z,[nt,_t]);if(de){const vt=Ne.gradients[f.id];let Mt=vt.texture;if(f.gradientVersion!==vt.version){let Et=256;if(f.stepInterpolant){const Dt=l.getSource().maxzoom,ar=ve.canonical.z===Dt?Math.ceil(1<<g.transform.maxZoom-ve.canonical.z):1;Et=a.clamp(a.nextPowerOfTwo(Ne.maxLineLength/a.EXTENT*1024*ar),256,pe.maxTextureSize)}vt.gradient=a.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:Et,image:vt.gradient||void 0,clips:Ne.lineClipsArray}),vt.texture?vt.texture.update(vt.gradient):vt.texture=new a.Texture(pe,vt.gradient,Y.RGBA),vt.version=f.gradientVersion,Mt=vt.texture}pe.activeTexture.set(Y.TEXTURE1),Mt.bind(f.stepInterpolant?Y.NEAREST:Y.LINEAR,Y.CLAMP_TO_EDGE)}$&&(pe.activeTexture.set(Y.TEXTURE0),Be.lineAtlasTexture.bind(Y.LINEAR,Y.REPEAT),Fe.updatePaintBuffers()),he&&(pe.activeTexture.set(Y.TEXTURE0),Be.imageAtlasTexture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE),Fe.updatePaintBuffers()),g.prepareDrawProgram(pe,Ke,ve.toUnwrapped());const ot=vt=>{Ke.draw(pe,Y.TRIANGLES,k,vt,D,a.CullFaceMode.disabled,Ct,f.id,Ne.layoutVertexBuffer,Ne.indexBuffer,Ne.segments,f.paint,g.transform.zoom,Fe,[Ne.layoutVertexBuffer2])};if(_e){const vt=g.stencilModeForClipping(ve).ref;vt===0&&g.terrain&&pe.clear({stencil:0});const Mt={func:Y.EQUAL,mask:255};Ct.u_alpha_discard_threshold=.8,ot(new a.StencilMode(Mt,vt,255,Y.KEEP,Y.KEEP,Y.INVERT)),Ct.u_alpha_discard_threshold=0,ot(new a.StencilMode(Mt,vt,255,Y.KEEP,Y.KEEP,Y.KEEP))}else ot(g.stencilModeForClipping(ve))}_e&&(g.resetStencilClippingMasks(),g.terrain&&pe.clear({stencil:0}))},fill:function(g,l,f,v){const S=f.paint.get("fill-color"),P=f.paint.get("fill-opacity");if(P.constantOr(1)===0)return;const k=g.colorModeForRenderPass(),D=f.paint.get("fill-pattern"),z=g.opaquePassEnabledForLayer()&&!D.constantOr(1)&&S.constantOr(a.Color.transparent).a===1&&P.constantOr(0)===1?"opaque":"translucent";if(g.renderPass===z){const V=g.depthModeForSublayer(1,g.renderPass==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly);Qo(g,l,f,v,V,k,!1)}if(g.renderPass==="translucent"&&f.paint.get("fill-antialias")){const V=g.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,a.DepthMode.ReadOnly);Qo(g,l,f,v,V,k,!0)}},"fill-extrusion":function(g,l,f,v){const S=f.paint.get("fill-extrusion-opacity");if(S!==0&&g.renderPass==="translucent"){const P=new a.DepthMode(g.context.gl.LEQUAL,a.DepthMode.ReadWrite,g.depthRangeFor3D);if(S!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))Rs(g,l,f,v,P,a.StencilMode.disabled,a.ColorMode.disabled),Rs(g,l,f,v,P,g.stencilModeFor3D(),g.colorModeForRenderPass()),g.resetStencilClippingMasks();else{const k=g.colorModeForRenderPass();Rs(g,l,f,v,P,a.StencilMode.disabled,k)}}},hillshade:function(g,l,f,v){if(g.renderPass!=="offscreen"&&g.renderPass!=="translucent")return;const S=g.context,P=g.depthModeForSublayer(0,a.DepthMode.ReadOnly),k=g.colorModeForRenderPass(),D=g.terrain&&g.terrain.renderingToTexture,[z,V]=g.renderPass!=="translucent"||D?[{},v]:g.stencilConfigForOverlap(v);for(const $ of V){const X=l.getTile($);if(X.needsHillshadePrepare&&g.renderPass==="offscreen")Xc(g,X,f,P,a.StencilMode.disabled,k);else if(g.renderPass==="translucent"){const le=D&&g.terrain?g.terrain.stencilModeForRTTOverlap($):z[$.overscaledZ];Mf(g,$,X,f,P,le,k)}}S.viewport.set([0,0,g.width,g.height]),g.resetStencilClippingMasks()},raster:function(g,l,f,v,S,P){if(g.renderPass!=="translucent"||f.paint.get("raster-opacity")===0||!v.length)return;const k=g.context,D=k.gl,z=l.getSource(),V=g.useProgram("raster"),$=g.colorModeForRenderPass(),X=g.terrain&&g.terrain.renderingToTexture,[le,he]=z instanceof mt||X?[{},v]:g.stencilConfigForOverlap(v),de=he[he.length-1].overscaledZ,fe=!g.options.moving;for(const pe of he){const Y=X?a.DepthMode.disabled:g.depthModeForSublayer(pe.overscaledZ-de,f.paint.get("raster-opacity")===1?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly,D.LESS),ce=pe.toUnwrapped(),_e=l.getTile(pe);if(X&&(!_e||!_e.hasData()))continue;const ve=X?pe.projMatrix:g.transform.calculateProjMatrix(ce,fe),Be=g.terrain&&X?g.terrain.stencilModeForRTTOverlap(pe):le[pe.overscaledZ],Ne=P?0:f.paint.get("raster-fade-duration");_e.registerFadeDuration(Ne);const Fe=l.findLoadedParent(pe,0),Ke=oh(_e,Fe,l,g.transform,Ne);let Xe,at;g.terrain&&g.terrain.prepareDrawTile();const Ot=f.paint.get("raster-resampling")==="nearest"?D.NEAREST:D.LINEAR;k.activeTexture.set(D.TEXTURE0),_e.texture.bind(Ot,D.CLAMP_TO_EDGE),k.activeTexture.set(D.TEXTURE1),Fe?(Fe.texture.bind(Ot,D.CLAMP_TO_EDGE),Xe=Math.pow(2,Fe.tileID.overscaledZ-_e.tileID.overscaledZ),at=[_e.tileID.canonical.x*Xe%1,_e.tileID.canonical.y*Xe%1]):_e.texture.bind(Ot,D.CLAMP_TO_EDGE),_e.texture.useMipmap&&k.extTextureFilterAnisotropic&&g.transform.pitch>20&&D.texParameterf(D.TEXTURE_2D,k.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,k.extTextureFilterAnisotropicMax);const nt=r1(ve,at||[0,0],Xe||1,Ke,f,z instanceof mt?z.perspectiveTransform:[0,0]);if(g.prepareDrawProgram(k,V,ce),z instanceof mt)z.boundsBuffer&&z.boundsSegments&&V.draw(k,D.TRIANGLES,Y,a.StencilMode.disabled,$,a.CullFaceMode.disabled,nt,f.id,z.boundsBuffer,g.quadTriangleIndexBuffer,z.boundsSegments);else{const{tileBoundsBuffer:_t,tileBoundsIndexBuffer:st,tileBoundsSegments:Ct}=g.getTileBoundsBuffers(_e);V.draw(k,D.TRIANGLES,Y,Be,$,a.CullFaceMode.disabled,nt,f.id,_t,st,Ct)}}g.resetStencilClippingMasks()},background:function(g,l,f,v){const S=f.paint.get("background-color"),P=f.paint.get("background-opacity");if(P===0)return;const k=g.context,D=k.gl,z=g.transform,V=z.tileSize,$=f.paint.get("background-pattern");if(g.isPatternMissing($))return;const X=!$&&S.a===1&&P===1&&g.opaquePassEnabledForLayer()?"opaque":"translucent";if(g.renderPass!==X)return;const le=a.StencilMode.disabled,he=g.depthModeForSublayer(0,X==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly),de=g.colorModeForRenderPass(),fe=g.useProgram($?"backgroundPattern":"background");let pe,Y=v;Y||(pe=g.getBackgroundTiles(),Y=Object.values(pe).map((ce=>ce.tileID))),$&&(k.activeTexture.set(D.TEXTURE0),g.imageManager.bind(g.context));for(const ce of Y){const _e=ce.toUnwrapped(),ve=v?ce.projMatrix:g.transform.calculateProjMatrix(_e);g.prepareDrawTile();const Be=l?l.getTile(ce):pe?pe[ce.key]:new a.Tile(ce,V,z.zoom,g),Ne=$?mh(ve,P,g,$,{tileID:ce,tileSize:V}):n1(ve,P,S);g.prepareDrawProgram(k,fe,_e);const{tileBoundsBuffer:Fe,tileBoundsIndexBuffer:Ke,tileBoundsSegments:Xe}=g.getTileBoundsBuffers(Be);fe.draw(k,D.TRIANGLES,he,le,de,a.CullFaceMode.disabled,Ne,f.id,Fe,Ke,Xe)}},sky:function(g,l,f){const v=g.transform,S=v.projection.name==="mercator"||v.projection.name==="globe"?1:a.smoothstep(7,8,v.zoom),P=f.paint.get("sky-opacity")*S;if(P===0)return;const k=g.context,D=f.paint.get("sky-type"),z=new a.DepthMode(k.gl.LEQUAL,a.DepthMode.ReadOnly,[0,1]),V=g.frameCounter/1e3%1;D==="atmosphere"?g.renderPass==="offscreen"?f.needsSkyboxCapture(g)&&((function($,X,le,he){const de=$.context,fe=de.gl;let pe=X.skyboxFbo;if(!pe){pe=X.skyboxFbo=de.createFramebuffer(32,32,!1),X.skyboxGeometry=new os(de),X.skyboxTexture=de.gl.createTexture(),fe.bindTexture(fe.TEXTURE_CUBE_MAP,X.skyboxTexture),fe.texParameteri(fe.TEXTURE_CUBE_MAP,fe.TEXTURE_WRAP_S,fe.CLAMP_TO_EDGE),fe.texParameteri(fe.TEXTURE_CUBE_MAP,fe.TEXTURE_WRAP_T,fe.CLAMP_TO_EDGE),fe.texParameteri(fe.TEXTURE_CUBE_MAP,fe.TEXTURE_MIN_FILTER,fe.LINEAR),fe.texParameteri(fe.TEXTURE_CUBE_MAP,fe.TEXTURE_MAG_FILTER,fe.LINEAR);for(let ve=0;ve<6;++ve)fe.texImage2D(fe.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,fe.RGBA,32,32,0,fe.RGBA,fe.UNSIGNED_BYTE,null)}de.bindFramebuffer.set(pe.framebuffer),de.viewport.set([0,0,32,32]);const Y=X.getCenter($,!0),ce=$.useProgram("skyboxCapture"),_e=new Float64Array(16);a.identity(_e),a.rotateY(_e,_e,.5*-Math.PI),vo(de,X,ce,_e,Y,0),a.identity(_e),a.rotateY(_e,_e,.5*Math.PI),vo(de,X,ce,_e,Y,1),a.identity(_e),a.rotateX(_e,_e,.5*-Math.PI),vo(de,X,ce,_e,Y,2),a.identity(_e),a.rotateX(_e,_e,.5*Math.PI),vo(de,X,ce,_e,Y,3),a.identity(_e),vo(de,X,ce,_e,Y,4),a.identity(_e),a.rotateY(_e,_e,Math.PI),vo(de,X,ce,_e,Y,5),de.viewport.set([0,0,$.width,$.height])})(g,f),f.markSkyboxValid(g)):g.renderPass==="sky"&&(function($,X,le,he,de){const fe=$.context,pe=fe.gl,Y=$.transform,ce=$.useProgram("skybox");fe.activeTexture.set(pe.TEXTURE0),pe.bindTexture(pe.TEXTURE_CUBE_MAP,X.skyboxTexture);const _e=((ve,Be,Ne,Fe,Ke)=>({u_matrix:ve,u_sun_direction:Be,u_cubemap:0,u_opacity:Fe,u_temporal_offset:Ke}))(Y.skyboxMatrix,X.getCenter($,!1),0,he,de);$.prepareDrawProgram(fe,ce),ce.draw(fe,pe.TRIANGLES,le,a.StencilMode.disabled,$.colorModeForRenderPass(),a.CullFaceMode.backCW,_e,"skybox",X.skyboxGeometry.vertexBuffer,X.skyboxGeometry.indexBuffer,X.skyboxGeometry.segment)})(g,f,z,P,V):D==="gradient"&&g.renderPass==="sky"&&(function($,X,le,he,de){const fe=$.context,pe=fe.gl,Y=$.transform,ce=$.useProgram("skyboxGradient");X.skyboxGeometry||(X.skyboxGeometry=new os(fe)),fe.activeTexture.set(pe.TEXTURE0);let _e=X.colorRampTexture;_e||(_e=X.colorRampTexture=new a.Texture(fe,X.colorRamp,pe.RGBA)),_e.bind(pe.LINEAR,pe.CLAMP_TO_EDGE);const ve=((Be,Ne,Fe,Ke,Xe)=>({u_matrix:Be,u_color_ramp:0,u_center_direction:Ne,u_radius:a.degToRad(Fe),u_opacity:Ke,u_temporal_offset:Xe}))(Y.skyboxMatrix,X.getCenter($,!1),X.paint.get("sky-gradient-radius"),he,de);$.prepareDrawProgram(fe,ce),ce.draw(fe,pe.TRIANGLES,le,a.StencilMode.disabled,$.colorModeForRenderPass(),a.CullFaceMode.backCW,ve,"skyboxGradient",X.skyboxGeometry.vertexBuffer,X.skyboxGeometry.indexBuffer,X.skyboxGeometry.segment)})(g,f,z,P,V)},debug:function(g,l,f){for(let v=0;v<f.length;v++)Dd(g,l,f[v])},custom:function(g,l,f,v){const S=g.context,P=f.implementation;if(!g.transform.projection.unsupportedLayers||!g.transform.projection.unsupportedLayers.includes("custom")||g.terrain&&(g.terrain.renderingToTexture||g.renderPass==="offscreen")&&f.isLayerDraped()){if(g.renderPass==="offscreen"){const k=P.prerender;if(k){if(g.setCustomLayerDefaults(),S.setColorMode(g.colorModeForRenderPass()),g.transform.projection.name==="globe"){const D=g.transform.pointMerc;k.call(P,S.gl,g.transform.customLayerMatrix(),g.transform.getProjection(),g.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(g.transform.zoom),[D.x,D.y],g.transform.pixelsPerMeterRatio)}else k.call(P,S.gl,g.transform.customLayerMatrix());S.setDirty(),g.setBaseState()}}else if(g.renderPass==="translucent"){if(g.terrain&&g.terrain.renderingToTexture){const D=P.renderToTile;if(D){const z=v[0].canonical,V=new a.MercatorCoordinate(z.x+v[0].wrap*(1<<z.z),z.y,z.z);S.setDepthMode(a.DepthMode.disabled),S.setStencilMode(a.StencilMode.disabled),S.setColorMode(g.colorModeForRenderPass()),g.setCustomLayerDefaults(),D.call(P,S.gl,V),S.setDirty(),g.setBaseState()}return}g.setCustomLayerDefaults(),S.setColorMode(g.colorModeForRenderPass()),S.setStencilMode(a.StencilMode.disabled);const k=P.renderingMode==="3d"?new a.DepthMode(g.context.gl.LEQUAL,a.DepthMode.ReadWrite,g.depthRangeFor3D):g.depthModeForSublayer(0,a.DepthMode.ReadOnly);if(S.setDepthMode(k),g.transform.projection.name==="globe"){const D=g.transform.pointMerc;P.render(S.gl,g.transform.customLayerMatrix(),g.transform.getProjection(),g.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(g.transform.zoom),[D.x,D.y],g.transform.pixelsPerMeterRatio)}else P.render(S.gl,g.transform.customLayerMatrix());S.setDirty(),g.setBaseState(),S.bindFramebuffer.set(null)}}else a.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class yl{constructor(l,f,v=!1){this.context=new kt(l,v),this.transform=f,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=a.SourceCache.maxUnderzooming+a.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(l,f){const v=!!l&&!!l.terrain&&this.transform.projection.supportsTerrain;if(!(v||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new ah(this,l));const S=this._terrain;this.transform.elevation=v?S:null,S.update(l,this.transform,f)}_updateFog(l){const f=l.fog;if(!f||this.transform.projection.name==="globe"||f.getOpacity(this.transform.pitch)<1||f.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[v,S]=f.getFovAdjustedRange(this.transform._fov);if(v>S)return void(this.transform.fogCullDistSq=null);const P=v+.78*(S-v);this.transform.fogCullDistSq=P*P}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(l,f){if(this.width=l*a.exported.devicePixelRatio,this.height=f*a.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style.order)this.style._layers[v].resize()}setup(){const l=this.context,f=new a.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(a.EXTENT,0),f.emplaceBack(0,a.EXTENT),f.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(f,a.posAttributes.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const v=new a.StructArrayLayout2i4;v.emplaceBack(0,0),v.emplaceBack(a.EXTENT,0),v.emplaceBack(0,a.EXTENT),v.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=l.createVertexBuffer(v,a.posAttributes.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const S=new a.StructArrayLayout2i4;S.emplaceBack(-1,-1),S.emplaceBack(1,-1),S.emplaceBack(-1,1),S.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(S,a.posAttributes.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const P=new a.StructArrayLayout4i8;P.emplaceBack(0,0,0,0),P.emplaceBack(a.EXTENT,0,a.EXTENT,0),P.emplaceBack(0,a.EXTENT,0,a.EXTENT),P.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.mercatorBoundsBuffer=l.createVertexBuffer(P,a.boundsAttributes.members),this.mercatorBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const k=new a.StructArrayLayout3ui6;k.emplaceBack(0,1,2),k.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(k);const D=new a.StructArrayLayout1ui2;for(const V of[0,1,3,2,0])D.emplaceBack(V);this.debugIndexBuffer=l.createIndexBuffer(D),this.emptyTexture=new a.Texture(l,new a.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),l.gl.RGBA),this.identityMat=a.create();const z=this.context.gl;this.stencilClearMode=new a.StencilMode({func:z.ALWAYS,mask:0},0,255,z.ZERO,z.ZERO,z.ZERO),this.loadTimeStamps.push(a.window.performance.now()),this.atmosphereBuffer=new rc(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(l){return l._makeTileBoundsBuffers(this.context,this.transform.projection),l._tileBoundsBuffer?{tileBoundsBuffer:l._tileBoundsBuffer,tileBoundsIndexBuffer:l._tileBoundsIndexBuffer,tileBoundsSegments:l._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const l=this.context,f=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(l,f.TRIANGLES,a.DepthMode.disabled,this.stencilClearMode,a.ColorMode.disabled,a.CullFaceMode.disabled,Hu(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(l,f,v){if(!f||this.currentStencilSource===f.id||!l.isTileClipped()||!v||v.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let D=!1;for(const z of v)if(this._tileClippingMaskIDs[z.key]===void 0){D=!0;break}if(!D)return}this.currentStencilSource=f.id;const S=this.context,P=S.gl;this.nextStencilID+v.length>256&&this.clearStencil(),S.setColorMode(a.ColorMode.disabled),S.setDepthMode(a.DepthMode.disabled);const k=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of v){const z=f.getTile(D),V=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,{tileBoundsBuffer:$,tileBoundsIndexBuffer:X,tileBoundsSegments:le}=this.getTileBoundsBuffers(z);k.draw(S,P.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:P.ALWAYS,mask:0},V,255,P.KEEP,P.KEEP,P.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,Hu(D.projMatrix),"$clipping",$,X,le)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,f=this.context.gl;return new a.StencilMode({func:f.NOTEQUAL,mask:255},l,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(l){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(l);const f=this.context.gl;return new a.StencilMode({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(l){const f=this.context.gl,v=l.sort(((k,D)=>D.overscaledZ-k.overscaledZ)),S=v[v.length-1].overscaledZ,P=v[0].overscaledZ-S+1;if(P>1){this.currentStencilSource=void 0,this.nextStencilID+P>256&&this.clearStencil();const k={};for(let D=0;D<P;D++)k[D+S]=new a.StencilMode({func:f.GEQUAL,mask:255},D+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=P,[k,v]}return[{[S]:a.StencilMode.disabled},v]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new a.ColorMode([l.CONSTANT_COLOR,l.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?a.ColorMode.unblended:a.ColorMode.alphaBlended}depthModeForSublayer(l,f,v){if(!this.opaquePassEnabledForLayer())return a.DepthMode.disabled;const S=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new a.DepthMode(v||this.context.gl.LEQUAL,f,[S,S])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,f){this.style=l,this.options=f,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const v=this.style.order,S=this.style._sourceCaches;for(const V in S){const $=S[V];$.used&&$.prepare(this.context)}const P={},k={},D={};for(const V in S){const $=S[V];P[V]=$.getVisibleCoordinates(),k[V]=P[V].slice().reverse(),D[V]=$.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let V=0;V<v.length;V++)if(this.style._layers[v[V]].is3D()){this.opaquePassCutoff=V;break}if(this.terrain&&(this.terrain.updateTileBinding(D),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new a.GlobeSharedBuffers(this.context)),!a.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const V of v){const $=this.style._layers[V],X=l._getLayerSourceCache($);if(!$.hasOffscreenPass()||$.isHidden(this.transform.zoom))continue;const le=X?k[X.id]:void 0;($.type==="custom"||$.isSky()||le&&le.length)&&this.renderLayer(this,X,$,le)}this.depthRangeFor3D=[0,1-(l.order.length+2)*this.numSublayers*this.depthEpsilon];const z=this.terrain;if(z&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&z.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:f.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const V=this.style._layers[v[this.currentLayer]],$=l._getLayerSourceCache(V);if(V.isSky())continue;const X=$?k[$.id]:void 0;this._renderTileClippingMasks(V,$,X),this.renderLayer(this,$,V,X)}if(this.style.fog&&this.transform.projection.supportsFog&&(function(V,$){const X=V.context,le=X.gl,he=V.transform,de=new a.DepthMode(le.LEQUAL,a.DepthMode.ReadOnly,[0,1]),fe=V.useProgram("globeAtmosphere",null,he.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),pe=a.globeToMercatorTransition(he.zoom),Y=$.properties.get("color").toArray01(),ce=$.properties.get("high-color").toArray01(),_e=$.properties.get("space-color").toArray01PremultipliedAlpha(),ve=a.identity$1([]);a.rotateY$1(ve,ve,-a.degToRad(he._center.lng)),a.rotateX$1(ve,ve,a.degToRad(he._center.lat)),a.rotateZ$1(ve,ve,he.angle),a.rotateX$1(ve,ve,-he._pitch);const Be=a.fromQuat(new Float32Array(16),ve),Ne=a.mapValue($.properties.get("star-intensity"),0,1,0,.25),Fe=5e-4,Ke=a.mapValue($.properties.get("horizon-blend"),0,1,Fe,.25),Xe=a.globeUseCustomAntiAliasing(V,X,he)&&Ke===Fe?he.worldSize/(2*Math.PI*1.025)-1:he.globeRadius,at=V.frameCounter/1e3%1,Ot=a.length(he.globeCenterInViewSpace),nt=Math.sqrt(Math.pow(Ot,2)-Math.pow(Xe,2)),_t=Math.acos(nt/Ot),st=((ot,vt,Mt,Et,Dt,ar,xr,tr,dr,Rr,Nr,sr,Vr,an)=>({u_frustum_tl:ot,u_frustum_tr:vt,u_frustum_br:Mt,u_frustum_bl:Et,u_horizon:Dt,u_transition:ar,u_fadeout_range:xr,u_color:tr,u_high_color:dr,u_space_color:Rr,u_star_intensity:Nr,u_star_size:5*a.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:sr,u_horizon_angle:Vr,u_rotation_matrix:an}))(he.frustumCorners.TL,he.frustumCorners.TR,he.frustumCorners.BR,he.frustumCorners.BL,he.frustumCorners.horizon,pe,Ke,Y,ce,_e,Ne,at,_t,Be);V.prepareDrawProgram(X,fe);const Ct=V.atmosphereBuffer;Ct&&fe.draw(X,le.TRIANGLES,de,a.StencilMode.disabled,a.ColorMode.alphaBlended,a.CullFaceMode.backCW,st,"skybox",Ct.vertexBuffer,Ct.indexBuffer,Ct.segments)})(this,this.style.fog),this.renderPass="sky",(a.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const V=this.style._layers[v[this.currentLayer]],$=l._getLayerSourceCache(V);V.isSky()&&this.renderLayer(this,$,V,$?k[$.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;){const V=this.style._layers[v[this.currentLayer]],$=l._getLayerSourceCache(V);if(V.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(V)){if(V.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const X=$?(V.type==="symbol"?D:k)[$.id]:void 0;this._renderTileClippingMasks(V,$,$?P[$.id]:void 0),this.renderLayer(this,$,V,X),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let V=null;a.values(this.style._layers).forEach(($=>{const X=l._getLayerSourceCache($);X&&!$.isHidden(this.transform.zoom)&&(!V||V.getSource().maxzoom<X.getSource().maxzoom)&&(V=X)})),V&&this.options.showTileBoundaries&&zs.debug(this,V,V.getVisibleCoordinates())}this.options.showPadding&&(function(V){const $=V.transform.padding;gl(V,V.transform.height-($.top||0),3,ml),gl(V,$.bottom||0,3,Lf),iu(V,$.left||0,3,Rf),iu(V,V.transform.width-($.right||0),3,xh);const X=V.transform.centerPoint;(function(le,he,de,fe){Ua(le,he-1,de-10,2,20,fe),Ua(le,he-10,de-1,20,2,fe)})(V,X.x,V.transform.height-X.y,kd)})(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(a.window.performance.now()),this.saveCanvasCopy())}renderLayer(l,f,v,S){v.isHidden(this.transform.zoom)||(v.type==="background"||v.type==="sky"||v.type==="custom"||S&&S.length)&&(this.id=v.id,this.gpuTimingStart(v),(!l.transform.projection.unsupportedLayers||!l.transform.projection.unsupportedLayers.includes(v.type)||l.terrain&&v.type==="custom")&&zs[v.type](l,f,v,S,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(l){if(!this.options.gpuTiming)return;const f=this.context.extTimerQuery;let v=this.gpuTimers[l.id];v||(v=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:f.createQueryEXT()}),v.calls++,f.beginQueryEXT(f.TIME_ELAPSED_EXT,v.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const l=this.context.extTimerQuery,f=l.createQueryEXT();this.deferredRenderGpuTimeQueries.push(f),l.beginQueryEXT(l.TIME_ELAPSED_EXT,f)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}collectGpuTimers(){const l=this.gpuTimers;return this.gpuTimers={},l}collectDeferredRenderGpuQueries(){const l=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],l}queryGpuTimers(l){const f={};for(const v in l){const S=l[v],P=this.context.extTimerQuery,k=P.getQueryObjectEXT(S.query,P.QUERY_RESULT_EXT)/1e6;P.deleteQueryEXT(S.query),f[v]=k}return f}queryGpuTimeDeferredRender(l){if(!this.options.gpuTimingDeferredRender)return 0;const f=this.context.extTimerQuery;let v=0;for(const S of l)v+=f.getQueryObjectEXT(S,f.QUERY_RESULT_EXT)/1e6,f.deleteQueryEXT(S);return v}translatePosMatrix(l,f,v,S,P){if(!v[0]&&!v[1])return l;const k=P?S==="map"?this.transform.angle:0:S==="viewport"?-this.transform.angle:0;if(k){const V=Math.sin(k),$=Math.cos(k);v=[v[0]*$-v[1]*V,v[0]*V+v[1]*$]}const D=[P?v[0]:We(f,v[0],this.transform.zoom),P?v[1]:We(f,v[1],this.transform.zoom),0],z=new Float32Array(16);return a.translate(z,l,D),z}saveTileTexture(l){const f=this._tileTextures[l.size[0]];f?f.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const f=this._tileTextures[l];return f&&f.length>0?f.pop():null}isPatternMissing(l){return l===null||l!==void 0&&!this.imageManager.getPattern(l.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const l=this.terrain&&this.terrain.renderingToTexture,f=this.terrain&&this.terrain.exaggeration()===0,v=this.style&&this.style.fog,S=[];return this.terrainRenderModeElevated()&&S.push("TERRAIN"),this.transform.projection.name==="globe"&&S.push("GLOBE"),f&&S.push("ZERO_EXAGGERATION"),v&&!l&&v.getOpacity(this.transform.pitch)!==0&&S.push("FOG"),l&&S.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&S.push("OVERDRAW_INSPECTOR"),S}useProgram(l,f,v){this.cache=this.cache||{};const S=v||[],P=this.currentGlobalDefines().concat(S),k=Xr.cacheKey(Wu[l],l,P,f);return this.cache[k]||(this.cache[k]=new Xr(this.context,l,Wu[l],f,Qu[l],P)),this.cache[k]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(l,f,v){if(this.terrain&&this.terrain.renderingToTexture)return;const S=this.style.fog;if(S){const P=S.getOpacity(this.transform.pitch),k=((D,z,V,$,X,le,he,de,fe,pe,Y)=>{const ce=D.transform,_e=z.properties.get("color").toArray01();_e[3]=$;const ve=D.frameCounter/1e3%1;return{u_fog_matrix:V?ce.calculateFogTileMatrix(V):D.identityMat,u_fog_range:z.getFovAdjustedRange(ce._fov),u_fog_color:_e,u_fog_horizon_blend:z.properties.get("horizon-blend"),u_fog_temporal_offset:ve,u_frustum_tl:X,u_frustum_tr:le,u_frustum_br:he,u_frustum_bl:de,u_globe_pos:fe,u_globe_radius:pe,u_viewport:Y,u_globe_transition:a.globeToMercatorTransition(ce.zoom),u_is_globe:+(ce.projection.name==="globe")}})(this,S,v,P,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.exported.devicePixelRatio,this.transform.height*a.exported.devicePixelRatio]);f.setFogUniformValues(l,k)}}setTileLoadedFlag(l){this.tileLoaded=l}saveCanvasCopy(){const l=this.canvasCopy();l&&(this.frameCopies.push(l),this.tileLoaded=!1)}canvasCopy(){const l=this.context.gl,f=l.createTexture();return l.bindTexture(l.TEXTURE_2D,f),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,0,0,l.drawingBufferWidth,l.drawingBufferHeight,0),f}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const l=this.style&&this.style.fog;return!!l&&l.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const l=this._backgroundTiles,f=this._backgroundTiles={},v=this.transform.coveringTiles({tileSize:512});for(const S of v)f[S.key]=l[S.key]||new a.Tile(S,512,this.transform.tileZoom,this);return f}clearBackgroundTiles(){this._backgroundTiles={}}}class nc{constructor(l=0,f=0,v=0,S=0){if(isNaN(l)||l<0||isNaN(f)||f<0||isNaN(v)||v<0||isNaN(S)||S<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=f,this.left=v,this.right=S}interpolate(l,f,v){return f.top!=null&&l.top!=null&&(this.top=a.number(l.top,f.top,v)),f.bottom!=null&&l.bottom!=null&&(this.bottom=a.number(l.bottom,f.bottom,v)),f.left!=null&&l.left!=null&&(this.left=a.number(l.left,f.left,v)),f.right!=null&&l.right!=null&&(this.right=a.number(l.right,f.right,v)),this}getCenter(l,f){const v=a.clamp((this.left+l-this.right)/2,0,l),S=a.clamp((this.top+f-this.bottom)/2,0,f);return new a.Point(v,S)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new nc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ic(g,l){const f=a.getColumn(g,3);a.fromQuat(g,l),a.setColumn(g,3,f)}function Yr(g,l){const f=a.identity$1([]);return a.rotateZ$1(f,f,-l),a.rotateX$1(f,f,-g),f}function au(g,l){const f=[g[0],g[1],0],v=[l[0],l[1],0];if(a.length(f)>=1e-15){const k=a.normalize([],f);a.scale$2(v,k,a.dot(v,k)),l[0]=v[0],l[1]=v[1]}const S=a.cross([],l,g);if(a.len(S)<1e-15)return null;const P=Math.atan2(-S[1],S[0]);return Yr(Math.atan2(Math.sqrt(g[0]*g[0]+g[1]*g[1]),-g[2]),P)}class as{constructor(l,f){this.position=l,this.orientation=f}get position(){return this._position}set position(l){if(l){const f=l instanceof a.MercatorCoordinate?l:new a.MercatorCoordinate(l[0],l[1],l[2]);this._renderWorldCopies&&(f.x=a.wrap(f.x,0,1)),this._position=f}else this._position=null}lookAtPoint(l,f){if(this.orientation=null,!this.position)return;const v=this.position,S=this._elevation?this._elevation.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(l)):0,P=a.MercatorCoordinate.fromLngLat(l,S),k=[P.x-v.x,P.y-v.y,P.z-v.z];f||(f=[0,0,1]),f[2]=Math.abs(f[2]),this.orientation=au(k,f)}setPitchBearing(l,f){this.orientation=Yr(a.degToRad(l),a.degToRad(-f))}}class su{constructor(l,f){this._transform=a.identity([]),this.orientation=f,this.position=l}get mercatorPosition(){const l=this.position;return new a.MercatorCoordinate(l[0],l[1],l[2])}get position(){const l=a.getColumn(this._transform,3);return[l[0],l[1],l[2]]}set position(l){var f;l&&a.setColumn(this._transform,3,[(f=l)[0],f[1],f[2],1])}get orientation(){return this._orientation}set orientation(l){this._orientation=l||a.identity$1([]),l&&ic(this._transform,this._orientation)}getPitchBearing(){const l=this.forward(),f=this.right();return{bearing:Math.atan2(-f[1],f[0]),pitch:Math.atan2(Math.sqrt(l[0]*l[0]+l[1]*l[1]),-l[2])}}setPitchBearing(l,f){this._orientation=Yr(l,f),ic(this._transform,this._orientation)}forward(){const l=a.getColumn(this._transform,2);return[-l[0],-l[1],-l[2]]}up(){const l=a.getColumn(this._transform,1);return[-l[0],-l[1],-l[2]]}right(){const l=a.getColumn(this._transform,0);return[l[0],l[1],l[2]]}getCameraToWorld(l,f){const v=new Float64Array(16);return a.invert(v,this.getWorldToCamera(l,f)),v}getWorldToCameraPosition(l,f,v){const S=this.position;a.scale$2(S,S,-l);const P=new Float64Array(16);return a.fromScaling(P,[v,v,v]),a.translate(P,P,S),P[10]*=f,P}getWorldToCamera(l,f){const v=new Float64Array(16),S=new Float64Array(4),P=this.position;return a.conjugate(S,this._orientation),a.scale$2(P,P,-l),a.fromQuat(v,S),a.translate(v,v,P),v[1]*=-1,v[5]*=-1,v[9]*=-1,v[13]*=-1,v[8]*=f,v[9]*=f,v[10]*=f,v[11]*=f,v}getCameraToClipPerspective(l,f,v,S){const P=new Float64Array(16);return a.perspective(P,l,f,v,S),P}getDistanceToElevation(l,f=!1){const v=l===0?0:a.mercatorZfromAltitude(l,f?a.latFromMercatorY(this.position[1]):this.position[1]),S=this.forward();return(v-this.position[2])/S[2]}clone(){return new su([...this.position],[...this.orientation])}}function Bs(g,l){const f=o1(g.projection,g.zoom,g.width,g.height),v=(function(P,k,D,z,V){const $=new a.LngLat(D.lng-180*Ro,D.lat),X=new a.LngLat(D.lng+180*Ro,D.lat),le=P.project($.lng,$.lat),he=P.project(X.lng,X.lat),de=-Math.atan2(he.y-le.y,he.x-le.x),fe=a.MercatorCoordinate.fromLngLat(D);fe.y=a.clamp(fe.y,-1+Ro,1-Ro);const pe=fe.toLngLat(),Y=P.project(pe.lng,pe.lat),ce=a.MercatorCoordinate.fromLngLat(pe);ce.x+=Ro;const _e=ce.toLngLat(),ve=P.project(_e.lng,_e.lat),Be=oc(ve.x-Y.x,ve.y-Y.y,de),Ne=a.MercatorCoordinate.fromLngLat(pe);Ne.y+=Ro;const Fe=Ne.toLngLat(),Ke=P.project(Fe.lng,Fe.lat),Xe=oc(Ke.x-Y.x,Ke.y-Y.y,de),at=Math.abs(Be.x)/Math.abs(Xe.y),Ot=a.identity([]);a.rotateZ(Ot,Ot,-de*(1-(V?0:z)));const nt=a.identity([]);return a.scale(nt,nt,[1,1-(1-at)*z,1]),nt[4]=-Xe.x/Xe.y*z,a.rotateZ(nt,nt,de),a.multiply(nt,Ot,nt),nt})(g.projection,0,g.center,f,l),S=zf(g);return a.scale(v,v,[S,S,1]),v}function zf(g){const l=g.projection,f=o1(g.projection,g.zoom,g.width,g.height),v=Bf(l,g.center),S=Bf(l,a.LngLat.convert(l.center));return Math.pow(2,v*f+(1-f)*S)}function o1(g,l,f,v,S=1/0){const P=g.range;if(!P)return 0;const k=Math.min(S,Math.max(f,v)),D=Math.log(k/1024)/Math.LN2;return a.smoothstep(P[0]+D,P[1]+D,l)}const Ro=1/4e4;function Bf(g,l){const f=a.clamp(l.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),v=new a.LngLat(l.lng-180*Ro,f),S=new a.LngLat(l.lng+180*Ro,f),P=g.project(v.lng,f),k=g.project(S.lng,f),D=a.MercatorCoordinate.fromLngLat(v),z=a.MercatorCoordinate.fromLngLat(S),V=k.x-P.x,$=k.y-P.y,X=z.x-D.x,le=z.y-D.y,he=Math.sqrt((X*X+le*le)/(V*V+$*$));return Math.log(he)/Math.LN2}function oc(g,l,f){const v=Math.cos(f),S=Math.sin(f);return{x:g*v-l*S,y:g*S+l*v}}class _l{constructor(l,f,v,S,P,k,D){this.tileSize=512,this._renderWorldCopies=P===void 0||P,this._minZoom=l||0,this._maxZoom=f||22,this._minPitch=v??0,this._maxPitch=S??60,this.setProjection(k),this.setMaxBounds(D),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new nc,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new su,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const l=new _l(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return l._elevation=this._elevation,l._centerAltitude=this._centerAltitude,l._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,l.tileSize=this.tileSize,l.mercatorFromTransition=this.mercatorFromTransition,l.width=this.width,l.height=this.height,l.cameraElevationReference=this.cameraElevationReference,l._center=this._center,l._setZoom(this.zoom),l._seaLevelZoom=this._seaLevelZoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._nearZ=this._nearZ,l._farZ=this._farZ,l._averageElevation=this._averageElevation,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._camera=this._camera.clone(),l._calcMatrices(),l.freezeTileCoverage=this.freezeTileCoverage,l.frustumCorners=this.frustumCorners,l}get elevation(){return this._elevation}set elevation(l){this._elevation!==l&&(this._elevation=l,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(l,f=!1){const v=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||v)&&this._updateCameraOnTerrain(),(l||v)&&this._constrainCamera(f),this._calcMatrices()}getProjection(){return a.pick(this.projection,["name","center","parallels"])}setProjection(l){this.projectionOptions=l||{name:"mercator"};const f=this.projection?this.getProjection():void 0;this.projection=a.getProjection(this.projectionOptions);const v=!w(f,this.getProjection());return v&&this._calcMatrices(),this.mercatorFromTransition=!1,v}setMercatorFromTransition(){const l=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.getProjection({name:"mercator"});const f=l!==this.projection.name;return f&&this._calcMatrices(),f}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get cameraWorldSize(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return a.wrap(this.rotation,-180,180)}set bearing(l){this.rotation=l}get rotation(){return-this.angle/Math.PI*180}set rotation(l){const f=-l*Math.PI/180;var v;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=(v=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v),(function(S,P,k){var D=P[0],z=P[1],V=P[2],$=P[3],X=Math.sin(k),le=Math.cos(k);S[0]=D*le+V*X,S[1]=z*le+$*X,S[2]=D*-X+V*le,S[3]=z*-X+$*le})(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(l){const f=a.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const l=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/l)}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=a.degToRad(l),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(l){this._averageElevation=l,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(l){const f=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._setZoom(f),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(l){this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const l=this._elevation;this._centerAltitude=l.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=l.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const l=this._elevation,f=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],v=this.horizonLineFromTop();let S=0,P=0;for(let k=0;k<f.length;k++){const D=new a.Point(f[k][0]*this.width,v+f[k][1]*(this.height-v)),z=l.pointCoordinate(D);if(!z)continue;const V=1/Math.hypot(z[0]-this._camera.position[0],z[1]-this._camera.position[1]);S+=z[3]*V,P+=V}return P===0?NaN:S/P}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const l=this._seaLevelZoom,f=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),v=this.pixelsPerMeter/this.worldSize*f,S=this._mercatorZfromZoom(l),P=this._mercatorZfromZoom(this._maxZoom),k=Math.max(S-v,P);this._setZoom(this._zoomFromMercatorZ(k))}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}computeZoomRelativeTo(l){const f=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,l.toAltitude()));let v;v=l.z<this._camera.position[2]?[f.x,f.y,f.z]:[l.x,l.y,l.z];const S=a.length(a.sub([],this._camera.position,v));return a.clamp(this._zoomFromMercatorZ(S),this._minZoom,this._maxZoom)}setFreeCameraOptions(l){if(!this.height||!l.position&&!l.orientation)return;this._updateCameraState();let f=!1;if(l.orientation&&!a.exactEquals(l.orientation,this._camera.orientation)&&(f=this._setCameraOrientation(l.orientation)),l.position){const v=[l.position.x,l.position.y,l.position.z];a.exactEquals$1(v,this._camera.position)||(this._setCameraPosition(v),f=!0)}f&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const l=this._camera.position,f=new as;return f.position=new a.MercatorCoordinate(l[0],l[1],l[2]),f.orientation=this._camera.orientation,f._elevation=this.elevation,f._renderWorldCopies=this.renderWorldCopies,f}_setCameraOrientation(l){if(!a.length$1(l))return!1;a.normalize$1(l,l);const f=a.transformQuat([],[0,0,-1],l),v=a.transformQuat([],[0,-1,0],l);if(v[2]<0)return!1;const S=au(f,v);return!!S&&(this._camera.orientation=S,!0)}_setCameraPosition(l){const f=this.zoomScale(this.minZoom)*this.tileSize,v=this.zoomScale(this.maxZoom)*this.tileSize,S=this.cameraToCenterDistance;l[2]=a.clamp(l[2],S/v,S/f),this._camera.position=l}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,f,v){this._unmodified=!1,this._edgeInsets.interpolate(l,f,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const f=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(l){const f=[new a.UnwrappedTileID(0,l)];if(this.renderWorldCopies){const v=this.pointCoordinate(new a.Point(0,0)),S=this.pointCoordinate(new a.Point(this.width,0)),P=this.pointCoordinate(new a.Point(this.width,this.height)),k=this.pointCoordinate(new a.Point(0,this.height)),D=Math.floor(Math.min(v.x,S.x,P.x,k.x)),z=Math.floor(Math.max(v.x,S.x,P.x,k.x)),V=1;for(let $=D-V;$<=z+V;$++)$!==0&&f.push(new a.UnwrappedTileID($,l))}return f}coveringTiles(l){let f=this.coveringZoomLevel(l);const v=f,S=this.elevation&&!l.isTerrainDEM,P=this.projection.name==="mercator";if(l.minzoom!==void 0&&f<l.minzoom)return[];l.maxzoom!==void 0&&f>l.maxzoom&&(f=l.maxzoom);const k=this.locationCoordinate(this.center),D=this.center.lat,z=1<<f,V=[z*k.x,z*k.y,0],$=this.projection.name==="globe",X=!$,le=a.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,f,X),he=$?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),de=z*a.mercatorZfromAltitude(1,this.center.lat),fe=this._camera.position[2]/a.mercatorZfromAltitude(1,this.center.lat),pe=[z*he.x,z*he.y,fe*(X?1:de)],Y=this.cameraToCenterDistance/l.tileSize*(l.roundZoom?1:.502),ce=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?f:0,_e=l.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,ve=l.isTerrainDEM?-_e:this._elevation?this._elevation.getMinElevationBelowMSL():0,Be=this.projection.isReprojectedInTileSpace?zf(this):1,Ne=ot=>{const Mt=new a.MercatorCoordinate(ot.x+25e-6,ot.y,ot.z),Et=new a.MercatorCoordinate(ot.x,ot.y+25e-6,ot.z),Dt=ot.toLngLat(),ar=Mt.toLngLat(),xr=Et.toLngLat(),tr=this.locationCoordinate(Dt),dr=this.locationCoordinate(ar),Rr=this.locationCoordinate(xr),Nr=Math.hypot(dr.x-tr.x,dr.y-tr.y),sr=Math.hypot(Rr.x-tr.x,Rr.y-tr.y);return Math.sqrt(Nr*sr)*Be/25e-6},Fe=ot=>{const vt=_e,Mt=ve;return{aabb:a.tileAABB(this,z,0,0,0,ot,Mt,vt,this.projection),zoom:0,x:0,y:0,minZ:Mt,maxZ:vt,wrap:ot,fullyVisible:!1}},Ke=[];let Xe=[];const at=f,Ot=l.reparseOverscaled?v:f,nt=ot=>ot*ot,_t=nt((fe-this._centerAltitude)*de),st=ot=>{if(!this._elevation||!ot.tileID||!P)return;const vt=this._elevation.getMinMaxForTile(ot.tileID),Mt=ot.aabb;vt?(Mt.min[2]=vt.min,Mt.max[2]=vt.max,Mt.center[2]=(Mt.min[2]+Mt.max[2])/2):(ot.shouldSplit=Ct(ot),ot.shouldSplit||(Mt.min[2]=Mt.max[2]=Mt.center[2]=this._centerAltitude))},Ct=ot=>{if(ot.zoom<ce)return!0;if(ot.zoom===at)return!1;if(ot.shouldSplit!=null)return ot.shouldSplit;const vt=ot.aabb.distanceX(pe),Mt=ot.aabb.distanceY(pe);let Et=_t,Dt=1;if($){Et=nt(ot.aabb.distanceZ(pe));const tr=Math.pow(2,ot.zoom),dr=a.latFromMercatorY((ot.y+1)/tr),Rr=a.latFromMercatorY(ot.y/tr),Nr=Math.min(Math.max(D,dr),Rr),sr=a.circumferenceAtLatitude(Nr)/a.circumferenceAtLatitude(D);if(Dt=Nr===D?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,sr/this._mercatorScaleRatio),this.zoom<=a.GLOBE_ZOOM_THRESHOLD_MIN&&ot.zoom===at-1&&sr>=.9)return!0}else if(S&&(Et=nt(ot.aabb.distanceZ(pe)*de)),this.projection.isReprojectedInTileSpace&&v<=5){const tr=Math.pow(2,ot.zoom),dr=Ne(new a.MercatorCoordinate((ot.x+.5)/tr,(ot.y+.5)/tr));Dt=dr>.85?1:dr}const ar=vt*vt+Mt*Mt+Et,xr=nt((1<<at-ot.zoom)*Y*Dt*((tr,dr)=>{if(dr*nt(.707)<tr)return 1;const Rr=Math.sqrt(dr/tr);return Rr/(1.4144271570014144+(Math.pow(1.1,Rr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Et,_t),ar));return ar<xr};if(this.renderWorldCopies)for(let ot=1;ot<=3;ot++)Ke.push(Fe(-ot)),Ke.push(Fe(ot));for(Ke.push(Fe(0));Ke.length>0;){const ot=Ke.pop(),vt=ot.x,Mt=ot.y;let Et=ot.fullyVisible;if(!Et){const Dt=ot.aabb.intersects(le);if(Dt===0)continue;Et=Dt===2}if(ot.zoom!==at&&Ct(ot))for(let Dt=0;Dt<4;Dt++){const ar=(vt<<1)+Dt%2,xr=(Mt<<1)+(Dt>>1),tr={aabb:P?ot.aabb.quadrant(Dt):a.tileAABB(this,z,ot.zoom+1,ar,xr,ot.wrap,ot.minZ,ot.maxZ,this.projection),zoom:ot.zoom+1,x:ar,y:xr,wrap:ot.wrap,fullyVisible:Et,tileID:void 0,shouldSplit:void 0,minZ:ot.minZ,maxZ:ot.maxZ};S&&!$&&(tr.tileID=new a.OverscaledTileID(ot.zoom+1===at?Ot:ot.zoom+1,ot.wrap,ot.zoom+1,ar,xr),st(tr)),Ke.push(tr)}else{const Dt=ot.zoom===at?Ot:ot.zoom;if(l.minzoom&&l.minzoom>Dt)continue;const ar=V[0]-(.5+vt+(ot.wrap<<ot.zoom))*(1<<f-ot.zoom),xr=V[1]-.5-Mt,tr=ot.tileID?ot.tileID:new a.OverscaledTileID(Dt,ot.wrap,ot.zoom,vt,Mt);Xe.push({tileID:tr,distanceSq:ar*ar+xr*xr})}}if(this.fogCullDistSq){const ot=this.fogCullDistSq,vt=this.horizonLineFromTop();Xe=Xe.filter((Mt=>{const Et=[0,0,0,1],Dt=[a.EXTENT,a.EXTENT,0,1],ar=this.calculateFogTileMatrix(Mt.tileID.toUnwrapped());a.transformMat4$1(Et,Et,ar),a.transformMat4$1(Dt,Dt,ar);const xr=a.getAABBPointSquareDist(Et,Dt);if(xr===0)return!0;let tr=!1;const dr=this._elevation;if(dr&&xr>ot&&vt!==0){const Rr=this.calculateProjMatrix(Mt.tileID.toUnwrapped());let Nr;l.isTerrainDEM||(Nr=dr.getMinMaxForTile(Mt.tileID)),Nr||(Nr={min:ve,max:_e});const sr=a.furthestTileCorner(this.rotation),Vr=[sr[0]*a.EXTENT,sr[1]*a.EXTENT,Nr.max];a.transformMat4(Vr,Vr,Rr),tr=(1-Vr[1])*this.height*.5<vt}return xr<ot||tr}))}return Xe.sort(((ot,vt)=>ot.distanceSq-vt.distanceSq)).map((ot=>ot.tileID))}resize(l,f){this.width=l,this.height=f,this.pixelsToGLUnits=[2/l,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){const f=a.clamp(l.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),v=this.projection.project(l.lng,f);return new a.Point(v.x*this.worldSize,v.y*this.worldSize)}unproject(l){return this.projection.unproject(l.x/this.worldSize,l.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/a.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(l,f){let v,S;const P=this.centerPoint;if(this.projection.name==="globe"){const D=this.worldSize;v=(f.x-P.x)/D,S=(f.y-P.y)/D}else{const D=this.pointCoordinate(f),z=this.pointCoordinate(P);v=D.x-z.x,S=D.y-z.y}const k=this.locationCoordinate(l);this.setLocation(new a.MercatorCoordinate(k.x-v,k.y-S))}setLocation(l){this.center=this.coordinateLocation(l),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(l){return this.projection.locationPoint(this,l)}locationPoint3D(l){return this.projection.locationPoint(this,l,!0)}pointLocation(l){return this.coordinateLocation(this.pointCoordinate(l))}pointLocation3D(l){return this.coordinateLocation(this.pointCoordinate3D(l))}locationCoordinate(l,f){const v=f?a.mercatorZfromAltitude(f,l.lat):void 0,S=this.projection.project(l.lng,l.lat);return new a.MercatorCoordinate(S.x,S.y,v)}coordinateLocation(l){return this.projection.unproject(l.x,l.y)}pointRayIntersection(l,f){const v=f??this._centerAltitude,S=[l.x,l.y,0,1],P=[l.x,l.y,1,1];a.transformMat4$1(S,S,this.pixelMatrixInverse),a.transformMat4$1(P,P,this.pixelMatrixInverse);const k=P[3];a.scale$1(S,S,1/S[3]),a.scale$1(P,P,1/k);const D=S[2],z=P[2];return{p0:S,p1:P,t:D===z?0:(v-D)/(z-D)}}screenPointToMercatorRay(l){const f=[l.x,l.y,0,1],v=[l.x,l.y,1,1];return a.transformMat4$1(f,f,this.pixelMatrixInverse),a.transformMat4$1(v,v,this.pixelMatrixInverse),a.scale$1(f,f,1/f[3]),a.scale$1(v,v,1/v[3]),f[2]=a.mercatorZfromAltitude(f[2],this._center.lat)*this.worldSize,v[2]=a.mercatorZfromAltitude(v[2],this._center.lat)*this.worldSize,a.scale$1(f,f,1/this.worldSize),a.scale$1(v,v,1/this.worldSize),new a.Ray([f[0],f[1],f[2]],a.normalize([],a.sub([],v,f)))}rayIntersectionCoordinate(l){const{p0:f,p1:v,t:S}=l,P=a.mercatorZfromAltitude(f[2],this._center.lat),k=a.mercatorZfromAltitude(v[2],this._center.lat);return new a.MercatorCoordinate(a.number(f[0],v[0],S)/this.worldSize,a.number(f[1],v[1],S)/this.worldSize,a.number(P,k,S))}pointCoordinate(l,f=this._centerAltitude){return this.projection.pointCoordinate(this,l.x,l.y,f)}pointCoordinate3D(l){if(!this.elevation)return this.pointCoordinate(l);let f=this.projection.pointCoordinate3D(this,l.x,l.y);if(f)return new a.MercatorCoordinate(f[0],f[1],f[2]);let v=0,S=this.horizonLineFromTop();if(l.y>S)return this.pointCoordinate(l);const P=.02*S,k=l.clone();for(let D=0;D<10&&S-v>P;D++){k.y=a.number(v,S,.66);const z=this.projection.pointCoordinate3D(this,k.x,k.y);z?(S=k.y,f=z):v=k.y}return f?new a.MercatorCoordinate(f[0],f[1],f[2]):this.pointCoordinate(l)}isPointAboveHorizon(l){return this.projection.isPointAboveHorizon(this,l)}isPointOnSurface(l){if(l.y<0||l.y>this.height||l.x<0||l.x>this.width)return!1;if(this.elevation||this.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(l);const f=this.pointCoordinate(l);return f.y>=0&&f.y<=1}_coordinatePoint(l,f){const v=f&&this.elevation?this.elevation.getAtPointOrZero(l,this._centerAltitude):this._centerAltitude,S=[l.x*this.worldSize,l.y*this.worldSize,v+l.toAltitude(),1];return a.transformMat4$1(S,S,this.pixelMatrix),S[3]>0?new a.Point(S[0]/S[3],S[1]/S[3]):new a.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:l,left:f}=this._edgeInsets,v=this.height-this._edgeInsets.bottom,S=this.width-this._edgeInsets.right,P=this.pointLocation3D(new a.Point(f,l)),k=this.pointLocation3D(new a.Point(S,l)),D=this.pointLocation3D(new a.Point(S,v)),z=this.pointLocation3D(new a.Point(f,v));let V=Math.min(P.lng,k.lng,D.lng,z.lng),$=Math.max(P.lng,k.lng,D.lng,z.lng),X=Math.min(P.lat,k.lat,D.lat,z.lat),le=Math.max(P.lat,k.lat,D.lat,z.lat);const he=Math.pow(2,-this.zoom)/16*270,de=this.projection.name==="globe"?1:4,fe=(pe,Y,ce,_e,ve)=>{const Be=(pe+ce)/2,Ne=(Y+_e)/2,Fe=new a.Point(Be,Ne),{lng:Ke,lat:Xe}=this.pointLocation3D(Fe),at=Math.max(0,V-Ke,X-Xe,Ke-$,Xe-le);V=Math.min(V,Ke),$=Math.max($,Ke),X=Math.min(X,Xe),le=Math.max(le,Xe),(ve<de||at>he)&&(fe(pe,Y,Be,Ne,ve+1),fe(Be,Ne,ce,_e,ve+1))};if(fe(f,l,S,l,1),fe(S,l,S,v,1),fe(S,v,f,v,1),fe(f,v,f,l,1),this.projection.name==="globe"){const[pe,Y]=a.polesInViewport(this);pe?(le=90,$=180,V=-180):Y&&(X=-90,$=180,V=-180)}return new a.LngLatBounds(new a.LngLat(V,X),new a.LngLat($,le))}_getBoundsRectangular(l,f){const{top:v,left:S}=this._edgeInsets,P=this.height-this._edgeInsets.bottom,k=this.width-this._edgeInsets.right,D=new a.Point(S,v),z=new a.Point(k,v),V=new a.Point(k,P),$=new a.Point(S,P);let X=this.pointCoordinate(D,l),le=this.pointCoordinate(z,l);const he=this.pointCoordinate(V,f),de=this.pointCoordinate($,f),fe=(pe,Y)=>(Y.y-pe.y)/(Y.x-pe.x);return X.y>1&&le.y>=0?X=new a.MercatorCoordinate((1-de.y)/fe(de,X)+de.x,1):X.y<0&&le.y<=1&&(X=new a.MercatorCoordinate(-de.y/fe(de,X)+de.x,0)),le.y>1&&X.y>=0?le=new a.MercatorCoordinate((1-he.y)/fe(he,le)+he.x,1):le.y<0&&X.y<=1&&(le=new a.MercatorCoordinate(-he.y/fe(he,le)+he.x,0)),new a.LngLatBounds().extend(this.coordinateLocation(X)).extend(this.coordinateLocation(le)).extend(this.coordinateLocation(de)).extend(this.coordinateLocation(he))}_getBoundsRectangularTerrain(){const l=this.elevation;if(!l.visibleDemTiles.length||l.isUsingMockSource())return this._getBoundsRectangular(0,0);const f=l.visibleDemTiles.reduce(((v,S)=>{if(S.dem){const P=S.dem.tree;v.min=Math.min(v.min,P.minimums[0]),v.max=Math.max(v.max,P.maximums[0])}return v}),{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(f.min*l.exaggeration(),f.max*l.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(l=!0){const f=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,v=this.height/2-f*(1-this._horizonShift);return l?Math.max(0,v):v}getMaxBounds(){return this.maxBounds}setMaxBounds(l){this.maxBounds=l,this.minLat=-a.MAX_MERCATOR_LATITUDE,this.maxLat=a.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,l&&(this.minLat=l.getSouth(),this.maxLat=l.getNorth(),this.minLng=l.getWest(),this.maxLng=l.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=a.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=a.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=a.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(l,f){return this.projection.createTileMatrix(this,f,l)}calculateDistanceTileData(l){const f=l.key,v=this._distanceTileDataCache;if(v[f])return v[f];const S=l.canonical,P=1/this.height,k=this.cameraWorldSize,D=k/this.zoomScale(S.z),z=(S.x+Math.pow(2,S.z)*l.wrap)*D,V=S.y*D,$=this.point;$.x*=k/this.worldSize,$.y*=k/this.worldSize;const X=this.angle,le=Math.sin(-X),he=-Math.cos(-X);return v[f]={bearing:[le,he],center:[($.x-z)*P,($.y-V)*P],scale:D/a.EXTENT*P},v[f]}calculateFogTileMatrix(l){const f=l.key,v=this._fogTileMatrixCache;if(v[f])return v[f];const S=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,l);return a.multiply(S,this.worldToFogMatrix,S),v[f]=new Float32Array(S),v[f]}calculateProjMatrix(l,f=!1){const v=l.key,S=f?this._alignedProjMatrixCache:this._projMatrixCache;if(S[v])return S[v];const P=this.calculatePosMatrix(l,this.worldSize);return a.multiply(P,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:f?this.alignedProjMatrix:this.projMatrix,P),S[v]=new Float32Array(P),S[v]}calculatePixelsToTileUnitsMatrix(l){const f=l.tileID.key,v=this._pixelsToTileUnitsCache;if(v[f])return v[f];const S=(function(P,k){const{scale:D}=P.tileTransform,z=D*a.EXTENT/(P.tileSize*Math.pow(2,k.zoom-P.tileID.overscaledZ+P.tileID.canonical.z));return V=new Float32Array(4),le=($=k.inverseAdjustmentMatrix)[1],he=$[2],de=$[3],pe=(X=[z,z])[1],V[0]=$[0]*(fe=X[0]),V[1]=le*fe,V[2]=he*pe,V[3]=de*pe,V;var V,$,X,le,he,de,fe,pe})(l,this);return v[f]=S,v[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const l=1/this.worldSize,f=a.fromScaling([],[l,l,l]);return a.multiply(f,f,this.globeMatrix),f}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const l=this._elevation;this._updateCameraState();const f=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,v=this._computeCameraPosition(f),S=this._camera.forward(),P=a.mercatorZfromAltitude(1,this._center.lat);v[2]/=P,S[2]/=P,a.normalize(S,S);const k=l.raycast(v,S,l.exaggeration());if(k){const D=a.scaleAndAdd([],v,S,k),z=new a.MercatorCoordinate(D[0],D[1],a.mercatorZfromAltitude(D[2],a.latFromMercatorY(D[1]))),V=(z.z+a.length([z.x-v[0],z.y-v[1],z.z-v[2]*P]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(V),this._centerAltitude=z.toAltitude(),this._center=this.coordinateLocation(z),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(l=!1){if(!this._elevation)return;const f=this._elevation,v=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,S=this._computeCameraPosition(v),P=f.getAtPointOrZero(new a.MercatorCoordinate(...S)),k=this.pixelsPerMeter/this.worldSize*P,D=this._minimumHeightOverTerrain(),z=S[2]-k;if(z<=D)if(z<0||l){const V=this.locationCoordinate(this._center,this._centerAltitude),$=[S[0],S[1],V.z-S[2]],X=a.length($);$[2]-=(D-z)/this._pixelsPerMercatorPixel;const le=a.length($);if(le===0)return;a.scale$2($,$,X/le*this._pixelsPerMercatorPixel),this._camera.position=[S[0],S[1],V.z*this._pixelsPerMercatorPixel-$[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const l=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||l){const le=this.center;return le.lat=a.clamp(le.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!l)&&(le.lng=a.clamp(le.lng,this.minLng,this.maxLng)),this.center=le,void(this._constraining=!1)}const f=this._unmodified,{x:v,y:S}=this.point;let P=0,k=v,D=S;const z=this.width/2,V=this.height/2,$=this.worldMinY*this.scale,X=this.worldMaxY*this.scale;if(S-V<$&&(D=$+V),S+V>X&&(D=X-V),X-$<this.height&&(P=Math.max(P,this.height/(X-$)),D=(X+$)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const le=this.worldMinX*this.scale,he=this.worldMaxX*this.scale,de=this.worldSize/2-(le+he)/2;k=(v+de+this.worldSize)%this.worldSize-de,k-z<le&&(k=le+z),k+z>he&&(k=he-z),he-le<this.width&&(P=Math.max(P,this.width/(he-le)),k=(he+le)/2)}k===v&&D===S||(this.center=this.unproject(new a.Point(k,D))),P&&(this.zoom+=this.scaleZoom(P)),this._constrainCamera(),this._unmodified=f,this._constraining=!1}_minZoomForBounds(){let l=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(l=Math.max(l,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),l}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const l=this.centerOffset,f=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=a.mercatorZfromAltitude(1,this.center.lat)/a.mercatorZfromAltitude(1,a.GLOBE_SCALE_MATCH_LATITUDE));const v=o1(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,v),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const S=this.projection.zAxisUnit==="meters"?f:1,P=this._camera.getWorldToCamera(this.worldSize,S),k=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);k[8]=2*-l.x/this.width,k[9]=2*l.y/this.height;let D=a.mul([],k,P);if(this.projection.isReprojectedInTileSpace){const Ne=this.locationCoordinate(this.center),Fe=a.identity([]);a.translate(Fe,Fe,[Ne.x*this.worldSize,Ne.y*this.worldSize,0]),a.multiply(Fe,Fe,Bs(this)),a.translate(Fe,Fe,[-Ne.x*this.worldSize,-Ne.y*this.worldSize,0]),a.multiply(D,D,Fe),this.inverseAdjustmentMatrix=(function(Ke){const Xe=Bs(Ke,!0);return Ee([],[Xe[0],Xe[1],Xe[4],Xe[5]])})(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=a.scale([],D,[this.worldSize,this.worldSize,this.worldSize/S,1]),this.projMatrix=D,this.invProjMatrix=a.invert(new Float64Array(16),this.projMatrix);const z=a.invert([],k);this.frustumCorners=a.FrustumCorners.fromInvProjectionMatrix(z,this.horizonLineFromTop(),this.height);const V=new Float32Array(16);a.identity(V),a.scale(V,V,[1,-1,1]),a.rotateX(V,V,this._pitch),a.rotateZ(V,V,this.angle);const $=a.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),X=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;$[8]=2*-l.x/this.width,$[9]=2*(l.y+X)/this.height,this.skyboxMatrix=a.multiply(V,$,V);const le=this.point,he=le.x,de=le.y,fe=this.width%2/2,pe=this.height%2/2,Y=Math.cos(this.angle),ce=Math.sin(this.angle),_e=he-Math.round(he)+Y*fe+ce*pe,ve=de-Math.round(de)+Y*pe+ce*fe,Be=new Float64Array(D);if(a.translate(Be,Be,[_e>.5?_e-1:_e,ve>.5?ve-1:ve,0]),this.alignedProjMatrix=Be,D=a.create(),a.scale(D,D,[this.width/2,-this.height/2,1]),a.translate(D,D,[1,-1,0]),this.labelPlaneMatrix=D,D=a.create(),a.scale(D,D,[1,-1,1]),a.translate(D,D,[-1,-1,0]),a.scale(D,D,[2/this.width,2/this.height,1]),this.glCoordMatrix=D,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},D=a.invert(new Float64Array(16),this.pixelMatrix),!D)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=D,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=a.calculateGlobeMatrix(this);const Ne=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.transformMat4(Ne,Ne,P),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=D;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const l=this.cameraWorldSizeForFog,f=this.cameraPixelsPerMeter,v=this._camera.position,S=1/this.height/this._pixelsPerMercatorPixel,P=[l,l,f];a.scale$2(P,P,S),a.scale$2(v,v,-1),a.multiply$2(v,v,P);const k=a.create();a.translate(k,k,v),a.scale(k,k,P),this.mercatorFogMatrix=k,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(l,f,S)}_computeCameraPosition(l){const f=(l=l||this.pixelsPerMeter)/this.pixelsPerMeter,v=this._camera.forward(),S=this.point,P=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*f-l/this.worldSize*this._centerAltitude;return[S.x/this.worldSize-v[0]*P,S.y/this.worldSize-v[1]*P,l/this.worldSize*this._centerAltitude-v[2]*P]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(l){const f=this._maxCameraBoundsDistance()*Math.cos(this._pitch),v=this._camera.position[2],S=l[2];let P=1;this.projection.wrap&&(this.center=this.center.wrap()),S>0&&(P=Math.min((f-v)/S,1)),this._camera.position=a.scaleAndAdd([],this._camera.position,l,P),this._updateStateFromCamera()}_updateStateFromCamera(){const l=this._camera.position,f=this._camera.forward(),{pitch:v,bearing:S}=this._camera.getPitchBearing(),P=a.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,k=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.degToRad(this._maxPitch)),D=Math.max((l[2]-P)/Math.cos(v),k),z=this._zoomFromMercatorZ(D);a.scaleAndAdd(l,l,f,D),this._pitch=a.clamp(v,a.degToRad(this.minPitch),a.degToRad(this.maxPitch)),this.angle=a.wrap(S,-Math.PI,Math.PI),this._setZoom(a.clamp(z,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.MercatorCoordinate(l[0],l[1],l[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(l){return Math.pow(2,l)*this.tileSize}_mercatorZfromZoom(l){return this.cameraToCenterDistance/this._worldSizeFromZoom(l)}_minimumHeightOverTerrain(){const l=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(l)}_zoomFromMercatorZ(l){return this.scaleZoom(this.cameraToCenterDistance/(l*this.tileSize))}zoomFromMercatorZAdjusted(l){let f=0,v=a.GLOBE_ZOOM_THRESHOLD_MAX,S=0,P=1/0;for(;v-f>1e-6&&v>f;){const k=f+.5*(v-f),D=this.tileSize*Math.pow(2,k),z=this.getCameraToCenterDistance(this.projection,k,D),V=this.scaleZoom(z/(l*this.tileSize)),$=Math.abs(k-V);$<P&&(P=$,S=k),k<V?f=k:v=k}return S}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(l,f){const v=Math.min(l.x,f.x),S=Math.max(l.x,f.x),P=Math.min(l.y,f.y),k=Math.max(l.y,f.y);if(P<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const D=[new a.Point(v,P),new a.Point(S,k),new a.Point(v,k),new a.Point(S,P)],z=this.renderWorldCopies?-3:0,V=this.renderWorldCopies?4:1;for(const $ of D){const X=this.pointRayIntersection($);if(X.t<0)return!0;const le=this.rayIntersectionCoordinate(X);if(le.x<z||le.y<0||le.x>V||le.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.Point(0,0),new a.Point(this.width,this.height))}zoomDeltaToMovement(l,f){const v=a.length(a.sub([],this._camera.position,l)),S=this._zoomFromMercatorZ(v)+f;return v-this._mercatorZfromZoom(S)}getCameraPoint(){if(this.projection.name==="globe"){const l=(function([f,v,S],P){const k=[f,v,S,1];a.transformMat4$1(k,k,P);const D=k[3]=Math.max(k[3],1e-6);return k[0]/=D,k[1]/=D,k[2]/=D,k})([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.Point(l[0],l[1])}{const l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,l))}}getCameraToCenterDistance(l,f=this.zoom,v=this.worldSize){const S=o1(l,f,this.width,this.height,1024),P=l.pixelSpaceConversion(this.center.lat,v,S);return .5/Math.tan(.5*this._fov)*this.height*P}getWorldToCameraMatrix(){const l=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&a.multiply(l,l,this.globeMatrix),l}}function _n(g,l){let f=!1,v=null;const S=()=>{v=null,f&&(g(),v=setTimeout(S,l),f=!1)};return()=>(f=!0,v||S(),v)}class ac{constructor(l){this._hashName=l&&encodeURIComponent(l),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=_n(this._updateHashUnthrottled.bind(this),300)}addTo(l){return this._map=l,a.window.addEventListener("hashchange",this._onHashChange,!1),l.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),a.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const l=this._map;if(!l)return"";const f=Fs(l);if(this._hashName){const v=this._hashName;let S=!1;const P=a.window.location.hash.slice(1).split("&").map((k=>{const D=k.split("=")[0];return D===v?(S=!0,`${D}=${f}`):k})).filter((k=>k));return S||P.push(`${v}=${f}`),`#${P.join("&")}`}return`#${f}`}_getCurrentHash(){const l=a.window.location.hash.replace("#","");if(this._hashName){let f;return l.split("&").map((v=>v.split("="))).forEach((v=>{v[0]===this._hashName&&(f=v)})),(f&&f[1]||"").split("/")}return l.split("/")}_onHashChange(){const l=this._map;if(!l)return!1;const f=this._getCurrentHash();if(f.length>=3&&!f.some((v=>isNaN(v)))){const v=l.dragRotate.isEnabled()&&l.touchZoomRotate.isEnabled()?+(f[3]||0):l.getBearing();return l.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:v,pitch:+(f[4]||0)}),!0}return!1}_updateHashUnthrottled(){const l=a.window.location.href.replace(/(#.+)?$/,this.getHashString());a.window.history.replaceState(a.window.history.state,null,l)}}function Fs(g,l){const f=g.getCenter(),v=Math.round(100*g.getZoom())/100,S=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),P=Math.pow(10,S),k=Math.round(f.lng*P)/P,D=Math.round(f.lat*P)/P,z=g.getBearing(),V=g.getPitch();let $=l?`/${k}/${D}/${v}`:`${v}/${D}/${k}`;return(z||V)&&($+="/"+Math.round(10*z)/10),V&&($+=`/${Math.round(V)}`),$}const ss={linearity:.3,easing:a.bezier(0,0,.3,1)},sc=a.extend({deceleration:2500,maxSpeed:1400},ss),lu=a.extend({deceleration:20,maxSpeed:1400},ss),Wt=a.extend({deceleration:1e3,maxSpeed:360},ss),xo=a.extend({deceleration:1e3,maxSpeed:90},ss);class vl{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,f=a.exported.now();for(;l.length>0&&f-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const f={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:P}of this._inertiaBuffer)f.zoom+=P.zoomDelta||0,f.bearing+=P.bearingDelta||0,f.pitch+=P.pitchDelta||0,P.panDelta&&f.pan._add(P.panDelta),P.around&&(f.around=P.around),P.pinchAround&&(f.pinchAround=P.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,S={};if(f.pan.mag()){const P=lc(f.pan.mag(),v,a.extend({},sc,l||{}));S.offset=f.pan.mult(P.amount/f.pan.mag()),S.center=this._map.transform.center,uu(S,P)}if(f.zoom){const P=lc(f.zoom,v,lu);S.zoom=this._map.transform.zoom+P.amount,uu(S,P)}if(f.bearing){const P=lc(f.bearing,v,Wt);S.bearing=this._map.transform.bearing+a.clamp(P.amount,-179,179),uu(S,P)}if(f.pitch){const P=lc(f.pitch,v,xo);S.pitch=this._map.transform.pitch+P.amount,uu(S,P)}if(S.zoom||S.bearing){const P=f.pinchAround===void 0?f.around:f.pinchAround;S.around=P?this._map.unproject(P):this._map.getCenter()}return this.clear(),S.noMoveStart=!0,S}}function uu(g,l){(!g.duration||g.duration<l.duration)&&(g.duration=l.duration,g.easing=l.easing)}function lc(g,l,f){const{maxSpeed:v,linearity:S,deceleration:P}=f,k=a.clamp(g*S/(l/1e3),-v,v),D=Math.abs(k)/(P*S);return{easing:f.easing,duration:1e3*D,amount:k*(D/2)}}class Ri extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,v,S={}){const P=ne(f.getCanvasContainer(),v),k=f.unproject(P);super(l,a.extend({point:P,lngLat:k,originalEvent:v},S)),this._defaultPrevented=!1,this.target=f}}class cu extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,v){const S=l==="touchend"?v.changedTouches:v.touches,P=te(f.getCanvasContainer(),S),k=P.map((z=>f.unproject(z))),D=P.reduce(((z,V,$,X)=>z.add(V.div(X.length))),new a.Point(0,0));super(l,{points:P,point:D,lngLats:k,lngLat:f.unproject(D),originalEvent:v}),this._defaultPrevented=!1}}class xl extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,v){super(l,{originalEvent:v}),this._defaultPrevented=!1}}class hu{constructor(l,f){this._map=l,this._clickTolerance=f.clickTolerance}reset(){this._mousedownPos=void 0}wheel(l){return this._firePreventable(new xl(l.type,this._map,l))}mousedown(l,f){return this._mousedownPos=f,this._firePreventable(new Ri(l.type,this._map,l))}mouseup(l){this._map.fire(new Ri(l.type,this._map,l))}preclick(l){const f=a.extend({},l);f.type="preclick",this._map.fire(new Ri(f.type,this._map,f))}click(l,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||(this.preclick(l),this._map.fire(new Ri(l.type,this._map,l)))}dblclick(l){return this._firePreventable(new Ri(l.type,this._map,l))}mouseover(l){this._map.fire(new Ri(l.type,this._map,l))}mouseout(l){this._map.fire(new Ri(l.type,this._map,l))}touchstart(l){return this._firePreventable(new cu(l.type,this._map,l))}touchmove(l){this._map.fire(new cu(l.type,this._map,l))}touchend(l){this._map.fire(new cu(l.type,this._map,l))}touchcancel(l){this._map.fire(new cu(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class fu{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(l){this._map.fire(new Ri(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ri("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._map.fire(new Ri(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class a1{constructor(l,f){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,f){this.isEnabled()&&l.shiftKey&&l.button===0&&(re(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(l,f){if(!this._active)return;const v=f,S=this._startPos,P=this._lastPos;if(!S||!P||P.equals(v)||!this._box&&v.dist(S)<this._clickTolerance)return;this._lastPos=v,this._box||(this._box=j("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));const k=Math.min(S.x,v.x),D=Math.max(S.x,v.x),z=Math.min(S.y,v.y),V=Math.max(S.y,v.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${k}px,${z}px)`,this._box.style.width=D-k+"px",this._box.style.height=V-z+"px")}))}mouseupWindow(l,f){if(!this._active)return;const v=this._startPos,S=f;if(v&&l.button===0){if(this.reset(),K(),v.x!==S.x||v.y!==S.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:P=>P.fitScreenCoordinates(v,S,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",l)}}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),ee(),delete this._startPos,delete this._lastPos}_fireEvent(l,f){return this._map.fire(new a.Event(l,{originalEvent:f}))}}function du(g,l){const f={};for(let v=0;v<g.length;v++)f[g[v].identifier]=l[v];return f}class js{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(l,f,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=l.timeStamp),v.length===this.numTouches&&(this.centroid=(function(S){const P=new a.Point(0,0);for(const k of S)P._add(k);return P.div(S.length)})(f),this.touches=du(v,f)))}touchmove(l,f,v){if(this.aborted||!this.centroid)return;const S=du(v,f);for(const P in this.touches){const k=S[P];(!k||k.dist(this.touches[P])>30)&&(this.aborted=!0)}}touchend(l,f,v){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const S=!this.aborted&&this.centroid;if(this.reset(),S)return S}}}class wh{constructor(l){this.singleTap=new js(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(l,f,v){this.singleTap.touchstart(l,f,v)}touchmove(l,f,v){this.singleTap.touchmove(l,f,v)}touchend(l,f,v){const S=this.singleTap.touchend(l,f,v);if(S){const P=l.timeStamp-this.lastTime<500,k=!this.lastTap||this.lastTap.dist(S)<30;if(P&&k||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=S,this.count===this.numTaps)return this.reset(),S}}}class Ff{constructor(){this._zoomIn=new wh({numTouches:1,numTaps:2}),this._zoomOut=new wh({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,f,v){this._zoomIn.touchstart(l,f,v),this._zoomOut.touchstart(l,f,v)}touchmove(l,f,v){this._zoomIn.touchmove(l,f,v),this._zoomOut.touchmove(l,f,v)}touchend(l,f,v){const S=this._zoomIn.touchend(l,f,v),P=this._zoomOut.touchend(l,f,v);return S?(this._active=!0,l.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:k.getZoom()+1,around:k.unproject(S)},{originalEvent:l})}):P?(this._active=!0,l.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:k=>k.easeTo({duration:300,zoom:k.getZoom()-1,around:k.unproject(P)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const jf={0:1,2:2};class pu{constructor(l){this.reset(),this._clickTolerance=l.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(l,f){return!1}_move(l,f){return{}}mousedown(l,f){if(this._lastPoint)return;const v=be(l);this._correctButton(l,v)&&(this._lastPoint=f,this._eventButton=v)}mousemoveWindow(l,f){const v=this._lastPoint;if(v){if(l.preventDefault(),this._eventButton!=null&&(function(S,P){const k=jf[P];return S.buttons===void 0||(S.buttons&k)!==k})(l,this._eventButton))this.reset();else if(this._moved||!(f.dist(v)<this._clickTolerance))return this._moved=!0,this._lastPoint=f,this._move(v,f)}}mouseupWindow(l){this._lastPoint&&be(l)===this._eventButton&&(this._moved&&K(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class uc extends pu{mousedown(l,f){super.mousedown(l,f),this._lastPoint&&(this._active=!0)}_correctButton(l,f){return f===0&&!l.ctrlKey}_move(l,f){return{around:f,panDelta:f.sub(l)}}}class $a extends pu{_correctButton(l,f){return f===0&&l.ctrlKey||f===2}_move(l,f){const v=.8*(f.x-l.x);if(v)return this._active=!0,{bearingDelta:v}}contextmenu(l){l.preventDefault()}}class s1 extends pu{_correctButton(l,f){return f===0&&l.ctrlKey||f===2}_move(l,f){const v=-.5*(f.y-l.y);if(v)return this._active=!0,{pitchDelta:v}}contextmenu(l){l.preventDefault()}}class ls{constructor(l,f){this._map=l,this._el=l.getCanvasContainer(),this._minTouches=1,this._clickTolerance=f.clickTolerance||1,this.reset(),a.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)}touchstart(l,f,v){return this._calculateTransform(l,f,v)}touchmove(l,f,v){if(this._active&&!(v.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(v.length===1&&!a.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return l.cancelable&&l.preventDefault(),this._calculateTransform(l,f,v)}}touchend(l,f,v){this._calculateTransform(l,f,v),this._active&&v.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,f,v){v.length>0&&(this._active=!0);const S=du(v,f),P=new a.Point(0,0),k=new a.Point(0,0);let D=0;for(const V in S){const $=S[V],X=this._touches[V];X&&(P._add($),k._add($.sub(X)),D++,S[V]=$)}if(this._touches=S,D<this._minTouches||!k.mag())return;const z=k.div(D);return this._sum._add(z),this._sum.mag()<this._clickTolerance?void 0:{around:P.div(D),panDelta:z}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=j("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")}),500)}}class bo{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(l){}_move(l,f,v){return{}}touchstart(l,f,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([f[0],f[1]]))}touchmove(l,f,v){const S=this._firstTwoTouches;if(!S)return;l.preventDefault();const[P,k]=S,D=us(v,f,P),z=us(v,f,k);if(!D||!z)return;const V=this._aroundCenter?null:D.add(z).div(2);return this._move([D,z],V,l)}touchend(l,f,v){if(!this._firstTwoTouches)return;const[S,P]=this._firstTwoTouches,k=us(v,f,S),D=us(v,f,P);k&&D||(this._active&&K(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function us(g,l,f){for(let v=0;v<g.length;v++)if(g[v].identifier===f)return l[v]}function Sa(g,l){return Math.log(g/l)/Math.LN2}class l1 extends bo{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,f){const v=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(Sa(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Sa(this._distance,v),pinchAround:f}}}function Sh(g,l){return 180*g.angleWith(l)/Math.PI}class Nf extends bo{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,f){const v=this._vector;if(this._vector=l[0].sub(l[1]),v&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Sh(this._vector,v),pinchAround:f}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const f=25/(Math.PI*this._minDiameter)*360,v=this._startVector;if(!v)return!1;const S=Sh(l,v);return Math.abs(S)<f}}function wo(g){return Math.abs(g.y)>Math.abs(g.x)}class mu extends bo{constructor(l){super(),this._map=l}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(l){this._lastPoints=l,wo(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,f,v){const S=this._lastPoints;if(!S)return;const P=l[0].sub(S[0]),k=l[1].sub(S[1]);return this._map._cooperativeGestures&&!a.isFullscreen()&&v.touches.length<3||(this._valid=this.gestureBeginsVertically(P,k,v.timeStamp),!this._valid)?void 0:(this._lastPoints=l,this._active=!0,{pitchDelta:(P.y+k.y)/2*-.5})}gestureBeginsVertically(l,f,v){if(this._valid!==void 0)return this._valid;const S=l.mag()>=2,P=f.mag()>=2;if(!S&&!P)return;if(!S||!P)return this._firstMove==null&&(this._firstMove=v),v-this._firstMove<100&&void 0;const k=l.y>0==f.y>0;return wo(l)&&wo(f)&&k}}const bl={panStep:100,bearingStep:15,pitchStep:10};class u1{constructor(){const l=bl;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let f=0,v=0,S=0,P=0,k=0;switch(l.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:l.shiftKey?v=-1:(l.preventDefault(),P=-1);break;case 39:l.shiftKey?v=1:(l.preventDefault(),P=1);break;case 38:l.shiftKey?S=1:(l.preventDefault(),k=-1);break;case 40:l.shiftKey?S=-1:(l.preventDefault(),k=1);break;default:return}return this._rotationDisabled&&(v=0,S=0),{cameraAnimation:D=>{const z=D.getZoom();D.easeTo({duration:300,easeId:"keyboardHandler",easing:c1,zoom:f?Math.round(z)+f*(l.shiftKey?2:1):z,bearing:D.getBearing()+v*this._bearingStep,pitch:D.getPitch()+S*this._pitchStep,offset:[-P*this._panStep,-k*this._panStep],center:D.getCenter()},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function c1(g){return g*(2-g)}const Ns=4.000244140625;class cs{constructor(l,f){this._map=l,this._el=l.getCanvasContainer(),this._handler=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(l){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(l.ctrlKey||l.metaKey||this.isZooming()||a.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let f=l.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const v=a.exported.now(),S=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,f!==0&&f%Ns==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":S>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(S*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),l.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=l,this._delta-=f,this._active||this._start(l)),l.preventDefault()}_onTimeout(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=ne(this._el,l);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:f,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._map.transform;this._type==="wheel"&&l.projection.wrap&&(l._center.lng>=180||l._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const f=()=>l._terrainEnabled()&&this._aroundCoord?l.computeZoomRelativeTo(this._aroundCoord):l.zoom;if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>Ns?this._wheelZoomRate:this._defaultZoomRate;let V=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&V!==0&&(V=1/V);const $=f(),X=Math.pow(2,$),le=typeof this._targetZoom=="number"?l.zoomScale(this._targetZoom):X;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(le*V))),this._type==="wheel"&&(this._startZoom=$,this._easing=this._smoothOutEasing(200)),this._delta=0}const v=typeof this._targetZoom=="number"?this._targetZoom:f(),S=this._startZoom,P=this._easing;let k,D=!1;if(this._type==="wheel"&&S&&P){const z=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),V=P(z);k=a.number(S,v,V),z<1?this._frameId||(this._frameId=!0):D=!0}else k=v,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!D,zoomDelta:k-f(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let f=a.ease;if(this._prevEase){const v=this._prevEase,S=(a.exported.now()-v.start)/v.duration,P=v.easing(S+.01)-v.easing(S),k=.27/Math.sqrt(P*P+1e-4)*.01,D=Math.sqrt(.0729-k*k);f=a.bezier(k,D,.25,1)}return this._prevEase={start:a.exported.now(),duration:l,easing:f},f}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=j("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(a.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")}),200)}}class zn{constructor(l,f){this._clickZoom=l,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Wr{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(l,f){return l.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:v.getZoom()+(l.shiftKey?-1:1),around:v.unproject(f)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Us{constructor(){this._tap=new wh({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(l,f,v){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?v.length>0&&(this._swipePoint=f[0],this._swipeTouch=v[0].identifier):this._tap.touchstart(l,f,v))}touchmove(l,f,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const S=f[0],P=S.y-this._swipePoint.y;return this._swipePoint=S,l.preventDefault(),this._active=!0,{zoomDelta:P/128}}}else this._tap.touchmove(l,f,v)}touchend(l,f,v){this._tapTime?this._swipePoint&&v.length===0&&this.reset():this._tap.touchend(l,f,v)&&(this._tapTime=l.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $i{constructor(l,f,v){this._el=l,this._mousePan=f,this._touchPan=v}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class So{constructor(l,f,v){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=f,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class wl{constructor(l,f,v,S){this._el=l,this._touchZoom=f,this._touchRotate=v,this._tapDragZoom=S,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Vi=g=>g.zoom||g.drag||g.pitch||g.rotate;class ao extends a.Event{}class h1{constructor(){this.constants=[1,1,.01],this.radius=0}setup(l,f){const v=a.sub([],f,l);this.radius=a.length(v[2]<0?a.div([],v,this.constants):[v[0],v[1],0])}projectRay(l){a.div(l,l,this.constants),a.normalize(l,l),a.mul$1(l,l,this.constants);const f=a.scale$2([],l,this.radius);if(f[2]>0){const v=a.scale$2([],[0,0,1],a.dot(f,[0,0,1])),S=a.scale$2([],a.normalize([],[f[0],f[1],0]),this.radius),P=a.add([],f,a.scale$2([],a.sub([],a.add([],S,v),f),2));f[0]=P[0],f[1]=P[1]}return f}}function ta(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class Ta{constructor(l,f){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new vl(l),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new h1,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(f),a.bindAll(["handleEvent","handleWindowEvent"],this);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[a.window,"blur",void 0]];for(const[S,P,k]of this._listeners)S.addEventListener(P,S===a.window.document?this.handleWindowEvent:this.handleEvent,k)}destroy(){for(const[l,f,v]of this._listeners)l.removeEventListener(f,l===a.window.document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(l){const f=this._map,v=f.getCanvasContainer();this._add("mapEvent",new hu(f,l));const S=f.boxZoom=new a1(f,l);this._add("boxZoom",S);const P=new Ff,k=new Wr;f.doubleClickZoom=new zn(k,P),this._add("tapZoom",P),this._add("clickZoom",k);const D=new Us;this._add("tapDragZoom",D);const z=f.touchPitch=new mu(f);this._add("touchPitch",z);const V=new $a(l),$=new s1(l);f.dragRotate=new So(l,V,$),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",$,["mouseRotate"]);const X=new uc(l),le=new ls(f,l);f.dragPan=new $i(v,X,le),this._add("mousePan",X),this._add("touchPan",le,["touchZoom","touchRotate"]);const he=new Nf,de=new l1;f.touchZoomRotate=new wl(v,de,he,D),this._add("touchRotate",he,["touchPan","touchZoom"]),this._add("touchZoom",de,["touchPan","touchRotate"]),this._add("blockableMapEvent",new fu(f));const fe=f.scrollZoom=new cs(f,this);this._add("scrollZoom",fe,["mousePan"]);const pe=f.keyboard=new u1;this._add("keyboard",pe);for(const Y of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])l.interactive&&l[Y]&&f[Y].enable(l[Y])}_add(l,f,v){this._handlers.push({handlerName:l,handler:f,allowed:v}),this._handlersById[l]=f}stop(l){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Vi(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(l,f,v){for(const S in l)if(S!==v&&(!f||f.indexOf(S)<0))return!0;return!1}handleWindowEvent(l){this.handleEvent(l,`${l.type}Window`)}_getMapTouches(l){const f=[];for(const v of l)this._el.contains(v.target)&&f.push(v);return f}handleEvent(l,f){this._updatingCamera=!0;const v=l.type==="renderFrame",S=v?void 0:l,P={needsRenderFrame:!1},k={},D={},z=l.touches?this._getMapTouches(l.touches):void 0,V=z?te(this._el,z):v?void 0:ne(this._el,l);for(const{handlerName:le,handler:he,allowed:de}of this._handlers){if(!he.isEnabled())continue;let fe;this._blockedByActive(D,de,le)?he.reset():he[f||l.type]&&(fe=he[f||l.type](l,V,z),this.mergeHandlerResult(P,k,fe,le,S),fe&&fe.needsRenderFrame&&this._triggerRenderFrame()),(fe||he.isActive())&&(D[le]=he)}const $={};for(const le in this._previousActiveHandlers)D[le]||($[le]=S);this._previousActiveHandlers=D,(Object.keys($).length||ta(P))&&(this._changes.push([P,k,$]),this._triggerRenderFrame()),(Object.keys(D).length||ta(P))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:X}=P;X&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],X(this._map))}mergeHandlerResult(l,f,v,S,P){if(!v)return;a.extend(l,v);const k={handlerName:S,originalEvent:v.originalEvent||P};v.zoomDelta!==void 0&&(f.zoom=k),v.panDelta!==void 0&&(f.drag=k),v.pitchDelta!==void 0&&(f.pitch=k),v.bearingDelta!==void 0&&(f.rotate=k)}_applyChanges(){const l={},f={},v={};for(const[S,P,k]of this._changes)S.panDelta&&(l.panDelta=(l.panDelta||new a.Point(0,0))._add(S.panDelta)),S.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+S.zoomDelta),S.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+S.bearingDelta),S.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+S.pitchDelta),S.around!==void 0&&(l.around=S.around),S.aroundCoord!==void 0&&(l.aroundCoord=S.aroundCoord),S.pinchAround!==void 0&&(l.pinchAround=S.pinchAround),S.noInertia&&(l.noInertia=S.noInertia),a.extend(f,P),a.extend(v,k);this._updateMapTransform(l,f,v),this._changes=[]}_updateMapTransform(l,f,v){const S=this._map,P=S.transform,k=ce=>[ce.x,ce.y,ce.z];if((ce=>{const _e=this._eventsInProgress.drag;return _e&&!this._handlersById[_e.handlerName].isActive()})()&&!ta(l)){const ce=P.zoom;P.cameraElevationReference="sea",P.recenterOnTerrain(),P.cameraElevationReference="ground",ce!==P.zoom&&this._map._update(!0)}if(P._isCameraConstrained&&S._stop(!0),!ta(l))return void this._fireEvents(f,v,!0);let{panDelta:D,zoomDelta:z,bearingDelta:V,pitchDelta:$,around:X,aroundCoord:le,pinchAround:he}=l;P._isCameraConstrained&&(z>0&&(z=0),P._isCameraConstrained=!1),he!==void 0&&(X=he),(z||(ce=>f[ce]&&!this._eventsInProgress[ce])("drag"))&&X&&(this._dragOrigin=k(P.pointCoordinate3D(X)),this._trackingEllipsoid.setup(P._camera.position,this._dragOrigin)),P.cameraElevationReference="sea",S._stop(!0),X=X||S.transform.centerPoint,V&&(P.bearing+=V),$&&(P.pitch+=$),P._updateCameraState();const de=[0,0,0];if(D)if(P.projection.name==="mercator"){const ce=this._trackingEllipsoid.projectRay(P.screenPointToMercatorRay(X).dir),_e=this._trackingEllipsoid.projectRay(P.screenPointToMercatorRay(X.sub(D)).dir);de[0]=_e[0]-ce[0],de[1]=_e[1]-ce[1]}else{const ce=P.pointCoordinate(X);if(P.projection.name==="globe"){D=D.rotate(-P.angle);const _e=P._pixelsPerMercatorPixel/P.worldSize;de[0]=-D.x*a.mercatorScale(a.latFromMercatorY(ce.y))*_e,de[1]=-D.y*a.mercatorScale(P.center.lat)*_e}else{const _e=P.pointCoordinate(X.sub(D));ce&&_e&&(de[0]=_e.x-ce.x,de[1]=_e.y-ce.y)}}const fe=P.zoom,pe=[0,0,0];if(z){const ce=k(le||P.pointCoordinate3D(X)),_e={dir:a.normalize([],a.sub([],ce,P._camera.position))};if(_e.dir[2]<0){const ve=P.zoomDeltaToMovement(ce,z);a.scale$2(pe,_e.dir,ve)}}const Y=a.add(de,de,pe);P._translateCameraConstrained(Y),z&&Math.abs(P.zoom-fe)>1e-4&&P.recenterOnTerrain(),P.cameraElevationReference="ground",this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(f,v,!0)}_fireEvents(l,f,v){const S=Vi(this._eventsInProgress),P=Vi(l),k={};for(const $ in l){const{originalEvent:X}=l[$];this._eventsInProgress[$]||(k[`${$}start`]=X),this._eventsInProgress[$]=l[$]}!S&&P&&this._fireEvent("movestart",P.originalEvent);for(const $ in k)this._fireEvent($,k[$]);P&&this._fireEvent("move",P.originalEvent);for(const $ in l){const{originalEvent:X}=l[$];this._fireEvent($,X)}const D={};let z;for(const $ in this._eventsInProgress){const{handlerName:X,originalEvent:le}=this._eventsInProgress[$];this._handlersById[X].isActive()||(delete this._eventsInProgress[$],z=f[X]||le,D[`${$}end`]=z)}for(const $ in D)this._fireEvent($,D[$]);const V=Vi(this._eventsInProgress);if(v&&(S||P)&&!V){this._updatingCamera=!0;const $=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),X=le=>le!==0&&-this._bearingSnap<le&&le<this._bearingSnap;$?(X($.bearing||this._map.getBearing())&&($.bearing=0),this._map.easeTo($,{originalEvent:z})):(this._map.fire(new a.Event("moveend",{originalEvent:z})),X(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(l,f){this._map.fire(new a.Event(l,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((l=>{this._frameId=void 0,this.handleEvent(new ao("renderFrame",{timeStamp:l})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Va="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class cc extends a.Evented{constructor(l,f){super(),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=f.bearingSnap,this._respectPrefersReducedMotion=f.respectPrefersReducedMotion!==!1,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,f){return this.jumpTo({center:l},f)}panBy(l,f,v){return l=a.Point.convert(l).mult(-1),this.panTo(this.transform.center,a.extend({offset:l},f),v)}panTo(l,f,v){return this.easeTo(a.extend({center:l},f),v)}getZoom(){return this.transform.zoom}setZoom(l,f){return this.jumpTo({zoom:l},f),this}zoomTo(l,f,v){return this.easeTo(a.extend({zoom:l},f),v)}zoomIn(l,f){return this.zoomTo(this.getZoom()+1,l,f),this}zoomOut(l,f){return this.zoomTo(this.getZoom()-1,l,f),this}getBearing(){return this.transform.bearing}setBearing(l,f){return this.jumpTo({bearing:l},f),this}getPadding(){return this.transform.padding}setPadding(l,f){return this.jumpTo({padding:l},f),this}rotateTo(l,f,v){return this.easeTo(a.extend({bearing:l},f),v)}resetNorth(l,f){return this.rotateTo(0,a.extend({duration:1e3},l),f),this}resetNorthPitch(l,f){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},l),f),this}snapToNorth(l,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,f):this}getPitch(){return this.transform.pitch}setPitch(l,f){return this.jumpTo({pitch:l},f),this}cameraForBounds(l,f){l=a.LngLatBounds.convert(l);const v=f&&f.bearing||0,S=f&&f.pitch||0,P=l.getNorthWest(),k=l.getSouthEast();return this._cameraForBounds(this.transform,P,k,v,S,f)}_extendCameraOptions(l){const f={top:0,bottom:0,right:0,left:0};if(typeof(l=a.extend({padding:f,offset:[0,0],maxZoom:this.transform.maxZoom},l)).padding=="number"){const v=l.padding;l.padding={top:v,bottom:v,right:v,left:v}}return l.padding=a.extend(f,l.padding),l}_minimumAABBFrustumDistance(l,f){const v=f.max[0]-f.min[0],S=f.max[1]-f.min[1];return v/S>l.aspect?v/(2*Math.tan(.5*l.fovX)*l.aspect):S/(2*Math.tan(.5*l.fovY)*l.aspect)}_cameraForBoundsOnGlobe(l,f,v,S,P,k){const D=l.clone(),z=this._extendCameraOptions(k);D.bearing=S,D.pitch=P;const V=a.LngLat.convert(f),$=a.LngLat.convert(v),X=.5*(V.lat+$.lat),le=.5*(V.lng+$.lng),he=a.latLngToECEF(X,le),de=a.normalize([],he),fe=a.normalize([],a.cross([],de,[0,1,0])),pe=a.cross([],fe,de),Y=[fe[0],fe[1],fe[2],0,pe[0],pe[1],pe[2],0,de[0],de[1],de[2],0,0,0,0,1],ce=[he,a.latLngToECEF(V.lat,V.lng),a.latLngToECEF($.lat,V.lng),a.latLngToECEF($.lat,$.lng),a.latLngToECEF(V.lat,$.lng),a.latLngToECEF(X,V.lng),a.latLngToECEF(X,$.lng),a.latLngToECEF(V.lat,le),a.latLngToECEF($.lat,le)];let _e=a.Aabb.fromPoints(ce.map((Et=>[a.dot(fe,Et),a.dot(pe,Et),a.dot(de,Et)])));const ve=a.transformMat4([],_e.center,Y);a.squaredLength(ve)===0&&a.set(ve,0,0,1),a.normalize(ve,ve),a.scale$2(ve,ve,a.GLOBE_RADIUS),D.center=a.ecefToLatLng(ve);const Be=D.getWorldToCameraMatrix(),Ne=a.invert(new Float64Array(16),Be);_e=a.Aabb.applyTransform(_e,a.multiply([],Be,Y)),a.transformMat4(ve,ve,Be);const Fe=.5*(_e.max[2]-_e.min[2]),Ke=this._minimumAABBFrustumDistance(D,_e),Xe=a.scale$2([],[0,0,1],Fe),at=a.add(Xe,ve,Xe),Ot=Ke+(D.pitch===0?0:a.distance(ve,at)),nt=D.globeCenterInViewSpace,_t=a.sub([],ve,[nt[0],nt[1],nt[2]]);a.normalize(_t,_t),a.scale$2(_t,_t,Ot);const st=a.add([],ve,_t);a.transformMat4(st,st,Ne);const Ct=a.earthRadius/a.GLOBE_RADIUS,ot=a.length(st),vt=a.mercatorZfromAltitude(Math.max(ot*Ct-a.earthRadius,Number.EPSILON),0),Mt=Math.min(D.zoomFromMercatorZAdjusted(vt),z.maxZoom);return Mt>.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(D.setProjection({name:"mercator"}),D.zoom=Mt,this._cameraForBounds(D,f,v,S,P,k)):{center:D.center,zoom:Mt,bearing:S,pitch:P}}queryTerrainElevation(l,f){const v=this.transform.elevation;return v?(f=a.extend({},{exaggerated:!0},f),v.getAtPoint(a.MercatorCoordinate.fromLngLat(l),null,f.exaggerated)):null}_cameraForBounds(l,f,v,S,P,k){if(l.projection.name==="globe")return this._cameraForBoundsOnGlobe(l,f,v,S,P,k);const D=l.clone(),z=this._extendCameraOptions(k),V=D.padding;D.bearing=S,D.pitch=P;const $=a.LngLat.convert(f),X=a.LngLat.convert(v),le=new a.LngLat($.lng,X.lat),he=new a.LngLat(X.lng,$.lat),de=D.project($),fe=D.project(X),pe=this.queryTerrainElevation($),Y=this.queryTerrainElevation(X),ce=this.queryTerrainElevation(le),_e=this.queryTerrainElevation(he),ve=[[de.x,de.y,Math.min(pe||0,Y||0,ce||0,_e||0)],[fe.x,fe.y,Math.max(pe||0,Y||0,ce||0,_e||0)]];let Be=a.Aabb.fromPoints(ve);const Ne=D.getWorldToCameraMatrix(),Fe=a.invert(new Float64Array(16),Ne);Be=a.Aabb.applyTransform(Be,Ne);const Ke=a.sub([],Be.max,Be.min),Xe=V.left||0,at=V.right||0,Ot=V.bottom||0,nt=V.top||0,{left:_t,right:st,top:Ct,bottom:ot}=z.padding,vt=.5*(Xe+at),Mt=.5*(nt+Ot),Et=Math.min(D.scaleZoom(D.scale*Math.min((D.width-(Xe+at+_t+st))/Ke[0],(D.height-(Ot+nt+ot+Ct))/Ke[1])),z.maxZoom),Dt=D.scale/D.zoomScale(Et);Be=new a.Aabb([Be.min[0]-(_t+vt)*Dt,Be.min[1]-(ot+Mt)*Dt,Be.min[2]],[Be.max[0]+(st+vt)*Dt,Be.max[1]+(Ct+Mt)*Dt,Be.max[2]]);const ar=.5*Ke[2],xr=this._minimumAABBFrustumDistance(D,Be),tr=[0,0,1,0];a.transformMat4$1(tr,tr,Ne),a.normalize$2(tr,tr);const dr=a.scale$2([],tr,xr+ar),Rr=a.add([],Be.center,dr),Nr=(typeof z.offset.x=="number"&&typeof z.offset.y=="number"?new a.Point(z.offset.x,z.offset.y):a.Point.convert(z.offset)).rotate(-a.degToRad(S));Be.center[0]-=Nr.x*Dt,Be.center[1]+=Nr.y*Dt,a.transformMat4(Be.center,Be.center,Fe),a.transformMat4(Rr,Rr,Fe);const sr=[Be.center[0],Be.center[1],Rr[2]*D.pixelsPerMeter];a.scale$2(sr,sr,1/D.worldSize);const Vr=a.lngFromMercatorX(sr[0]),an=a.latFromMercatorY(sr[1]),sn=Math.min(D._zoomFromMercatorZ(sr[2]),z.maxZoom),Qr=new a.LngLat(Vr,an);return D.mercatorFromTransition&&sn<.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(D.setProjection({name:"globe"}),D.zoom=sn,this._cameraForBounds(D,f,v,S,P,k)):{center:Qr,zoom:sn,bearing:S,pitch:P}}fitBounds(l,f,v){const S=this.cameraForBounds(l,f);return this._fitInternal(S,f,v)}fitScreenCoordinates(l,f,v,S,P){const k=a.Point.convert(l),D=a.Point.convert(f),z=new a.Point(Math.min(k.x,D.x),Math.min(k.y,D.y)),V=new a.Point(Math.max(k.x,D.x),Math.max(k.y,D.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(k,D))return this;const $=this.transform.pointLocation3D(z),X=this.transform.pointLocation3D(V),le=this.transform.pointLocation3D(new a.Point(z.x,V.y)),he=this.transform.pointLocation3D(new a.Point(V.x,z.y)),de=[Math.min($.lng,X.lng,le.lng,he.lng),Math.min($.lat,X.lat,le.lat,he.lat)],fe=[Math.max($.lng,X.lng,le.lng,he.lng),Math.max($.lat,X.lat,le.lat,he.lat)],pe=S&&S.pitch?S.pitch:this.getPitch(),Y=this._cameraForBounds(this.transform,de,fe,v,pe,S);return this._fitInternal(Y,S,P)}_fitInternal(l,f,v){return l?(delete(f=a.extend(l,f)).padding,f.linear?this.easeTo(f,v):this.flyTo(f,v)):this}jumpTo(l,f){this.stop();const v=l.preloadOnly?this.transform.clone():this.transform;let S=!1,P=!1,k=!1;return"zoom"in l&&v.zoom!==+l.zoom&&(S=!0,v.zoom=+l.zoom),l.center!==void 0&&(v.center=a.LngLat.convert(l.center)),"bearing"in l&&v.bearing!==+l.bearing&&(P=!0,v.bearing=+l.bearing),"pitch"in l&&v.pitch!==+l.pitch&&(k=!0,v.pitch=+l.pitch),l.padding==null||v.isPaddingEqual(l.padding)||(v.padding=l.padding),l.preloadOnly?(this._preloadTiles(v),this):(this.fire(new a.Event("movestart",f)).fire(new a.Event("move",f)),S&&this.fire(new a.Event("zoomstart",f)).fire(new a.Event("zoom",f)).fire(new a.Event("zoomend",f)),P&&this.fire(new a.Event("rotatestart",f)).fire(new a.Event("rotate",f)).fire(new a.Event("rotateend",f)),k&&this.fire(new a.Event("pitchstart",f)).fire(new a.Event("pitch",f)).fire(new a.Event("pitchend",f)),this.fire(new a.Event("moveend",f)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.warnOnce(Va),this.transform.getFreeCameraOptions()}setFreeCameraOptions(l,f){const v=this.transform;if(!v.projection.supportsFreeCamera)return a.warnOnce(Va),this;this.stop();const S=v.zoom,P=v.pitch,k=v.bearing;v.setFreeCameraOptions(l);const D=S!==v.zoom,z=P!==v.pitch,V=k!==v.bearing;return this.fire(new a.Event("movestart",f)).fire(new a.Event("move",f)),D&&this.fire(new a.Event("zoomstart",f)).fire(new a.Event("zoom",f)).fire(new a.Event("zoomend",f)),V&&this.fire(new a.Event("rotatestart",f)).fire(new a.Event("rotate",f)).fire(new a.Event("rotateend",f)),z&&this.fire(new a.Event("pitchstart",f)).fire(new a.Event("pitch",f)).fire(new a.Event("pitchend",f)),this.fire(new a.Event("moveend",f)),this}easeTo(l,f){this._stop(!1,l.easeId),((l=a.extend({offset:[0,0],duration:500,easing:a.ease},l)).animate===!1||this._prefersReducedMotion(l))&&(l.duration=0);const v=this.transform,S=this.getZoom(),P=this.getBearing(),k=this.getPitch(),D=this.getPadding(),z="zoom"in l?+l.zoom:S,V="bearing"in l?this._normalizeBearing(l.bearing,P):P,$="pitch"in l?+l.pitch:k,X="padding"in l?l.padding:v.padding,le=a.Point.convert(l.offset);let he,de,fe;if(v.projection.name==="globe"){const Xe=a.MercatorCoordinate.fromLngLat(v.center),at=le.rotate(-v.angle);Xe.x+=at.x/v.worldSize,Xe.y+=at.y/v.worldSize;const Ot=Xe.toLngLat(),nt=a.LngLat.convert(l.center||Ot);this._normalizeCenter(nt),he=v.centerPoint.add(at),de=new a.Point(Xe.x,Xe.y).mult(v.worldSize),fe=new a.Point(a.mercatorXfromLng(nt.lng),a.mercatorYfromLat(nt.lat)).mult(v.worldSize).sub(de)}else{he=v.centerPoint.add(le);const Xe=v.pointLocation(he),at=a.LngLat.convert(l.center||Xe);this._normalizeCenter(at),de=v.project(Xe),fe=v.project(at).sub(de)}const pe=v.zoomScale(z-S);let Y,ce;l.around&&(Y=a.LngLat.convert(l.around),ce=v.locationPoint(Y));const _e=this._zooming||z!==S,ve=this._rotating||P!==V,Be=this._pitching||$!==k,Ne=!v.isPaddingEqual(X),Fe=Xe=>at=>{if(_e&&(Xe.zoom=a.number(S,z,at)),ve&&(Xe.bearing=a.number(P,V,at)),Be&&(Xe.pitch=a.number(k,$,at)),Ne&&(Xe.interpolatePadding(D,X,at),he=Xe.centerPoint.add(le)),Y)Xe.setLocationAtPoint(Y,ce);else{const Ot=Xe.zoomScale(Xe.zoom-S),nt=z>S?Math.min(2,pe):Math.max(.5,pe),_t=Math.pow(nt,1-at),st=Xe.unproject(de.add(fe.mult(at*_t)).mult(Ot));Xe.setLocationAtPoint(Xe.renderWorldCopies?st.wrap():st,he)}return l.preloadOnly||this._fireMoveEvents(f),Xe};if(l.preloadOnly){const Xe=this._emulate(Fe,l.duration,v);return this._preloadTiles(Xe),this}const Ke={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=_e,this._rotating=ve,this._pitching=Be,this._padding=Ne,this._easeId=l.easeId,this._prepareEase(f,l.noMoveStart,Ke),this._ease(Fe(v),(Xe=>{v.recenterOnTerrain(),this._afterEase(f,Xe)}),l),this}_prepareEase(l,f,v={}){this._moving=!0,this.transform.cameraElevationReference="sea",f||v.moving||this.fire(new a.Event("movestart",l)),this._zooming&&!v.zooming&&this.fire(new a.Event("zoomstart",l)),this._rotating&&!v.rotating&&this.fire(new a.Event("rotatestart",l)),this._pitching&&!v.pitching&&this.fire(new a.Event("pitchstart",l))}_fireMoveEvents(l){this.fire(new a.Event("move",l)),this._zooming&&this.fire(new a.Event("zoom",l)),this._rotating&&this.fire(new a.Event("rotate",l)),this._pitching&&this.fire(new a.Event("pitch",l))}_afterEase(l,f){if(this._easeId&&f&&this._easeId===f)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const v=this._zooming,S=this._rotating,P=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new a.Event("zoomend",l)),S&&this.fire(new a.Event("rotateend",l)),P&&this.fire(new a.Event("pitchend",l)),this.fire(new a.Event("moveend",l))}flyTo(l,f){if(this._prefersReducedMotion(l)){const Et=a.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Et,f)}this.stop(),l=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},l);const v=this.transform,S=this.getZoom(),P=this.getBearing(),k=this.getPitch(),D=this.getPadding(),z="zoom"in l?a.clamp(+l.zoom,v.minZoom,v.maxZoom):S,V="bearing"in l?this._normalizeBearing(l.bearing,P):P,$="pitch"in l?+l.pitch:k,X="padding"in l?l.padding:v.padding,le=v.zoomScale(z-S),he=a.Point.convert(l.offset);let de=v.centerPoint.add(he);const fe=v.pointLocation(de),pe=a.LngLat.convert(l.center||fe);this._normalizeCenter(pe);const Y=v.project(fe),ce=v.project(pe).sub(Y);let _e=l.curve;const ve=Math.max(v.width,v.height),Be=ve/le,Ne=ce.mag();if("minZoom"in l){const Et=a.clamp(Math.min(l.minZoom,S,z),v.minZoom,v.maxZoom),Dt=ve/v.zoomScale(Et-S);_e=Math.sqrt(Dt/Ne*2)}const Fe=_e*_e;function Ke(Et){const Dt=(Be*Be-ve*ve+(Et?-1:1)*Fe*Fe*Ne*Ne)/(2*(Et?Be:ve)*Fe*Ne);return Math.log(Math.sqrt(Dt*Dt+1)-Dt)}function Xe(Et){return(Math.exp(Et)-Math.exp(-Et))/2}function at(Et){return(Math.exp(Et)+Math.exp(-Et))/2}const Ot=Ke(0);let nt=function(Et){return at(Ot)/at(Ot+_e*Et)},_t=function(Et){return ve*((at(Ot)*(Xe(Dt=Ot+_e*Et)/at(Dt))-Xe(Ot))/Fe)/Ne;var Dt},st=(Ke(1)-Ot)/_e;if(Math.abs(Ne)<1e-6||!isFinite(st)){if(Math.abs(ve-Be)<1e-6)return this.easeTo(l,f);const Et=Be<ve?-1:1;st=Math.abs(Math.log(Be/ve))/_e,_t=function(){return 0},nt=function(Dt){return Math.exp(Et*_e*Dt)}}l.duration="duration"in l?+l.duration:1e3*st/("screenSpeed"in l?+l.screenSpeed/_e:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0);const Ct=P!==V,ot=$!==k,vt=!v.isPaddingEqual(X),Mt=Et=>Dt=>{const ar=Dt*st,xr=1/nt(ar);Et.zoom=Dt===1?z:S+Et.scaleZoom(xr),Ct&&(Et.bearing=a.number(P,V,Dt)),ot&&(Et.pitch=a.number(k,$,Dt)),vt&&(Et.interpolatePadding(D,X,Dt),de=Et.centerPoint.add(he));const tr=Dt===1?pe:Et.unproject(Y.add(ce.mult(_t(ar))).mult(xr));return Et.setLocationAtPoint(Et.renderWorldCopies?tr.wrap():tr,de),Et._updateCameraOnTerrain(),l.preloadOnly||this._fireMoveEvents(f),Et};if(l.preloadOnly){const Et=this._emulate(Mt,l.duration,v);return this._preloadTiles(Et),this}return this._zooming=!0,this._rotating=Ct,this._pitching=ot,this._padding=vt,this._prepareEase(f,!1),this._ease(Mt(v),(()=>this._afterEase(f)),l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const v=this._onEaseEnd;this._onEaseEnd=void 0,v.call(this,f)}if(!l){const v=this.handlers;v&&v.stop(!1)}return this}_ease(l,f,v){v.animate===!1||v.duration===0?(l(1),f()):(this._easeStart=a.exported.now(),this._easeOptions=v,this._onEaseFrame=l,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const l=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1),f=this._onEaseFrame;f&&f(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(l,f){l=a.wrap(l,-180,180);const v=Math.abs(l-f);return Math.abs(l-360-f)<v&&(l-=360),Math.abs(l+360-f)<v&&(l+=360),l}_normalizeCenter(l){const f=this.transform;if(!f.renderWorldCopies||f.maxBounds)return;const v=l.lng-f.center.lng;l.lng+=v>180?-360:v<-180?360:0}_prefersReducedMotion(l){return this._respectPrefersReducedMotion&&a.exported.prefersReducedMotion&&!(l&&l.essential)}_emulate(l,f,v){const S=Math.ceil(15*f/1e3),P=[],k=l(v.clone());for(let D=0;D<=S;D++){const z=k(D/S);P.push(z.clone())}return P}}class Zt{constructor(l={}){this.options=l,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(l){const f=this.options&&this.options.compact;return this._map=l,this._container=j("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=j("button","mapboxgl-ctrl-attrib-button",this._container),j("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=j("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),f&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),f===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(l,f){const v=this._map._getUIString(`AttributionControl.${f}`);l.setAttribute("aria-label",v),l.removeAttribute("title"),l.firstElementChild&&l.firstElementChild.setAttribute("title",v)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let l=this._editLink;l||(l=this._editLink=this._container.querySelector(".mapbox-improve-map"));const f=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(l){const v=f.reduce(((S,P,k)=>(P.value&&(S+=`${P.key}=${P.value}${k<f.length-1?"&":""}`),S)),"?");l.href=`${a.config.FEEDBACK_URL}/${v}#${Fs(this._map,!0)}`,l.rel="noopener nofollow",this._setElementTitle(l,"MapFeedback")}}_updateData(l){!l||l.sourceDataType!=="metadata"&&l.sourceDataType!=="visibility"&&l.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let l=[];if(this._map.style.stylesheet){const S=this._map.style.stylesheet;this.styleOwner=S.owner,this.styleId=S.id}const f=this._map.style._sourceCaches;for(const S in f){const P=f[S];if(P.used){const k=P.getSource();k.attribution&&l.indexOf(k.attribution)<0&&l.push(k.attribution)}}l.sort(((S,P)=>S.length-P.length)),l=l.filter(((S,P)=>{for(let k=P+1;k<l.length;k++)if(l[k].indexOf(S)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=[...this.options.customAttribution,...l]:l.unshift(this.options.customAttribution));const v=l.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,l.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class gu{constructor(){a.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(l){this._map=l,this._container=j("div","mapboxgl-ctrl");const f=j("a","mapboxgl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://www.mapbox.com/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(l){l&&l.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const l=this._map.style._sourceCaches;if(Object.entries(l).length===0)return!0;for(const f in l){const v=l[f].getSource();if(v.hasOwnProperty("mapbox_logo")&&!v.mapbox_logo)return!1}return!0}_updateCompact(){const l=this._container.children;if(l.length){const f=l[0];this._map.getCanvasContainer().offsetWidth<250?f.classList.add("mapboxgl-compact"):f.classList.remove("mapboxgl-compact")}}}class hc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const f=++this._id;return this._queue.push({callback:l,id:f,cancelled:!1}),f}remove(l){const f=this._currentlyRunning,v=f?this._queue.concat(f):this._queue;for(const S of v)if(S.id===l)return void(S.cancelled=!0)}run(l=0){const f=this._currentlyRunning=this._queue;this._queue=[];for(const v of f)if(!v.cancelled&&(v.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Sl(g,l,f){if(g=new a.LngLat(g.lng,g.lat),l){const v=new a.LngLat(g.lng-360,g.lat),S=new a.LngLat(g.lng+360,g.lat),P=360*Math.ceil(Math.abs(g.lng-f.center.lng)/360),k=f.locationPoint(g).distSqr(l),D=l.x<0||l.y<0||l.x>f.width||l.y>f.height;f.locationPoint(v).distSqr(l)<k&&(D||Math.abs(v.lng-f.center.lng)<P)?g=v:f.locationPoint(S).distSqr(l)<k&&(D||Math.abs(S.lng-f.center.lng)<P)&&(g=S)}for(;Math.abs(g.lng-f.center.lng)>180;){const v=f.locationPoint(g);if(v.x>=0&&v.y>=0&&v.x<=f.width&&v.y<=f.height)break;g.lng>f.center.lng?g.lng-=360:g.lng+=360}return g}const Tl={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Vt extends a.Evented{constructor(l,f){if(super(),(l instanceof a.window.HTMLElement||f)&&(l=a.extend({element:l},f)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=l&&l.occludedOpacity||.2,l&&l.element)this._element=l.element,this._offset=a.Point.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=j("div");const S=41,P=27,k=W("svg",{display:"block",height:S*this._scale+"px",width:P*this._scale+"px",viewBox:`0 0 ${P} ${S}`},this._element),D=W("radialGradient",{id:"shadowGradient"},W("defs",{},k));W("stop",{offset:"10%","stop-opacity":.4},D),W("stop",{offset:"100%","stop-opacity":.05},D),W("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},k),W("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},k),W("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},k),W("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},k),this._offset=a.Point.convert(l&&l.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(S=>{S.preventDefault()})),this._element.addEventListener("mousedown",(S=>{S.preventDefault()}));const v=this._element.classList;for(const S in Tl)v.remove(`mapboxgl-marker-anchor-${S}`);v.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(l){return l===this._map||(this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._updateMoving),l.on("moveend",this._update),l.on("remove",this._clearFadeTimer),l._addMarker(this),this.setDraggable(this._draggable),this._update(),l.on("click",this._onMapClick)),this}remove(){const l=this._map;return l&&(l.off("click",this._onMapClick),l.off("move",this._updateMoving),l.off("moveend",this._update),l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler),l.off("mouseup",this._onUp),l.off("touchend",this._onUp),l.off("mousemove",this._onMove),l.off("touchmove",this._onMove),l.off("remove",this._clearFadeTimer),l._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=a.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const S=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[S,-1*(38.1-13.5+S)],"bottom-right":[-S,-1*(38.1-13.5+S)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,l._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(l){const f=l.code,v=l.charCode||l.keyCode;f!=="Space"&&f!=="Enter"&&v!==32&&v!==13||this.togglePopup()}_onMapClick(l){const f=l.originalEvent.target,v=this._element;this._popup&&(f===v||v.contains(f))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const l=this._popup;return l?(l.isOpen()?(l.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(l.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const l=this._map,f=this._pos;if(!l||!f)return!1;const v=l.unproject(f),S=l.getFreeCameraOptions();if(!S.position)return!1;const P=S.position.toLngLat();return P.distanceTo(v)<.9*P.distanceTo(this._lngLat)}_evaluateOpacity(){const l=this._map;if(!l)return;const f=this._pos;if(!f||f.x<0||f.x>l.transform.width||f.y<0||f.y>l.transform.height)return void this._clearFadeTimer();const v=l.unproject(f);let S;l._showingGlobe()&&a.isLngLatBehindGlobe(l.transform,this._lngLat)?S=0:(S=1-l._queryFogOpacity(v),l.transform._terrainEnabled()&&l.getTerrain()&&this._behindTerrain()&&(S*=this._occludedOpacity)),this._element.style.opacity=`${S}`,this._element.style.pointerEvents=S>0?"auto":"none",this._popup&&this._popup._setOpacity(S),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const l=this._pos;if(!l||!this._map)return;const f=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${l.x}px,${l.y}px)
            ${Tl[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${f.x}px,${f.y}px)
        `}_calculateXYTransform(){const l=this._pos,f=this._map,v=this.getPitchAlignment();if(!f||!l||v!=="map")return"";if(!f._showingGlobe()){const z=f.getPitch();return z?`rotateX(${z}deg)`:""}const S=a.radToDeg(a.globeTiltAtLngLat(f.transform,this._lngLat)),P=l.sub(a.globeCenterToScreenPoint(f.transform)),k=Math.abs(P.x)+Math.abs(P.y);if(k===0)return"";const D=S/k;return`rotateX(${-P.y*D}deg) rotateY(${P.x*D}deg)`}_calculateZTransform(){const l=this._pos,f=this._map;if(!f||!l)return"";let v=0;const S=this.getRotationAlignment();if(S==="map")if(f._showingGlobe()){const P=f.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),k=f.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(P);v=a.radToDeg(Math.atan2(k.y,k.x))-90}else v=-f.getBearing();else if(S==="horizon"){const P=a.smoothstep(4,6,f.getZoom()),k=a.globeCenterToScreenPoint(f.transform);k.y+=P*f.transform.height;const D=l.sub(k),z=a.radToDeg(Math.atan2(D.y,D.x));v=(z>90?z-270:z+90)*(1-P)}return v+=this._rotation,v?`rotateZ(${v}deg)`:""}_update(l){a.window.cancelAnimationFrame(this._updateFrameId);const f=this._map;f&&(f.transform.renderWorldCopies&&(this._lngLat=Sl(this._lngLat,this._pos,f.transform)),this._pos=f.project(this._lngLat),l===!0?this._updateFrameId=a.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())})):this._pos=this._pos.round(),f._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(f._showingGlobe()||f.getTerrain()||f.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})))}getOffset(){return this._offset}setOffset(l){return this._offset=a.Point.convert(l),this._update(),this}_onMove(l){const f=this._map;if(!f)return;const v=this._pointerdownPos,S=this._positionDelta;if(v&&S){if(!this._isDragging){const P=this._clickTolerance||f._clickTolerance;if(l.point.dist(v)<P)return;this._isDragging=!0}this._pos=l.point.sub(S),this._lngLat=f.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const l=this._map;l&&(l.off("mousemove",this._onMove),l.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(l){const f=this._map,v=this._pos;f&&v&&this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(v),this._pointerdownPos=l.point,this._state="pending",f.on("mousemove",this._onMove),f.on("touchmove",this._onMove),f.once("mouseup",this._onUp),f.once("touchend",this._onUp))}setDraggable(l){this._draggable=!!l;const f=this._map;return f&&(l?(f.on("mousedown",this._addDragHandler),f.on("touchstart",this._addDragHandler)):(f.off("mousedown",this._addDragHandler),f.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(l){return this._occludedOpacity=l||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const $s={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},yu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function fc(g=new a.Point(0,0),l="bottom"){if(typeof g=="number"){const f=Math.round(Math.sqrt(.5*Math.pow(g,2)));switch(l){case"top":return new a.Point(0,g);case"top-left":return new a.Point(f,f);case"top-right":return new a.Point(-f,f);case"bottom":return new a.Point(0,-g);case"bottom-left":return new a.Point(f,-f);case"bottom-right":return new a.Point(-f,-f);case"left":return new a.Point(g,0);case"right":return new a.Point(-g,0)}return new a.Point(0,0)}return g instanceof a.Point||Array.isArray(g)?a.Point.convert(g):a.Point.convert(g[l]||[0,0])}class _u{constructor(l){this.jumpTo(l)}getValue(l){if(l<=this._startTime)return this._start;if(l>=this._endTime)return this._end;const f=a.easeCubicInOut((l-this._startTime)/(this._endTime-this._startTime));return this._start*(1-f)+this._end*f}isEasing(l){return l>=this._startTime&&l<=this._endTime}jumpTo(l){this._startTime=-1/0,this._endTime=-1/0,this._start=l,this._end=l}easeTo(l,f,v){this._start=this.getValue(f),this._end=l,this._startTime=f,this._endTime=f+v}}const zo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Bo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},El={showCompass:!0,showZoom:!0,visualizePitch:!1};class hs{constructor(l,f,v=!1){this._clickTolerance=10,this.element=f,this.mouseRotate=new $a({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,v&&(this.mousePitch=new s1({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),f.addEventListener("mousedown",this.mousedown),f.addEventListener("touchstart",this.touchstart,{passive:!1}),f.addEventListener("touchmove",this.touchmove),f.addEventListener("touchend",this.touchend),f.addEventListener("touchcancel",this.reset)}down(l,f){this.mouseRotate.mousedown(l,f),this.mousePitch&&this.mousePitch.mousedown(l,f),re()}move(l,f){const v=this.map,S=this.mouseRotate.mousemoveWindow(l,f),P=S&&S.bearingDelta;if(P&&v.setBearing(v.getBearing()+P),this.mousePitch){const k=this.mousePitch.mousemoveWindow(l,f),D=k&&k.pitchDelta;D&&v.setPitch(v.getPitch()+D)}}off(){const l=this.element;l.removeEventListener("mousedown",this.mousedown),l.removeEventListener("touchstart",this.touchstart,{passive:!1}),l.removeEventListener("touchmove",this.touchmove),l.removeEventListener("touchend",this.touchend),l.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){ee(),a.window.removeEventListener("mousemove",this.mousemove),a.window.removeEventListener("mouseup",this.mouseup)}mousedown(l){this.down(a.extend({},l,{ctrlKey:!0,preventDefault:()=>l.preventDefault()}),ne(this.element,l)),a.window.addEventListener("mousemove",this.mousemove),a.window.addEventListener("mouseup",this.mouseup)}mousemove(l){this.move(l,ne(this.element,l))}mouseup(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()}touchstart(l){l.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=te(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>l.preventDefault()},this._startPos))}touchmove(l){l.targetTouches.length!==1?this.reset():(this._lastPos=te(this.element,l.targetTouches)[0],this.move({preventDefault:()=>l.preventDefault()},this._lastPos))}touchend(l){l.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Ea={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},fs={maxWidth:100,unit:"metric"},f1={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Vs={version:a.version,supported:M,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends cc{constructor(g){if(a.LivePerformanceUtils.mark(a.PerformanceMarkers.create),(g=a.extend({},Bo,g)).minZoom!=null&&g.maxZoom!=null&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(g.minPitch!=null&&g.maxPitch!=null&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(g.minPitch!=null&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(g.maxPitch!=null&&g.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(g.antialias&&a.isSafariWithAntialiasingBug(a.window)&&(g.antialias=!1,a.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new _l(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies),g),this._interactive=g.interactive,this._minTileCacheSize=g.minTileCacheSize,this._maxTileCacheSize=g.maxTileCacheSize,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._useWebGL2=g.useWebGL2,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=g.crossSourceCollisions,this._collectResourceTiming=g.collectResourceTiming,this._optimizeForTerrain=g.optimizeForTerrain,this._language=this._parseLanguage(g.language),this._worldview=g.worldview,this._renderTaskQueue=new hc,this._domRenderTaskQueue=new hc,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.uniqueId(),this._locale=a.extend({},zo,g.locale),this._clickTolerance=g.clickTolerance,this._cooperativeGestures=g.cooperativeGestures,this._performanceMetricsCollection=g.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new _u(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new a.RequestManager(g.transformRequest,g.accessToken,g.testMode),this._silenceAuthErrors=!!g.testMode,typeof g.container=="string"){if(this._container=a.window.document.getElementById(g.container),!this._container)throw new Error(`Container '${g.container}' not found.`)}else{if(!(g.container instanceof a.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(this._container.childNodes.length>0&&a.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),g.maxBounds&&this.setMaxBounds(g.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1),a.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Ta(this,g),this._localFontFamily=g.localFontFamily,this._localIdeographFontFamily=g.localIdeographFontFamily,g.style&&this.setStyle(g.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),g.projection&&this.setProjection(g.projection),this._hash=g.hash&&new ac(typeof g.hash=="string"&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,a.extend({},g.fitBoundsOptions,{duration:0})))),this.resize(),g.attributionControl&&this.addControl(new Zt({customAttribution:g.customAttribution})),this._logoControl=new gu,this.addControl(this._logoControl,g.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(l=>{this._update(l.dataType==="style"),this.fire(new a.Event(`${l.dataType}data`,l))})),this.on("dataloading",(l=>{this.fire(new a.Event(`${l.dataType}dataloading`,l))}))}_getMapId(){return this._mapId}addControl(g,l){if(l===void 0&&(l=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=g.onAdd(this);this._controls.push(g);const v=this._controlPositions[l];return l.indexOf("bottom")!==-1?v.insertBefore(f,v.firstChild):v.appendChild(f),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(g);return l>-1&&this._controls.splice(l,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(g){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const l=!this._moving;return l&&this.fire(new a.Event("movestart",g)).fire(new a.Event("move",g)),this.fire(new a.Event("resize",g)),l&&this.fire(new a.Event("moveend",g)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(g){return this.transform.setMaxBounds(a.LngLatBounds.convert(g)),this._update()}setMinZoom(g){if((g=g??-2)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g?this.setZoom(g):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g??22)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g?this.setZoom(g):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g?this.setPitch(g):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g?this.setPitch(g):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(g){return g==="auto"?a.window.navigator.language:Array.isArray(g)?g.length===0?void 0:g.map((l=>l==="auto"?a.window.navigator.language:l)):g}setLanguage(g){const l=this._parseLanguage(g);if(!this.style||l===this._language)return this;this._language=l,this.style._reloadSources();for(const f of this._controls)f._setLanguage&&f._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(g){return this.style&&g!==this._worldview?(this._worldview=g,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(g){return this._lazyInitEmptyStyle(),g?typeof g=="string"&&(g={name:g}):g=null,this._useExplicitProjection=!!g,this._prioritizeAndUpdateProjection(g,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const g=this.transform,l=g.projection.name;let f;l==="globe"&&g.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?(g.setMercatorFromTransition(),f=!0):l==="mercator"&&g.zoom<a.GLOBE_ZOOM_THRESHOLD_MAX&&(g.setProjection({name:"globe"}),f=!0),f&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(g,l){return this._updateProjection(g||l||{name:"mercator"})}_updateProjection(g){let l;if(l=g.name==="globe"&&this.transform.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(g),this.style.applyProjectionUpdate(),l){this.painter.clearBackgroundTiles();for(const f in this.style._sourceCaches)this.style._sourceCaches[f].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(g){return this.transform.locationPoint3D(a.LngLat.convert(g))}unproject(g){return this.transform.pointLocation3D(a.Point.convert(g))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(g,l,f){if(g==="mouseenter"||g==="mouseover"){let v=!1;const S=k=>{const D=l.filter((V=>this.getLayer(V))),z=D.length?this.queryRenderedFeatures(k.point,{layers:D}):[];z.length?v||(v=!0,f.call(this,new Ri(g,this,k.originalEvent,{features:z}))):v=!1},P=()=>{v=!1};return{layers:new Set(l),listener:f,delegates:{mousemove:S,mouseout:P}}}if(g==="mouseleave"||g==="mouseout"){let v=!1;const S=k=>{const D=l.filter((z=>this.getLayer(z)));(D.length?this.queryRenderedFeatures(k.point,{layers:D}):[]).length?v=!0:v&&(v=!1,f.call(this,new Ri(g,this,k.originalEvent)))},P=k=>{v&&(v=!1,f.call(this,new Ri(g,this,k.originalEvent)))};return{layers:new Set(l),listener:f,delegates:{mousemove:S,mouseout:P}}}{const v=S=>{const P=l.filter((D=>this.getLayer(D))),k=P.length?this.queryRenderedFeatures(S.point,{layers:P}):[];k.length&&(S.features=k,f.call(this,S),delete S.features)};return{layers:new Set(l),listener:f,delegates:{[g]:v}}}}on(g,l,f){if(f===void 0)return super.on(g,l);Array.isArray(l)||(l=[l]);const v=this._createDelegatedListener(g,l,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(v);for(const S in v.delegates)this.on(S,v.delegates[S]);return this}once(g,l,f){if(f===void 0)return super.once(g,l);Array.isArray(l)||(l=[l]);const v=this._createDelegatedListener(g,l,f);for(const S in v.delegates)this.once(S,v.delegates[S]);return this}off(g,l,f){if(f===void 0)return super.off(g,l);l=new Set(Array.isArray(l)?l:[l]);const v=(P,k)=>{if(P.size!==k.size)return!1;for(const D of P)if(!k.has(D))return!1;return!0},S=this._delegatedListeners?this._delegatedListeners[g]:void 0;return S&&(P=>{for(let k=0;k<P.length;k++){const D=P[k];if(D.listener===f&&v(D.layers,l)){for(const z in D.delegates)this.off(z,D.delegates[z]);return P.splice(k,1),this}}})(S),this}queryRenderedFeatures(g,l){return this.style?(l!==void 0||g===void 0||g instanceof a.Point||Array.isArray(g)||(l=g,g=void 0),this.style.queryRenderedFeatures(g=g||[[0,0],[this.transform.width,this.transform.height]],l=l||{},this.transform)):[]}querySourceFeatures(g,l){return this.style.querySourceFeatures(g,l)}isPointOnSurface(g){const{name:l}=this.transform.projection;return l!=="globe"&&l!=="mercator"&&a.warnOnce(`${l} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(a.Point.convert(g))}setStyle(g,l){return(l=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&l.localFontFamily===this._localFontFamily&&this.style&&g?(this._diffStyle(g,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._localFontFamily=l.localFontFamily,this._updateStyle(g,l))}_getUIString(g){const l=this._locale[g];if(l==null)throw new Error(`Missing UI string '${g}'`);return l}_updateStyle(g,l){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),g&&(this.style=new Yo(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof g=="string"?this.style.loadURL(g):this.style.loadJSON(g)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Yo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,l){if(typeof g=="string"){const f=this._requestManager.normalizeStyleURL(g),v=this._requestManager.transformRequest(f,a.ResourceType.Style);a.getJSON(v,((S,P)=>{S?this.fire(new a.ErrorEvent(S)):P&&this._updateDiff(P,l)}))}else typeof g=="object"&&this._updateDiff(g,l)}_updateDiff(g,l){try{this.style.setState(g)&&this._update(!0)}catch(f){a.warnOnce(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(g,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.warnOnce("There is no style added to the map."),!1)}addSource(g,l){return this._lazyInitEmptyStyle(),this.style.addSource(g,l),this._update(!0)}isSourceLoaded(g){return!!this.style&&this.style._isSourceCacheLoaded(g)}areTilesLoaded(){const g=this.style&&this.style._sourceCaches;for(const l in g){const f=g[l]._tiles;for(const v in f){const S=f[v];if(S.state!=="loaded"&&S.state!=="errored")return!1}}return!0}addSourceType(g,l,f){this._lazyInitEmptyStyle(),this.style.addSourceType(g,l,f)}removeSource(g){return this.style.removeSource(g),this._updateTerrain(),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,l,{pixelRatio:f=1,sdf:v=!1,stretchX:S,stretchY:P,content:k}={}){if(this._lazyInitEmptyStyle(),l instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&l instanceof a.window.ImageBitmap){const{width:D,height:z,data:V}=a.exported.getImageData(l);this.style.addImage(g,{data:new a.RGBAImage({width:D,height:z},V),pixelRatio:f,stretchX:S,stretchY:P,content:k,sdf:v,version:0})}else if(l.width===void 0||l.height===void 0)this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:D,height:z}=l,V=l;this.style.addImage(g,{data:new a.RGBAImage({width:D,height:z},new Uint8Array(V.data)),pixelRatio:f,stretchX:S,stretchY:P,content:k,sdf:v,version:0,userImage:V}),V.onAdd&&V.onAdd(this,g)}}updateImage(g,l){const f=this.style.getImage(g);if(!f)return void this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=l instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&l instanceof a.window.ImageBitmap?a.exported.getImageData(l):l,{width:S,height:P}=v;S!==void 0&&P!==void 0?S===f.data.width&&P===f.data.height?(f.data.replace(v.data,!(l instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&l instanceof a.window.ImageBitmap)),this.style.updateImage(g,f)):this.fire(new a.ErrorEvent(new Error(`The width and height of the updated image (${S}, ${P})
                must be that same as the previous version of the image
                (${f.data.width}, ${f.data.height})`))):this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g,l){a.getImage(this._requestManager.transformRequest(g,a.ResourceType.Image),((f,v)=>{l(f,v instanceof a.window.HTMLImageElement?a.exported.getImageData(v):v)}))}listImages(){return this.style.listImages()}addLayer(g,l){return this._lazyInitEmptyStyle(),this.style.addLayer(g,l),this._update(!0)}moveLayer(g,l){return this.style.moveLayer(g,l),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}setLayerZoomRange(g,l,f){return this.style.setLayerZoomRange(g,l,f),this._update(!0)}setFilter(g,l,f={}){return this.style.setFilter(g,l,f),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,l,f,v={}){return this.style.setPaintProperty(g,l,f,v),this._update(!0)}getPaintProperty(g,l){return this.style.getPaintProperty(g,l)}setLayoutProperty(g,l,f,v={}){return this.style.setLayoutProperty(g,l,f,v),this._update(!0)}getLayoutProperty(g,l){return this.style.getLayoutProperty(g,l)}setLight(g,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,l),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(g){return this._lazyInitEmptyStyle(),!g&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(g),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(g){return this._lazyInitEmptyStyle(),this.style.setFog(g),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(g){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.LngLat.convert(g),this.transform):0}setFeatureState(g,l){return this.style.setFeatureState(g,l),this._update()}removeFeatureState(g,l){return this.style.removeFeatureState(g,l),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}_updateContainerDimensions(){if(!this._container)return;const g=this._container.getBoundingClientRect().width||400,l=this._container.getBoundingClientRect().height||300;let f,v,S,P=this._container;for(;P&&(!v||!S);){const k=a.window.getComputedStyle(P).transform;k&&k!=="none"&&(f=k.match(/matrix.*\((.+)\)/)[1].split(", "),f[0]&&f[0]!=="0"&&f[0]!=="1"&&(v=f[0]),f[3]&&f[3]!=="0"&&f[3]!=="1"&&(S=f[3])),P=P.parentElement}this._containerWidth=v?Math.abs(g/v):g,this._containerHeight=S?Math.abs(l/S):l}_detectMissingCSS(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const g=this._container;g.classList.add("mapboxgl-map"),(this._missingCSSCanary=j("div","mapboxgl-canary",g)).style.visibility="hidden",this._detectMissingCSS();const l=this._canvasContainer=j("div","mapboxgl-canvas-container",g);this._interactive&&l.classList.add("mapboxgl-interactive"),this._canvas=j("canvas","mapboxgl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const f=this._controlContainer=j("div","mapboxgl-control-container",g),v=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((S=>{v[S]=j("div",`mapboxgl-ctrl-${S}`,f)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(g,l){const f=a.exported.devicePixelRatio||1;this._canvas.width=f*Math.ceil(g),this._canvas.height=f*Math.ceil(l),this._canvas.style.width=`${g}px`,this._canvas.style.height=`${l}px`}_addMarker(g){this._markers.push(g)}_removeMarker(g){const l=this._markers.indexOf(g);l!==-1&&this._markers.splice(l,1)}_addPopup(g){this._popups.push(g)}_removePopup(g){const l=this._popups.indexOf(g);l!==-1&&this._popups.splice(l,1)}_setupPainter(){const g=a.extend({},M.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),l=this._useWebGL2&&this._canvas.getContext("webgl2",g),f=l||this._canvas.getContext("webgl",g)||this._canvas.getContext("experimental-webgl",g);f?(this._useWebGL2&&!l&&a.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),a.storeAuthState(f,!0),this.painter=new yl(f,this.transform,!!l),this.on("data",(v=>{v.dataType==="source"&&this.painter.setTileLoadedFlag(!0)})),a.exported$1.testSupport(f)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(g){g.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:g}))}_contextRestored(g){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:g}))}_onMapScroll(g){if(g.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_requestDomTask(g){!this.loaded()||this.loaded()&&!this.isMoving()?g():this._domRenderTaskQueue.add(g)}_render(g){let l;const f=this.painter.context.extTimerQuery,v=a.exported.now();if(this.listens("gpu-timing-frame")&&(l=f.createQueryEXT(),f.beginQueryEXT(f.TIME_ELAPSED_EXT,l)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],a.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],a.window.performance.now())),this._renderTaskQueue.run(g),this._domRenderTaskQueue.run(g),this._removed)return;this._updateProjectionTransition();const S=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const D=this.transform.zoom,z=this.transform.pitch,V=a.exported.now(),$=new a.EvaluationParameters(D,{now:V,fadeDuration:S,pitch:z,transition:this.style.getTransition()});this.style.update($)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let P=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),P=this._updateAverageElevation(v),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):P=this._updateAverageElevation(v),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,S,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:S,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),l){const D=a.exported.now()-v;f.endQueryEXT(f.TIME_ELAPSED_EXT,l),setTimeout((()=>{const z=f.getQueryObjectEXT(l,f.QUERY_RESULT_EXT)/1e6;f.deleteQueryEXT(l),this.fire(new a.Event("gpu-timing-frame",{cpuTime:D,gpuTime:z})),a.window.performance.mark("frame-gpu",{startTime:v,detail:{gpuTime:z}})}),50)}if(this.listens("gpu-timing-layer")){const D=this.painter.collectGpuTimers();setTimeout((()=>{const z=this.painter.queryGpuTimers(D);this.fire(new a.Event("gpu-timing-layer",{layerTimes:z}))}),50)}if(this.listens("gpu-timing-deferred-render")){const D=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const z=this.painter.queryGpuTimeDeferredRender(D);this.fire(new a.Event("gpu-timing-deferred-render",{gpuTime:z}))}),50)}const k=this._sourcesDirty||this._styleDirty||this._placementDirty||P;if(k||this._repaint)this.triggerRepaint();else{const D=!this.isMoving()&&this.loaded();if(D&&(P=this._updateAverageElevation(v,!0)),P)this.triggerRepaint();else if(this._triggerFrame(!1),D&&(this.fire(new a.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const z=this._calculateSpeedIndex();this.fire(new a.Event("speedindexcompleted",{speedIndex:z})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||k||(this._fullyLoaded=!0,a.LivePerformanceUtils.mark(a.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&a.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(g){for(const l of this._markers)g&&!this.getRenderWorldCopies()&&(l._lngLat=l._lngLat.wrap()),l._update();for(const l of this._popups)!g||this.getRenderWorldCopies()||l._trackPointer||(l._lngLat=l._lngLat.wrap()),l._update()}_updateAverageElevation(g,l=!1){const f=v=>(this.transform.averageElevation=v,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&f(0);if((l||g-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(g)){const v=this.transform.averageElevation;let S=this.transform.sampleAverageElevation(),P=!1;this.transform.elevation&&(P=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(S)?S=0:this._averageElevationLastSampledAt=g;const k=Math.abs(v-S);if(k>1){if(this._isInitialLoad||P)return this._averageElevation.jumpTo(S),f(S);this._averageElevation.easeTo(S,g,300)}else if(k>1e-4)return this._averageElevation.jumpTo(S),f(S)}return!!this._averageElevation.isEasing(g)&&f(this._averageElevation.getValue(g))}_authenticate(){a.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(g=>{if(g&&(g.message===a.AUTH_ERR_MSG||g.status===401)){const l=this.painter.context.gl;a.storeAuthState(l,!1),this._logoControl instanceof gu&&this._logoControl._updateLogo(),l&&l.clear(l.DEPTH_BUFFER_BIT|l.COLOR_BUFFER_BIT|l.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),a.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}))}_updateTerrain(){const g=this._isDragging();this.painter.updateTerrain(this.style,g)}_calculateSpeedIndex(){const g=this.painter.canvasCopy(),l=this.painter.getCanvasCopiesAndTimestamps();l.timeStamps.push(performance.now());const f=this.painter.context.gl,v=f.createFramebuffer();function S(P){f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,P,0);const k=new Uint8Array(f.drawingBufferWidth*f.drawingBufferHeight*4);return f.readPixels(0,0,f.drawingBufferWidth,f.drawingBufferHeight,f.RGBA,f.UNSIGNED_BYTE,k),k}return f.bindFramebuffer(f.FRAMEBUFFER,v),this._canvasPixelComparison(S(g),l.canvasCopies.map(S),l.timeStamps)}_canvasPixelComparison(g,l,f){let v=f[1]-f[0];const S=g.length/4;for(let P=0;P<l.length;P++){const k=l[P];let D=0;for(let z=0;z<k.length;z+=4)k[z]===g[z]&&k[z+1]===g[z+1]&&k[z+2]===g[z+2]&&k[z+3]===g[z+3]&&(D+=1);v+=(f[P+2]-f[P+1])*(1-D/S)}return v}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1),a.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const g=this.painter.context.gl.getExtension("WEBGL_lose_context");g&&g.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),a.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(g){this._renderNextFrame=this._renderNextFrame||g,this.style&&!this._frame&&(this._frame=a.exported.frame((l=>{const f=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,f&&this._render(l)})))}_preloadTiles(g){const l=this.style?Object.values(this.style._sourceCaches):[];return a.asyncAll(l,((f,v)=>f._preloadTiles(g,v)),(()=>{this.triggerRepaint()})),this}_onWindowOnline(){this._update()}_onWindowResize(g){this._trackResize&&this.resize({originalEvent:g})._update()}_onVisibilityChange(){a.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(g){this._showTerrainWireframe!==g&&(this._showTerrainWireframe=g,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(g){this._speedIndexTiming!==g&&(this._speedIndexTiming=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(g){this._showTileAABBs!==g&&(this._showTileAABBs=g,g&&this._update())}_setCacheLimits(g,l){a.setCacheLimits(g,l)}get version(){return a.version}},NavigationControl:class{constructor(g){this.options=a.extend({},El,g),this._container=j("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(l=>l.preventDefault())),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(l=>{this._map&&this._map.zoomIn({},{originalEvent:l})})),j("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(l=>{this._map&&this._map.zoomOut({},{originalEvent:l})})),j("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(l=>{const f=this._map;f&&(this.options.visualizePitch?f.resetNorthPitch({},{originalEvent:l}):f.resetNorth({},{originalEvent:l}))})),this._compassIcon=j("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const g=this._map;if(!g)return;const l=g.getZoom(),f=l===g.getMaxZoom(),v=l===g.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())}_rotateCompassArrow(){const g=this._map;if(!g)return;const l=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(g.transform.pitch*(Math.PI/180)),.5)}) rotateX(${g.transform.pitch}deg) rotateZ(${g.transform.angle*(180/Math.PI)}deg)`:`rotate(${g.transform.angle*(180/Math.PI)}deg)`;g._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=l)}))}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),g.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&g.on("pitch",this._rotateCompassArrow),g.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new hs(g,this._compass,this.options.visualizePitch)),this._container}onRemove(){const g=this._map;g&&(this._container.remove(),this.options.showZoom&&g.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&g.off("pitch",this._rotateCompassArrow),g.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(g,l){const f=j("button",g,this._container);return f.type="button",f.addEventListener("click",l),f}_setButtonTitle(g,l){if(!this._map)return;const f=this._map._getUIString(`NavigationControl.${l}`);g.setAttribute("aria-label",f),g.firstElementChild&&g.firstElementChild.setAttribute("title",f)}},GeolocateControl:class extends a.Evented{constructor(g){super(),this.options=a.extend({geolocation:a.window.navigator.geolocation},Ea,g),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=_n(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(g){return this._map=g,this._container=j("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(g){const l=(f=!!this.options.geolocation)=>{this._supportsGeolocation=f,g(f)};this._supportsGeolocation!==void 0?g(this._supportsGeolocation):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then((f=>l(f.state!=="denied"))).catch((()=>l())):l()}_isOutOfMapMaxBounds(g){const l=this._map.getMaxBounds(),f=g.coords;return!!l&&(f.longitude<l.getWest()||f.longitude>l.getEast()||f.latitude<l.getSouth()||f.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(g){if(this._map){if(this._isOutOfMapMaxBounds(g))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",g)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=g,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(g),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(g),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",g)),this._finish()}}_updateCamera(g){const l=new a.LngLat(g.coords.longitude,g.coords.latitude),f=g.coords.accuracy,v=this._map.getBearing(),S=a.extend({bearing:v},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(f),S,{geolocateSource:!0})}_updateMarker(g){if(g){const l=new a.LngLat(g.coords.longitude,g.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=g.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const g=this._map.transform,l=a.mercatorZfromAltitude(1,g._center.lat)*g.worldSize,f=Math.ceil(2*this._accuracy*l);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(g){if(this._map){if(this.options.trackUserLocation)if(g.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(g.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",g)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(g){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",(l=>l.preventDefault())),this._geolocateButton=j("button","mapboxgl-ctrl-geolocate",this._container),j("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",g===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}else{const l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=j("div","mapboxgl-user-location"),this._dotElement.appendChild(j("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(j("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Vt({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=j("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Vt({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(l=>{l.geolocateSource||this._watchState!=="ACTIVE_LOCK"||l.originalEvent&&l.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))}))}}_onDeviceOrientation(g){this._userLocationDotMarker&&(g.webkitCompassHeading?this._heading=g.webkitCompassHeading:g.absolute===!0&&(this._heading=-1*g.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let g;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(g={maximumAge:6e5,timeout:0},this._noTimeout=!0):(g=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,g),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const g=()=>{a.window.addEventListener("ondeviceorientationabsolute"in a.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};a.window.DeviceMotionEvent!==void 0&&typeof a.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then((l=>{l==="granted"&&g()})).catch(console.error):g()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),a.window.removeEventListener("deviceorientation",this._onDeviceOrientation),a.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Zt,ScaleControl:class{constructor(g){this.options=a.extend({},fs,g),this._isNumberFormatSupported=(function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}})(),a.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const g=this.options.maxWidth||100,l=this._map,f=l._containerHeight/2,v=l._containerWidth/2-g/2,S=l.unproject([v,f]),P=l.unproject([v+g,f]),k=S.distanceTo(P);if(this.options.unit==="imperial"){const D=3.2808*k;D>5280?this._setScale(g,D/5280,"mile"):this._setScale(g,D,"foot")}else this.options.unit==="nautical"?this._setScale(g,k/1852,"nautical-mile"):k>=1e3?this._setScale(g,k/1e3,"kilometer"):this._setScale(g,k,"meter")}_setScale(g,l,f){this._map._requestDomTask((()=>{const v=(function(P){const k=Math.pow(10,`${Math.floor(P)}`.length-1);let D=P/k;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:(function(z){const V=Math.pow(10,Math.ceil(-Math.log(z)/Math.LN10));return Math.round(z*V)/V})(D),k*D})(l),S=v/l;this._container.innerHTML=this._isNumberFormatSupported&&f!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:f}).format(v):`${v}&nbsp;${f1[f]}`,this._container.style.width=g*S+"px"}))}onAdd(g){return this._map=g,this._language=g.getLanguage(),this._container=j("div","mapboxgl-ctrl mapboxgl-ctrl-scale",g.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(g){this._language=g,this._update()}setUnit(g){this.options.unit=g,this._update()}},FullscreenControl:class{constructor(g){this._fullscreen=!1,g&&g.container&&(g.container instanceof a.window.HTMLElement?this._container=g.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in a.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=j("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!a.window.document.fullscreenEnabled&&!a.window.document.webkitFullscreenEnabled)}_setupUI(){const g=this._fullscreenButton=j("button","mapboxgl-ctrl-fullscreen",this._controlContainer);j("span","mapboxgl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",g)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(a.window.document.fullscreenElement||a.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.Evented{constructor(g){super(),this.options=a.extend(Object.create($s),g),a.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(g&&g.className?g.className.trim().split(/\s+/):[])}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&g.on("preclick",this._onClose),this.options.closeOnMove&&g.on("move",this._onClose),g.on("remove",this.remove),this._update(),g._addPopup(this),this._focusFirstElement(),this._trackPointer?(g.on("mousemove",this._onMouseEvent),g.on("mouseup",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")):g.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const g=this._map;return g&&(g.off("move",this._update),g.off("move",this._onClose),g.off("preclick",this._onClose),g.off("click",this._onClose),g.off("remove",this.remove),g.off("mousemove",this._onMouseEvent),g.off("mouseup",this._onMouseEvent),g.off("drag",this._onMouseEvent),g._canvasContainer&&g._canvasContainer.classList.remove("mapboxgl-track-pointer"),g._removePopup(this),this._map=void 0),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(g){this._lngLat=a.LngLat.convert(g),this._pos=null,this._trackPointer=!1,this._update();const l=this._map;return l&&(l.on("move",this._update),l.off("mousemove",this._onMouseEvent),l._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const g=this._map;return g&&(g.off("move",this._update),g.on("mousemove",this._onMouseEvent),g.on("drag",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(a.window.document.createTextNode(g))}setHTML(g){const l=a.window.document.createDocumentFragment(),f=a.window.document.createElement("body");let v;for(f.innerHTML=g;v=f.firstChild,v;)l.appendChild(v);return this.setDOMContent(l)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){let l=this._content;if(l)for(;l.hasChildNodes();)l.firstChild&&l.removeChild(l.firstChild);else l=this._content=j("div","mapboxgl-popup-content",this._container||void 0);if(l.appendChild(g),this.options.closeButton){const f=this._closeButton=j("button","mapboxgl-popup-close-button",l);f.type="button",f.setAttribute("aria-label","Close popup"),f.setAttribute("aria-hidden","true"),f.innerHTML="&#215;",f.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(g){return this._classList.add(g),this._updateClassList(),this}removeClassName(g){return this._classList.delete(g),this._updateClassList(),this}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){let l;return this._classList.delete(g)?l=!1:(this._classList.add(g),l=!0),this._updateClassList(),l}_onMouseEvent(g){this._update(g.point)}_getAnchor(g){if(this.options.anchor)return this.options.anchor;const l=this._map,f=this._container,v=this._pos;if(!l||!f||!v)return"bottom";const S=f.offsetWidth,P=f.offsetHeight,k=v.x<S/2,D=v.x>l.transform.width-S/2;if(v.y+g<P)return k?"top-left":D?"top-right":"top";if(v.y>l.transform.height-P){if(k)return"bottom-left";if(D)return"bottom-right"}return k?"left":D?"right":"bottom"}_updateClassList(){const g=this._container;if(!g)return;const l=[...this._classList];l.push("mapboxgl-popup"),this._anchor&&l.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&l.push("mapboxgl-popup-track-pointer"),g.className=l.join(" ")}_update(g){const l=this._map,f=this._content;if(!l||!this._lngLat&&!this._trackPointer||!f)return;let v=this._container;if(v||(v=this._container=j("div","mapboxgl-popup",l.getContainer()),this._tip=j("div","mapboxgl-popup-tip",v),v.appendChild(f)),this.options.maxWidth&&v.style.maxWidth!==this.options.maxWidth&&(v.style.maxWidth=this.options.maxWidth),l.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sl(this._lngLat,this._pos,l.transform)),!this._trackPointer||g){const S=this._pos=this._trackPointer&&g?g:l.project(this._lngLat),P=fc(this.options.offset),k=this._anchor=this._getAnchor(P.y),D=fc(this.options.offset,k),z=S.add(D).round();l._requestDomTask((()=>{this._container&&k&&(this._container.style.transform=`${Tl[k]} translate(${z.x}px,${z.y}px)`)}))}if(!this._marker&&l._showingGlobe()){const S=a.isLngLatBehindGlobe(l.transform,this._lngLat)?0:1;this._setOpacity(S)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(yu);g&&g.focus()}_onClose(){this.remove()}_setOpacity(g){this._container&&(this._container.style.opacity=`${g}`),this._content&&(this._content.style.pointerEvents=g?"auto":"none")}},Marker:Vt,Style:Yo,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,FreeCameraOptions:as,Evented:a.Evented,config:a.config,prewarm:function(){rn().acquire(Er)},clearPrewarmedResources:function(){const g=dn;g&&(g.isPreloaded()&&g.numActive()===1?(g.release(Er),dn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(g){a.config.ACCESS_TOKEN=g},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(g){a.config.API_URL=g},get workerCount(){return Tr.workerCount},set workerCount(g){Tr.workerCount=g},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(g){a.config.MAX_PARALLEL_IMAGE_REQUESTS=g},clearStorage(g){a.clearTileCache(g)},workerUrl:"",workerClass:null,setNow:a.exported.setNow,restoreNow:a.exported.restoreNow};return Vs}));var x=d;return x}))})(t4)),t4.exports}var rk=ZQ();const XQ=vn(rk),KQ=Ty({__proto__:null,default:XQ},[rk]);export{dee as B,DJ as C,lee as F,ree as H,tee as L,see as M,uee as N,jn as P,fee as R,hee as S,Ic as T,lg as W,F_ as X,j_ as Y,qR as _,oee as a,aee as b,cee as c,Md as d,iee as e,QQ as f,JQ as g,tt as h,LR as i,YQ as j,eee as k,nee as p,Ve as r,IL as u,pee as w};
